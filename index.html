<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>foolishmax</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="foolishmax"><meta name="msapplication-TileImage" content="/images/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="foolishmax"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="foolishmax"><meta property="og:url" content="https://github.com/foolishmax"><meta property="og:site_name" content="foolishmax"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://github.com/img/og_image.png"><meta property="article:author" content="foolishmax"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://github.com/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://github.com/foolishmax"},"headline":"foolishmax","image":["https://github.com/img/og_image.png"],"author":{"@type":"Person","name":"foolishmax"},"publisher":{"@type":"Organization","name":"foolishmax","logo":{"@type":"ImageObject","url":"https://github.com/images/favicon.svg"}},"description":null}</script><link rel="icon" href="/images/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }
          Array
              .from(document.querySelectorAll('.tab-content'))
              .forEach($tab => {
                  $tab.classList.add('is-hidden');
              });
          Array
              .from(document.querySelectorAll('.tabs li'))
              .forEach($tab => {
                  $tab.classList.remove('is-active');
              });
          const $activeTab = document.querySelector(location.hash);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
          const $tabMenu = document.querySelector(`a[href="${location.hash}"]`);
          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="/atom.xml" title="foolishmax" type="application/atom+xml">
</head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/images/favicon.svg" alt="foolishmax" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item is-active" href="/">首页</a><a class="navbar-item" href="/archives">档案</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/foolishmax"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-04-07T03:04:32.000Z" title="4/7/2024, 11:04:32 AM">2024-04-07</time>发表</span><span class="level-item"><time dateTime="2024-04-08T03:47:51.238Z" title="4/8/2024, 11:47:51 AM">2024-04-08</time>更新</span><span class="level-item">4 分钟读完 (大约633个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/04/07/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/">前端工程化</a></h1><div class="content"><h1 id="一、打包资源处理"><a href="#一、打包资源处理" class="headerlink" title="一、打包资源处理"></a>一、打包资源处理</h1><h2 id="AST及其应用"><a href="#AST及其应用" class="headerlink" title="AST及其应用"></a>AST及其应用</h2><p>源代码经过此法分析转化为<strong>Token</strong>流，维护一个Token的数组，可以利用Token流做一些代码检查、语法高亮、模版语法相关的操作，然后经过语法分析转化为有结构化ATS抽象语法树，方便操作。</p>
<p><a href="https://github.com/jamiebuilds/the-super-tiny-compiler">参考一个最简编译器的实现</a></p>
<h2 id="webpack的runtime做了什么事情？"><a href="#webpack的runtime做了什么事情？" class="headerlink" title="webpack的runtime做了什么事情？"></a>webpack的runtime做了什么事情？</h2><ol>
<li><p><code>__webpack_modules__</code>一个维护所有模块的数组，通过入口模块解析AST，根据AST深度优先搜索所有模块构建这个模块数组，每个模块通过一个函数 <strong>(module, module.exports, <strong>webpack_require</strong>)</strong> 进行包裹构成。</p>
</li>
<li><p><code>__webpack_require__(moduleId)</code>一个加载模块，通过模块id执行<code>__webpack_modules__</code>对应的模块包裹函数，之后会对已加载模块进行缓存。</p>
</li>
<li><p><code>__webpack_require__(0)</code>运行第一个模块，即运行入口模块。</p>
</li>
</ol>
<p>当涉及到多个chunk的大包方式中,比如import、code spliting中，webpack会通过jsonp方式创建script标签动态加载模块</p>
<p>精简代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> __webpack_modules__ = [<span class="function">() =&gt;</span> &#123;&#125;];</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">__webpack_require__</span> = (<span class="params">id</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="variable language_">module</span> = &#123; <span class="attr">exports</span>: &#123;&#125; &#125;;</span><br><span class="line">  <span class="keyword">const</span> m = __webpack_modules__[id](<span class="variable language_">module</span>, __webpack_require__);</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">module</span>.<span class="property">exports</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title function_">__webpack_require__</span>(<span class="number">0</span>);</span><br></pre></td></tr></table></figure>


<p>补充：rollup不存在modules模块数组，而是将所有模块铺平展开，如果两个模块变量重名冲突的话，会直接重新命名如：name-&gt;name$1</p>
<h2 id="webpack-rollup如何加载style样式资源"><a href="#webpack-rollup如何加载style样式资源" class="headerlink" title="webpack/rollup如何加载style样式资源"></a>webpack/rollup如何加载style样式资源</h2><p>在webpack中，需要借助loader将非JS资源转化为可识别为javascript的module。</p>
<p>处理css需要两个loader：css-loader、style-loader</p>
<ol>
<li><p>css-loader的原理就是postcss，借助postcss-value-parse解析css为ast，处理css中的url()和@import语法</p>
</li>
<li><p>style-loader原理是使用dom api手动创建style标签，将css内容注入到style中</p>
</li>
</ol>
<p>因为dom api加载css资源的性能原因，生产环境一般通过mini-css-extract-plugin将css单独抽离出来。</p>
<h1 id="二、打包体积优化"><a href="#二、打包体积优化" class="headerlink" title="二、打包体积优化"></a>二、打包体积优化</h1><h2 id="如何提升webpack构建资源的速度？"><a href="#如何提升webpack构建资源的速度？" class="headerlink" title="如何提升webpack构建资源的速度？"></a>如何提升webpack构建资源的速度？</h2><ol>
<li><p>更换AST转换工具SWC：webpack中耗时最久的就是负责AST转换的loader，javascript性能低下，可以将babel替换为由高性能语言rust编写的swc。</p>
</li>
<li><p>持久化缓存cache，webpack5内置了插件，通过<a target="_blank" rel="noopener" href="https://webpack.js.org/configuration/cache/">cache字段</a>开启.</p>
</li>
<li><p>开启多进程<a href="https://github.com/webpack-contrib/thread-loader">thread-loader</a>,提升编译速度。</p>
</li>
</ol>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-03-26T07:57:32.000Z" title="3/26/2024, 3:57:32 PM">2024-03-26</time>发表</span><span class="level-item"><time dateTime="2024-03-26T09:30:13.805Z" title="3/26/2024, 5:30:13 PM">2024-03-26</time>更新</span><span class="level-item">6 分钟读完 (大约919个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/03/26/%E6%9D%82%E8%AE%B0/">杂记</a></h1><div class="content"><p>前端事件循环机制是前端开发中一个重要的概念，也是面试中经常会涉及的话题。以下是一些与前端事件循环机制相关的常见面试题：</p>
<ol>
<li>请解释什么是Event Loop（事件循环）？它在JavaScript中的作用是什么？</li>
</ol>
<p> Event Loop（事件循环）是JavaScript中用来处理异步操作的机制。它负责监听调用栈和任务队列，将任务队列中的任务按照一定规则推入调用栈中执行，从而实现异步编程。</p>
<ol start="2">
<li>请描述JavaScript中的任务队列（Task Queue）和微任务队列（Microtask Queue）之间的区别，并举例说明它们的执行顺序。</li>
</ol>
<p> 任务队列（Task Queue）是存放宏任务（Macro Task）的队列，而微任务队列（Microtask Queue）是存放微任务（Micro Task）的队列。它们之间的区别在于微任务队列的优先级高于任务队列，微任务会在当前宏任务执行完毕后立即执行。</p>
<ol start="3">
<li>什么是宏任务（Macro Task）和微任务（Micro Task）？它们在事件循环中是如何被处理的？</li>
</ol>
<p> 宏任务（Macro Task）是指由浏览器发起的任务，如setTimeout、setInterval等；而微任务（Micro Task）是指由JavaScript引擎发起的任务，如Promise、process.nextTick等。在事件循环中，每个宏任务执行完毕后会先清空微任务队列，然后再执行下一个宏任务。</p>
<ol start="4">
<li>请解释setTimeout和setImmediate之间的区别，它们在事件循环中的执行顺序是怎样的？</li>
</ol>
<p> setTimeout和setImmediate都用于在事件循环中添加宏任务，它们之间的主要区别在于执行时机。setTimeout会将回调函数推入任务队列，在下一个宏任务执行时被执行；而setImmediate会将回调函数推入检查阶段，在当前宏任务执行完毕后立即执行。</p>
<ol start="5">
<li>在一个包含Promise、setTimeout和DOM事件的代码片段中，这些任务的执行顺序是怎样的？请说明原因。</li>
</ol>
<p> 在一个包含Promise、setTimeout和DOM事件的代码片段中，Promise的回调函数会被放入微任务队列，DOM事件会被放入任务队列，而setTimeout中的回调函数会被放入任务队列。执行顺序为：首先执行微任务队列中的Promise回调函数，然后执行DOM事件，最后执行setTimeout中的回调函数。</p>
<h2 id="webpack热更新原理"><a href="#webpack热更新原理" class="headerlink" title="webpack热更新原理"></a>webpack热更新原理</h2><p> 通过webpack-dev-server创建两个服务器：提供静态资源的服务（express）负责提供打包后的资源给浏览器请求和解析和Socket服务提供websocket长连接，socket server监听到对应的模块发生变化生成manifest.json和chunk.js，通过长连接主动发送给客户端浏览器，浏览器拿到文件通过HMR runtime机制加载这两个文件并针对修改的模块进行更新。</p>
<h2 id="进程和线程的区别"><a href="#进程和线程的区别" class="headerlink" title="进程和线程的区别"></a>进程和线程的区别</h2><ol>
<li><p>进程和线程都是操作系统进行任务管理和调度的基本单位</p>
</li>
<li><p>一个进程可包含多个线程，多个线程可以共享同一个进程的资源，如内存空间、文件等</p>
</li>
<li><p>线程间的切换比进程间的切换开销更小，因为线程共享相同的地址空间</p>
</li>
</ol>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-12-19T07:48:58.000Z" title="12/19/2023, 3:48:58 PM">2023-12-19</time>发表</span><span class="level-item"><time dateTime="2023-12-19T07:49:09.112Z" title="12/19/2023, 3:49:09 PM">2023-12-19</time>更新</span><span class="level-item">31 分钟读完 (大约4650个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/12/19/%E4%BA%BA%E6%9C%88%E7%A5%9E%E8%AF%9D%E4%B9%A6%E6%91%98/">人月神话书摘</a></h1><div class="content"><p>什么叫“人月神话”？</p>
<p>人是程序员，月是时间，，如果1人干10个月如果等同10人干1个月，那就成神话。</p>
<p>001</p>
<p>焦油坑</p>
<p>过去几十年的大型系统开发就犹如一个焦油坑，很多大型动物在其中剧烈挣扎，他们中大多数开发出了可运行的系统–不过，其中只有非常少数的项目满足了目标、时间进度和预算的要求。</p>
<p>各种团队，大型的和小型的，庞杂的和精干的，一个接一个淹没在了焦油坑中。表面上看起来好像没有任何一个单独的问题会导致困难，每个都能被解决，但是当它们相互纠缠和累积在一起的时候，团队的行动就会变得越来越慢且很难看清问题的本质。</p>
<p>002</p>
<p>人月神话</p>
<p>缺乏合理的时间进度是造成项目滞后的最主要原因，它比其他所有因素加起来影响还大。</p>
<p>我们围绕成本核算的估计技术，混淆了工作量和项目进展。人月是危险和带有欺骗性的神话，因为它暗示人员数量和时间是可以相互替换的。</p>
<p>向软件项目中增派人手从三个方面增加了项目必要的总体工作量：</p>
<p>任务重新分配本身和所造成的工作中断；</p>
<p>培训新人员；</p>
<p>额外的相互沟通。</p>
<p>关于进度安排，我的经验是为1/3计划、1/6编码、1/4构件测试以及1/4系统测试。</p>
<p>Brook法则：向进度落后的项目中增加人手，只会使进度更加落后。</p>
<p>特别需要指出的是，不为系统测试安排足够的时间简直就是一场灾难。</p>
<p>在现实情况中，一旦开发团队观察到进度的偏差，总是倾向于对任务进行削减。当项目延期所导致的后续成本非常高时，这常常是唯一可行的方法。</p>
<p>003</p>
<p>外科手术队伍</p>
<p>小型、精干队伍是最好的–尽可能的少。</p>
<p>需要协作沟通的人员的数量影响着开发成本，因为成本的主要组成部分是相互的沟通和交流，以及更正沟通不当所引起的不良结果（系统调试）。</p>
<p>Mills建议大型项目的每一个部分由一个团队解决，但是该队伍以类似外科手术的方式组建，而并非一拥而上。</p>
<p>一位首席程序员、类似于外科手术队伍的团队架构提供了一种方法–既能获得由少数头脑产生的产品完整性，又能得到多位协助人员的总体生产率，还彻底地减少了沟通的工作量。</p>
<p>004</p>
<p>贵族专制、民主政治和系统设计</p>
<p>为了反映一系列连贯的设计思路，宁可省略一些不规则的特性和改进，也不提倡独立和无法整合的系统，哪怕它们其实包含着许多很好的设计。</p>
<p>同工作的水平分割相比，垂直划分从根本上大大减少了劳动量，结果是使交流彻底地简化，概念完整性得到大幅提高。</p>
<p>005</p>
<p>蛇添足</p>
<p>一种普遍倾向是过分地设计第二个系统，向系统添加很多修饰功能和想法，它们曾在第一个系统中被小心谨慎地推迟了。</p>
<p>实际情况中，尽早交流和持续沟通能使结构师有较好的成本意识，以及使开发人员获得对设计的信心，并且不会混淆各自的责任分工。</p>
<p>面对估算过高的难题，结构师有两个选择：削减设计或者建议成本更低的实现方法–挑战估算的结果</p>
<p>006</p>
<p>贯彻执行</p>
<p>即使是大型的设计团队，设计结果也必须由一个或两个人来完成，以确保这些决定是一致的。</p>
<p>允许体系结构师对实现人员的询问做出电话应答解释是非常重要的，并且必须进行日志记录和整理发布。</p>
<p>对于存有疑问的实现人员，应鼓励他们打电话询问相应的结构师，而不是一边自行猜测一边工作，这是一项很基本的措施。</p>
<p>007</p>
<p>为什么巴比伦塔会失败？</p>
<p>巴比伦塔项目的失败是因为缺乏交流，以及交流的结果–组织。</p>
<p>“因为左手不知道右手在做什么，从而进度灾难、功能的不合理和系统缺陷纷纷出现。</p>
<p>随着工作的进行，许多小组慢慢地修改自己程序的功能、规模和速度，他们明确或者隐含地更改了一些有效输入和输出结果用法上的约定，而因此给其他部分引发了BUG。</p>
<p>解决方案：</p>
<p>团队应该以尽可能多的方式进行相互之间的交流：非正式、常规项目会议，会上进行简要的技术陈述、共享的正式项目工作手册。举行常规项目会议，会议中，团队一个接一个地进行简要的技术陈述。这种方式非常有用，能澄清成百上千的细小误解。</p>
<p>制定项目工作手册，并实时记录变更：首先，必须在页面上标记发生改变的文本，例如，使用页边上的竖线标记每行变化的文字。第二，分发的变更页附带独立的总结性文字，对变更的重要性以及批注进行记录。</p>
<p>008</p>
<p>胸有成竹</p>
<p>编码大约只占了问题的六分之一左右，编码估计或者比率的错误可能会导致不合理的荒谬结果。</p>
<p>对常用编程语句而言。生产率似乎是固定的。这个固定的生产率包括了编程中需要注释，并可能存在错误的情况.</p>
<p>使用适当的高级语言，编程的生产率可以提高5倍。</p>
<p>009</p>
<p>削足适履</p>
<p>在大型的团队中，各个小组倾向于不断地局部优化，以满足自己的目标，而较少考虑队用户的整体影响。这种方向性的问题是大型项目的主要危险。</p>
<p>为了满足目标，每个人都在局部优化自己的程序，很少会有人停下来，考虑一下对客户的整体影响。</p>
<p>培养开发人员从系统整体出发、面向用户的态度是软件编程管理人员最重要的职能。</p>
<p>10</p>
<p>提纲挈领</p>
<p>如果要制造一台机器，哪些是关键的文档呢？</p>
<p>目标：定义待满足的目标和需要，定义迫切需要的资源、约束和优先级。</p>
<p>首先，书面记录决策是必要的。只有记录下来，分歧才会明朗，矛盾才会突出。项目经理常常会不断发现，许多理应被普遍认同的策略，完全不为团队的一些成员所知。每个文档本身就可以作为检查列表或者数据库。</p>
<p>项目经理的基本职责是使每个人都向着相同的方向前进。项目经理的主要日常工作是沟通，而不是做出决定；文档使各项计划和决策在整个团队范围内得到交流。</p>
<p>通过周期性的回顾，他能清楚项目所处的状态，以及哪些需要重点进行更改和调整。</p>
<p>11</p>
<p>未雨绸缪</p>
<p>变更的客观需要</p>
<p>对于大多数项目，第一个开发的系统并不合用。它可能太慢、太大，而且难以使用，或者三者兼而有之。</p>
<p>用户的实际需要和用户感觉会随着程序的构建、测试和使用而变化。</p>
<p>软件产品易于掌握的特性和不可见性，导致了它的构建人员（特别容易）面临着永恒的需求变更。</p>
<p>目标上（和开发策略上）的一些正常变化无可避免，事先为它们做准备总比假设它们不会出现要好得多。</p>
<p>为变更计划组织结构</p>
<p>当系统发生变化时，管理结构也需要进行调整。只要管理人员和技术人才的天赋允许，老板必须对他们的能力培养给予极大的关注，使管理人员和技术人才具有互换性。</p>
<p>为什么缺陷不能更彻底地被修复？</p>
<p>首先，看上去很轻微的错误，似乎仅仅是局部操作上的失败，实际上却是系统级别的问题，通常这不是很明显。</p>
<p>设计实现的人员越少、接口越少，产生的错误也就越少。</p>
<p>所有修改都倾向于破坏系统的架构，增加了系统的混乱程度。用在修复原有设计上瑕疵的工作量越来越少，而早期维护活动本身的漏洞所引起修复工作越来越多。</p>
<p>随着时间的推移，系统变得越来越无序，修复工作迟早会失去根基 ，尽管理论上系统一直可用，但实际上，整个系统已经面目全非，无法再成为下一步进展的基础。</p>
<p>机器在变化，配置在变化，用户的需求在变化，所以现实系统不可能永远可用。崭新的、对于原有系统的重新设计是完全必要的。</p>
<p>12</p>
<p>干将莫邪</p>
<p>每个编程人员也保留着编辑器、排序、内存信息转储、磁盘实用程序等工具。 这种方法对软件项目来说是愚蠢的。首先，项目的关键问题是沟通，个性化的工具妨碍–而不是促进沟通。</p>
<p>交互式编程</p>
<p>MIT的Multics项目的成果之一，是它对软件编程系统开发的贡献。在那些系统编程所关注的方面，Multics（以及后续系统，IBM的TSS）和其他交互式计算机系统在概念上有很大的不同：多个级别上数据和程序的共享和保护，可延伸的库管理，以及协助终端用户共同开发的设施。我确信在某些应用上，批处理系统决不会被交互式系统所取代。</p>
<p>13</p>
<p>整体部分</p>
<p>许许多多的失败完全源于那些产品未精确定义的地方。</p>
<p>“细致的功能定义、详细的规格说明、规范化的功能描述说明以及这些方法的实施，大大减少了系统中必须查找的bug数量。 注: 需求文档越详细，bug越少</p>
<p>在编写任何代码之前，规格说明必须提交给测试小组，以详细地检查说明的完整性和明确性 注: 需求文档给测试过一遍</p>
<p>他将程序开发划分成体系结构设计、设计实现和物理编码实现，每个步骤可以使用自顶向下的方法很好地实现。</p>
<p>好的自顶向下设计从几个方面避免了bug。</p>
<p>首先，清晰的结构和表达方式更容易对需求和模块功能进行精确的描述。</p>
<p>其次，模块分割和模块独立性避免了系统级的bug。</p>
<p>另外，细节的隐藏使结构上的缺陷更加容易识别。</p>
<p>最后，设计在每个精化步骤的层次上是可以测试的，所以测试可以尽早开始，并且每个步骤的重点可以放在合适的级别上。</p>
<p>一些糟糕的系统往往就是试图挽救一个基础很差的设计，而对它添加了很多表面装饰般的补丁。自顶向下的方法减少了这样的企图。</p>
<p>14</p>
<p>祸起萧墙</p>
<p>当人们听到某个项目的进度发生了灾难性偏离时，可能会认为项目一定是遭受了一系列重大灾难。然而，通常灾祸来自白蚁的肆虐，而不是龙卷风的侵袭。</p>
<p>里程碑</p>
<p>里程碑的选择只有一个原则，那就是，里程碑必须是具体的、特定的、可度量的事件，能够进行清晰定义。</p>
<p>例如：”结构师和实现人员签字认可的规格说明”，”100%源代码编制完成，纸带打孔完成并输入到磁盘库”，”测试通过了所有的测试用例”。</p>
<p>如果里程碑很模糊，老板就常常会得到一份与实际情况不符的报告。</p>
<p>慢性进度偏离是士气杀手。[Microsoft的Jim McCarthy说：”如果你错过了一个最终期限（deadline），确保制订下一条deadline</p>
<p>如果在某项活动开始之前就着手估计，并且每两周进行一次仔细的修订，根据实际情况动态调整时间。当里程碑没有正确反映损失的时间，并对人们形成误导，以致事态无法挽回的时候，它会彻底碾碎小组的士气。</p>
<p>保持进度透明可见</p>
<p>一线经理的利益和老板的利益是内在冲突的。一线经理担心如果汇报了问题，老板会采取行动,这些行动会取代经理的作用，降低自己的威信，搞乱了其他计划。所以，只要项目经理认为自己可以独立解决问题，他就不会告诉老板。</p>
<p>有两种掀开毯子把污垢展现在老板面前的方法，它们必须都被采用。</p>
<p>一种是减少角色冲突和鼓励状态共享</p>
<p>减少角色的冲突。老板必须规范自己，不对项目经理可以解决的问题做出反应。当项目经理了解到老板收到项目报告之后不会惊慌，或者不会越俎代庖时，他就逐渐会提交真实的评估结果。</p>
<p>另一种是猛地拉开地毯。</p>
<p>猛地拉开地毯。不论协作与否，拥有能了解状态真相的评审机制是必要的。PERT图以及频繁的里程碑是这种评审的基础。大型项目中，可能需要每周对某些部分进行评审，大约一个月左右进行整体评审。</p>
<p>没有银弹软件工程中的根本和次要问题</p>
<p>没有任何技术或管理上的进展，能够独立地许诺十年内使生产率、可靠性或简洁性获得数量级上的进步。因为软件有无法规避的特性：复杂度、一致性、可变性、不可见性。</p>
<p>产品复杂度：</p>
<p>由于复杂度，团队成员之间的沟通非常困难，导致了产品瑕疵、成本超支和进度延迟；</p>
<p>由于复杂度，列举和理解所有可能的状态十分困难，影响了产品的可靠性；</p>
<p>由于函数的复杂度，函数调用变得困难，导致程序难以使用；</p>
<p>由于结构性复杂度，程序难以在不产生副作用的情况下用新函数扩充；由于结构性复杂度，造成很多安全机制状态上的不可见性。</p>
<p>复杂度不仅仅导致技术上的困难，还引发了很多管理上的问题。它使全面理解问题变得困难，从而妨碍了概念上的完整性；它使所有离散出口难以寻找和控制；它引起了大量学习和理解上的负担，使开发慢慢演变成了一场灾难。</p>
<p>软件可变性：</p>
<p>软件实体经常会遭受到持续的变更压力</p>
<p>现实工作中，经常发生两种情况。</p>
<p>当人们发现软件很有用时，会在原有应用范围的边界，或者在超越边界的情况下使用软件。功能扩展的压力主要来自那些喜欢基本功能，又对软件提出了很多新用法的用户们。</p>
<p>其次，软件一定是在某种计算机硬件平台上开发，成功软件的生命期通常比当初的计算机硬件平台要长。即使不是更换计算机，则有可能是换新型号的磁盘、显示器或者打印机。软件必须与各种新生事物保持一致。</p>
<p>软件不可见性</p>
<p>软件是不可见的和无法可视化的。 其中的秘密就是逐步发育成长，而不是一次性搭建。</p>
<p>软件开发是一件棘手的事情，并不会有魔术般的解决方案，现在是从业者研究和分析革命性进展的时刻，而不是等待或希望它的出现。</p>
<p>现在有可能可以在软件生产率上取得逐步的进展，而不是等待不可能到来的大突破。</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-11-09T03:24:16.000Z" title="11/9/2023, 11:24:16 AM">2023-11-09</time>发表</span><span class="level-item"><time dateTime="2023-11-13T03:24:17.772Z" title="11/13/2023, 11:24:17 AM">2023-11-13</time>更新</span><span class="level-item">4 分钟读完 (大约545个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/11/09/%E5%A6%82%E4%BD%95%E7%AE%A1%E7%90%86%E5%89%8D%E7%AB%AF%E5%9B%A2%E9%98%9F/">如何管理前端团队</a></h1><div class="content"><h2 id="个人角度"><a href="#个人角度" class="headerlink" title="个人角度"></a>个人角度</h2><p>开发人员：业务需求 -&gt; 自己动手 -&gt; 解决问题</p>
<p>管理者：业务需求 -&gt; 分析需求、分解需求 -&gt; 分配任务 -&gt; 跟踪进度 -&gt; 解决问题</p>
<p><strong>如何胜任技术管理者需要提高自己各个方面的能力，主要有以下方面：</strong></p>
<ol>
<li><p>技术能力：这是技术管理者的立身之本，肯定需要不断学习、不断精进，如果技不如人肯定无法服众。</p>
</li>
<li><p>业务能力：需要对业务有正确的理解，能理解业务的本质需求，才能让技术实现业务价值。</p>
</li>
<li><p>规划能力： 技术管理者需要明确团队目标、并以结果为导向，做出合理的规划：</p>
</li>
<li><p>1 技术体系规划：项目技术选型（可控性、稳定性、适用性、易用性）、技术文档沉淀等</p>
</li>
<li><p>2 任务规划：根据任务难易程度分配不同开发人员、任务时间安排等</p>
</li>
<li><p>3 人员安排规划：根据组员的实际情况和特点，安排合适的事情给合适的人，使团队利益最大化</p>
</li>
<li><p>沟通协作能力：技术管理者不仅在项目团队内，可能需要跨组或者跨部门进行沟通协作，需要向上级转达战略、任务，和团队内成员沟通清楚需要做什么，为什么这么做</p>
</li>
<li><p>判断能力： 需要全局把控项目，有底气在项目中对事项进行判断和决策：</p>
</li>
<li><p>1 风险判断：业务实现方向有没有问题、任务排期超时等</p>
</li>
<li><p>2 决策判断：某个时间段，应该做哪些内容，哪些做不了</p>
</li>
<li><p>3 诗句判断：针对业务评审的具体实现成本、实现方向等</p>
</li>
<li><p>领导力：技术管理者需要有责任，有担当，团队有问题必然反映到团队负责人身上有问题</p>
</li>
<li><p>架构能力：治理好系统复杂度才是最务实的</p>
</li>
</ol>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-07-20T02:56:39.000Z" title="7/20/2023, 10:56:39 AM">2023-07-20</time>发表</span><span class="level-item"><time dateTime="2023-08-14T01:50:37.780Z" title="8/14/2023, 9:50:37 AM">2023-08-14</time>更新</span><span class="level-item">1 分钟读完 (大约138个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/07/20/nginx%E6%8C%87%E5%8D%97/">nginx指南</a></h1><div class="content"><h2 id="负载均衡4种策略"><a href="#负载均衡4种策略" class="headerlink" title="负载均衡4种策略"></a>负载均衡4种策略</h2><ul>
<li>轮询：默认方式</li>
<li>weight：在轮询基础上增加权重，也就是轮询到的几率不同</li>
<li>ip_hash：按照ip的hash分配，保证每个访客的请求固定访问一个服务器，解决session问题</li>
<li>fair：按照相应时间来分配，需要安装nginx-upstream-fair插件</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 默认轮询</span></span><br><span class="line">upstream nest-server &#123;</span><br><span class="line">  server <span class="number">192.</span>xxx.<span class="property">x</span>.<span class="property">x</span>:<span class="number">3001</span>;</span><br><span class="line">  server <span class="number">192.</span>xxx.<span class="property">x</span>.<span class="property">x</span>:<span class="number">3002</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// weight</span></span><br><span class="line">upstream nest-server &#123;</span><br><span class="line">  server <span class="number">192.</span>xxx.<span class="property">x</span>.<span class="property">x</span>:<span class="number">3001</span>;</span><br><span class="line">  server <span class="number">192.</span>xxx.<span class="property">x</span>.<span class="property">x</span>:<span class="number">3002</span> weight=<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ip_hash</span></span><br><span class="line">upstream nest-server &#123;</span><br><span class="line">  ip_hash;</span><br><span class="line">  server <span class="number">192.</span>xxx.<span class="property">x</span>.<span class="property">x</span>:<span class="number">3001</span>;</span><br><span class="line">  server <span class="number">192.</span>xxx.<span class="property">x</span>.<span class="property">x</span>:<span class="number">3002</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2023/06/29/%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%A4%9A%E4%BA%BA%E5%8D%8F%E4%BD%9C%E5%9C%A8%E7%BA%BF%E6%96%87%E6%A1%A3%E6%9C%89%E5%93%AA%E4%BA%9B%E6%8A%80%E6%9C%AF%E9%9A%BE%E7%82%B9%EF%BC%9F/"><img class="fill" src="/../images/cover/duorenxiezuo.webp" alt="实现一个多人协作在线文档有哪些技术难点？"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-06-29T03:24:18.000Z" title="6/29/2023, 11:24:18 AM">2023-06-29</time>发表</span><span class="level-item"><time dateTime="2023-06-29T05:56:17.753Z" title="6/29/2023, 1:56:17 PM">2023-06-29</time>更新</span><span class="level-item">4 分钟读完 (大约546个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/06/29/%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%A4%9A%E4%BA%BA%E5%8D%8F%E4%BD%9C%E5%9C%A8%E7%BA%BF%E6%96%87%E6%A1%A3%E6%9C%89%E5%93%AA%E4%BA%9B%E6%8A%80%E6%9C%AF%E9%9A%BE%E7%82%B9%EF%BC%9F/">实现一个多人协作在线文档有哪些技术难点？</a></h1><div class="content"><p>多人协作提供了稳定、高效、安全的协作环境，这种类似的产品需要克服的技术难点还是很多的，如：</p></div><a class="article-more button is-small is-size-7" href="/2023/06/29/%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%A4%9A%E4%BA%BA%E5%8D%8F%E4%BD%9C%E5%9C%A8%E7%BA%BF%E6%96%87%E6%A1%A3%E6%9C%89%E5%93%AA%E4%BA%9B%E6%8A%80%E6%9C%AF%E9%9A%BE%E7%82%B9%EF%BC%9F/#more">阅读更多</a></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2023/06/25/%E5%A6%82%E4%BD%95%E4%BC%98%E5%8C%96%E7%BD%91%E7%AB%99%E4%BB%A5%E7%AC%A6%E5%90%88%E8%B0%B7%E6%AD%8C%E7%9A%84Core-Web-Vitals%E6%A0%87%E5%87%86/"><img class="fill" src="/../images/cover/corewebvitals.png" alt="如何优化网站以符合谷歌的Core Web Vitals标准"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-06-25T02:02:04.000Z" title="6/25/2023, 10:02:04 AM">2023-06-25</time>发表</span><span class="level-item"><time dateTime="2023-06-27T07:51:23.909Z" title="6/27/2023, 3:51:23 PM">2023-06-27</time>更新</span><span class="level-item">33 分钟读完 (大约4883个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/06/25/%E5%A6%82%E4%BD%95%E4%BC%98%E5%8C%96%E7%BD%91%E7%AB%99%E4%BB%A5%E7%AC%A6%E5%90%88%E8%B0%B7%E6%AD%8C%E7%9A%84Core-Web-Vitals%E6%A0%87%E5%87%86/">如何优化网站以符合谷歌的Core Web Vitals标准</a></h1><div class="content"><h2 id="为什么要做Core-Web-Vitals"><a href="#为什么要做Core-Web-Vitals" class="headerlink" title="为什么要做Core Web Vitals?"></a>为什么要做Core Web Vitals?</h2><p>网站响应速度越快，在谷歌中的排名越高的机会就越大</p></div><a class="article-more button is-small is-size-7" href="/2023/06/25/%E5%A6%82%E4%BD%95%E4%BC%98%E5%8C%96%E7%BD%91%E7%AB%99%E4%BB%A5%E7%AC%A6%E5%90%88%E8%B0%B7%E6%AD%8C%E7%9A%84Core-Web-Vitals%E6%A0%87%E5%87%86/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-06-16T03:14:28.000Z" title="6/16/2023, 11:14:28 AM">2023-06-16</time>发表</span><span class="level-item"><time dateTime="2023-06-20T03:11:12.457Z" title="6/20/2023, 11:11:12 AM">2023-06-20</time>更新</span><span class="level-item">1 分钟读完 (大约133个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/06/16/%E4%BB%A3%E7%A0%81%E7%9A%84%E8%89%BA%E6%9C%AF/">代码的艺术</a></h1><div class="content"><h2 id="一流代码的特性"><a href="#一流代码的特性" class="headerlink" title="一流代码的特性"></a>一流代码的特性</h2><ul>
<li><p>正确和性能</p>
<ul>
<li>鲁棒性</li>
<li>高效</li>
</ul>
</li>
<li><p>可读性和可维护</p>
<ul>
<li>简洁</li>
<li>简短</li>
<li>可测试</li>
</ul>
</li>
<li><p>共享和重用</p>
<ul>
<li>共享</li>
<li>可移植</li>
</ul>
</li>
<li><p>运维和运营</p>
<ul>
<li>可监控/可观测</li>
<li>可运维</li>
<li>可扩展</li>
</ul>
</li>
</ul>
<h2 id="好的代码从哪里来？"><a href="#好的代码从哪里来？" class="headerlink" title="好的代码从哪里来？"></a>好的代码从哪里来？</h2><p>编码前：需求分析，系统设计<br>编码中：编写代码，单元测试<br>编码后：集成测试、上线、持续运营/迭代改进</p>
<p>一个好的系统/产品是以上过程持续迭代的结果</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-05-31T10:21:27.000Z" title="5/31/2023, 6:21:27 PM">2023-05-31</time>发表</span><span class="level-item"><time dateTime="2023-06-09T08:57:03.665Z" title="6/9/2023, 4:57:03 PM">2023-06-09</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/node/">node</a></span><span class="level-item">6 分钟读完 (大约838个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/05/31/mongo%E6%95%B0%E6%8D%AE%E5%BA%93/">mongo数据库</a></h1><div class="content"><h2 id="开启-MongoDB-服务器"><a href="#开启-MongoDB-服务器" class="headerlink" title="开启 MongoDB 服务器"></a>开启 MongoDB 服务器</h2></div><a class="article-more button is-small is-size-7" href="/2023/05/31/mongo%E6%95%B0%E6%8D%AE%E5%BA%93/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-05-29T06:30:18.000Z" title="5/29/2023, 2:30:18 PM">2023-05-29</time>发表</span><span class="level-item"><time dateTime="2023-05-31T09:47:39.086Z" title="5/31/2023, 5:47:39 PM">2023-05-31</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E9%A1%B9%E7%9B%AE/">项目</a></span><span class="level-item">3 分钟读完 (大约388个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/05/29/%E6%A0%87%E5%87%86%E9%A1%B9%E7%9B%AE%E6%B5%81%E7%A8%8B/">标准项目流程</a></h1><div class="content"><h2 id="项目开发三大要素"><a href="#项目开发三大要素" class="headerlink" title="项目开发三大要素"></a>项目开发三大要素</h2></div><a class="article-more button is-small is-size-7" href="/2023/05/29/%E6%A0%87%E5%87%86%E9%A1%B9%E7%9B%AE%E6%B5%81%E7%A8%8B/#more">阅读更多</a></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous is-invisible is-hidden-mobile"><a href="/page/0/">上一页</a></div><div class="pagination-next"><a href="/page/2/">下一页</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link is-current" href="/">1</a></li><li><a class="pagination-link" href="/page/2/">2</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/5/">5</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/images/avatar.jpeg" alt="foolishmax"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">foolishmax</p><p class="is-size-6 is-block">Web Developer</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>上海</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">44</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">18</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">24</p></a></div></div></nav></div></div><!--!--><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-04-07T03:04:32.000Z">2024-04-07</time></p><p class="title"><a href="/2024/04/07/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/">前端工程化</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-03-26T07:57:32.000Z">2024-03-26</time></p><p class="title"><a href="/2024/03/26/%E6%9D%82%E8%AE%B0/">杂记</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-12-19T07:48:58.000Z">2023-12-19</time></p><p class="title"><a href="/2023/12/19/%E4%BA%BA%E6%9C%88%E7%A5%9E%E8%AF%9D%E4%B9%A6%E6%91%98/">人月神话书摘</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-11-09T03:24:16.000Z">2023-11-09</time></p><p class="title"><a href="/2023/11/09/%E5%A6%82%E4%BD%95%E7%AE%A1%E7%90%86%E5%89%8D%E7%AB%AF%E5%9B%A2%E9%98%9F/">如何管理前端团队</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-07-20T02:56:39.000Z">2023-07-20</time></p><p class="title"><a href="/2023/07/20/nginx%E6%8C%87%E5%8D%97/">nginx指南</a></p></div></article></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/images/favicon.svg" alt="foolishmax" height="28"></a><p class="is-size-7"><span>&copy; 2024 foolishmax</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">共<span id="busuanzi_value_site_uv">0</span>个访客</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: ''
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>