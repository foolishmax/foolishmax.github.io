<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>foolishmax</title>
  <icon>https://www.gravatar.com/avatar/3dd40b488a7a6e8c5c6c1fee3a49eaf9</icon>
  <subtitle>ä»…ä½œä¸ºä¸ªäººå­¦ä¹ è®°å½•</subtitle>
  <link href="https://github.com/foolishmax/atom.xml" rel="self"/>
  
  <link href="https://github.com/foolishmax/"/>
  <updated>2022-08-24T10:36:11.122Z</updated>
  <id>https://github.com/foolishmax/</id>
  
  <author>
    <name>foolishmax</name>
    <email>827864735@qq.com</email>
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>vueå“åº”å¼ç³»ç»Ÿå®ç°</title>
    <link href="https://github.com/foolishmax/2022/08/07/vue%E5%93%8D%E5%BA%94%E5%BC%8F%E7%B3%BB%E7%BB%9F%E5%AE%9E%E7%8E%B0/"/>
    <id>https://github.com/foolishmax/2022/08/07/vue%E5%93%8D%E5%BA%94%E5%BC%8F%E7%B3%BB%E7%BB%9F%E5%AE%9E%E7%8E%B0/</id>
    <published>2022-08-07T03:52:47.000Z</published>
    <updated>2022-08-24T10:36:11.122Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æºç å®ç°"><a href="#æºç å®ç°" class="headerlink" title="æºç å®ç°"></a>æºç å®ç°</h2><span id="more"></span><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bucket = <span class="keyword">new</span> <span class="title class_">WeakMap</span>();</span><br><span class="line"><span class="comment">// ç”¨ä¸€ä¸ªå…¨å±€å˜é‡å­˜å‚¨å½“å‰æ¿€æ´»çš„effectå‡½æ•°</span></span><br><span class="line"><span class="keyword">let</span> activeEffect;</span><br><span class="line"><span class="comment">// effectæ ˆ</span></span><br><span class="line"><span class="keyword">const</span> effectStack = [];</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">effect</span>(<span class="params">fn, options = []</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">effectFn</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">// è°ƒç”¨cleanupå‡½æ•°å®Œæˆæ¸…é™¤å·¥ä½œ</span></span><br><span class="line">    <span class="title function_">cleanup</span>(effectFn);</span><br><span class="line">    <span class="comment">// å½“è°ƒç”¨effectæ³¨å†Œå‰¯ä½œç”¨å‡½æ•°æ—¶ï¼Œå°†å‰¯ä½œç”¨å‡½æ•°èµ‹å€¼ç»™activeEffect</span></span><br><span class="line">    activeEffect = effectFn;</span><br><span class="line">    <span class="comment">// è°ƒç”¨å‰¯ä½œç”¨å‡½æ•°ä¹‹å‰å°†å½“å‰å‰¯ä½œç”¨å‡½æ•°å‹å…¥æ ˆé¡¶</span></span><br><span class="line">    effectStack.<span class="title function_">push</span>(effectFn);</span><br><span class="line">    <span class="comment">// æŠŠfnçš„æ‰§è¡Œç»“æœå­˜å‚¨åœ¨resä¸­</span></span><br><span class="line">    <span class="keyword">const</span> res = <span class="title function_">fn</span>();</span><br><span class="line">    <span class="comment">// åœ¨å½“å‰å‰¯ä½œç”¨å‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œå°†å½“å‰å‰¯ä½œç”¨å‡½æ•°å¼¹å‡ºæ ˆï¼Œå¹¶å°†activeEffectè¿˜åŸä¸ºä¹‹å‰çš„å€¼</span></span><br><span class="line">    effectStack.<span class="title function_">pop</span>();</span><br><span class="line">    activeEffect = effectStack[effectStack.<span class="property">length</span> - <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// å°†optionsæŒ‚è½½åˆ°effectFnä¸Š</span></span><br><span class="line">  effectFn.<span class="property">options</span> = options;</span><br><span class="line">  <span class="comment">// ç”¨æ¥å­˜å‚¨æ‰€æœ‰ä¸è¯¥å‰¯ä½œç”¨å‡½æ•°ç›¸å…³çš„ä¾èµ–é›†åˆ</span></span><br><span class="line">  effectFn.<span class="property">deps</span> = [];</span><br><span class="line">  <span class="comment">// åªæœ‰élazyçš„æ—¶å€™ï¼Œæ‰æ‰§è¡Œ</span></span><br><span class="line">  <span class="keyword">if</span> (!options.<span class="property">lazy</span>) &#123;</span><br><span class="line">    <span class="title function_">effectFn</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> effectFn;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// computed</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">computed</span>(<span class="params">getter</span>) &#123;</span><br><span class="line">  <span class="comment">// ç”¨æ¥ç¼“å­˜ä¸Šä¸€æ¬¡è®¡ç®—çš„å€¼</span></span><br><span class="line">  <span class="keyword">let</span> value;</span><br><span class="line">  <span class="comment">// dirtyæ ‡å¿—ï¼Œç”¨æ¥è¯†åˆ«æ˜¯å¦éœ€è¦é‡æ–°è®¡ç®—å€¼ï¼Œä¸ºtrueæ—¶åˆ™æ„å‘³ç€â€œè„â€ï¼Œéœ€è¦è®¡ç®—</span></span><br><span class="line">  <span class="keyword">let</span> dirty = <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">const</span> effectFn = <span class="title function_">effect</span>(getter, &#123;</span><br><span class="line">    <span class="attr">lazy</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="title function_">scheduler</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!dirty) &#123;</span><br><span class="line">        dirty = <span class="literal">true</span>;</span><br><span class="line">        <span class="comment">// å½“è®¡ç®—å±æ€§ä¾èµ–çš„å“åº”å¼æ•°æ®å˜åŒ–æ—¶ï¼Œæ‰‹åŠ¨è°ƒç”¨triggerå‡½æ•°è§¦å‘å“åº”</span></span><br><span class="line">        <span class="title function_">trigger</span>(obj, <span class="string">&quot;value&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">value</span>() &#123;</span><br><span class="line">      <span class="keyword">if</span> (dirty) &#123;</span><br><span class="line">        value = <span class="title function_">effectFn</span>();</span><br><span class="line">        dirty = <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// å½“è¯»å–valueæ—¶ï¼Œæ‰‹åŠ¨è°ƒç”¨trackå‡½æ•°è¿›è¡Œè¿½è¸ª</span></span><br><span class="line">      <span class="title function_">track</span>(obj, <span class="string">&quot;value&quot;</span>);</span><br><span class="line">      <span class="keyword">return</span> value;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// watch</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">watch</span>(<span class="params">source, cb, options = &#123;&#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> getter;</span><br><span class="line">  <span class="comment">// å¦‚æœæ˜¯å‡½æ•°ï¼Œè¯´æ˜ç”¨æˆ·ä¼ é€’çš„ä¸å†æ˜¯ä¸€ä¸ªå“åº”å¼æ•°æ®ï¼Œè€Œæ˜¯ä¸€ä¸ªgetterå‡½æ•°ï¼Œç›´æ¥æŠŠsourceèµ‹å€¼ç»™getter</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> source === <span class="string">&quot;function&quot;</span>) &#123;</span><br><span class="line">    getter = source;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// å¦åˆ™è°ƒç”¨traverseé€’å½’è¯»å–å“åº”å¼æ•°æ®å±æ€§</span></span><br><span class="line">    getter = <span class="function">() =&gt;</span> <span class="title function_">traverse</span>(source);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//å®šä¹‰æ—§å€¼å’Œæ–°å€¼</span></span><br><span class="line">  <span class="keyword">let</span> oldValue, newValue;</span><br><span class="line">  <span class="comment">// cleanupç”¨æ¥å­˜å‚¨ç”¨æˆ·æ³¨å†Œçš„å›½æ——å›è°ƒ</span></span><br><span class="line">  <span class="keyword">let</span> cleanup;</span><br><span class="line">  <span class="comment">// å®šä¹‰onInvalidateå‡½æ•°</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">onInvalidate</span>(<span class="params">fn</span>) &#123;</span><br><span class="line">    <span class="comment">// å°†è¿‡æœŸå›è°ƒå­˜å‚¨åˆ°cleanupä¸­</span></span><br><span class="line">    cleanup = fn;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æå–è°ƒåº¦å™¨schedulerä¸ºä¸€ä¸ªç‹¬ç«‹çš„jobå‡½æ•°</span></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">job</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">// åœ¨schedulerä¸­é‡æ–°æ‰§è¡Œå‰¯ä½œç”¨å‡½æ•°ï¼Œå¾—åˆ°çš„æ˜¯æ–°å€¼</span></span><br><span class="line">    newValue = <span class="title function_">effectFn</span>();</span><br><span class="line">    <span class="comment">// åœ¨è°ƒç”¨ç³Šæ‰å‡½æ•°cbä¹‹å‰ï¼Œå…ˆè°ƒç”¨è¿‡æœŸå›è°ƒ</span></span><br><span class="line">    <span class="keyword">if</span> (cleanup) &#123;</span><br><span class="line">      <span class="title function_">cleanup</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å°†æ—§å€¼å’Œæ–°å€¼ä½œä¸ºå›è°ƒå‡½æ•°çš„å‚æ•°</span></span><br><span class="line">    <span class="title function_">cb</span>(newValue, oldValue);</span><br><span class="line">    <span class="comment">// æ›´æ–°æ—§å€¼ï¼Œä¸ç„¶ä¸‹æ¬¡ä¼šå¾—åˆ°é”™è¯¯çš„æ—§å€¼</span></span><br><span class="line">    oldValue = newValue;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// ä½¿ç”¨effectæ³¨å†Œå‰¯ä½œç”¨å‡½æ•°æ—¶ï¼Œå¼€å¯lazyé€‰é¡¹ï¼Œå¹¶æŠŠè¿”å›å€¼å­˜å‚¨åˆ°effectFnä¸­ä¸€è¾¹åç»­æ‰‹åŠ¨è°ƒç”¨</span></span><br><span class="line">  <span class="keyword">const</span> effectFn = <span class="title function_">effect</span>(<span class="function">() =&gt;</span> <span class="title function_">getter</span>(), &#123;</span><br><span class="line">    <span class="attr">lazy</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">scheduler</span>: job,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (options.<span class="property">immediate</span>) &#123;</span><br><span class="line">    <span class="comment">// å½“immediateä¸ºtrueæ—¶ç«‹å³æ‰§è¡Œjobï¼Œä»è€Œè§¦å‘å›è°ƒæ‰§è¡Œ</span></span><br><span class="line">    <span class="title function_">job</span>();</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// æ‰‹åŠ¨è°ƒç”¨å‰¯ä½œç”¨å‡½æ•°ï¼Œæ‹¿åˆ°çš„å€¼å°±æ˜¯æ—§å€¼</span></span><br><span class="line">    oldValue = <span class="title function_">effectFn</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">traverse</span>(<span class="params">value, seen = <span class="keyword">new</span> <span class="built_in">Set</span>()</span>) &#123;</span><br><span class="line">  <span class="comment">// å¦‚æœè¦è¯»å–çš„æ•°æ®æ˜¯åŸå§‹å€¼ï¼Œæˆ–è€…å·²ç»è¢«è¯»å–è¿‡äº†ï¼Œé‚£ä¹ˆä»€ä¹ˆéƒ½ä¸åš</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> value !== <span class="string">&quot;object&quot;</span> || value === <span class="literal">null</span> || seen.<span class="title function_">has</span>(value)) <span class="keyword">return</span>;</span><br><span class="line">  <span class="comment">// å°†æ•°æ®æ·»åŠ åˆ°seenä¸­ï¼Œä»£è¡¨ä¾¿åˆ©åœ°è¯»å–è¿‡äº†ï¼Œé¿å…å¾ªç¯å¼•ç”¨å¼•èµ·çš„æ­»å¾ªç¯</span></span><br><span class="line">  seen.<span class="title function_">add</span>(value);</span><br><span class="line">  <span class="comment">// æš‚æ—¶ä¸è€ƒè™‘æ•°ç»„ç­‰å…¶ä»–ç»“æ„</span></span><br><span class="line">  <span class="comment">// å‡è®¾valueæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä½¿ç”¨for...inè¯»å–å¯¹æ–°å•Šä¸ªçš„æ¯ä¸€ä¸ªå€¼ï¼Œå¹¶é€’å½’è°ƒç”¨traverseè¿›è¡Œå¤„ç†</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> k <span class="keyword">in</span> value) &#123;</span><br><span class="line">    <span class="title function_">traverse</span>(value[k], seen);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">cleanup</span>(<span class="params">effectFn</span>) &#123;</span><br><span class="line">  <span class="comment">// éå†effectFn.depsæ•°ç»„</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; effectFn.<span class="property">deps</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="comment">// depsæ˜¯ä¾èµ–é›†åˆ</span></span><br><span class="line">    <span class="keyword">const</span> deps = effectFn.<span class="property">deps</span>[i];</span><br><span class="line">    <span class="comment">// å°†effectFnä»ä¾èµ–é›†åˆä¸­ç§»é™¤</span></span><br><span class="line">    deps.<span class="title function_">delete</span>(effectFn);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æœ€åéœ€è¦é‡ç½®effectFn.depsæ•°ç»„</span></span><br><span class="line">  effectFn.<span class="property">deps</span>.<span class="property">length</span> = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨getæ‹¦æˆªå‡½æ•°å†…è°ƒç”¨trackå‡½æ•°è¿½è¸ªå˜åŒ–</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">track</span>(<span class="params">target, key</span>) &#123;</span><br><span class="line">  <span class="comment">// æ²¡æœ‰activeEffectï¼Œç›´æ¥return</span></span><br><span class="line">  <span class="keyword">if</span> (!activeEffect) <span class="keyword">return</span> target[key];</span><br><span class="line">  <span class="comment">// æ ¹æ®targetä»â€œæ¡¶â€ä¸­å–å¾—depsMapï¼Œä¹Ÿæ˜¯ä¸€ä¸ªMapç±»å‹ï¼škey --&gt; effects</span></span><br><span class="line">  <span class="keyword">let</span> depsMap = bucket.<span class="title function_">get</span>(target);</span><br><span class="line">  <span class="comment">// å¦‚æœä¸å­˜åœ¨depsMapï¼Œæ–°å»ºä¸€ä¸ªMapå¹¶ä¸targetå…³è”</span></span><br><span class="line">  <span class="keyword">if</span> (!depsMap) &#123;</span><br><span class="line">    bucket.<span class="title function_">set</span>(target, (depsMap = <span class="keyword">new</span> <span class="title class_">Map</span>()));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// æ ¹æ®keyä»depsMapä¸­å–å¾—depsï¼Œå®ƒæ˜¯ä¸€ä¸ªSetç±»å‹ï¼Œ</span></span><br><span class="line">  <span class="comment">// é‡Œé¢å­˜å‚¨ç€æ‰€æœ‰ä¸å½“å‰keyç›¸å…³è”çš„å‰¯ä½œç”¨å‡½æ•°ï¼šeffects</span></span><br><span class="line">  <span class="keyword">let</span> deps = depsMap.<span class="title function_">get</span>(key);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!deps) &#123;</span><br><span class="line">    depsMap.<span class="title function_">set</span>(key, (deps = <span class="keyword">new</span> <span class="title class_">Set</span>()));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æœ€åå°†å½“å‰æ¿€æ´»çš„å‰¯ä½œç”¨å‡½æ•°æ·»åŠ åˆ°â€œæ¡¶â€ä¸­</span></span><br><span class="line">  deps.<span class="title function_">add</span>(activeEffect);</span><br><span class="line">  <span class="comment">// depså°±æ˜¯ä¸€ä¸ªä¸å½“å‰å‰¯ä½œç”¨å‡½æ•°å­˜åœ¨è”ç³»çš„ä¾èµ–é›†åˆ</span></span><br><span class="line">  <span class="comment">// å°†å…¶æ·»åŠ åˆ°activeEffect.depsæ•°ç»„ä¸­</span></span><br><span class="line">  activeEffect.<span class="property">deps</span>.<span class="title function_">push</span>(deps);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨setå‡½æ•°æ‹¦æˆªå†…è°ƒç”¨triggerå‡½æ•°å‡ºå‘å˜åŒ–</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">trigger</span>(<span class="params">target, key</span>) &#123;</span><br><span class="line">  <span class="comment">// æ ¹æ®targetä»æ¡¶ä¸­å–å‡ºdepsMapï¼Œå®ƒæ˜¯ key --&gt; effects</span></span><br><span class="line">  <span class="keyword">const</span> depsMap = bucket.<span class="title function_">get</span>(target);</span><br><span class="line">  <span class="keyword">if</span> (!depsMap) <span class="keyword">return</span>;</span><br><span class="line">  <span class="comment">// æ ¹æ®keyå–å¾—æ‰€æœ‰å‰¯ä½œç”¨å‡½æ•°effects</span></span><br><span class="line">  <span class="keyword">const</span> effects = depsMap.<span class="title function_">get</span>(key);</span><br><span class="line">  <span class="comment">// åœ¨è°ƒç”¨forEachéå†Seté›†åˆæ—¶ï¼Œå¦‚æœä¸€ä¸ªå€¼å·²ç»è¢«è®¿é—®è¿‡äº†ï¼Œ</span></span><br><span class="line">  <span class="comment">// ä½†è¯¥å€¼è¢«åˆ é™¤å¹¶é‡æ–°æ·»åŠ é›†åˆï¼Œå¦‚æœæ­¤æ—¶forEachéå†è¿˜æ²¡ç»“æŸ</span></span><br><span class="line">  <span class="comment">// è¯¥å€¼ä¼šé‡æ–°è¢«è®¿é—®ï¼Œå°±ä¼šå¯¼è‡´æ— é™å¾ªç¯æ‰§è¡Œã€‚</span></span><br><span class="line">  <span class="comment">// è§£å†³æ–¹æ³•ï¼šæ„é€ å¦ä¸€ä¸ªSeté›†åˆéå†å®ƒ</span></span><br><span class="line">  <span class="keyword">const</span> effectsToRun = <span class="keyword">new</span> <span class="title class_">Set</span>();</span><br><span class="line">  <span class="comment">// æ‰§è¡Œå‰¯ä½œç”¨å‡½æ•°</span></span><br><span class="line">  effects &amp;&amp;</span><br><span class="line">    effects.<span class="title function_">forEach</span>(<span class="function">(<span class="params">effectFn</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// å¦‚æœtriggerè§¦å‘æ‰§è¡Œçš„å‰¯ä½œç”¨å‡½æ•°ä¸å½“å‰æ­£åœ¨æ‰§è¡Œçš„å‰¯ä½œç”¨å‡½æ•°ç›¸åŒï¼Œåˆ™ä¸è§¦å‘æ‰§è¡Œ</span></span><br><span class="line">      <span class="keyword">if</span> (effectFn !== activeEffect) &#123;</span><br><span class="line">        effectsToRun.<span class="title function_">add</span>(effectFn);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">  effectsToRun.<span class="title function_">forEach</span>(<span class="function">(<span class="params">effectFn</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœä¸€ä¸ªå‰¯ä½œç”¨å‡½æ•°å­˜åœ¨è°ƒåº¦å™¨ï¼Œåˆ™è°ƒç”¨è¯¥è°ƒåº¦å™¨ï¼Œå¹¶å°†å‰¯ä½œç”¨å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’</span></span><br><span class="line">    <span class="keyword">if</span> (effectFn.<span class="property">options</span>.<span class="property">scheduler</span>) &#123;</span><br><span class="line">      effectFn.<span class="property">options</span>.<span class="title function_">scheduler</span>(effectFn);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// å¦åˆ™ç›´æ¥æ‰§è¡Œå‰¯ä½œç”¨å‡½æ•°</span></span><br><span class="line">      <span class="title function_">effectFn</span>();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> data = &#123; <span class="attr">text</span>: <span class="string">&quot;hello world&quot;</span>, <span class="attr">ok</span>: <span class="literal">false</span>, <span class="attr">foo</span>: <span class="number">1</span>, <span class="attr">bar</span>: <span class="number">2</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = <span class="keyword">new</span> <span class="title class_">Proxy</span>(data, &#123;</span><br><span class="line">  <span class="comment">// æ‹¦æˆªè¯»å–æ“ä½œ</span></span><br><span class="line">  <span class="title function_">get</span>(<span class="params">target, key</span>) &#123;</span><br><span class="line">    <span class="comment">// å°†å‰¯ä½œç”¨å‡½æ•°activeEffectæ·»åŠ åˆ°å­˜å‚¨å‰¯ä½œç”¨å‡½æ•°çš„æ¡¶ä¸­</span></span><br><span class="line">    <span class="title function_">track</span>(target, key);</span><br><span class="line">    <span class="comment">// è¿”å›å±æ€§å€¼</span></span><br><span class="line">    <span class="keyword">return</span> target[key];</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// æ‹¦æˆªè®¾ç½®æ“ä½œ</span></span><br><span class="line">  <span class="title function_">set</span>(<span class="params">target, key, newVal</span>) &#123;</span><br><span class="line">    <span class="comment">// è®¾ç½®å±æ€§å€¼</span></span><br><span class="line">    target[key] = newVal;</span><br><span class="line">    <span class="comment">// æŠŠå‰¯ä½œç”¨å‡½æ•°ä»æ¡¶ä¸­å–å‡ºå¹¶æ‰§è¡Œ</span></span><br><span class="line">    <span class="title function_">trigger</span>(target, key);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> temp1, temp2;</span><br><span class="line"><span class="comment">// watch</span></span><br><span class="line"><span class="title function_">watch</span>(</span><br><span class="line">  <span class="function">() =&gt;</span> obj.<span class="property">foo</span>,</span><br><span class="line">  <span class="function">(<span class="params">newValue, oldValue</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æ•°æ®å˜åŒ–äº†&quot;</span>, newValue, oldValue);</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">immediate</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line">obj.<span class="property">foo</span>++;</span><br><span class="line"></span><br><span class="line"><span class="comment">// computed</span></span><br><span class="line"><span class="comment">// const sum = computed(() =&gt; obj.foo + obj.bar);</span></span><br><span class="line"><span class="comment">// effect(() =&gt; &#123;</span></span><br><span class="line"><span class="comment">//   console.log(sum.value);</span></span><br><span class="line"><span class="comment">// &#125;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// obj.foo++;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// lazy</span></span><br><span class="line"><span class="comment">// const effectFn = effect(</span></span><br><span class="line"><span class="comment">//   () =&gt; &#123;</span></span><br><span class="line"><span class="comment">//     console.log(obj.text);</span></span><br><span class="line"><span class="comment">//   &#125;,</span></span><br><span class="line"><span class="comment">//   &#123;</span></span><br><span class="line"><span class="comment">//     lazy: true,</span></span><br><span class="line"><span class="comment">//   &#125;</span></span><br><span class="line"><span class="comment">// );</span></span><br><span class="line"><span class="comment">// effectFn();</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åµŒå¥—çš„effectä¸effectæ ˆ</span></span><br><span class="line"><span class="comment">// effect(function effectFn1() &#123;</span></span><br><span class="line"><span class="comment">//   console.log(&quot;effectFn1 æ‰§è¡Œ&quot;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//   effect(function effectFn2() &#123;</span></span><br><span class="line"><span class="comment">//     console.log(&quot;effectFn2 æ‰§è¡Œ&quot;);</span></span><br><span class="line"><span class="comment">//     temp2 = obj.ok;</span></span><br><span class="line"><span class="comment">//   &#125;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//   temp1 = obj.text;</span></span><br><span class="line"><span class="comment">//   obj.text += &quot;1&quot;;</span></span><br><span class="line"><span class="comment">// &#125;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ†æ”¯åˆ‡æ¢ä¸cleanup</span></span><br><span class="line"><span class="comment">// effect(() =&gt; &#123;</span></span><br><span class="line"><span class="comment">//   console.log(&#x27;effect run&#x27;);</span></span><br><span class="line"><span class="comment">//   document.body.innerText =  obj.ok ? obj.text : &quot;not&quot;;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//   obj.text = &#x27;foolishmax&#x27;</span></span><br><span class="line"><span class="comment">// &#125;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸å­˜åœ¨çš„å±æ€§ä¸æ·»åŠ å“åº”å¼</span></span><br><span class="line"><span class="comment">// setTimeout(() =&gt; &#123;</span></span><br><span class="line"><span class="comment">//   obj.text = &quot;hello vue3&quot;;</span></span><br><span class="line"><span class="comment">//   // obj.notExist = &#x27;hello vue3&#x27;</span></span><br><span class="line"><span class="comment">// &#125;, 3000);</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;æºç å®ç°&quot;&gt;&lt;a href=&quot;#æºç å®ç°&quot; class=&quot;headerlink&quot; title=&quot;æºç å®ç°&quot;&gt;&lt;/a&gt;æºç å®ç°&lt;/h2&gt;</summary>
    
    
    
    <category term="vue3" scheme="https://github.com/foolishmax/categories/vue3/"/>
    
    
    <category term="vue3" scheme="https://github.com/foolishmax/tags/vue3/"/>
    
  </entry>
  
  <entry>
    <title>å®ç°ç²¾ç®€ç‰ˆuseSize</title>
    <link href="https://github.com/foolishmax/2022/08/04/%E5%AE%9E%E7%8E%B0%E7%B2%BE%E7%AE%80%E7%89%88useSize/"/>
    <id>https://github.com/foolishmax/2022/08/04/%E5%AE%9E%E7%8E%B0%E7%B2%BE%E7%AE%80%E7%89%88useSize/</id>
    <published>2022-08-04T03:22:47.000Z</published>
    <updated>2022-08-04T03:30:24.654Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://ahooks.gitee.io/">ahooks</a>æ˜¯é˜¿é‡Œå¼€æºçš„ä¸€å¥— React Hooks åº“ï¼Œé‡Œé¢å°è£…äº†å¤§é‡å¥½ç”¨çš„ Hooksï¼Œæœ€è¿‘ä¹Ÿåœ¨é¡¹ç›®ä¸­é¢‘ç¹ä½¿ç”¨åˆ°äº†åº“ä¸­<a href="https://ahooks.gitee.io/hooks/use-size">useSize</a>è¿™ä¸ªé’©å­å‡½æ•°ï¼Œäºæ˜¯å°±å­¦ä¹ äº†ä¸€ä¸‹å®ƒçš„æºç å®ç°ï¼Œå¹¶ä¸”å®ç°äº†ä¸€ä¸ªç²¾ç®€ç‰ˆ<strong>useSize</strong>ã€‚</p><span id="more"></span><p>è¦ç‚¹ä¸€ï¼š<strong>ResizeObserver</strong>ç›‘å¬ Element å†…å®¹åŒºåŸŸçš„è¾¹ç•Œæ¡†æ”¹å˜</p><p>è¦ç‚¹äºŒï¼š<strong>requestAnimationFrame</strong>ä¼˜åŒ–é«˜é¢‘åˆ·æ–°æƒ…å†µä¸‹çš„æ•°æ®æ›´æ–°</p><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  <span class="title class_">MutableRefObject</span>,</span><br><span class="line">  useCallback,</span><br><span class="line">  useEffect,</span><br><span class="line">  useLayoutEffect,</span><br><span class="line">  useRef,</span><br><span class="line">  useState,</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">TargetValue</span>&lt;T&gt; = T | <span class="literal">undefined</span> | <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">TargetType</span> = <span class="title class_">HTMLElement</span> | <span class="title class_">Element</span> | <span class="title class_">Window</span> | <span class="title class_">Document</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> <span class="title class_">BasicTarget</span>&lt;T <span class="keyword">extends</span> <span class="title class_">TargetType</span> = <span class="title class_">Element</span>&gt; =</span><br><span class="line">  | (<span class="function">() =&gt;</span> <span class="title class_">TargetValue</span>&lt;T&gt;)</span><br><span class="line">  | <span class="title class_">TargetValue</span>&lt;T&gt;</span><br><span class="line">  | <span class="title class_">MutableRefObject</span>&lt;<span class="title class_">TargetValue</span>&lt;T&gt;&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Size</span> = &#123; <span class="attr">width</span>: <span class="built_in">number</span>; <span class="attr">height</span>: <span class="built_in">number</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">useSize</span>(<span class="params">target: BasicTarget</span>): <span class="title class_">Size</span> | <span class="literal">undefined</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [state, setState] = useState&lt;<span class="title class_">Size</span> | <span class="literal">undefined</span>&gt;();</span><br><span class="line">  <span class="keyword">const</span> ref = <span class="title function_">useRef</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="keyword">const</span> [resizeObserver, setResizeObserver] = useState&lt;<span class="title class_">ResizeObserver</span>&gt;();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> setRafState = <span class="title function_">useCallback</span>(</span><br><span class="line">    <span class="function">(<span class="params">value: Size | ((prevState?: Size) =&gt; Size)</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">cancelAnimationFrame</span>(ref.<span class="property">current</span>);</span><br><span class="line"></span><br><span class="line">      ref.<span class="property">current</span> = <span class="title function_">requestAnimationFrame</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">setState</span>(value);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    []</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="title function_">useEffect</span>(</span><br><span class="line">    <span class="function">() =&gt;</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      resizeObserver?.<span class="title function_">disconnect</span>();</span><br><span class="line">      <span class="title function_">cancelAnimationFrame</span>(ref.<span class="property">current</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    []</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="title function_">useLayoutEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!target) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="attr">targetEl</span>: <span class="title class_">TargetValue</span>&lt;<span class="title class_">TargetType</span>&gt;;</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">&quot;current&quot;</span> <span class="keyword">in</span> target) &#123;</span><br><span class="line">      targetEl = target.<span class="property">current</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> target === <span class="string">&quot;function&quot;</span>) &#123;</span><br><span class="line">      targetEl = <span class="title function_">target</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      targetEl = target;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!targetEl) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> resizeObserver = <span class="keyword">new</span> <span class="title class_">ResizeObserver</span>(<span class="function">(<span class="params">entries</span>) =&gt;</span> &#123;</span><br><span class="line">      entries.<span class="title function_">forEach</span>(<span class="function">(<span class="params">entry</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123; clientWidth, clientHeight &#125; = entry.<span class="property">target</span>;</span><br><span class="line"></span><br><span class="line">        <span class="title function_">setRafState</span>(&#123;</span><br><span class="line">          <span class="attr">width</span>: clientWidth,</span><br><span class="line">          <span class="attr">height</span>: clientHeight,</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="title function_">setResizeObserver</span>(resizeObserver);</span><br><span class="line"></span><br><span class="line">    resizeObserver?.<span class="title function_">observe</span>(targetEl);</span><br><span class="line">  &#125;, []);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> state;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å…·ä½“ä½¿ç”¨"><a href="#å…·ä½“ä½¿ç”¨" class="headerlink" title="å…·ä½“ä½¿ç”¨"></a>å…·ä½“ä½¿ç”¨</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> ref = <span class="title function_">useRef</span>(<span class="literal">null</span>);</span><br><span class="line">  <span class="keyword">const</span> size = <span class="title function_">useSize</span>(ref);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ref</span>=<span class="string">&#123;ref&#125;</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">border:</span> &quot;<span class="attr">1px</span> <span class="attr">solid</span> <span class="attr">red</span>&quot; &#125;&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Try to resize the preview window <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        width: &#123;size?.width&#125;px, height: &#123;size?.height&#125;px</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»…ä½œä¸ºè‡ªå·±çš„å­¦ä¹ ç§¯ç´¯ï¼Œæœ‰ä»€ä¹ˆéœ€è¦æ”¹è¿›çš„åœ°æ–¹è¯·å¤§å®¶å¤šå¤šæ‰¹è¯„æŒ‡ç‚¹ ğŸ˜…ï¼</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://ahooks.gitee.io/&quot;&gt;ahooks&lt;/a&gt;æ˜¯é˜¿é‡Œå¼€æºçš„ä¸€å¥— React Hooks åº“ï¼Œé‡Œé¢å°è£…äº†å¤§é‡å¥½ç”¨çš„ Hooksï¼Œæœ€è¿‘ä¹Ÿåœ¨é¡¹ç›®ä¸­é¢‘ç¹ä½¿ç”¨åˆ°äº†åº“ä¸­&lt;a href=&quot;https://ahooks.gitee.io/hooks/use-size&quot;&gt;useSize&lt;/a&gt;è¿™ä¸ªé’©å­å‡½æ•°ï¼Œäºæ˜¯å°±å­¦ä¹ äº†ä¸€ä¸‹å®ƒçš„æºç å®ç°ï¼Œå¹¶ä¸”å®ç°äº†ä¸€ä¸ªç²¾ç®€ç‰ˆ&lt;strong&gt;useSize&lt;/strong&gt;ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="react-hooks" scheme="https://github.com/foolishmax/tags/react-hooks/"/>
    
  </entry>
  
  <entry>
    <title>aliyunæœåŠ¡å™¨å®è·µ</title>
    <link href="https://github.com/foolishmax/2022/08/02/aliyun%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%9E%E8%B7%B5/"/>
    <id>https://github.com/foolishmax/2022/08/02/aliyun%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%9E%E8%B7%B5/</id>
    <published>2022-08-02T08:11:31.000Z</published>
    <updated>2022-08-05T02:20:27.130Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åˆ›å»ºæ–°çš„è´¦å·"><a href="#åˆ›å»ºæ–°çš„è´¦å·" class="headerlink" title="åˆ›å»ºæ–°çš„è´¦å·"></a>åˆ›å»ºæ–°çš„è´¦å·</h2><p>é»˜è®¤ä½¿ç”¨ root ç™»å½•ï¼Œç”±äº root æƒé™å¤ªé«˜ï¼Œå‡ºäºå®‰å…¨è€ƒè™‘ï¼Œåˆ›å»º foolishmaxï¼ˆè‡ªå®šä¹‰ï¼‰è´¦å·</p><span id="more"></span><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ–°å¢è´¦å·foolishmax</span></span><br><span class="line">adduser foolishmax</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¿®æ”¹foolishmaxçš„å¯†ç </span></span><br><span class="line">passwd foolishmax</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸ºfoolishmaxè´¦å·æ·»åŠ sudoæƒé™</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ‰¾åˆ°æ–‡ä»¶ä½ç½® /etc/sudoers</span></span><br><span class="line">whereis sudoers</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¿®æ”¹æƒé™</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">u æ ‡è¯†æ‰€æœ‰è€…ã€w è¡¨ç¤ºå†™æƒé™ + è¡¨ç¤ºæ·»åŠ </span></span><br><span class="line">chmod u+w /etc/sudoers</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç¼–è¾‘ /etc/sudoers</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ‰¾åˆ° `root ALL=(ALL) ALL`</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å†åŠ ä¸€è¡Œ `work ALL=(ALL) ALL`</span></span><br><span class="line">vim /etc/sudoers</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¿˜åŸæƒé™</span></span><br><span class="line">chmod u-w /etc/sudoers</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ‡æ¢foolishmaxç”¨æˆ·</span></span><br><span class="line">su foolishmax</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ‡æ¢å›root</span></span><br><span class="line">su</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¾“å…¥å¯†ç </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ‡æ¢æˆåŠŸ</span></span><br></pre></td></tr></table></figure><h2 id="ä¸‹è½½å¸¸ç”¨å·¥å…·"><a href="#ä¸‹è½½å¸¸ç”¨å·¥å…·" class="headerlink" title="ä¸‹è½½å¸¸ç”¨å·¥å…·"></a>ä¸‹è½½å¸¸ç”¨å·¥å…·</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">// git</span><br><span class="line">yum -y install git</span><br><span class="line">git --version</span><br><span class="line"></span><br><span class="line">// å®‰è£…docker</span><br><span class="line">yum -y install docker</span><br><span class="line">docker --version</span><br><span class="line"></span><br><span class="line">// å®‰è£…docker-compose</span><br><span class="line">// 1. ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶</span><br><span class="line">wget https://github.com/docker/compose/releases/download/1.24.0/docker-compose-Linux-x86_64</span><br><span class="line">// 2.ç§»åŠ¨æ–‡ä»¶</span><br><span class="line">mv docker-compose-Linux-x86_64 /usr/local/bin/docker-compose</span><br><span class="line">// 3.èµ‹äºˆå¯æ‰§è¡Œæƒé™</span><br><span class="line">chmod +x /usr/local/bin/docker-compose</span><br><span class="line">// 4.åˆ›å»ºè½¯é“¾</span><br><span class="line">ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose</span><br><span class="line">// 5.æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ</span><br><span class="line">docker-compose --version</span><br></pre></td></tr></table></figure><h2 id="å¼€æ”¾ç«¯å£"><a href="#å¼€æ”¾ç«¯å£" class="headerlink" title="å¼€æ”¾ç«¯å£"></a>å¼€æ”¾ç«¯å£</h2><p><a href="https://ecs.console.aliyun.com/securityGroupDetail/region/cn-shanghai/groupId/sg-uf6ecwnj4s2zj738k4a8/detail/intranetIngress">aliyun æ§åˆ¶å°æœåŠ¡</a></p><h2 id="å‘å¸ƒæµ‹è¯•æœº"><a href="#å‘å¸ƒæµ‹è¯•æœº" class="headerlink" title="å‘å¸ƒæµ‹è¯•æœº"></a>å‘å¸ƒæµ‹è¯•æœº</h2><p>æ€è·¯ï¼š</p><ol><li>ä½¿ç”¨ github actions ç›‘å¬ dev åˆ†æ”¯ push</li><li>ç™»å½•æµ‹è¯•æœºï¼Œè·å–æœ€æ–° dev åˆ†æ”¯ä»£ç </li><li>é‡å»ºæ„å»ºé•œåƒ <strong>docker-compose build project-name</strong></li><li>é‡å¯æ‰€æœ‰å®¹å™¨ <strong>docker-compose up -d</strong></li></ol><p>github actions<br>ä»£ç åœ¨é¡¹ç›® <strong>.github/workflows</strong> ç›®å½•ä¸‹é¢çš„ <strong>.yml</strong> æ ¼å¼æ–‡ä»¶<br><strong>deplop-dev.yml</strong>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">This workflow will <span class="keyword">do</span> a clean install of node dependencies, build the <span class="built_in">source</span> code and run tests across different versions of node</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">For more information see: https://help.github.com/actions/language-and-framework-guides/using-nodejs-with-github-actions</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">github actions ä¸­æ–‡æ–‡æ¡£ https://docs.github.com/cn/actions/getting-started-with-github-actions</span></span><br><span class="line"></span><br><span class="line">name: deploy for dev</span><br><span class="line"></span><br><span class="line">on:</span><br><span class="line">    push:</span><br><span class="line">        branches:</span><br><span class="line">            - &#x27;dev&#x27; # åªé’ˆå¯¹ dev åˆ†æ”¯</span><br><span class="line">        paths:</span><br><span class="line">            - &#x27;.github/workflows/*&#x27;</span><br><span class="line">            # - &#x27;__test__/**&#x27; # dev ä¸éœ€è¦ç«‹å³æµ‹è¯•</span><br><span class="line">            - &#x27;src/**&#x27;</span><br><span class="line">            - &#x27;Dockerfile&#x27;</span><br><span class="line">            - &#x27;docker-compose.yml&#x27;</span><br><span class="line">            - &#x27;bin/*&#x27;</span><br><span class="line"></span><br><span class="line">jobs:</span><br><span class="line">    deploy-dev:</span><br><span class="line">        runs-on: ubuntu-latest</span><br><span class="line"></span><br><span class="line">        steps:</span><br><span class="line">            - uses: actions/checkout@v2</span><br><span class="line">            - name: set ssh key # ä¸´æ—¶è®¾ç½® ssh key</span><br><span class="line">              run: |</span><br><span class="line">                  mkdir -p ~/.ssh/</span><br><span class="line">                  echo &quot;$&#123;&#123;secrets.WFP_ID_RSA&#125;&#125;&quot; &gt; ~/.ssh/id_rsa # secret åœ¨è¿™é‡Œé…ç½® https://github.com/imooc-lego/biz-editor-server/settings/secrets</span><br><span class="line">                  chmod 600 ~/.ssh/id_rsa</span><br><span class="line">                  ssh-keyscan &quot;182.92.xxx.xxx&quot; &gt;&gt; ~/.ssh/known_hosts</span><br><span class="line">            - name: deploy # éƒ¨ç½²</span><br><span class="line">              run: |</span><br><span class="line">                  ssh work@182.92.xxx.xxx &quot;</span><br><span class="line">                    # ã€æ³¨æ„ã€‘ç”¨ work è´¦å·ç™»å½•ï¼Œæ‰‹åŠ¨åˆ›å»º /home/work/imooc-lego ç›®å½•</span><br><span class="line">                    # ç„¶å git clone https://username:password@github.com/imooc-lego/biz-editor-server.git -b dev ï¼ˆç§æœ‰ä»“åº“ï¼Œä½¿ç”¨ github ç”¨æˆ·åå’Œå¯†ç ï¼‰</span><br><span class="line">                    # è®°å¾—åˆ é™¤ origin ï¼Œå¦åˆ™ä¼šæš´éœ² github å¯†ç </span><br><span class="line"></span><br><span class="line">                    cd /home/work/imooc-lego/biz-editor-server;</span><br><span class="line">                    git remote add origin https://wangfupeng1988:$&#123;&#123;secrets.WFP_PASSWORD&#125;&#125;@github.com/imooc-lego/biz-editor-server.git;</span><br><span class="line">                    git checkout dev;</span><br><span class="line">                    git pull origin dev; # é‡æ–°ä¸‹è½½æœ€æ–°ä»£ç </span><br><span class="line">                    git remote remove origin; # åˆ é™¤ origin ï¼Œå¦åˆ™ä¼šæš´éœ² github å¯†ç </span><br><span class="line">                    # å¯åŠ¨ docker</span><br><span class="line">                    docker-compose build editor-server; # å’Œ docker-compose.yml service åå­—ä¸€è‡´</span><br><span class="line">                    docker-compose up -d;</span><br><span class="line">                  &quot;</span><br><span class="line">            - name: delete ssh key # åˆ é™¤ ssh key</span><br><span class="line">              run: rm -rf ~/.ssh/id_rsa</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;åˆ›å»ºæ–°çš„è´¦å·&quot;&gt;&lt;a href=&quot;#åˆ›å»ºæ–°çš„è´¦å·&quot; class=&quot;headerlink&quot; title=&quot;åˆ›å»ºæ–°çš„è´¦å·&quot;&gt;&lt;/a&gt;åˆ›å»ºæ–°çš„è´¦å·&lt;/h2&gt;&lt;p&gt;é»˜è®¤ä½¿ç”¨ root ç™»å½•ï¼Œç”±äº root æƒé™å¤ªé«˜ï¼Œå‡ºäºå®‰å…¨è€ƒè™‘ï¼Œåˆ›å»º foolishmaxï¼ˆè‡ªå®šä¹‰ï¼‰è´¦å·&lt;/p&gt;</summary>
    
    
    
    
    <category term="aliyun" scheme="https://github.com/foolishmax/tags/aliyun/"/>
    
  </entry>
  
  <entry>
    <title>dockerå®è·µæŒ‡å—</title>
    <link href="https://github.com/foolishmax/2022/07/31/docker%E5%AE%9E%E8%B7%B5%E6%8C%87%E5%8D%97/"/>
    <id>https://github.com/foolishmax/2022/07/31/docker%E5%AE%9E%E8%B7%B5%E6%8C%87%E5%8D%97/</id>
    <published>2022-07-31T02:09:12.000Z</published>
    <updated>2022-08-27T02:58:50.035Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é•œåƒæ“ä½œ"><a href="#é•œåƒæ“ä½œ" class="headerlink" title="é•œåƒæ“ä½œ"></a>é•œåƒæ“ä½œ</h2><span id="more"></span><h3 id="è·å–é•œåƒ-docker-pull"><a href="#è·å–é•œåƒ-docker-pull" class="headerlink" title="è·å–é•œåƒ docker pull"></a>è·å–é•œåƒ docker pull</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker pull ä»é•œåƒä»“åº“ä¸­æ‹‰å–æˆ–è€…æ›´æ–°æŒ‡å®šé•œåƒ</span></span><br><span class="line">docker pull ubuntu:18.04</span><br></pre></td></tr></table></figure><h3 id="åˆ—å‡ºå·²ç»ä¸‹è½½çš„é•œåƒ-docker-images"><a href="#åˆ—å‡ºå·²ç»ä¸‹è½½çš„é•œåƒ-docker-images" class="headerlink" title="åˆ—å‡ºå·²ç»ä¸‹è½½çš„é•œåƒ docker images"></a>åˆ—å‡ºå·²ç»ä¸‹è½½çš„é•œåƒ docker images</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ—å‡ºæŸä¸€ä¸ªé•œåƒ</span></span><br><span class="line">docker images ubuntu</span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤é•œåƒ-docker-rmi"><a href="#åˆ é™¤é•œåƒ-docker-rmi" class="headerlink" title="åˆ é™¤é•œåƒ docker rmi"></a>åˆ é™¤é•œåƒ docker rmi</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">docker rmi 501</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">or</span></span><br><span class="line">docker rmi centos</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker pruneå‘½ä»¤</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ é™¤æ‰€æœ‰æœªè¢«tagæ ‡è®°æˆ–è€…æœªè¢«å®¹å™¨ä½¿ç”¨çš„é•œåƒ</span></span><br><span class="line">docker image prune</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ é™¤æ‰€æœ‰æœªè¢«å®¹å™¨ä½¿ç”¨çš„é•œåƒ</span></span><br><span class="line">docker image prune -a</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ é™¤æ‰€æœ‰åœæ­¢è¿è¡Œçš„å®¹å™¨</span></span><br><span class="line">docker container prune</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ é™¤æ‰€æœ‰æœªè¢«æŒ‚è½½çš„å·</span></span><br><span class="line">docker volume prune</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ é™¤æ‰€æœ‰ç½‘ç»œ</span></span><br><span class="line">docker network prune</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ é™¤dockeræ‰€æœ‰èµ„æº</span></span><br><span class="line">docker system prune</span><br></pre></td></tr></table></figure><h3 id="ä¸Šä¼ é•œåƒ-docker-push"><a href="#ä¸Šä¼ é•œåƒ-docker-push" class="headerlink" title="ä¸Šä¼ é•œåƒ docker push"></a>ä¸Šä¼ é•œåƒ docker push</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker push:å°†æœ¬åœ°çš„é•œåƒä¸Šä¼ åˆ°é•œåƒä»“åº“ï¼Œå…ˆç™»å½•é•œåƒä»“åº“</span></span><br><span class="line">docker push mynode:v1</span><br></pre></td></tr></table></figure><h2 id="å®¹å™¨æ“ä½œ"><a href="#å®¹å™¨æ“ä½œ" class="headerlink" title="å®¹å™¨æ“ä½œ"></a>å®¹å™¨æ“ä½œ</h2><h3 id="åˆ—å‡ºå®¹å™¨-docker-ps"><a href="#åˆ—å‡ºå®¹å™¨-docker-ps" class="headerlink" title="åˆ—å‡ºå®¹å™¨ docker ps"></a>åˆ—å‡ºå®¹å™¨ docker ps</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-a :æ˜¾ç¤ºæ‰€æœ‰çš„å®¹å™¨ï¼ŒåŒ…æ‹¬æœªè¿è¡Œçš„</span></span><br><span class="line">docker ps</span><br></pre></td></tr></table></figure><h3 id="åœæ­¢å®¹å™¨-docker-stop"><a href="#åœæ­¢å®¹å™¨-docker-stop" class="headerlink" title="åœæ­¢å®¹å™¨ docker stop"></a>åœæ­¢å®¹å™¨ docker stop</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åœæ­¢è¿è¡Œä¸­çš„å®¹å™¨myrunoob</span></span><br><span class="line">docker stop myrunoob</span><br></pre></td></tr></table></figure><h3 id="å¯åŠ¨å®¹å™¨-docker-start"><a href="#å¯åŠ¨å®¹å™¨-docker-start" class="headerlink" title="å¯åŠ¨å®¹å™¨ docker start"></a>å¯åŠ¨å®¹å™¨ docker start</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¯åŠ¨å·²è¢«åœæ­¢çš„å®¹å™¨myrunoob</span></span><br><span class="line">docker start myrunoob</span><br></pre></td></tr></table></figure><h3 id="é‡å¯å®¹å™¨-docker-restart"><a href="#é‡å¯å®¹å™¨-docker-restart" class="headerlink" title="é‡å¯å®¹å™¨ docker restart"></a>é‡å¯å®¹å™¨ docker restart</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é‡å¯å®¹å™¨myrunoob</span></span><br><span class="line">docker restart myrunoob</span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤å®¹å™¨-docker-rm"><a href="#åˆ é™¤å®¹å™¨-docker-rm" class="headerlink" title="åˆ é™¤å®¹å™¨ docker rm"></a>åˆ é™¤å®¹å™¨ docker rm</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¼ºåˆ¶åˆ é™¤å®¹å™¨ db01ã€db02</span></span><br><span class="line">docker rm -f db01 db02</span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹å®¹å™¨ä¿¡æ¯-docker-inspect"><a href="#æŸ¥çœ‹å®¹å™¨ä¿¡æ¯-docker-inspect" class="headerlink" title="æŸ¥çœ‹å®¹å™¨ä¿¡æ¯ docker inspect"></a>æŸ¥çœ‹å®¹å™¨ä¿¡æ¯ docker inspect</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è·å–å®¹å™¨/é•œåƒçš„å…ƒæ•°æ®</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è·å–é•œåƒmysql:5.6çš„å…ƒä¿¡æ¯</span></span><br><span class="line">docker inspect mysql:5.6</span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹å®¹å™¨æ—¥å¿—-docker-logs"><a href="#æŸ¥çœ‹å®¹å™¨æ—¥å¿—-docker-logs" class="headerlink" title="æŸ¥çœ‹å®¹å™¨æ—¥å¿— docker logs"></a>æŸ¥çœ‹å®¹å™¨æ—¥å¿— docker logs</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è·Ÿè¸ªæŸ¥çœ‹å®¹å™¨mynginxçš„æ—¥å¿—è¾“å‡º</span></span><br><span class="line">docker logs -f mynginx</span><br></pre></td></tr></table></figure><h3 id="è¿›å…¥å®¹å™¨æ§åˆ¶å°-docker-exec"><a href="#è¿›å…¥å®¹å™¨æ§åˆ¶å°-docker-exec" class="headerlink" title="è¿›å…¥å®¹å™¨æ§åˆ¶å° docker exec"></a>è¿›å…¥å®¹å™¨æ§åˆ¶å° docker exec</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// åœ¨è¿è¡Œçš„å®¹å™¨ä¸­æ‰§è¡Œå‘½ä»¤</span><br><span class="line">// -d:åˆ†ç¦»æ¨¡å¼ï¼Œåœ¨åå°è¿è¡Œ</span><br><span class="line">// -i: å³ä½¿æ²¡æœ‰é™„åŠ ä¹Ÿä¿æŒSTDINæ‰“å¼€</span><br><span class="line">// -t: åˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯</span><br><span class="line">// docker exec -it &lt;container-id&gt; /bin/sh</span><br><span class="line"></span><br><span class="line">// æ‰§è¡Œ exit é€€å‡º</span><br></pre></td></tr></table></figure><h2 id="å¯åŠ¨-docker"><a href="#å¯åŠ¨-docker" class="headerlink" title="å¯åŠ¨ docker"></a>å¯åŠ¨ docker</h2><!--more--><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">open /Applications/Docker.app</span><br></pre></td></tr></table></figure><h2 id="docker-run"><a href="#docker-run" class="headerlink" title="docker run"></a>docker run</h2><p>eg1:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run ubuntu:15.10 /bin/echo &#x27;hello world&#x27;</span><br></pre></td></tr></table></figure><p>å„ä¸ªå‚æ•°è§£æï¼š</p><ul><li><p>dockerï¼šDocker çš„äºŒè¿›åˆ¶æ‰§è¡Œæ–‡ä»¶</p></li><li><p>runï¼šä¸ docker ç»„åˆæ¥è¿è¡Œä¸€ä¸ªå®¹å™¨</p></li><li><p>ubuntu:15.10 æŒ‡å®šè¦è¿è¡Œçš„æ™¯è±¡ï¼Œdocker å…ˆä»æœ¬åœ°ä¸»æœºæŸ¥æ‰¾æ™¯è±¡æ˜¯å¦å­˜åœ¨ï¼Œå¦‚ä¸å­˜åœ¨ï¼Œdocker å°±ä¼šä» <a href="https://hub.docker.com/">Docker hub</a>é•œåƒä»“åº“ä¸‹è½½å…¬å…±é•œåƒ</p></li><li><p>/bin/echo â€˜hello worldâ€™ï¼šåœ¨å¯åŠ¨çš„å®¹å™¨ä¸­æ‰§è¡Œçš„å‘½ä»¤</p></li></ul><p>æ³¨æ„ï¼š</p><ul><li><p>ä¸å­˜åœ¨æ—¶ä¼šå‡ºç°é”™è¯¯ä¿¡æ¯ï¼š <em>Unable to find image â€˜ubuntu:15.10â€™ locally</em></p></li><li><p>ä¹‹åä¾¿ä¼šä»é•œåƒä»“åº“ä¸‹è½½å…¬å…±é•œåƒ</p></li><li><p>æ‰“å° hello world</p></li><li><p>M1-Mac å¯èƒ½ä¼šå‡ºç°å¦‚ä¸‹è­¦å‘Šï¼š<em>WARNING: The requested imageâ€™s platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested</em></p><ul><li>è§£å†³æ–¹æ³•ï¼š<strong>docker run â€“platform linux/amd64 ubuntu:15.10 /bin/echo â€˜hello worldâ€™</strong></li></ul></li></ul><p>eg2:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// å¯åŠ¨å®¹å™¨ docker run -p xxx:xxx -v=hostPath:containerPath -d --name &lt;container-name&gt; &lt;image-name&gt;</span><br><span class="line">// -p ç«¯å£æ˜ å°„</span><br><span class="line">// -v æ•°æ®å·ï¼Œæ–‡ä»¶æ˜ å°„</span><br><span class="line">// -d åå°è¿è¡Œ</span><br><span class="line">// --name å®šä¹‰å®¹å™¨åç§°</span><br><span class="line">docker run -p 81:80 -d --name nginx1 nginx</span><br></pre></td></tr></table></figure><h2 id="Dockerfile"><a href="#Dockerfile" class="headerlink" title="Dockerfile"></a>Dockerfile</h2><p>Dockerfile æ˜¯ä¸€ä¸ªç”¨æ¥æ„å»ºé•œåƒçš„æ–‡æœ¬æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹åŒ…å«ä¸€æ¡æ¡æ„å»ºé•œåƒæ‰€éœ€çš„æŒ‡ä»¤å’Œè¯´æ˜</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">Dockerfile</span></span><br><span class="line">FROM node:latest</span><br><span class="line">WORKDIR /app</span><br><span class="line">COPY . /app</span><br><span class="line"></span><br><span class="line">RUN npm set registry https://registry.npm.taobao.org</span><br><span class="line">RUN npm install</span><br><span class="line">RUN npm install pm2 -g</span><br><span class="line"></span><br><span class="line">CMD echo $SERVER_NAME &amp;&amp; echo $AUTHOR_NAME &amp;&amp; npm run start &amp;&amp; npx npm2 log</span><br><span class="line"></span><br><span class="line">ENV SERVER_NAME = &#x27;react-demo&#x27;</span><br><span class="line">ENV AUTHOR_NAME = &#x27;foolishmax&#x27;</span><br></pre></td></tr></table></figure><h2 id="dockerignore"><a href="#dockerignore" class="headerlink" title=".dockerignore"></a>.dockerignore</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.git</span><br><span class="line">node_modules</span><br></pre></td></tr></table></figure><h2 id="å§‹æ„å»ºé•œåƒ"><a href="#å§‹æ„å»ºé•œåƒ" class="headerlink" title="å§‹æ„å»ºé•œåƒ"></a>å§‹æ„å»ºé•œåƒ</h2><p>åœ¨ Dockerfile æ–‡ä»¶çš„å­˜æ”¾ç›®å½•ä¸‹ï¼Œæ‰§è¡Œæ„å»ºåŠ¨ä½œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker bild -t react-demo-image .</span><br></pre></td></tr></table></figure><h2 id="docker-images-æŸ¥çœ‹"><a href="#docker-images-æŸ¥çœ‹" class="headerlink" title="docker images æŸ¥çœ‹"></a>docker images æŸ¥çœ‹</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">REPOSITORY         TAG       IMAGE ID       CREATED         SIZE</span><br><span class="line">react-demo-image   latest    35c499bddac6   3 minutes ago   1.22GB</span><br><span class="line">node-test          latest    028a51c6e54d   8 months ago    945MB</span><br><span class="line">nginx              latest    f1325989da19   8 months ago    134MB</span><br></pre></td></tr></table></figure><h2 id="è¿è¡Œå®¹å™¨"><a href="#è¿è¡Œå®¹å™¨" class="headerlink" title="è¿è¡Œå®¹å™¨"></a>è¿è¡Œå®¹å™¨</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -p 8081:3000 -d --name react-demo-server react-demo-image</span><br></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹å®¹å™¨"><a href="#æŸ¥çœ‹å®¹å™¨" class="headerlink" title="æŸ¥çœ‹å®¹å™¨"></a>æŸ¥çœ‹å®¹å™¨</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CONTAINER ID   IMAGE              COMMAND                  CREATED         STATUS         PORTS                    NAMES</span><br><span class="line">f71ef1480035   react-demo-image   &quot;docker-entrypoint.sâ€¦&quot;   4 seconds ago   Up 3 seconds   0.0.0.0:8081-&gt;3000/tcp   react-demo-server</span><br></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹æ—¥å¿—"><a href="#æŸ¥çœ‹æ—¥å¿—" class="headerlink" title="æŸ¥çœ‹æ—¥å¿—"></a>æŸ¥çœ‹æ—¥å¿—</h2><p>docker logs f71ef1480035</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"># è¿™ä¸¤è¡Œå¯¹åº”Dockerfileä¸­çš„CMDå˜é‡æ‰“å°</span><br><span class="line">= react-demo</span><br><span class="line">= foolishmax</span><br><span class="line"></span><br><span class="line">&gt; react-demo@0.1.0 start</span><br><span class="line">&gt; react-scripts start</span><br><span class="line"></span><br><span class="line">(node:27) [DEP_WEBPACK_DEV_SERVER_ON_AFTER_SETUP_MIDDLEWARE] DeprecationWarning: &#x27;onAfterSetupMiddleware&#x27; option is deprecated. Please use the &#x27;setupMiddlewares&#x27; option.</span><br><span class="line">(Use `node --trace-deprecation ...` to show where the warning was created)</span><br><span class="line">(node:27) [DEP_WEBPACK_DEV_SERVER_ON_BEFORE_SETUP_MIDDLEWARE] DeprecationWarning: &#x27;onBeforeSetupMiddleware&#x27; option is deprecated. Please use the &#x27;setupMiddlewares&#x27; option.</span><br><span class="line">Starting the development server...</span><br><span class="line"></span><br><span class="line">Compiled successfully!</span><br><span class="line"></span><br><span class="line">You can now view react-demo in the browser.</span><br><span class="line"></span><br><span class="line">  Local:            http://localhost:3000</span><br><span class="line">  On Your Network:  http://172.17.0.2:3000</span><br><span class="line"></span><br><span class="line">Note that the development build is not optimized.</span><br><span class="line">To create a production build, use npm run build.</span><br><span class="line"></span><br><span class="line">webpack compiled successfully</span><br><span class="line">Compiling...</span><br><span class="line">Compiled successfully!</span><br><span class="line">webpack compiled successfully</span><br></pre></td></tr></table></figure><h2 id="åœæ­¢å®¹å™¨"><a href="#åœæ­¢å®¹å™¨" class="headerlink" title="åœæ­¢å®¹å™¨"></a>åœæ­¢å®¹å™¨</h2><p>docker stop f71ef1480035</p><h2 id="åˆ é™¤å®¹å™¨"><a href="#åˆ é™¤å®¹å™¨" class="headerlink" title="åˆ é™¤å®¹å™¨"></a>åˆ é™¤å®¹å™¨</h2><p>docker rm f71ef1480035</p><h2 id="åˆ é™¤é•œåƒ"><a href="#åˆ é™¤é•œåƒ" class="headerlink" title="åˆ é™¤é•œåƒ"></a>åˆ é™¤é•œåƒ</h2><p>docker rmi 35c499bddac6</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Untagged: react-demo-image:latest</span><br><span class="line">Deleted: sha256:35c499bddac6675ff20a7d951fc1c1f6770a10430278fec6f2b8d1c866037624</span><br></pre></td></tr></table></figure><h2 id="docker-compose-yml-æ–‡ä»¶"><a href="#docker-compose-yml-æ–‡ä»¶" class="headerlink" title="docker-compose.yml æ–‡ä»¶"></a>docker-compose.yml æ–‡ä»¶</h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&quot;3&quot;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">edditor-server:</span> <span class="comment"># service name</span></span><br><span class="line">    <span class="attr">build:</span></span><br><span class="line">      <span class="attr">context:</span> <span class="string">.</span> <span class="comment">#å½“å‰ç›®å½•</span></span><br><span class="line">      <span class="attr">dockerfile:</span> <span class="string">Dockerfile</span> <span class="comment">#  åŸºäºDockerfileæ„å»º</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">editor-server</span> <span class="comment">#ä¾èµ–å½“å‰dockerfileåˆ›å»ºå‡ºæ¥çš„é•œåƒ</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">editor-server</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">8081</span><span class="string">:3000</span> <span class="comment">#å®¿ä¸»æœºé€šè¿‡8081è®¿é—®</span></span><br><span class="line">  <span class="attr">editor-redis:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">redis</span> <span class="comment">#å¼•ç”¨å®˜æ–¹redisé•œåƒ</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">editor-redis</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">6378</span><span class="string">:6379</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">TZ=Asia/Shanghai</span> <span class="comment"># è®¾ç½®æ—¶åŒº</span></span><br><span class="line">  <span class="attr">editor-mysql:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mysql</span> <span class="comment"># å¼•ç”¨å®˜ç½‘ mysql é•œåƒ</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">editor-mysql</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span> <span class="comment"># å‡ºé”™åˆ™é‡å¯</span></span><br><span class="line">    <span class="attr">privileged:</span> <span class="literal">true</span> <span class="comment"># é«˜æƒé™ï¼Œæ‰§è¡Œä¸‹é¢çš„ mysql/init</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">--default-authentication-plugin=mysql_native_password</span> <span class="comment"># è¿œç¨‹è®¿é—®</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">3305</span><span class="string">:3306</span> <span class="comment"># å®¿ä¸»æœºå¯ä»¥ç”¨ 127.0.0.1:3305 å³å¯è¿æ¥å®¹å™¨ä¸­çš„æ•°æ®åº“ï¼Œå’Œ redis ä¸€æ ·</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">.docker-volumes/mysql/log:/var/log/mysql</span> <span class="comment"># è®°å½•æ—¥å¿—</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">.docker-volumes/mysql/data:/var/lib/mysql</span> <span class="comment"># æ•°æ®æŒä¹…åŒ–</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./mysql/init:/docker-entrypoint-initdb.d/</span> <span class="comment"># åˆå§‹åŒ– sql</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">MYSQL_DATABASE=imooc_lego_course</span> <span class="comment"># åˆå§‹åŒ–å®¹å™¨æ—¶åˆ›å»ºæ•°æ®åº“</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">MYSQL_ROOT_PASSWORD=Mysql_2019</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">TZ=Asia/Shanghai</span> <span class="comment"># è®¾ç½®æ—¶åŒº</span></span><br><span class="line">  <span class="attr">editor-mongo:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mongo</span> <span class="comment"># å¼•ç”¨å®˜ç½‘ mongo é•œåƒ</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">editor-mongo</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;.docker-volumes/mongo/data:/data/db&quot;</span> <span class="comment"># æ•°æ®æŒä¹…åŒ–,æ˜ å°„æœ¬åœ°æ–‡ä»¶</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">MONGO_INITDB_DATABASE=imooc_lego_course</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">TZ=Asia/Shanghai</span> <span class="comment"># è®¾ç½®æ—¶åŒº</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;27016:27017&quot;</span> <span class="comment"># å®¿ä¸»æœºå¯ä»¥ç”¨ 127.0.0.1:27016 å³å¯è¿æ¥å®¹å™¨ä¸­çš„æ•°æ®åº“</span></span><br></pre></td></tr></table></figure><ul><li>æ„å»ºå®¹å™¨ docker-compose build <service-name></li><li>å¯åŠ¨æ‰€æœ‰æœåŠ¡å™¨ docker-compose up -d,åå°å¯åŠ¨</li><li>æŸ¥çœ‹æœåŠ¡ docker-compose ps (ç›¸æ¯”è¾ƒ docker ps ç­‰äºå¤šäº†å±‚ä½œç”¨åŸŸ)</li><li>åœæ­¢æ‰€æœ‰æœåŠ¡ docker-compose down</li></ul><p>æ³¨æ„ï¼š<br>ç»è¿‡ä»¥ä¸Šæ“ä½œä¹‹åéœ€ä¿®æ”¹.gitignore æ–‡ä»¶ï¼Œå¢åŠ ä¸€è¡Œ <em>.docker-volumes/</em></p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;é•œåƒæ“ä½œ&quot;&gt;&lt;a href=&quot;#é•œåƒæ“ä½œ&quot; class=&quot;headerlink&quot; title=&quot;é•œåƒæ“ä½œ&quot;&gt;&lt;/a&gt;é•œåƒæ“ä½œ&lt;/h2&gt;</summary>
    
    
    
    
    <category term="docker" scheme="https://github.com/foolishmax/tags/docker/"/>
    
  </entry>
  
  <entry>
    <title>JSæ¯æ—¥ä¸€é¢˜</title>
    <link href="https://github.com/foolishmax/2022/04/15/JS%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/"/>
    <id>https://github.com/foolishmax/2022/04/15/JS%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/</id>
    <published>2022-04-15T14:15:48.000Z</published>
    <updated>2022-07-30T04:11:09.867Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è®¾è®¡-LazyMan-ç±»"><a href="#è®¾è®¡-LazyMan-ç±»" class="headerlink" title="è®¾è®¡ LazyMan ç±»"></a>è®¾è®¡ LazyMan ç±»</h2><span id="more"></span><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é¢˜ç›®</span></span><br><span class="line"><span class="title class_">LazyMan</span>(<span class="string">&quot;Tony&quot;</span>)</span><br><span class="line">  .<span class="title function_">eat</span>(<span class="string">&quot;lunch&quot;</span>)</span><br><span class="line">  .<span class="title function_">eat</span>(<span class="string">&quot;dinner&quot;</span>)</span><br><span class="line">  .<span class="title function_">sleepFirst</span>(<span class="number">5</span>)</span><br><span class="line">  .<span class="title function_">sleep</span>(<span class="number">10</span>)</span><br><span class="line">  .<span class="title function_">eat</span>(<span class="string">&quot;junk food&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">// Hi I am Tony</span></span><br><span class="line"><span class="comment">// ç­‰å¾…äº†5ç§’...</span></span><br><span class="line"><span class="comment">// I am eating lunch</span></span><br><span class="line"><span class="comment">// I am eating dinner</span></span><br><span class="line"><span class="comment">// ç­‰å¾…äº†10ç§’...</span></span><br><span class="line"><span class="comment">// I am eating junk food</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å®ç°ï¼š</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LazyManClass</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Hi I am <span class="subst">$&#123;name&#125;</span>`</span>);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">taskList</span> = [];</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">next</span>();</span><br><span class="line">    &#125;, <span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">eat</span>(<span class="params">food</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> that = <span class="variable language_">this</span>;</span><br><span class="line">    <span class="keyword">const</span> fn = (<span class="function">(<span class="params">f</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`I am eating <span class="subst">$&#123;f&#125;</span>`</span>);</span><br><span class="line">        that.<span class="title function_">next</span>();</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;)(food);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">taskList</span>.<span class="title function_">push</span>(fn);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">sleep</span>(<span class="params">time</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> that = <span class="variable language_">this</span>;</span><br><span class="line">    <span class="keyword">const</span> fn = (<span class="function">(<span class="params">t</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`ç­‰å¾…äº†<span class="subst">$&#123;t&#125;</span>ç§’...`</span>);</span><br><span class="line">          that.<span class="title function_">next</span>();</span><br><span class="line">        &#125;, t * <span class="number">1000</span>);</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;)(time);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">taskList</span>.<span class="title function_">push</span>(fn);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">sleepFirst</span>(<span class="params">time</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> that = <span class="variable language_">this</span>;</span><br><span class="line">    <span class="keyword">const</span> fn = (<span class="function">(<span class="params">t</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`ç­‰å¾…äº†<span class="subst">$&#123;t&#125;</span>ç§’...`</span>);</span><br><span class="line">          that.<span class="title function_">next</span>();</span><br><span class="line">        &#125;, t * <span class="number">1000</span>);</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;)(time);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">taskList</span>.<span class="title function_">unshift</span>(fn);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// è´Ÿè´£æ‰§è¡Œä»»åŠ¡é˜Ÿåˆ—</span></span><br><span class="line">  <span class="title function_">next</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> fn = <span class="variable language_">this</span>.<span class="property">taskList</span>.<span class="title function_">shift</span>();</span><br><span class="line">    fn &amp;&amp; <span class="title function_">fn</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">LazyMan</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">LazyManClass</span>(name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æŒ‰ç…§è§„åˆ™è§£æå­—ç¬¦ä¸²"><a href="#æŒ‰ç…§è§„åˆ™è§£æå­—ç¬¦ä¸²" class="headerlink" title="æŒ‰ç…§è§„åˆ™è§£æå­—ç¬¦ä¸²"></a>æŒ‰ç…§è§„åˆ™è§£æå­—ç¬¦ä¸²</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¾“å…¥ä¸€ä¸²æ•°å­—å­—ç¬¦ä¸²ï¼Œç»è¿‡è§£æ</span></span><br><span class="line"><span class="comment">// å¦‚æœè¿ç»­æ•°å­—çš„è¯ï¼Œå°±å–è¿ç»­çš„ç¬¬ä¸€ä¸ªæ•°å’Œæœ€åä¸€ä¸ªæ•°ï¼Œä¸­é—´ç”¨ ï½ éš”å¼€</span></span><br><span class="line"><span class="comment">// å¦‚æœä¸è¿ç»­å°±ç”¨ ï¼Œ éš”å¼€</span></span><br><span class="line"><span class="comment">// è¾“å…¥ &#x27;1ï¼Œ 2ï¼Œ 3ï¼Œ 5ï¼Œ 7ï¼Œ 8ï¼Œ 10&#x27;ï¼Œè¾“å‡º&#x27;1~3, 5, 7~8, 10&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getValue</span>(<span class="params">str</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> arr = str.<span class="title function_">split</span>(<span class="string">&quot;,&quot;</span>).<span class="title function_">map</span>(<span class="function">(<span class="params">i</span>) =&gt;</span> +i);</span><br><span class="line">  <span class="keyword">const</span> result = [];</span><br><span class="line">  <span class="keyword">let</span> tmp = arr[<span class="number">0</span>];</span><br><span class="line">  arr.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item, index, self</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (item + <span class="number">1</span> !== self[index + <span class="number">1</span>]) &#123;</span><br><span class="line">      <span class="keyword">if</span> (tmp !== item) &#123;</span><br><span class="line">        result.<span class="title function_">push</span>(<span class="string">`<span class="subst">$&#123;tmp&#125;</span>~<span class="subst">$&#123;item&#125;</span>`</span>);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        result.<span class="title function_">push</span>(item);</span><br><span class="line">      &#125;</span><br><span class="line">      tmp = self[index + <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> result.<span class="title function_">join</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> str = <span class="string">&quot;1,2,3,5,7,8,9&quot;</span>;</span><br><span class="line"><span class="title function_">getValue</span>(str);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£åˆ™</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getValue2</span>(<span class="params">str</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> arr = str.<span class="title function_">split</span>(<span class="string">&quot;,&quot;</span>).<span class="title function_">map</span>(<span class="function">(<span class="params">i</span>) =&gt;</span> +i);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> target = arr.<span class="title function_">reduce</span>(<span class="function">(<span class="params">pre, cur, index, self</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (index &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (cur - <span class="number">1</span> === self[index - <span class="number">1</span>]) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;pre&#125;</span>~<span class="subst">$&#123;cur&#125;</span>`</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;pre&#125;</span>,<span class="subst">$&#123;cur&#125;</span>`</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> cur;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, <span class="string">&quot;&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> target</span><br><span class="line">    .<span class="title function_">split</span>(<span class="string">&quot;,&quot;</span>)</span><br><span class="line">    .<span class="title function_">map</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// 1~2~3~4~5 =&gt; 1~5</span></span><br><span class="line">      <span class="keyword">const</span> reg = <span class="regexp">/(\d&#123;1,&#125;)(~\d&#123;1,&#125;)*(~\d&#123;1,&#125;)/</span>;</span><br><span class="line">      <span class="keyword">return</span> item.<span class="title function_">replace</span>(reg, <span class="string">&quot;$1$3&quot;</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">join</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> str = <span class="string">&quot;1,2,3,5,7,8,9&quot;</span>;</span><br><span class="line"><span class="title function_">getValue2</span>(str);</span><br></pre></td></tr></table></figure><h2 id="this-å…¨é¢è€ƒå¯Ÿ"><a href="#this-å…¨é¢è€ƒå¯Ÿ" class="headerlink" title="this å…¨é¢è€ƒå¯Ÿ"></a>this å…¨é¢è€ƒå¯Ÿ</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;window&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> person1 = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;person1&quot;</span>,</span><br><span class="line">  <span class="attr">show1</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">show2</span>: <span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>),</span><br><span class="line">  <span class="attr">show3</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">show4</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> person2 = &#123; <span class="attr">name</span>: <span class="string">&quot;person2&quot;</span> &#125;;</span><br><span class="line"></span><br><span class="line">person1.<span class="title function_">show1</span>(); <span class="comment">// person1</span></span><br><span class="line">person1.<span class="property">show1</span>.<span class="title function_">call</span>(person2); <span class="comment">// person2</span></span><br><span class="line"></span><br><span class="line">person1.<span class="title function_">show2</span>(); <span class="comment">// window</span></span><br><span class="line">person1.<span class="property">show2</span>.<span class="title function_">call</span>(person2); <span class="comment">// window</span></span><br><span class="line"></span><br><span class="line">person1.<span class="title function_">show3</span>()(); <span class="comment">// window &#123;&#125;</span></span><br><span class="line">person1.<span class="title function_">show3</span>().<span class="title function_">call</span>(person2); <span class="comment">// person2 &#123;&#125;</span></span><br><span class="line">person1.<span class="property">show3</span>.<span class="title function_">call</span>(person2)(); <span class="comment">// window &#123;&#125;</span></span><br><span class="line"></span><br><span class="line">person1.<span class="title function_">show4</span>()(); <span class="comment">// &#x27;person1&#x27;</span></span><br><span class="line">person1.<span class="title function_">show4</span>().<span class="title function_">call</span>(person2); <span class="comment">// &#x27;person1&#x27;</span></span><br><span class="line">person1.<span class="property">show4</span>.<span class="title function_">call</span>(person2)(); <span class="comment">// &#x27;person2&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="å¤§æ•°ç›¸åŠ "><a href="#å¤§æ•°ç›¸åŠ " class="headerlink" title="å¤§æ•°ç›¸åŠ "></a>å¤§æ•°ç›¸åŠ </h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 6453234253452432 + 7326362323251323</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bigNumberSum</span>(<span class="params">str1, str2</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> arr1 = str1.<span class="title function_">split</span>(<span class="string">&quot;&quot;</span>).<span class="title function_">reverse</span>();</span><br><span class="line">  <span class="keyword">const</span> arr2 = str2.<span class="title function_">split</span>(<span class="string">&quot;&quot;</span>).<span class="title function_">reverse</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> length = <span class="title class_">Math</span>.<span class="title function_">max</span>(arr1.<span class="property">length</span>, arr2.<span class="property">length</span>);</span><br><span class="line">  <span class="keyword">let</span> result = [];</span><br><span class="line">  <span class="keyword">let</span> flag = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">    <span class="keyword">const</span> num1 = <span class="title class_">Number</span>(arr1[i]) || <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">const</span> num2 = <span class="title class_">Number</span>(arr2[i]) || <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> sum = num1 + num2 + flag;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (sum &gt;= <span class="number">10</span>) &#123;</span><br><span class="line">      sum = sum % <span class="number">10</span>;</span><br><span class="line">      flag = <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      flag = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    result.<span class="title function_">push</span>(sum);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">    result.<span class="title function_">push</span>(flag);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result.<span class="title function_">reverse</span>().<span class="title function_">join</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">bigNumberSum</span>(<span class="string">&quot;6453234253452432&quot;</span>, <span class="string">&quot;7326362323251323&quot;</span>);</span><br></pre></td></tr></table></figure><h2 id="å¤šä¸ªå¼‚æ­¥å‡½æ•°å¦‚ä½•åŒæ­¥æ‰§è¡Œï¼Ÿ"><a href="#å¤šä¸ªå¼‚æ­¥å‡½æ•°å¦‚ä½•åŒæ­¥æ‰§è¡Œï¼Ÿ" class="headerlink" title="å¤šä¸ªå¼‚æ­¥å‡½æ•°å¦‚ä½•åŒæ­¥æ‰§è¡Œï¼Ÿ"></a>å¤šä¸ªå¼‚æ­¥å‡½æ•°å¦‚ä½•åŒæ­¥æ‰§è¡Œï¼Ÿ</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼‚æ­¥å‡½æ•°ä¹‹é—´æœ‰å…³è”å…³ç³»</span></span><br><span class="line"><span class="comment">// å‰ä¸€ä¸ªå¼‚æ­¥å‡½æ•°çš„è¾“å‡ºä½œä¸ºåä¸€ä¸ªå¼‚æ­¥å‡½æ•°çš„è¾“å…¥</span></span><br><span class="line"><span class="comment">// åŒæ­¥æ–¹æ³•çš„å¤„ç†</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">pipeFunctions</span> = (<span class="params">...fns</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> fns.<span class="title function_">reduce</span>(<span class="function">(<span class="params">preFn, curFn</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function">(<span class="params">...args</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> res = <span class="title function_">preFn</span>(...args);</span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">curFn</span>(res);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">add</span> = (<span class="params">x</span>) =&gt; x + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">multiply</span> = (<span class="params">x</span>) =&gt; x * <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">subtraction</span> = (<span class="params">x</span>) =&gt; x - <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">division</span> = (<span class="params">x</span>) =&gt; x / <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> targetFn = <span class="title function_">pipeFunctions</span>(</span><br><span class="line">  add, <span class="comment">// 10</span></span><br><span class="line">  multiply, <span class="comment">// 50</span></span><br><span class="line">  subtraction, <span class="comment">// 45</span></span><br><span class="line">  division <span class="comment">// 9</span></span><br><span class="line">);</span><br><span class="line"><span class="title function_">targetFn</span>(<span class="number">5</span>); <span class="comment">// 9</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ---------</span></span><br><span class="line"><span class="comment">// å¼‚æ­¥æ–¹æ³•çš„å¤„ç†</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">pipeFunctions2</span> = (<span class="params">...fns</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> fns.<span class="title function_">reduce</span>(<span class="function">(<span class="params">preFn, curFn</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">async</span> (...args) =&gt; &#123;</span><br><span class="line">      <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="title function_">preFn</span>(...args);</span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">curFn</span>(res);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">asyncFn</span> = (<span class="params">v</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">resolve</span>(v);</span><br><span class="line">    &#125;, <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">add</span> = <span class="keyword">async</span> (<span class="params">x</span>) =&gt; <span class="keyword">await</span> <span class="title function_">asyncFn</span>(x + <span class="number">5</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">multiply</span> = <span class="keyword">async</span> (<span class="params">x</span>) =&gt; <span class="keyword">await</span> <span class="title function_">asyncFn</span>(x * <span class="number">5</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">subtraction</span> = <span class="keyword">async</span> (<span class="params">x</span>) =&gt; <span class="keyword">await</span> <span class="title function_">asyncFn</span>(x - <span class="number">5</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">division</span> = <span class="keyword">async</span> (<span class="params">x</span>) =&gt; <span class="keyword">await</span> <span class="title function_">asyncFn</span>(x / <span class="number">5</span>);</span><br><span class="line"><span class="keyword">const</span> targetFn2 = <span class="title function_">pipeFunctions2</span>(</span><br><span class="line">  add, <span class="comment">// 10</span></span><br><span class="line">  multiply, <span class="comment">// 50</span></span><br><span class="line">  subtraction, <span class="comment">// 45</span></span><br><span class="line">  division <span class="comment">// 9</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">await</span> <span class="title function_">targetFn2</span>(<span class="number">5</span>); <span class="comment">// 9</span></span><br></pre></td></tr></table></figure><h2 id="æ‰¾å‡ºæ•°ç»„ä¸­å”¯ä¸€è½å•çš„æ•°ï¼ˆåªå‡ºç°ä¸€æ¬¡çš„æ•°ï¼‰"><a href="#æ‰¾å‡ºæ•°ç»„ä¸­å”¯ä¸€è½å•çš„æ•°ï¼ˆåªå‡ºç°ä¸€æ¬¡çš„æ•°ï¼‰" class="headerlink" title="æ‰¾å‡ºæ•°ç»„ä¸­å”¯ä¸€è½å•çš„æ•°ï¼ˆåªå‡ºç°ä¸€æ¬¡çš„æ•°ï¼‰"></a>æ‰¾å‡ºæ•°ç»„ä¸­å”¯ä¸€è½å•çš„æ•°ï¼ˆåªå‡ºç°ä¸€æ¬¡çš„æ•°ï¼‰</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// [1, 4, 3, 3, 2, 4, 1] =&gt; 2</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ–¹æ³•1:</span></span><br><span class="line"><span class="comment"> *  åˆ©ç”¨objectçš„key-valueç‰¹æ€§å­˜å‚¨æ•°æ®ï¼Œ</span></span><br><span class="line"><span class="comment"> *  æ‰¾å‡ºvalueå€¼ä¸º1å¯¹åº”çš„keyå€¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getUnique</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> obj = &#123;&#125;;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> arr) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!obj[item]) &#123;</span><br><span class="line">      obj[item] = <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      obj[item]++;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="keyword">if</span> (obj[key] === <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> +key;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">1</span>];</span><br><span class="line"><span class="title function_">getUnique</span>(arr);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ–¹æ³•2:</span></span><br><span class="line"><span class="comment"> *  å¦‚æœç¬¬ä¸€ä¸ªå€¼ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®å’Œæœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ç›¸åŒ</span></span><br><span class="line"><span class="comment"> *  é‚£ä¹ˆè¿™ä¸ªå€¼å°±åªå‡ºç°äº†ä¸€æ¬¡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getUnique2</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> arr.<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> arr.<span class="title function_">indexOf</span>(item) === arr.<span class="title function_">lastIndexOf</span>(item))[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">1</span>];</span><br><span class="line"><span class="title function_">getUnique2</span>(arr);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ–¹æ³•3:æ•°å­—çš„å¼‚æˆ–è¿ç®—</span></span><br><span class="line"><span class="comment"> *  ä¸¤ä¸ªç›¸åŒçš„æ•°å­—è¿›è¡Œå¼‚æˆ–è¿ç®—å¾—åˆ° 0</span></span><br><span class="line"><span class="comment"> *  0 ä¸ä»»ä½• a å¼‚æˆ–è¿ç®—éƒ½å°†å¾—åˆ° a æœ¬èº«</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getUnique3</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> result = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    result ^= arr[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">1</span>];</span><br><span class="line"><span class="title function_">getUnique3</span>(arr);</span><br></pre></td></tr></table></figure><h2 id="a-1-amp-amp-a-2-amp-amp-a-3"><a href="#a-1-amp-amp-a-2-amp-amp-a-3" class="headerlink" title="a==1 &amp;&amp; a==2 &amp;&amp; a==3"></a>a==1 &amp;&amp; a==2 &amp;&amp; a==3</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.with è¯­å¥</span></span><br><span class="line"><span class="keyword">let</span> i = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> (&#123;</span><br><span class="line">  <span class="keyword">get</span> <span class="title function_">a</span>() &#123;</span><br><span class="line">    <span class="keyword">return</span> i++;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;) &#123;</span><br><span class="line">  <span class="keyword">if</span> (a == <span class="number">1</span> &amp;&amp; (a == <span class="number">2</span>) &amp; (a == <span class="number">3</span>)) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Are you kidding me?&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 2.éšå¼è½¬æ¢</span></span><br><span class="line"><span class="comment">// æ ¸å¿ƒï¼šå¯¹è±¡ç±»å‹è½¬æ¢ä¸ºåŸå§‹ç±»å‹ï¼Œå¤„ç†é€»è¾‘ï¼š</span></span><br><span class="line"><span class="comment">// 1. è°ƒç”¨[Symbol.toPrimitive]ï¼Œè½¬æ¢æˆåŠŸåˆ™ç»“æŸï¼Œå¦åˆ™æ‰§è¡Œ2</span></span><br><span class="line"><span class="comment">// 2. è°ƒç”¨valueOfï¼Œè½¬æ¢æˆåŠŸåˆ™ç»“æŸï¼Œå¦åˆ™æ‰§è¡Œ3</span></span><br><span class="line"><span class="comment">// 3. è°ƒç”¨toStringï¼Œè½¬æ¢æˆåŠŸåˆ™ç»“æŸï¼Œå¦åˆ™æ‰§è¡Œ4</span></span><br><span class="line"><span class="comment">// 4. å¦‚æœéƒ½æ²¡æœ‰è½¬æ¢æˆåŸå§‹ç±»å‹ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸</span></span><br><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">  <span class="attr">value</span>: <span class="number">1</span>,</span><br><span class="line">  [<span class="title class_">Symbol</span>.<span class="property">toPrimitive</span>]() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">value</span>++;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">valueOf</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">value</span>++;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">toString</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">value</span>++;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">if</span> (a == <span class="number">1</span> &amp;&amp; (a == <span class="number">2</span>) &amp; (a == <span class="number">3</span>)) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Are you kidding me?&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 3.æ•°ç»„ç±»å‹çš„éšå¼è½¬æ¢</span></span><br><span class="line"><span class="comment">// æ•°ç»„ç±»å‹è½¬æ¢ä¸ºåŸºæœ¬ç±»å‹æ—¶ï¼Œä¼šè°ƒç”¨toStringæ–¹æ³•</span></span><br><span class="line"><span class="comment">// toStringä¼šè°ƒç”¨joinæ–¹æ³•</span></span><br><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">a.<span class="property">join</span> = a.<span class="property">shift</span>;</span><br><span class="line"><span class="keyword">if</span> (a == <span class="number">1</span> &amp;&amp; (a == <span class="number">2</span>) &amp; (a == <span class="number">3</span>)) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Are you kidding me?&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4.Object.definePropertyè¿›è¡Œæ•°æ®åŠ«æŒ</span></span><br><span class="line"><span class="keyword">let</span> i = <span class="number">1</span>;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(<span class="variable language_">window</span>, <span class="string">&quot;a&quot;</span>, &#123;</span><br><span class="line">  <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> i++;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">if</span> (a == <span class="number">1</span> &amp;&amp; (a == <span class="number">2</span>) &amp; (a == <span class="number">3</span>)) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Are you kidding me?&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 5.æ–¹æ³•åŠ«æŒ-Proxy</span></span><br><span class="line"><span class="keyword">const</span> a = <span class="keyword">new</span> <span class="title class_">Proxy</span>(</span><br><span class="line">  &#123; <span class="attr">x</span>: <span class="number">1</span> &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="title function_">get</span>(<span class="params">target</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="function">() =&gt;</span> target.<span class="property">x</span>++;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"><span class="keyword">if</span> (a == <span class="number">1</span> &amp;&amp; (a == <span class="number">2</span>) &amp; (a == <span class="number">3</span>)) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Are you kidding me?&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éšè—å­—ç¬¦ åŠå½¢æœé²œæ–‡å¡«å……ç¬¦ (U+FFA0)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">if</span>ï¾  = <span class="function">() =&gt;</span> !<span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> a = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>ï¾ (a == <span class="number">1</span> &amp;&amp; (a == <span class="number">2</span>) &amp; (a == <span class="number">3</span>));</span><br><span class="line">&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Are you kidding me?&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åˆå¹¶å¤šä¸ªå¯¹è±¡"><a href="#åˆå¹¶å¤šä¸ªå¯¹è±¡" class="headerlink" title="åˆå¹¶å¤šä¸ªå¯¹è±¡"></a>åˆå¹¶å¤šä¸ªå¯¹è±¡</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj1 = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> obj2 = &#123; <span class="attr">b</span>: <span class="number">3</span>, <span class="attr">c</span>: <span class="number">4</span> &#125;;</span><br><span class="line"><span class="comment">// 1. Object.assign()</span></span><br><span class="line"><span class="comment">// åŒåå±æ€§ä¼šè¦†ç›–</span></span><br><span class="line"><span class="comment">// ç¬¬ä¸€ä¸ªå‚æ•°å¦‚æœä¸ä¸ºå¯¹è±¡ï¼Œéœ€è¦è½¬æ¢ä¸ºå¯¹è±¡ï¼Œè½¬æ¢å¤±è´¥ä¼šæŠ¥é”™</span></span><br><span class="line"><span class="comment">// éç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå‰©ä½™å‚æ•°ä¸ä¸ºå¯¹è±¡ä¹Ÿè¦è½¬æ¢ä¸ºå¯¹è±¡ï¼Œè½¬æ¢å¤±è´¥ç›´æ¥å¿½ç•¥</span></span><br><span class="line"><span class="keyword">const</span> result1 = <span class="title class_">Object</span>.<span class="title function_">assign</span>(obj1, obj2);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result1);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. æ‰©å±•è¿ç®—ç¬¦</span></span><br><span class="line"><span class="comment">// åŒåå±æ€§è¦†ç›–</span></span><br><span class="line"><span class="comment">// å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°ä¸ä¸ºå¯¹è±¡ï¼Œç›´æ¥å¿½ç•¥</span></span><br><span class="line"><span class="keyword">const</span> result2 = &#123; ...obj1, ...obj2 &#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result2);</span><br></pre></td></tr></table></figure><h2 id="Object-fromEntries"><a href="#Object-fromEntries" class="headerlink" title="Object.fromEntries"></a>Object.fromEntries</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¹è±¡äº’è½¬</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="string">&quot;1&quot;</span>,</span><br><span class="line">  <span class="attr">b</span>: <span class="string">&quot;2&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> entries = <span class="title class_">Object</span>.<span class="title function_">entries</span>(obj);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(entries); <span class="comment">//[[&quot;a&quot;,&quot;1&quot;],[&quot;b&quot;,&quot;2&quot;]]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">fromEntries</span>(entries); <span class="comment">//&#123;a: &#x27;1&#x27;, b: &#x27;2&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// map -&gt; å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&quot;a&quot;</span>, <span class="number">1</span>);</span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&quot;b&quot;</span>, <span class="number">2</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map); <span class="comment">//&#123;&#x27;a&#x27; =&gt; 1, &#x27;b&#x27; =&gt; 2&#125;</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">fromEntries</span>(map); <span class="comment">//&#123;a: 1, b: 2&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿‡æ»¤å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> course = &#123;</span><br><span class="line">  <span class="attr">math</span>: <span class="number">79</span>,</span><br><span class="line">  <span class="attr">english</span>: <span class="number">85</span>,</span><br><span class="line">  <span class="attr">chinese</span>: <span class="number">90</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> result = <span class="title class_">Object</span>.<span class="title function_">entries</span>(course).<span class="title function_">filter</span>(<span class="function">(<span class="params">[key, value]</span>) =&gt;</span> value &gt; <span class="number">80</span>);</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">fromEntries</span>(result); <span class="comment">// &#123;english: 85, chinese: 90&#125;</span></span><br></pre></td></tr></table></figure><h2 id="å»æ‰ç©ºæ ¼"><a href="#å»æ‰ç©ºæ ¼" class="headerlink" title="å»æ‰ç©ºæ ¼"></a>å»æ‰ç©ºæ ¼</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> str = <span class="string">&quot;   foo   &quot;</span>;</span><br><span class="line"><span class="comment">// æ­£åˆ™</span></span><br><span class="line">str.<span class="title function_">replace</span>(<span class="regexp">/^\s+/g</span>, <span class="string">&quot;&quot;</span>); <span class="comment">// å»æ‰å‰é¢ç©ºæ ¼</span></span><br><span class="line">str.<span class="title function_">replace</span>(<span class="regexp">/\s+$/g</span>, <span class="string">&quot;&quot;</span>); <span class="comment">//å»æ‰åé¢ç©ºæ ¼</span></span><br><span class="line"><span class="comment">// å»æ‰å‰é¢ç©ºæ ¼</span></span><br><span class="line">str.<span class="title function_">trimStart</span>();</span><br><span class="line">str.<span class="title function_">trimLeft</span>();</span><br><span class="line"><span class="comment">// å»æ‰åé¢ç©ºæ ¼</span></span><br><span class="line">str.<span class="title function_">trimEnd</span>();</span><br><span class="line">str.<span class="title function_">trimRight</span>();</span><br><span class="line"><span class="comment">// å»æ‰å‰åç©ºæ ¼</span></span><br><span class="line">str.<span class="title function_">trim</span>();</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;è®¾è®¡-LazyMan-ç±»&quot;&gt;&lt;a href=&quot;#è®¾è®¡-LazyMan-ç±»&quot; class=&quot;headerlink&quot; title=&quot;è®¾è®¡ LazyMan ç±»&quot;&gt;&lt;/a&gt;è®¾è®¡ LazyMan ç±»&lt;/h2&gt;</summary>
    
    
    
    <category term="javascript" scheme="https://github.com/foolishmax/categories/javascript/"/>
    
    
    <category term="javascript" scheme="https://github.com/foolishmax/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>é¢è¯•ä¼˜è´¨æ‰‹å†™é¢˜</title>
    <link href="https://github.com/foolishmax/2022/03/31/%E9%9D%A2%E8%AF%95%E4%BC%98%E8%B4%A8%E6%89%8B%E5%86%99%E9%A2%98/"/>
    <id>https://github.com/foolishmax/2022/03/31/%E9%9D%A2%E8%AF%95%E4%BC%98%E8%B4%A8%E6%89%8B%E5%86%99%E9%A2%98/</id>
    <published>2022-03-30T16:36:27.000Z</published>
    <updated>2022-08-27T02:41:15.445Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ‰‹å†™éƒ¨åˆ†"><a href="#æ‰‹å†™éƒ¨åˆ†" class="headerlink" title="æ‰‹å†™éƒ¨åˆ†"></a>æ‰‹å†™éƒ¨åˆ†</h1><span id="more"></span><h2 id="æ•°ç»„å»é‡"><a href="#æ•°ç»„å»é‡" class="headerlink" title="æ•°ç»„å»é‡"></a>æ•°ç»„å»é‡</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// indexOf</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> res = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (res.<span class="title function_">indexOf</span>(arr[i]) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">      res.<span class="title function_">push</span>(arrp[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// includes</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> res = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> arr) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!res.<span class="title function_">includes</span>(item)) &#123;</span><br><span class="line">      res.<span class="title function_">push</span>(item);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ©ç”¨filter</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> res = arr.<span class="title function_">filter</span>(<span class="keyword">function</span> (<span class="params">item, index, array</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> array.<span class="title function_">indexOf</span>(item) === index;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ©ç”¨Es6ä¸­çš„Setæ•°æ®ç»“æ„(æ‰©å±•è¿ç®—ç¬¦)</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">unique</span> = (<span class="params">arr</span>) =&gt; [...<span class="keyword">new</span> <span class="title class_">Set</span>(arr)];</span><br><span class="line"></span><br><span class="line"><span class="comment">// Array.form æ–¹æ³•å°†setç»“æ„è½¬æ¢ä¸ºæ•°ç»„</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">unique</span> = (<span class="params">arr</span>) =&gt; <span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="keyword">new</span> <span class="title class_">Set</span>(arr));</span><br></pre></td></tr></table></figure><h2 id="æ•°ç»„æ‰å¹³åŒ–"><a href="#æ•°ç»„æ‰å¹³åŒ–" class="headerlink" title="æ•°ç»„æ‰å¹³åŒ–"></a>æ•°ç»„æ‰å¹³åŒ–</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, [<span class="number">2</span>, [<span class="number">3</span>]]];</span><br><span class="line"></span><br><span class="line"><span class="comment">// let res = arr.flat(Infinity)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// let res = JSON.parse(&quot;[&quot;+JSON.stringify(arr).replace(/\[|\]/g,&quot;&quot;) + &quot;]&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">flatArr</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> res = arr.<span class="title function_">reduce</span>(<span class="function">(<span class="params">accu, curr</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> accu.<span class="title function_">concat</span>(<span class="title class_">Array</span>.<span class="title function_">isArray</span>(curr) ? <span class="title function_">flatArr</span>(curr) : curr);</span><br><span class="line">  &#125;, []);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">flatArr</span>(arr));</span><br></pre></td></tr></table></figure><h2 id="æµ…æ‹·è´"><a href="#æµ…æ‹·è´" class="headerlink" title="æµ…æ‹·è´"></a>æµ…æ‹·è´</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åªè€ƒè™‘å¯¹è±¡ç±»å‹</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">shallowCopy</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> obj !== <span class="string">&quot;object&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line">  <span class="keyword">let</span> newObj = obj <span class="keyword">instanceof</span> <span class="title class_">Array</span> ? [] : &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (obj === <span class="literal">null</span>) <span class="keyword">return</span> obj;</span><br><span class="line">  <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="title class_">Date</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Date</span>(obj);</span><br><span class="line">  <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="title class_">RegExp</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">RegExp</span>(obj);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="keyword">if</span> (obj.<span class="title function_">hasOwnProperty</span>(key)) &#123;</span><br><span class="line">      newObj[key] = obj[key];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> newObj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Object.assign()</span></span><br><span class="line"><span class="comment">// arr.slice(0)</span></span><br><span class="line"><span class="comment">// arr.concat()</span></span><br><span class="line"><span class="comment">// æ‰©å±•è¿ç®—ç¬¦</span></span><br></pre></td></tr></table></figure><h2 id="æ·±æ‹·è´"><a href="#æ·±æ‹·è´" class="headerlink" title="æ·±æ‹·è´"></a>æ·±æ‹·è´</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åªè€ƒè™‘æ™®é€šå¯¹è±¡å±æ€§ï¼Œä¸è€ƒè™‘å†…ç½®å¯¹è±¡å’Œå‡½æ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">deepCone</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> obj !== <span class="string">&quot;object&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line">  <span class="keyword">let</span> newObj = obj <span class="keyword">instanceof</span> <span class="title class_">Array</span> ? [] : &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (obj === <span class="literal">null</span>) <span class="keyword">return</span> obj;</span><br><span class="line">  <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="title class_">Date</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Date</span>(obj);</span><br><span class="line">  <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="title class_">RegExp</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">RegExp</span>(obj);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="keyword">if</span> (obj.<span class="title function_">hasOwnProperty</span>(key)) &#123;</span><br><span class="line">      newObj[key] =</span><br><span class="line">        <span class="keyword">typeof</span> obj[key] === <span class="string">&quot;object&quot;</span> ? <span class="title function_">deepClone</span>(obj[key]) : obj[key];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> newObj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// JSON.parse(JSON.stringify())</span></span><br><span class="line"><span class="comment">// lodash: _.cloneDeep()</span></span><br></pre></td></tr></table></figure><h2 id="å®ç°ä¸€ä¸ª-compose-ç»„åˆ-å‡½æ•°"><a href="#å®ç°ä¸€ä¸ª-compose-ç»„åˆ-å‡½æ•°" class="headerlink" title="å®ç°ä¸€ä¸ª compose(ç»„åˆ)å‡½æ•°"></a>å®ç°ä¸€ä¸ª compose(ç»„åˆ)å‡½æ•°</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">compose</span>(<span class="params">...fn</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(!fn.<span class="property">length</span>) <span class="keyword">return</span> <span class="function">(<span class="params">v</span>) =&gt;</span> v;</span><br><span class="line">    <span class="keyword">if</span>(fn.<span class="property">length</span> === <span class="number">1</span>) <span class="keyword">return</span> fn[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> fn.<span class="title function_">reduce</span>(<span class="function">(<span class="params">accu, curr</span>) =&gt;</span> <span class="function">(<span class="params">...args</span>) =&gt;</span> <span class="title function_">accu</span>(<span class="title function_">curr</span>(...args)) );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ä¾‹å­ï¼š</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn1</span>(<span class="params">x</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> x + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn2</span>(<span class="params">x</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> x + <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn3</span>(<span class="params">x</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> x + <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn4</span>(<span class="params">x</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> x + <span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> res = <span class="title function_">compose</span>(fn1, fn2, fn3, fn4);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">res</span>(<span class="number">5</span>)); <span class="comment">// 5+4+3+2+1=15</span></span><br></pre></td></tr></table></figure><h2 id="assign"><a href="#assign" class="headerlink" title="assign"></a>assign</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="property">assign</span> = <span class="keyword">function</span> (<span class="params">target, ...source</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (target === <span class="literal">null</span> || target === <span class="literal">undefined</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TypeError</span>(<span class="string">&quot;Cannot convert undefined or null to object&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> result = <span class="title class_">Object</span>(target);</span><br><span class="line"></span><br><span class="line">  source.<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">obj</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (obj !== <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">        <span class="keyword">if</span> (obj.<span class="title function_">hasOwnProperty</span>(key)) &#123;</span><br><span class="line">          result[key] = obj[key];</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="é˜²æŠ–å‡½æ•°"><a href="#é˜²æŠ–å‡½æ•°" class="headerlink" title="é˜²æŠ–å‡½æ•°"></a>é˜²æŠ–å‡½æ•°</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">func, wait</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> timeout;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="built_in">clearTimeout</span>(timeout);</span><br><span class="line"></span><br><span class="line">    timeout = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      func.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>);</span><br><span class="line">    &#125;, wait);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æœç´¢è”æƒ³ï¼Œç”¨æˆ·åœ¨ä¸æ–­è¾“å…¥æ—¶ï¼Œç”¨é˜²æŠ–æ¥èŠ‚çº¦è¯·æ±‚èµ„æº</span></span><br><span class="line"><span class="comment">// windowè§¦å‘resizeçš„æ—¶å€™</span></span><br></pre></td></tr></table></figure><h2 id="èŠ‚æµå‡½æ•°"><a href="#èŠ‚æµå‡½æ•°" class="headerlink" title="èŠ‚æµå‡½æ•°"></a>èŠ‚æµå‡½æ•°</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">throttle</span>(<span class="params">func, wait</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> previous = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> now = +<span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">    <span class="keyword">if</span> (now - previous &gt; wait) &#123;</span><br><span class="line">      func.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>);</span><br><span class="line"></span><br><span class="line">      previous = now;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é¼ æ ‡ä¸æ–­ç‚¹å‡»è§¦å‘ï¼Œå¯ä»¥ä½¿å…¶å•ä½æ—¶é—´å†…åªè§¦å‘ä»¥æ­¤</span></span><br><span class="line"><span class="comment">// ç›‘å¬æ»šåŠ¨äº‹ä»¶</span></span><br><span class="line"><span class="comment">// é˜²æ­¢é«˜é¢‘ç‚¹å‡»æäº¤</span></span><br></pre></td></tr></table></figure><h2 id="å‡½æ•°æŸ¯é‡ŒåŒ–"><a href="#å‡½æ•°æŸ¯é‡ŒåŒ–" class="headerlink" title="å‡½æ•°æŸ¯é‡ŒåŒ–"></a>å‡½æ•°æŸ¯é‡ŒåŒ–</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">curry</span>(<span class="params">fn, ...args</span>) &#123;</span><br><span class="line">  <span class="comment">// éœ€è¦æŸ¯é‡ŒåŒ–çš„å‡½æ•°fnï¼Œä¹Ÿå¯ä»¥æ”¯æŒåˆå§‹å‚æ•°çš„ä¼ å…¥</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//å‚æ•°ç¼“å­˜åœ¨argsé‡Œé¢,åˆå¹¶ä¸Šæ¬¡å‚æ•°å’Œæœ¬æ¬¡å‚æ•°</span></span><br><span class="line">    args = [...args, ...<span class="variable language_">arguments</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­å‚æ•°ä¸ªæ•°ï¼Œä¸å¤Ÿç»§ç»­é€’å½’</span></span><br><span class="line">    <span class="keyword">if</span> (args.<span class="property">length</span> &lt; fn.<span class="property">length</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">curry</span>(fn, ...args);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">//å‚æ•°è¶³å¤Ÿè¿”å›å‡½æ•°æ‰§è¡Œç»“æœ</span></span><br><span class="line">      <span class="keyword">return</span> fn.<span class="title function_">apply</span>(<span class="literal">null</span>, args);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params">a, b, c</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b + c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> f = <span class="title function_">curry</span>(bar);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">f</span>(<span class="number">1</span>)(<span class="number">2</span>)(<span class="number">3</span>), <span class="title function_">f</span>(<span class="number">1</span>, <span class="number">2</span>)(<span class="number">3</span>), <span class="title function_">f</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>));</span><br></pre></td></tr></table></figure><h2 id="å¦‚ä½•æŠŠå­—ç¬¦ä¸²ä¸­å¤§å°å†™å–å"><a href="#å¦‚ä½•æŠŠå­—ç¬¦ä¸²ä¸­å¤§å°å†™å–å" class="headerlink" title="å¦‚ä½•æŠŠå­—ç¬¦ä¸²ä¸­å¤§å°å†™å–å"></a>å¦‚ä½•æŠŠå­—ç¬¦ä¸²ä¸­å¤§å°å†™å–å</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;LiBoShi&quot;</span>;</span><br><span class="line"></span><br><span class="line">str = str.<span class="title function_">replace</span>(<span class="regexp">/[a-zA-Z]/g</span>, <span class="function">(<span class="params">content</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> content.<span class="title function_">toUpperCase</span>() === content</span><br><span class="line">    ? content.<span class="title function_">toLowerCase</span>()</span><br><span class="line">    : content.<span class="title function_">toUpperCase</span>();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="ä»-S-ä¸­æŸ¥æ‰¾-T-å­—ç¬¦ä¸²ï¼Œæ‰¾åˆ°è¿”å›ç´¢å¼•å€¼ï¼Œæ²¡æœ‰åˆ™è¿”å›-1ï¼Œç±»ä¼¼-indexOf"><a href="#ä»-S-ä¸­æŸ¥æ‰¾-T-å­—ç¬¦ä¸²ï¼Œæ‰¾åˆ°è¿”å›ç´¢å¼•å€¼ï¼Œæ²¡æœ‰åˆ™è¿”å›-1ï¼Œç±»ä¼¼-indexOf" class="headerlink" title="ä» S ä¸­æŸ¥æ‰¾ T å­—ç¬¦ä¸²ï¼Œæ‰¾åˆ°è¿”å›ç´¢å¼•å€¼ï¼Œæ²¡æœ‰åˆ™è¿”å›-1ï¼Œç±»ä¼¼ indexOf"></a>ä» S ä¸­æŸ¥æ‰¾ T å­—ç¬¦ä¸²ï¼Œæ‰¾åˆ°è¿”å›ç´¢å¼•å€¼ï¼Œæ²¡æœ‰åˆ™è¿”å›-1ï¼Œç±»ä¼¼ indexOf</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ™®é€šæ–¹æ³•</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">myIndexOf</span>(<span class="params">T</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> index = -<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt;= <span class="variable language_">this</span>.<span class="property">length</span> - T.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="title function_">substr</span>(i, T.<span class="property">length</span>) === T) &#123;</span><br><span class="line">      <span class="keyword">return</span> (index = i);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> index;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">String</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">myIndexOf</span> = myIndexOf;</span><br><span class="line"><span class="comment">// æ­£åˆ™æ–¹æ³•</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">myIndexOf</span>(<span class="params">T</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> reg = <span class="keyword">new</span> <span class="title class_">RegExp</span>(T);</span><br><span class="line">  <span class="keyword">let</span> res = reg.<span class="title function_">exec</span>(<span class="variable language_">this</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res === <span class="literal">null</span> ? -<span class="number">1</span> : res.<span class="property">index</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="call"><a href="#call" class="headerlink" title="call"></a>call</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">myCall</span> = <span class="keyword">function</span> (<span class="params">context, ...args</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> ctx = context || <span class="variable language_">window</span>;</span><br><span class="line">  <span class="keyword">const</span> fn = <span class="title class_">Symbol</span>();</span><br><span class="line"></span><br><span class="line">  ctx[fn] = <span class="variable language_">this</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> res = ctx[fn](...args);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">delete</span> ctx[fn];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  <span class="attr">desc</span>: <span class="keyword">function</span> (<span class="params"><span class="keyword">from</span>, to</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>æ¥è‡ª<span class="subst">$&#123;<span class="keyword">from</span>&#125;</span>å»å¾€<span class="subst">$&#123;to&#125;</span>`</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;lbs&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">obj.<span class="property">desc</span>.<span class="title function_">myCall</span>(person, <span class="string">&quot;åŒ—äº¬&quot;</span>, <span class="string">&quot;ä¸Šæµ·&quot;</span>);</span><br></pre></td></tr></table></figure><h2 id="apply"><a href="#apply" class="headerlink" title="apply"></a>apply</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">myApply</span> = <span class="keyword">function</span> (<span class="params">context, args = []</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> ctx = context || <span class="variable language_">window</span>;</span><br><span class="line">  <span class="keyword">const</span> fn = <span class="title class_">Symbol</span>();</span><br><span class="line"></span><br><span class="line">  ctx[fn] = <span class="variable language_">this</span>;</span><br><span class="line">  <span class="keyword">const</span> res = ctx[fn](...args);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">delete</span> ctx[fn];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="bind"><a href="#bind" class="headerlink" title="bind"></a>bind</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">myBind</span> = <span class="keyword">function</span> (<span class="params">content, ...args</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> fn = <span class="variable language_">this</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> <span class="title function_">newFn</span>(<span class="params">...newFnArgs</span>) &#123;</span><br><span class="line">    <span class="comment">// æ£€æµ‹ New</span></span><br><span class="line">    <span class="comment">// å¦‚æœå½“å‰å‡½æ•°çš„thisæŒ‡å‘çš„æ˜¯æ„é€ å‡½æ•°ä¸­çš„this åˆ™åˆ¤å®šä¸ºnew æ“ä½œ</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span> <span class="keyword">instanceof</span> newFn) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title function_">fn</span>(...args, ...newFnArgs);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> fn.<span class="title function_">myApply</span>(context, [...args, ...newFnArgs]);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="instanceof"><a href="#instanceof" class="headerlink" title="instanceof"></a>instanceof</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> é€šè¿‡left.<span class="property">__proto__</span>.<span class="property">__proto__</span>è¿™ç§æ–¹å¼ä»ä¸‹å¾€ä¸Šçš„è·å–åŸå‹å¯¹è±¡</span><br><span class="line"><span class="number">2.</span> é€šè¿‡<span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="literal">null</span>)çš„å®ä¾‹æ˜¯æ²¡æœ‰åŸå‹é“¾</span><br><span class="line"><span class="number">3.</span> æœ‰åŸå‹é“¾çš„å®ä¾‹çš„å°½å¤´éƒ½æ˜¯<span class="title class_">Object</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">instanceof</span>(<span class="params">left, right</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(!left.<span class="property">__proto__</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span>(right === <span class="title class_">Object</span> || left.<span class="property">__proto__</span> === right.<span class="property"><span class="keyword">prototype</span></span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">instanceof</span>(left.<span class="property">__proto__</span>, right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ‰‹å†™-Object-is"><a href="#æ‰‹å†™-Object-is" class="headerlink" title="æ‰‹å†™ Object.is"></a>æ‰‹å†™ Object.is</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">is</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (x === y) &#123;</span><br><span class="line">    <span class="comment">// x,yéƒ½ä¸º0ï¼Œä½†æ˜¯1 / +0 = +Infinity,1 / -0 = -Infinity æ˜¯ä¸ä¸€æ ·çš„</span></span><br><span class="line">    <span class="keyword">return</span> x !== <span class="number">0</span> || y !== <span class="number">0</span> || <span class="number">1</span> / x === <span class="number">1</span> / y;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">//NaN === NaN = falseæ˜¯ä¸å¯¹çš„ï¼Œåšä¸€ä¸ªæ‹¦æˆªæ“ä½œ</span></span><br><span class="line">    <span class="keyword">return</span> x !== x &amp;&amp; y !== y;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ajax"><a href="#ajax" class="headerlink" title="ajax"></a>ajax</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">ajax</span>(<span class="params">method, url, headers, body</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> req = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      req = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">    &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">      req = <span class="keyword">new</span> <span class="title class_">ActiveXObject</span>(<span class="string">&quot;Microsoft.XMLHTTP&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    req.<span class="title function_">open</span>(method, url);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> headers) &#123;</span><br><span class="line">      req.<span class="title function_">setRequestHeader</span>(key, headers[key]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    req.<span class="title function_">onreadystatechange</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (req.<span class="property">readystate</span> === <span class="number">4</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (req.<span class="property">status</span> &gt;= <span class="number">200</span> &amp;&amp; req.<span class="property">status</span> &lt;= <span class="number">300</span>) &#123;</span><br><span class="line">          <span class="title function_">resolve</span>(req.<span class="property">responseText</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="title function_">reject</span>(req);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    req.<span class="title function_">send</span>(body);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="async-å’Œ-await"><a href="#async-å’Œ-await" class="headerlink" title="async å’Œ await"></a>async å’Œ await</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‰§è¡Œasyncå‡½æ•°ï¼Œè¿”å›çš„éƒ½æ˜¯Promiseå¯¹è±¡</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">test1</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">test2</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">test1</span>(), <span class="title function_">test2</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">// Promise.then æˆåŠŸçš„æƒ…å†µå¯¹åº”çš„å°±æ˜¯await</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">test3</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> p = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="number">3</span>);</span><br><span class="line">  p.<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(data));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> data = <span class="keyword">await</span> p;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">test3</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Promise.catch å¼‚å¸¸å¯¹åº” try...catch</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">test4</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> p = <span class="title class_">Promise</span>.<span class="title function_">reject</span>(<span class="string">&quot;å¼‚å¸¸äº†&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> data = <span class="keyword">await</span> p;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">test4</span>();</span><br></pre></td></tr></table></figure><h2 id="map"><a href="#map" class="headerlink" title="map"></a>map</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">map</span> = <span class="keyword">function</span> (<span class="params">fn, toThis</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> arr = <span class="variable language_">this</span>;</span><br><span class="line">  <span class="keyword">const</span> result = [];</span><br><span class="line">  <span class="keyword">const</span> _this = toThis || <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">const</span> item = fn.<span class="title function_">call</span>(_this, arr[i], i, arr);</span><br><span class="line">    result.<span class="title function_">push</span>(item);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="æ‰‹å†™-promise"><a href="#æ‰‹å†™-promise" class="headerlink" title="æ‰‹å†™ promise"></a>æ‰‹å†™ promise</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Promise1</span> &#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="variable constant_">PENDING</span> = <span class="string">&quot;pending&quot;</span>;</span><br><span class="line">  <span class="keyword">static</span> <span class="variable constant_">FULFILLED</span> = <span class="string">&quot;fulfilled&quot;</span>;</span><br><span class="line">  <span class="keyword">static</span> <span class="variable constant_">REJECTED</span> = <span class="string">&quot;rejected&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">executor</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">status</span> = <span class="title class_">Promise</span>.<span class="property">PENDING</span>; <span class="comment">//é»˜è®¤çŠ¶æ€ï¼Œè¿›è¡Œä¸­</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">value</span> = <span class="literal">null</span>; <span class="comment">//æˆåŠŸå€¼</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">reason</span> = <span class="literal">null</span>; <span class="comment">// å¤±è´¥åŸå› </span></span><br><span class="line">    <span class="comment">// è§£å†³å¼‚æ­¥é—®é¢˜</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">onFulfilledCallbacks</span> = [];</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">onRejectedCallbacks</span> = [];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="title function_">executor</span>(<span class="variable language_">this</span>.<span class="property">resolve</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>), <span class="variable language_">this</span>.<span class="property">reject</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>));</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">reject</span>(e);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">resolve</span>(<span class="params">value</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">status</span> === <span class="title class_">Promise</span>.<span class="property">PENDING</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">status</span> = <span class="title class_">Promise</span>.<span class="property">FULFILLED</span>;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">value</span> = value;</span><br><span class="line"></span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">onFulfilledCallbacks</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">cb</span>) =&gt;</span> <span class="title function_">cb</span>(<span class="variable language_">this</span>.<span class="property">value</span>));</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">reject</span>(<span class="params">reason</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">status</span> === <span class="title class_">Promise</span>.<span class="property">PENDING</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">status</span> = <span class="title class_">Promise</span>.<span class="property">REJECTED</span>;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">reason</span> = reason;</span><br><span class="line"></span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">onRejectedCallbacks</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">cb</span>) =&gt;</span> <span class="title function_">cb</span>(<span class="variable language_">this</span>.<span class="property">reason</span>));</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">then</span>(<span class="params">onFulfilled, onRejected</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> onFulfilled !== <span class="string">&quot;function&quot;</span>) &#123;</span><br><span class="line">      onFulfilled = <span class="function">() =&gt;</span> <span class="variable language_">this</span>.<span class="property">value</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> onRejected !== <span class="string">&quot;function&quot;</span>) &#123;</span><br><span class="line">      onRejected = <span class="function">() =&gt;</span> <span class="variable language_">this</span>.<span class="property">reason</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise1</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">status</span> === <span class="title class_">Promise</span>.<span class="property">PENDING</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise1</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">onFulfilledCallbacks</span>.<span class="title function_">push</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">parse</span>(<span class="title function_">onFulfilled</span>(<span class="variable language_">this</span>.<span class="property">value</span>), resolve, reject);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise1</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">onRejectedCallbacks</span>.<span class="title function_">push</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">parse</span>(<span class="title function_">onRejected</span>(<span class="variable language_">this</span>.<span class="property">value</span>), resolve, reject);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">status</span> === <span class="title class_">Promise</span>.<span class="property">FULFILLED</span>) &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise1</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">parse</span>(<span class="title function_">onFulfilled</span>(<span class="variable language_">this</span>.<span class="property">value</span>), resolve, reject);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">status</span> === <span class="title class_">Promise</span>.<span class="property">REJECTED</span>) &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise1</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">parse</span>(<span class="title function_">onRejected</span>(<span class="variable language_">this</span>.<span class="property">reason</span>), resolve, reject);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">parse</span>(<span class="params">result, resolve, reject</span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (result <span class="keyword">instanceof</span> <span class="title class_">Promise1</span>) &#123;</span><br><span class="line">        result.<span class="title function_">then</span>(resolve, reject);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">resolve</span>(result);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">      <span class="title function_">reject</span>(error);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">resolve</span>(<span class="params">value</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise1</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (value <span class="keyword">instanceof</span> <span class="title class_">Promise1</span>) &#123;</span><br><span class="line">        value.<span class="title function_">then</span>(resolve, reject);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">resolve</span>(value);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">reject</span>(<span class="params">reason</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise1</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">reject</span>(reason);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">all</span>(<span class="params">promises</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> result = [];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise1</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      promises.<span class="title function_">forEach</span>(<span class="function">(<span class="params">promise</span>) =&gt;</span> &#123;</span><br><span class="line">        promise.<span class="title function_">then</span>(</span><br><span class="line">          <span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">            result.<span class="title function_">push</span>(value);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (result.<span class="property">length</span> === promises.<span class="property">length</span>) &#123;</span><br><span class="line">              <span class="title function_">resolve</span>(result);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="function">(<span class="params">reason</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">reject</span>(reason);</span><br><span class="line">          &#125;</span><br><span class="line">        );</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">race</span>(<span class="params">promises</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise1</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      promises.<span class="title function_">forEach</span>(<span class="function">(<span class="params">promise</span>) =&gt;</span> &#123;</span><br><span class="line">        promise.<span class="title function_">then</span>(</span><br><span class="line">          <span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(value);</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="function">(<span class="params">reason</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">reject</span>(reason);</span><br><span class="line">          &#125;</span><br><span class="line">        );</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> aaa = <span class="keyword">new</span> <span class="title class_">Promise1</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">resolve</span>(<span class="string">&quot;lbs&quot;</span>);</span><br><span class="line">  <span class="comment">//     reject(&#x27;error&#x27;)</span></span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;666&quot;</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">aaa.<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">123</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(aaa);</span><br></pre></td></tr></table></figure><h2 id="æ‰‹å†™-event-bus"><a href="#æ‰‹å†™-event-bus" class="headerlink" title="æ‰‹å†™ event bus"></a>æ‰‹å†™ event bus</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">EventEmitter</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">events</span> = &#123;&#125;;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">maxListeners</span> = maxListeners || <span class="title class_">Infinity</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">emit</span>(<span class="params">event, ...args</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> cbs = <span class="variable language_">this</span>.<span class="property">events</span>[event];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!cbs) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æ²¡æœ‰è¿™ä¸ªäº‹ä»¶å‡½æ•°&quot;</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cbs.<span class="title function_">forEach</span>(<span class="function">(<span class="params">cb</span>) =&gt;</span> cb.<span class="title function_">apply</span>(<span class="variable language_">this</span>, args));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">on</span>(<span class="params">event, cb</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">events</span>[event]) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">events</span>[event] = [];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">maxListeners</span> !== <span class="title class_">Infinity</span> &amp;&amp;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">events</span>[event].<span class="property">length</span> &gt;= <span class="variable language_">this</span>.<span class="property">maxListeners</span></span><br><span class="line">    ) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å½“äº‹ä»¶è¶…è¿‡äº†æœ€å¤§ç›‘å¬æ•°&quot;</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">events</span>[event].<span class="title function_">push</span>(cb);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">once</span>(<span class="params">event, cb</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">fn</span> = (<span class="params">...args</span>) =&gt; &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">off</span>(event, fn);</span><br><span class="line">      cb.<span class="title function_">apply</span>(<span class="variable language_">this</span>, args);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">on</span>(event, func);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">off</span>(<span class="params">event, cb</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!cb) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">events</span>[event] = <span class="literal">null</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">events</span>[event] = <span class="variable language_">this</span>.<span class="property">events</span>[event].<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item !== cb);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ„é€ å‡½æ•°ç»§æ‰¿</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&quot;lbs&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Student</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title class_">Person</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>);</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">age</span> = <span class="number">18</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> s = <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŸå‹é“¾ç»§æ‰¿</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&quot;lbs&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Student</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">age</span> = <span class="number">18</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Student</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> s = <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line"><span class="comment">//å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = obj.<span class="property">name</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Student</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">  <span class="title class_">Person</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>, obj);</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">age</span> = obj.<span class="property">age</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// object.create()</span></span><br><span class="line"><span class="comment">// æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä½¿ç”¨ç°æœ‰çš„å¯¹è±¡æ¥æä¾›æ–°åˆ›å»ºå¯¹è±¡çš„__proto__</span></span><br><span class="line"><span class="title class_">Student</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>);</span><br><span class="line"><span class="title class_">Student</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = <span class="title class_">Student</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆ–è€…ï¼š</span></span><br><span class="line"><span class="title class_">Student</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>, &#123;</span><br><span class="line">  <span class="attr">constructor</span>: &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="title class_">Student</span>,</span><br><span class="line">    <span class="attr">enumerable</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">writable</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">configurable</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> student = <span class="keyword">new</span> <span class="title class_">Student</span>(&#123; <span class="attr">name</span>: <span class="string">&quot;lbs&quot;</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(student);</span><br></pre></td></tr></table></figure><h2 id="createElement-æ‰‹å†™"><a href="#createElement-æ‰‹å†™" class="headerlink" title="createElement æ‰‹å†™"></a>createElement æ‰‹å†™</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> symbolFor = <span class="title class_">Symbol</span>.<span class="property">for</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">REACT_ELEMENT_TYPE</span> = <span class="title function_">symbolFor</span>(<span class="string">&quot;react.element&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">RESERVED_PROPS</span> = &#123;</span><br><span class="line">  <span class="attr">key</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">ref</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">__self</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">__source</span>: <span class="literal">true</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createElement</span>(<span class="params">type, config, children</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> props = &#123;&#125;;</span><br><span class="line">  <span class="keyword">let</span> key = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (config !== <span class="literal">null</span>) &#123;</span><br><span class="line">    key = config.<span class="property">key</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> propName <span class="keyword">in</span> config) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable constant_">RESERVED_PROPS</span>.<span class="title function_">hasOwnProperty</span>(propName)) &#123;</span><br><span class="line">      props[propName] = config[propName];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> childrenLength = <span class="variable language_">arguments</span>.<span class="property">length</span> - <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">if</span> (childrenLength === <span class="number">1</span>) &#123;</span><br><span class="line">    props.<span class="property">children</span> = children;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (childrenLength &gt; <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> childArray = <span class="title class_">Array</span>(childrenLength);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; childrenLength; i++) &#123;</span><br><span class="line">      childArray[i] = <span class="variable language_">arguments</span>[i + <span class="number">2</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    props.<span class="property">children</span> = childArray;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> element = &#123;</span><br><span class="line">    <span class="attr">$$typeof</span>: <span class="variable constant_">REACT_ELEMENT_TYPE</span>,</span><br><span class="line">    type,</span><br><span class="line">    key,</span><br><span class="line">    props,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç¼–å†™æ­£åˆ™ï¼ŒéªŒè¯ä¸€ä¸ª-6-ï½-16-ä½çš„å­—ç¬¦ä¸²ï¼Œå¿…é¡»åŒæ—¶åŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—"><a href="#ç¼–å†™æ­£åˆ™ï¼ŒéªŒè¯ä¸€ä¸ª-6-ï½-16-ä½çš„å­—ç¬¦ä¸²ï¼Œå¿…é¡»åŒæ—¶åŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—" class="headerlink" title="ç¼–å†™æ­£åˆ™ï¼ŒéªŒè¯ä¸€ä¸ª 6 ï½ 16 ä½çš„å­—ç¬¦ä¸²ï¼Œå¿…é¡»åŒæ—¶åŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—"></a>ç¼–å†™æ­£åˆ™ï¼ŒéªŒè¯ä¸€ä¸ª 6 ï½ 16 ä½çš„å­—ç¬¦ä¸²ï¼Œå¿…é¡»åŒæ—¶åŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">æ­£å‘é¢„æŸ¥ ï¼Ÿ= å¿…é¡»</span><br><span class="line">åå‘é¢„æŸ¥ ï¼Ÿï¼å¿…é¡»ä¸</span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/(?!^[a-zA-Z]+$)(?!^[0-9]+$)(?!^[a-z0-9]+$)(?!^[A-Z0-9]+$)^[a-zA-Z0-9]&#123;6,16&#125;$/</span>;</span><br><span class="line"></span><br><span class="line">è¡¥å……ï¼šæ•°å­—ã€å­—æ¯ã€ä¸‹åˆ’çº¿ç»„æˆå­—ç¬¦ä¸²ï¼Œå¿…é¡»æœ‰_</span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/(?=_)\w/</span>;</span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/(?!^[a-zA-Z0-9]+$)^\w&#123;1,10&#125;$/</span>; é™åˆ¶<span class="number">1</span>-<span class="number">10</span>ä½</span><br></pre></td></tr></table></figure><h2 id="è·å–æ‰€æœ‰å±æ€§ä¸º-nameï¼Œå€¼ä¸º-value-çš„å…ƒç´ é›†åˆ"><a href="#è·å–æ‰€æœ‰å±æ€§ä¸º-nameï¼Œå€¼ä¸º-value-çš„å…ƒç´ é›†åˆ" class="headerlink" title="è·å–æ‰€æœ‰å±æ€§ä¸º nameï¼Œå€¼ä¸º value çš„å…ƒç´ é›†åˆ"></a>è·å–æ‰€æœ‰å±æ€§ä¸º nameï¼Œå€¼ä¸º value çš„å…ƒç´ é›†åˆ</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ­£åˆ™\bå•è¯è¾¹ç•Œ</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getElements</span>(<span class="params">property, value</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> elements = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;*&quot;</span>);</span><br><span class="line">  <span class="keyword">let</span> arr = [];</span><br><span class="line"></span><br><span class="line">  elements = <span class="title class_">Array</span>.<span class="title function_">from</span>(elements);</span><br><span class="line">  elements.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// å½“å‰å…ƒç´ propertyå¯¹åº”çš„å€¼</span></span><br><span class="line">    <span class="keyword">let</span> itemValue = item.<span class="title function_">getAttribute</span>(propertype);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (property === <span class="string">&quot;class&quot;</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> reg = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">`\b<span class="subst">$&#123;value&#125;</span>\b`</span>);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (reg.<span class="title function_">test</span>(itemValue)) &#123;</span><br><span class="line">        arr.<span class="title function_">push</span>(item);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (itemValue === value) &#123;</span><br><span class="line">      arr.<span class="title function_">push</span>(item);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è‹±æ–‡å­—æ¯æ±‰å­—ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œç”¨æ­£åˆ™ç»™è‹±æ–‡å•è¯å‰ååŠ ç©ºæ ¼"><a href="#è‹±æ–‡å­—æ¯æ±‰å­—ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œç”¨æ­£åˆ™ç»™è‹±æ–‡å•è¯å‰ååŠ ç©ºæ ¼" class="headerlink" title="è‹±æ–‡å­—æ¯æ±‰å­—ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œç”¨æ­£åˆ™ç»™è‹±æ–‡å•è¯å‰ååŠ ç©ºæ ¼"></a>è‹±æ–‡å­—æ¯æ±‰å­—ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œç”¨æ­£åˆ™ç»™è‹±æ–‡å•è¯å‰ååŠ ç©ºæ ¼</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;ä¸­å›½helloä½ å¥½&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/\b[a-z]+\b/gi</span>;</span><br><span class="line"></span><br><span class="line">str = str</span><br><span class="line">  .<span class="title function_">replace</span>(reg, <span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">` <span class="subst">$&#123;value&#125;</span> `</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">trim</span>(); <span class="comment">// å»é™¤é¦–å°¾ç©ºæ ¼</span></span><br></pre></td></tr></table></figure><h2 id="js-å®ç°æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å‡ ç§æ–¹æ³•"><a href="#js-å®ç°æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å‡ ç§æ–¹æ³•" class="headerlink" title="js å®ç°æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å‡ ç§æ–¹æ³•"></a>js å®ç°æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å‡ ç§æ–¹æ³•</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.é€’å½’</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fibonacci</span>(<span class="params">n</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (n === <span class="number">1</span> || n === <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">fibonacci</span>(n - <span class="number">1</span>) + <span class="title function_">fibonacci</span>(n - <span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.å°¾é€’å½’(æ¯æ¬¡è°ƒç”¨éƒ½åœ¨æ”¶é›†ç»“æœï¼Œé¿å…äº†çº¿æ€§é€’å½’ä¸æ”¶é›†ç»“æœåªä¾æ¬¡å±•å¼€æ¶ˆè€—å†…å­˜çš„åå¤„)</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fibonacci</span>(<span class="params">n, res1 = <span class="number">1</span>, res2 = <span class="number">1</span></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (n &lt;= <span class="number">2</span>) <span class="keyword">return</span> res2;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">fibonacci</span>(n - <span class="number">1</span>, res2, res1 + res2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¾ªç¯</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fibonacci</span>(<span class="params">n</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> num1 = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">let</span> num2 = <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">let</span> sum = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">3</span>; i &lt; n; i++) &#123;</span><br><span class="line">    sum = num1 + num2;</span><br><span class="line">    num1 = num2;</span><br><span class="line">    num2 = sum;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°ç»„</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fibonacci</span>(<span class="params">n</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> arr = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>];</span><br><span class="line">  <span class="keyword">if</span> (n &lt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;è¾“å…¥çš„æ•°å­—ä¸èƒ½å°äº0&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (n &gt;= <span class="number">3</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">3</span>; i &lt;= n; i++) &#123;</span><br><span class="line">      arr[i] = arr[i - <span class="number">1</span>] + arr[i - <span class="number">2</span>];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> arr[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¹¶å‘åŠ è½½"><a href="#å¹¶å‘åŠ è½½" class="headerlink" title="å¹¶å‘åŠ è½½"></a>å¹¶å‘åŠ è½½</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">limitLoad</span>(<span class="params">urls, handler, limit</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> sequence = [].<span class="title function_">concat</span>(urls);</span><br><span class="line">  <span class="keyword">let</span> promises = [];</span><br><span class="line"></span><br><span class="line">  promises = sequence.<span class="title function_">splice</span>(<span class="number">0</span>, limit).<span class="title function_">map</span>(<span class="function">(<span class="params">url, index</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">handler</span>(url).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> index;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> p = <span class="title class_">Promise</span>.<span class="title function_">race</span>(promises);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; sequence.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    p = p.<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">      promises[res] = <span class="title function_">handler</span>(sequence[i]).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(promises);</span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">race</span>(promises);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">loadImg</span>(<span class="params">url</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">//             console.log(url.info + &#x27;---OK!!!&#x27;)</span></span><br><span class="line">      <span class="title function_">resolve</span>();</span><br><span class="line">    &#125;, url.<span class="property">time</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> urls = [</span><br><span class="line">  &#123; <span class="attr">info</span>: <span class="number">1</span>, <span class="attr">time</span>: <span class="number">2000</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">info</span>: <span class="number">2</span>, <span class="attr">time</span>: <span class="number">1000</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">info</span>: <span class="number">3</span>, <span class="attr">time</span>: <span class="number">3000</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">info</span>: <span class="number">4</span>, <span class="attr">time</span>: <span class="number">4000</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">info</span>: <span class="number">5</span>, <span class="attr">time</span>: <span class="number">5000</span> &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="title function_">limitLoad</span>(urls, loadImg, <span class="number">3</span>);</span><br></pre></td></tr></table></figure><h2 id="å‰ç«¯å†…å­˜å¤„ç†"><a href="#å‰ç«¯å†…å­˜å¤„ç†" class="headerlink" title="å‰ç«¯å†…å­˜å¤„ç†"></a>å‰ç«¯å†…å­˜å¤„ç†</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> å†…å­˜çš„ç”Ÿå‘½å‘¨æœŸ</span><br><span class="line">    å†…å­˜åˆ†é…ï¼šå£°æ˜å˜é‡ã€å‡½æ•°å¯¹è±¡çš„æ—¶å€™ï¼Œjsä¼šè‡ªåŠ¨åˆ†é…å†…å­˜</span><br><span class="line">    å†…å­˜ä½¿ç”¨</span><br><span class="line">    å†…å­˜å›æ”¶</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> jsä¸­çš„åƒåœ¾å›æ”¶æœºåˆ¶</span><br><span class="line">    å¼•ç”¨è®¡æ•°ï¼šç¼ºç‚¹å¾ªç¯å¼•ç”¨æ— æ³•æ¸…é™¤</span><br><span class="line">    æ ‡è®°æ¸…é™¤</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span> å¸¸è§å†…å­˜æ³„æ¼</span><br><span class="line">    å…¨å±€å˜é‡ï¼ˆè®°å¾—æ‰‹åŠ¨å›æ”¶ï¼‰</span><br><span class="line">    æœªè¢«æ¸…é™¤çš„å®šæ—¶å™¨</span><br><span class="line">    é—­åŒ…</span><br><span class="line">    domçš„å¼•ç”¨</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span> æ€ä¹ˆé¿å…å†…å­˜æ³„æ¼</span><br><span class="line">    å‡å°‘ä¸å¿…è¦çš„å…¨å±€å˜é‡</span><br><span class="line">    ä½¿ç”¨å®Œæ•°æ®ï¼ŒåŠæ—¶è§£é™¤å¼•ç”¨</span><br><span class="line"></span><br><span class="line">å®ç°sizeOfï¼Œä¼ å…¥objectï¼Œè®¡ç®—å…¶æ‰€å å­—èŠ‚å¤§å°</span><br><span class="line"><span class="attr">number</span>: <span class="number">8</span> å­—èŠ‚</span><br><span class="line"><span class="attr">string</span>: <span class="number">2</span> å­—èŠ‚</span><br><span class="line">boolean; <span class="number">4</span> å­—èŠ‚</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> seen = <span class="keyword">new</span> <span class="title class_">WeakSet</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sizeOfObject</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (obj === <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> bytes = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">const</span> keys = <span class="title class_">Object</span>.<span class="title function_">keys</span>(obj);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; keys.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">const</span> key = keys[i];</span><br><span class="line">        bytes += <span class="title function_">calculator</span>(key);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> obj[key] === <span class="string">&#x27;object&#x27;</span> &amp;&amp; obj[key] !== <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (seen.<span class="title function_">has</span>(obj[key])) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            seen.<span class="title function_">add</span>(obj[key])</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        bytes += <span class="title function_">calculator</span>(obj[key])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">calculator</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> objType = <span class="keyword">typeof</span> obj;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">switch</span>(objType) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;string&#x27;</span>: &#123;</span><br><span class="line">            <span class="keyword">return</span> obj.<span class="property">length</span> * <span class="number">2</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;boolean&#x27;</span>: &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">4</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;number&#x27;</span>: &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">8</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;object&#x27;</span>: &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title class_">Array</span>.<span class="title function_">isArray</span>(obj)) &#123;</span><br><span class="line">                <span class="keyword">return</span> obj.<span class="title function_">map</span>(calculator).<span class="title function_">reduce</span>(<span class="function">(<span class="params">accu, curr</span>) =&gt;</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> accu + curr</span><br><span class="line">                &#125;, <span class="number">0</span>)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="title function_">sizeOfObject</span>(obj)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="attr">default</span>: &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ•°æ®ç»“æ„å°±æ˜¯åœ¨è®¡ç®—æœºä¸­å­˜å‚¨å’Œç»„ç»‡æ•°æ®çš„æ–¹å¼ã€‚</p><p>ç®—æ³•ï¼ˆAlgorithmï¼‰è§£å†³é—®é¢˜çš„é€»è¾‘æˆ–æ­¥éª¤</p><h2 id="æ ˆ-å°è£…"><a href="#æ ˆ-å°è£…" class="headerlink" title="æ ˆ(å°è£…)"></a>æ ˆ(å°è£…)</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Stack</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">items</span> = [];</span><br><span class="line">  <span class="comment">// 1. å°†å…ƒç´ å‹å…¥æ ˆ</span></span><br><span class="line">  <span class="title class_">Stack</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">push</span> = <span class="keyword">function</span> (<span class="params">element</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">items</span>.<span class="title function_">push</span>(element);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// 2.ä»æ ˆä¸­å–å‡ºå…ƒç´ </span></span><br><span class="line">  <span class="title class_">Stack</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">pop</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">items</span>.<span class="title function_">pop</span>();</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// 3.æŸ¥çœ‹ä¸€ä¸‹æ ˆé¡¶å…ƒç´ </span></span><br><span class="line">  <span class="title class_">Stack</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">peek</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">items</span>[<span class="variable language_">this</span>.<span class="property">items</span>.<span class="property">length</span> - <span class="number">1</span>];</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// 4.åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º</span></span><br><span class="line">  <span class="title class_">Stack</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">isEmpty</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> !<span class="variable language_">this</span>.<span class="property">items</span>.<span class="property">length</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// 5.è·å–æ ˆä¸­å…ƒç´ ä¸ªæ•°</span></span><br><span class="line">  <span class="title class_">Stack</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">size</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">item</span>.<span class="property">length</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// 6. toStringæ–¹æ³•</span></span><br><span class="line">  <span class="title class_">Stack</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> res = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">this</span>.<span class="property">items</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      res += <span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.items[i]&#125;</span> `</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> stack = <span class="keyword">new</span> <span class="title class_">Stack</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®ä¾‹ï¼šå°†åè¿›åˆ¶è½¬æ¢æˆäºŒè¿›åˆ¶</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">dec2bin</span>(<span class="params">decimalNumber</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> stack = <span class="keyword">new</span> <span class="title class_">Stack</span>();</span><br><span class="line">  <span class="keyword">let</span> binary = <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (decimalNumber &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    stack.<span class="title function_">push</span>(decimalNumber % <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    decimalNumber = <span class="title class_">Math</span>.<span class="title function_">floor</span>(decimalNumber / <span class="number">2</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (!stack.<span class="title function_">isEmpty</span>()) &#123;</span><br><span class="line">    binary += stack.<span class="title function_">pop</span>();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> binary;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¹³è¡¡æ‹¬å·é—®é¢˜"><a href="#å¹³è¡¡æ‹¬å·é—®é¢˜" class="headerlink" title="å¹³è¡¡æ‹¬å·é—®é¢˜"></a>å¹³è¡¡æ‹¬å·é—®é¢˜</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">check</span>(<span class="params">str</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> stack = <span class="keyword">new</span> <span class="title class_">Stack</span>();</span><br><span class="line">  <span class="keyword">const</span> open = <span class="string">&quot;&#123;[(&quot;</span>;</span><br><span class="line">  <span class="keyword">const</span> close = <span class="string">&quot;&#125;])&quot;</span>;</span><br><span class="line">  <span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> balanced = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (index &lt; str.<span class="property">length</span> &amp;&amp; balanced) &#123;</span><br><span class="line">    <span class="keyword">if</span> (open.<span class="title function_">includes</span>(str[index])) &#123;</span><br><span class="line">      stack.<span class="title function_">push</span>(str[index]);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> top = stack.<span class="title function_">pop</span>();</span><br><span class="line">      <span class="keyword">if</span> (open.<span class="title function_">indexOf</span>(top) === close.<span class="title function_">indexOf</span>(str[index])) &#123;</span><br><span class="line">        balanced = <span class="literal">true</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        balanced = <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    index++;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (balanced &amp;&amp; stack.<span class="title function_">isEmpty</span>()) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">check</span>(<span class="string">&quot;&#123;([][])&#125;&quot;</span>);</span><br><span class="line"><span class="title function_">check</span>(<span class="string">&quot;&#123;[(])&#125;&quot;</span>);</span><br></pre></td></tr></table></figure><h2 id="ç¿»è½¬é“¾è¡¨"><a href="#ç¿»è½¬é“¾è¡¨" class="headerlink" title="ç¿»è½¬é“¾è¡¨"></a>ç¿»è½¬é“¾è¡¨</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">reverseList</span>(<span class="params">head</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (head === <span class="literal">null</span> || head.<span class="property">next</span> === <span class="literal">null</span>) <span class="keyword">return</span> head;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> result = <span class="title function_">reverseList</span>(head.<span class="property">next</span>);</span><br><span class="line"></span><br><span class="line">  head.<span class="property">next</span>.<span class="property">nexd</span> = head;</span><br><span class="line">  head.<span class="property">next</span> = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="äºŒåˆ†æŸ¥æ‰¾"><a href="#äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾"></a>äºŒåˆ†æŸ¥æ‰¾</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">binarySearch</span>(<span class="params">elements, value, _start, _end</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> end = _end || elements.<span class="property">length</span> - <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">let</span> start = _start || <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> povitIndex = <span class="title class_">Math</span>.<span class="title function_">floor</span>((start + end) / <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (elements[povitIndex] === value) &#123;</span><br><span class="line">    <span class="keyword">return</span> povitIndex;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (value &lt; elements[povitIndex]) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">binarySearch</span>(elements, value, <span class="number">0</span>, povitIndex - <span class="number">1</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">binarySearch</span>(elements, value, povitIndex + <span class="number">1</span>, end);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">quickSort</span>(<span class="params">elements</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (elements.<span class="property">length</span> &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> elements;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> pivotIndex = <span class="title class_">Math</span>.<span class="title function_">floor</span>(elements.<span class="property">length</span> / <span class="number">2</span>);</span><br><span class="line">  <span class="keyword">let</span> [pivot] = elements.<span class="title function_">splice</span>(pivotIndex, <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">let</span> left = [];</span><br><span class="line">  <span class="keyword">let</span> right = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; elements.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (elements[i] &lt; pivot) &#123;</span><br><span class="line">      left.<span class="title function_">push</span>(elements[i]);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      right.<span class="title function_">push</span>(elements[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">quickSort</span>(left).<span class="title function_">concat</span>([pivot], <span class="title function_">quickSort</span>(right));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> elements = [<span class="number">2</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">quickSort</span>(elements));</span><br></pre></td></tr></table></figure><h2 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">bubbleSort</span>(<span class="params">elements</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> elementLength = elements.<span class="property">length</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; elementLength - <span class="number">1</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; elementLength - i - <span class="number">1</span>; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (elements[j] &gt; elements[j + <span class="number">1</span>]) &#123;</span><br><span class="line">        <span class="keyword">let</span> temp = elements[j];</span><br><span class="line">        elements[j] = elements[j + <span class="number">1</span>];</span><br><span class="line">        elements[j + <span class="number">1</span>] = temp;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(elements);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> elements = [<span class="number">2</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="title function_">bubbleSort</span>(elements);</span><br><span class="line"></span><br><span class="line"><span class="comment">// console.log(elements)</span></span><br></pre></td></tr></table></figure><h2 id="äºŒå‰æœç´¢æ ‘"><a href="#äºŒå‰æœç´¢æ ‘" class="headerlink" title="äºŒå‰æœç´¢æ ‘"></a>äºŒå‰æœç´¢æ ‘</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ»¡äºŒå‰æ ‘ï¼šæ¯å±‚èŠ‚ç‚¹æ•°éƒ½è¾¾åˆ°æœ€å¤§å€¼ï¼Œç¬¬nå±‚èŠ‚ç‚¹æ•°ä¸º2^(n - 1),æ€»èŠ‚ç‚¹æ•°ä¸º2^n -1(2çš„næ¬¡æ–¹å‡ä¸€)</span></span><br><span class="line"><span class="comment">//å®Œå…¨äºŒå‰æ ‘ï¼šé™¤æœ€åä¸€å±‚å¤–ï¼Œå…¶ä»–å„å±‚èŠ‚ç‚¹æ•°éƒ½è¾¾åˆ°æœ€å¤§ä¸ªæ•°ï¼Œæœ€åä¸€å±‚æ‰€æœ‰èŠ‚ç‚¹é›†ä¸­åœ¨æœ€å·¦è¾¹</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">value</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">value</span> = value;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">left</span> = <span class="literal">null</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">right</span> = <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BinarySearchTree</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">root</span> = <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ’å…¥å‰æ¯”è¾ƒ</span></span><br><span class="line">  <span class="title function_">insertNode</span>(<span class="params">node, newNode</span>) &#123;</span><br><span class="line">    <span class="comment">// å³ä¾§æ’å…¥</span></span><br><span class="line">    <span class="keyword">if</span> (newNode.<span class="property">value</span> &gt; node.<span class="property">value</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (node.<span class="property">right</span> === <span class="literal">null</span>) &#123;</span><br><span class="line">        node.<span class="property">right</span> = newNode;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">insertNode</span>(node.<span class="property">right</span>, newNode);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (newNode.<span class="property">value</span> &lt; node.<span class="property">value</span>) &#123;</span><br><span class="line">      <span class="comment">// å·¦ä¾§æ’å…¥</span></span><br><span class="line">      <span class="keyword">if</span> (node.<span class="property">left</span> === <span class="literal">null</span>) &#123;</span><br><span class="line">        node.<span class="property">left</span> = newNode;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">insertNode</span>(node.<span class="property">left</span>, newNode);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ’å…¥</span></span><br><span class="line">  <span class="title function_">insert</span>(<span class="params">value</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> newNode = <span class="keyword">new</span> <span class="title class_">Node</span>(value);</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">root</span> === <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">root</span> = newNode;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">insertNode</span>(<span class="variable language_">this</span>.<span class="property">root</span>, newNode);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">preOrderTraversalNode</span>(<span class="params">node, callback</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (node === <span class="literal">null</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">callback</span>(node.<span class="property">value</span>);</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">preOrderTraversalNode</span>(node.<span class="property">left</span>, callback);</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">preOrderTraversalNode</span>(node.<span class="property">right</span>, callback);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å…ˆåºéå†</span></span><br><span class="line">  <span class="title function_">preOrderTraversal</span>(<span class="params">callback</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">preOrderTraversalNode</span>(<span class="variable language_">this</span>.<span class="property">root</span>, callback);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">inOrderTraversalNode</span>(<span class="params">node, callback</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (node === <span class="literal">null</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">inOrderTraversalNode</span>(node.<span class="property">left</span>, callback);</span><br><span class="line"></span><br><span class="line">    <span class="title function_">callback</span>(node.<span class="property">value</span>);</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">inOrderTraversalNode</span>(node.<span class="property">right</span>, callback);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ä¸­åºéå†</span></span><br><span class="line">  <span class="title function_">inOrderTraversal</span>(<span class="params">callback</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">inOrderTraversalNode</span>(<span class="variable language_">this</span>.<span class="property">root</span>, callback);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">postOrderTraversalNode</span>(<span class="params">node, callback</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (node === <span class="literal">null</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">postOrderTraversalNode</span>(node.<span class="property">left</span>, callback);</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">postOrderTraversalNode</span>(node.<span class="property">right</span>, callback);</span><br><span class="line"></span><br><span class="line">    <span class="title function_">callback</span>(node.<span class="property">value</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ä¸­åºéå†</span></span><br><span class="line">  <span class="title function_">postOrderTraversal</span>(<span class="params">callback</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">postOrderTraversalNode</span>(<span class="variable language_">this</span>.<span class="property">root</span>, callback);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//æœ€å¤§å€¼</span></span><br><span class="line">  <span class="title function_">max</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> node = <span class="variable language_">this</span>.<span class="property">root</span>;</span><br><span class="line">    <span class="keyword">while</span> (node.<span class="property">right</span> !== <span class="literal">null</span>) &#123;</span><br><span class="line">      node = node.<span class="property">right</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> node.<span class="property">value</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æœ€å°å€¼</span></span><br><span class="line">  <span class="title function_">min</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> node = <span class="variable language_">this</span>.<span class="property">root</span>;</span><br><span class="line">    <span class="keyword">while</span> (node.<span class="property">left</span> !== <span class="literal">null</span>) &#123;</span><br><span class="line">      node = node.<span class="property">left</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> node.<span class="property">value</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å¯»æ‰¾æŒ‡å®šå€¼æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">  <span class="title function_">search</span>(<span class="params">val</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> node = <span class="variable language_">this</span>.<span class="property">root</span>;</span><br><span class="line">    <span class="keyword">while</span> (node !== <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (val &lt; node.<span class="property">value</span>) &#123;</span><br><span class="line">        node = node.<span class="property">left</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (val &gt; node.<span class="property">value</span>) &#123;</span><br><span class="line">        node = node.<span class="property">right</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> bst = <span class="keyword">new</span> <span class="title class_">BinarySearchTree</span>();</span><br><span class="line"></span><br><span class="line">bst.<span class="title function_">insert</span>(<span class="number">3</span>);</span><br><span class="line">bst.<span class="title function_">insert</span>(<span class="number">2</span>);</span><br><span class="line">bst.<span class="title function_">insert</span>(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// bst.preOrderTraversal((nodeValue) =&gt; &#123;</span></span><br><span class="line"><span class="comment">//     console.log(nodeValue)</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bst.inOrderTraversal((nodeValue) =&gt;&#123;</span></span><br><span class="line"><span class="comment">//     console.log(nodeValue)</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bst.postOrderTraversal((nodeValue) =&gt;&#123;</span></span><br><span class="line"><span class="comment">//     console.log(nodeValue)</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// console.log(bst.max())</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(bst.<span class="title function_">search</span>(<span class="number">5</span>));</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(bst);</span><br></pre></td></tr></table></figure><h2 id="ç¿»è½¬é“¾è¡¨-1"><a href="#ç¿»è½¬é“¾è¡¨-1" class="headerlink" title="ç¿»è½¬é“¾è¡¨"></a>ç¿»è½¬é“¾è¡¨</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€’å½’</span></span><br><span class="line"><span class="keyword">var</span> reverseList = <span class="keyword">function</span> (<span class="params">head</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (head === <span class="literal">null</span> || head.<span class="property">next</span> === <span class="literal">null</span>) <span class="keyword">return</span> head;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> res = <span class="title function_">reverseList</span>(head.<span class="property">next</span>);</span><br><span class="line"></span><br><span class="line">  head.<span class="property">next</span>.<span class="property">next</span> = head;</span><br><span class="line">  head.<span class="property">next</span> = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¾ªç¯</span></span><br><span class="line"><span class="keyword">var</span> reverseList = <span class="keyword">function</span> (<span class="params">head</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> pre = <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">let</span> cur = head;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (cur === <span class="literal">null</span> || cur.<span class="property">next</span> === <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> cur;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (cur) &#123;</span><br><span class="line">    <span class="keyword">const</span> t = cur.<span class="property">next</span>;</span><br><span class="line">    cur.<span class="property">next</span> = pre;</span><br><span class="line">    pre = cur;</span><br><span class="line">    cur = t;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// cur.next = null</span></span><br><span class="line">    <span class="comment">// cur.next.next = cur</span></span><br><span class="line">    <span class="comment">// cur = cur.nexxt</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> pre;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="ç®—æ³•-1-Two-Sum"><a href="#ç®—æ³•-1-Two-Sum" class="headerlink" title="ç®—æ³• 1: Two Sum"></a>ç®—æ³• 1: Two Sum</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">example</span>:</span><br><span class="line">given nums = [<span class="number">2</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">15</span>], target = <span class="number">9</span></span><br><span class="line">because num[<span class="number">0</span>] + num[<span class="number">1</span>] = <span class="number">2</span> + <span class="number">7</span> = <span class="number">9</span>,</span><br><span class="line"><span class="keyword">return</span> [<span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">ç­”ï¼š</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">twoSum</span>(<span class="params">nums, target</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">const</span> complement = target - nums[i];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (map.<span class="title function_">has</span>(complement)) &#123;</span><br><span class="line">            <span class="keyword">return</span> [map.<span class="title function_">get</span>(complement), i]</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            map.<span class="title function_">set</span>(nums[i], i)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è£…ç®±ï¼šåŸºæœ¬ç±»å‹åˆ°å¼•ç”¨ç±»å‹çš„ä¸€ä¸ªè½¬æ¢<br>æ‹†ç®±ï¼šå°†å¼•ç”¨ç±»å‹åˆ°åŸºæœ¬ç±»å‹çš„è½¬æ¢ï¼ˆtoPrimitiveï¼‰</p><p>ç¼–ç å’Œè§£ç ï¼š<br>escape(str) unescape(str)<br>encodeURI() decodeURI()<br>encodeURIComponent() decodeURIComponent()<br>btoa() atob()</p><p>å›æµï¼šç›¸å½“ä¸åˆ·æ–°é¡µé¢<br>é‡ç»˜ï¼š ä¸åˆ·æ–°ï¼ŒåŠ¨æ€æ›´æ–°å†…å®¹<br>é‡ç»˜ä¸ä¸€å®šå¼•èµ·å›æµï¼Œå›æµä¸€å®šå¼•èµ·é‡ç»˜</p><h2 id="æ‰“ä¹±æ•°ç»„"><a href="#æ‰“ä¹±æ•°ç»„" class="headerlink" title="æ‰“ä¹±æ•°ç»„"></a>æ‰“ä¹±æ•°ç»„</h2><pre><code>1. å¸¸è§çš„sortæ‰“ä¹±æ•°ç»„çš„æ–¹æ³•function shuffle(arr) &#123;   return arr.sort (function () &#123;        return Math.random() - 0.5    &#125;)&#125;var arr = [1,2,3,4,5,6,7]shuffle(arr)æ›´åŠ ç®€æ´çš„ES6å†™æ³•function shuffle(arr) &#123;    return arr.sort(() =&gt; Math.random() - 0.5)&#125;ä½†æ˜¯è¿™ç§å†™æ³•æœ‰é—®é¢˜ï¼Œå¹¶ä¸èƒ½çœŸæ­£åœ°éšæœºæ‰“ä¹±æ•°ç»„ï¼Œç»è¿‡å¤§é‡çš„å®éªŒå‘ç°æ¯ä¸ªå…ƒç´ ä»ç„¶æœ‰å¾ˆå¤§çš„å‡ ç‡å‡ºç°åœ¨å®ƒåŸæ¥çš„ä½ç½®é™„è¿‘ã€‚2.æ´—ç‰Œç®—æ³•    ä»æœ€åä¸€ä¸ªæ•°æ®å¼€å§‹å¾€å‰ï¼Œæ¯æ¬¡éšæœºä¸€ä¸ªä½ç½®ï¼Œå°†ä¸¤è€…çš„ä½ç½®è¿›è¡Œäº¤æ¢ï¼Œç›´åˆ°æ•°ç»„äº¤æ¢å®Œæ¯•ã€‚ES6å®ç°ï¼šfunction shuffle(arr) &#123;    let i =  arr.length;    while(i) &#123;        let j = Math.floor(Math.random() * i--);        [arr[j], arr[i]] = [arr[i], arr[j]];    &#125;    return arr&#125;var arr = [1,2,3,4,5,6,7]shuffle(arr)</code></pre><h2 id="å°è£…å‡½æ•°ä½¿å­—ç¬¦ä¸²ä»¥é©¼å³°å¼å‘½å"><a href="#å°è£…å‡½æ•°ä½¿å­—ç¬¦ä¸²ä»¥é©¼å³°å¼å‘½å" class="headerlink" title="å°è£…å‡½æ•°ä½¿å­—ç¬¦ä¸²ä»¥é©¼å³°å¼å‘½å"></a>å°è£…å‡½æ•°ä½¿å­—ç¬¦ä¸²ä»¥é©¼å³°å¼å‘½å</h2><ul><li>å·²çŸ¥å­—ç¬¦ä¸² foo = â€˜get-element-by-idâ€™,å†™ä¸€ä¸ªå‡½æ•°å°†å…¶è½¬æ¢ä¸ºé©¼å³°å¼å‘½åâ€œgetElementByIdâ€<!--more--></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">//è¯¦ç»†è¿‡ç¨‹åˆ†æï¼š</span><br><span class="line">var foo = &#x27;get-element-by-id&#x27;;</span><br><span class="line"></span><br><span class="line">//æ ¹æ®æŸä¸ªå­—ç¬¦è¿›è¡Œåˆ†å‰²</span><br><span class="line">var arr = foo.split(&#x27;-&#x27;);</span><br><span class="line"></span><br><span class="line">//åˆ†å‰²æˆå››ä¸ªç‰‡æ®µä¿å­˜åœ¨æ•°ç»„å†…</span><br><span class="line">console.log(arr) // (4)Â [&quot;get&quot;, &quot;element&quot;, &quot;by&quot;, &quot;id&quot;]</span><br><span class="line"></span><br><span class="line">//å°†ä¸‹æ ‡ä¸º1çš„æ•°ç»„å…ƒç´ ç¬¬ä¸€ä¸ªå­—ç¬¦å…ƒç´ è½¬ä¸ºå¤§å†™</span><br><span class="line">console.log(arr[1].charAt(0).toUpperCase()) //E</span><br><span class="line"></span><br><span class="line">//æˆªå–åé¢å­—ç¬¦å…ƒç´ </span><br><span class="line">console.log(arr[1].substr(1, arr[1].length - 1)) //lement</span><br><span class="line"></span><br><span class="line">//éå†</span><br><span class="line">for(var i = 1; i &lt; arr.length; i++) &#123;</span><br><span class="line">    arr[i] = arr[i].charAt(0).toUpperCase() + arr[i].substr(1, arr[i].length - 1)</span><br><span class="line">&#125;</span><br><span class="line">console.log(arr) //(4)Â [&quot;get&quot;, &quot;Element&quot;, &quot;By&quot;, &quot;Id&quot;]</span><br><span class="line"></span><br><span class="line">//æ ¹æ®æŸä¸€ä¸ªå­—ç¬¦å°†æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²</span><br><span class="line">console.log(arr.join(&#x27;&#x27;));</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//å°è£…</span><br><span class="line">function toString(foo) &#123;</span><br><span class="line">    var arr = foo.split(&#x27;-&#x27;);</span><br><span class="line"></span><br><span class="line">    for(var i = 1; i &lt; arr.length; i++) &#123;</span><br><span class="line">        arr[i] = arr[i].charAt(0).toUpperCase() + arr[i].substr(1, arr[i].length - 1)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return arr.join(&#x27;&#x27;);</span><br><span class="line">&#125;</span><br><span class="line">console.log(toString(&#x27;get-element-by-id&#x27;))</span><br></pre></td></tr></table></figure><p>æŠŠ the-first-name å˜æˆ theFirstName</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var reg = /-(\w)/g</span><br><span class="line">var str = &quot;the-first-name&quot;</span><br><span class="line">console.log(str.replace(reg, function($, $1)&#123;</span><br><span class="line">    return $1.toUpperCase()</span><br><span class="line">&#125;)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>æŠŠ aabb æ¢æˆ bbaa</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var reg = /(\w)\1(\w)\2/g;</span><br><span class="line">var str = &quot;aabb&quot;;</span><br><span class="line">// console.log(str.replace(reg,&quot;$2$2$1$1&quot;));//&quot;bbaa&quot;</span><br><span class="line">console.log(str.replace(reg,function($,$1,$2)&#123;</span><br><span class="line">  return $2+$2+$1+$1;</span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure><p>æ­£åˆ™ç®€å•çš„å»é‡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">var str = &quot;aaaabbbbbccccc&quot;;</span><br><span class="line">var reg = /(\w)\1*/g;</span><br><span class="line">console.log.replace(reg,&quot;$1&quot;));//abc</span><br><span class="line">           ~~~</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">           æŠŠ&quot;1000000000&quot;å˜æˆ&quot;100.000.000&quot;è¿™ç§å†™æ³•ï¼ŒæŠŠåé¢å¾€å‰é¢æŸ¥ï¼Œä¸‰ä½åŠ ä¸ªç‚¹</span><br><span class="line">           ~~~</span><br><span class="line">           var str = &quot;100000000&quot;;</span><br><span class="line">           var reg = /(?=(\B)(\d&#123;3&#125;)+$)/g;</span><br><span class="line">           console.log(str.replace(reg,&quot;.&quot;))//&quot;100.000.000&quot;</span><br><span class="line">           ||</span><br><span class="line">           string.replace(/\B(?=(\d&#123;3&#125;)+(?!\d))/g, &quot;.&quot;) //å…ˆè¡Œæ–­è¨€?=,åè¡Œæ–­è¨€(?!\d)</span><br><span class="line">           ||</span><br><span class="line">           (25435345.22).toLocaleString(str(&#x27;en-US&#x27;)</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;æ‰‹å†™éƒ¨åˆ†&quot;&gt;&lt;a href=&quot;#æ‰‹å†™éƒ¨åˆ†&quot; class=&quot;headerlink&quot; title=&quot;æ‰‹å†™éƒ¨åˆ†&quot;&gt;&lt;/a&gt;æ‰‹å†™éƒ¨åˆ†&lt;/h1&gt;</summary>
    
    
    
    <category term="javascript" scheme="https://github.com/foolishmax/categories/javascript/"/>
    
    
    <category term="javascript" scheme="https://github.com/foolishmax/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>å•é¡µé¢åº”ç”¨å‰ç«¯è·¯ç”±åŸç†</title>
    <link href="https://github.com/foolishmax/2022/03/14/%E5%8D%95%E9%A1%B5%E9%9D%A2%E5%BA%94%E7%94%A8%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1%E5%8E%9F%E7%90%86/"/>
    <id>https://github.com/foolishmax/2022/03/14/%E5%8D%95%E9%A1%B5%E9%9D%A2%E5%BA%94%E7%94%A8%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1%E5%8E%9F%E7%90%86/</id>
    <published>2022-03-14T07:09:06.000Z</published>
    <updated>2022-07-30T04:13:04.474Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯å•é¡µé¢åº”ç”¨ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯å•é¡µé¢åº”ç”¨ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯å•é¡µé¢åº”ç”¨ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯å•é¡µé¢åº”ç”¨ï¼Ÿ</h2><span id="more"></span><p>å•é¡µé¢åº”ç”¨æ˜¯æŒ‡ç¬¬ä¸€æ¬¡è¿›å…¥é¡µé¢çš„æ—¶å€™ä¼šè¯·æ±‚ä¸€ä¸ª html æ–‡ä»¶ï¼Œåˆ‡æ¢åˆ°å…¶ä»–ç»„ä»¶çš„æ—¶å€™ï¼Œè™½ç„¶è·¯å¾„ä¼šå‘ç”Ÿç›¸åº”çš„å˜åŒ–ï¼Œä½†æ˜¯æ²¡æœ‰æ–°çš„ html æ–‡ä»¶è¯·æ±‚ï¼ŒåŸç†æ˜¯ js ä¼šæ„ŸçŸ¥åˆ° url çš„å˜åŒ–ï¼Œjs ä¼šåŠ¨æ€çš„å°†å½“å‰é¡µé¢çš„å†…å®¹æ¸…é™¤æ‰ï¼Œç„¶åå°†ä¸‹ä¸€ä¸ªé¡µé¢çš„å†…å®¹æŒ‚è½½åˆ°å½“å‰é¡µé¢ä¸Šï¼Œè¿™æ—¶å€™çš„è·¯ç”±ä¸æ˜¯åç«¯åšçš„è€Œæ˜¯ç”±å‰ç«¯æ¥åšï¼Œæ¥åˆ¤æ–­é¡µé¢åˆ°åº•æ˜¾ç¤ºå“ªä¸ªç»„ä»¶ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯å•é¡µé¢çš„åº”ç”¨ã€‚</p><h2 id="å•é¡µé¢åº”ç”¨çš„ä¼˜ç¼ºç‚¹"><a href="#å•é¡µé¢åº”ç”¨çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="å•é¡µé¢åº”ç”¨çš„ä¼˜ç¼ºç‚¹"></a>å•é¡µé¢åº”ç”¨çš„ä¼˜ç¼ºç‚¹</h2><p>ä¼˜ç‚¹ï¼šé¡µé¢åˆ‡æ¢å¿«ï¼Œå› ä¸ºé¡µé¢æ¯æ¬¡åˆ‡æ¢çš„æ—¶å€™ï¼Œå¹¶ä¸éœ€è¦åš html æ–‡ä»¶çš„è¯·æ±‚ï¼Œè¿™æ ·å°±å‡å°‘çš„å¾ˆå¤š http å‘é€çš„æ—¶å»¶ã€‚</p><p>ç¼ºç‚¹ï¼šå•é¡µé¢åº”ç”¨çš„é¦–å±åŠ è½½æ—¶é—´æ¯”è¾ƒæ…¢ï¼Œé¦–å±åŠ è½½éœ€è¦ä¸€æ¬¡ html è¯·æ±‚å’Œä¸€æ¬¡ js è¯·æ±‚ï¼Œæ—¶é—´ç›¸å¯¹è¾ƒæ…¢ï¼Œè€Œä¸” SEO æ•ˆæœå·®ï¼Œå› ä¸ºæœç´¢å¼•æ“åªè®¤è¯† html ä¸­çš„å†…å®¹ï¼Œä½†æ˜¯å•é¡µé¢åº”ç”¨ä¸­å†…å®¹å¾ˆå¤šéœ€è¦é  js æ¸²æŸ“å‡ºæ¥ï¼Œæœç´¢å¼•æ“ä¸è¯†åˆ«è¿™éƒ¨åˆ†å†…å®¹ï¼Œå°±ä¼šå¯¼è‡´ SEO æ•ˆæœä¸å¥½ã€‚</p><h2 id="ä»€ä¹ˆæ˜¯å¤šé¡µé¢åº”ç”¨ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯å¤šé¡µé¢åº”ç”¨ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯å¤šé¡µé¢åº”ç”¨ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯å¤šé¡µé¢åº”ç”¨ï¼Ÿ</h2><p>å¤šé¡µé¢åº”ç”¨æ˜¯æŒ‡æ¯ä¸€æ¬¡é¡µé¢è·³è½¬çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„ html æ–‡æ¡£ï¼Œè¿™ç§ç±»å‹çš„åº”ç”¨å«åšå¤šé¡µåº”ç”¨ã€‚</p><h2 id="å¤šé¡µé¢åº”ç”¨çš„ä¼˜ç¼ºç‚¹"><a href="#å¤šé¡µé¢åº”ç”¨çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="å¤šé¡µé¢åº”ç”¨çš„ä¼˜ç¼ºç‚¹"></a>å¤šé¡µé¢åº”ç”¨çš„ä¼˜ç¼ºç‚¹</h2><p>ä¼˜ç‚¹ï¼šé¦–å±åŠ è½½å¿«ï¼ŒSEO æ•ˆæœå¥½ï¼Œå› ä¸ºå®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘èµ·è¯·æ±‚çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ä¹‹è¿”å›äº†ä¸€ä¸ª html é¡µé¢ï¼Œæ‰€ä»¥åŠ è½½æ¯”è¾ƒå¿«ã€‚</p><p>ç¼ºé’±ï¼šé¡µé¢åˆ‡æ¢æ¯”è¾ƒæ…¢</p><h2 id="å•é¡µé¢åº”ç”¨å’Œå¤šé¡µé¢åº”ç”¨çš„åŒºåˆ«"><a href="#å•é¡µé¢åº”ç”¨å’Œå¤šé¡µé¢åº”ç”¨çš„åŒºåˆ«" class="headerlink" title="å•é¡µé¢åº”ç”¨å’Œå¤šé¡µé¢åº”ç”¨çš„åŒºåˆ«"></a>å•é¡µé¢åº”ç”¨å’Œå¤šé¡µé¢åº”ç”¨çš„åŒºåˆ«</h2><p>1.åº”ç”¨æ„æˆä¸åŒ<br>å¤šé¡µé¢åº”ç”¨æ˜¯ç”±å¤šä¸ªä¸åŒçš„é¡µé¢æ„æˆï¼Œå•é¡µé¢åº”ç”¨æ˜¯ä¸€ä¸ªå¤–å£³é¡µé¢å’Œå¤šä¸ªé¡µé¢ç‰‡æ®µæ„æˆã€‚</p><p>2.é¡µé¢è·³è½¬æ–¹å¼ä¸åŒ<br>å¤šé¡µé¢åº”ç”¨çš„é¡µé¢è·³è½¬æ˜¯ä»ä¸€ä¸ªé¡µé¢è·³è½¬åˆ°å¦ä¸€ä¸ªé¡µé¢ï¼Œè€Œå•é¡µé¢åˆ™æ˜¯æŠŠä¸€ä¸ªé¡µé¢åˆ¤æ–­åˆ é™¤æˆ–éšè—ï¼ŒåŠ è½½å¦ä¸€ä¸ªé¡µé¢ç‰‡æ®µã€‚</p><p>3.è·³è½¬åå…¬å…±èµ„æºæ˜¯å¦é‡æ–°åŠ è½½<br>è·³è½¬åå¤šé¡µé¢åº”ç”¨éœ€è¦é‡æ–°è¿›è¡ŒåŠ è½½ï¼Œä½†æ˜¯å•é¡µé¢ä¸éœ€è¦é‡æ–°åŠ è½½</p><p>4.ç”¨æˆ·ä½“éªŒä¸åŒ<br>å¤šé¡µé¢åº”ç”¨é¦–å±åŠ è½½å¿«ä½†æ˜¯åˆ‡æ¢æ…¢ï¼Œå•é¡µé¢åº”ç”¨é¦–å±åŠ è½½æ…¢ä½†æ˜¯åˆ‡æ¢å¿«</p><p>5.é¡µé¢ä¼ é€’æ•°æ®æ–¹å¼ä¸åŒ<br>å¤šé¡µé¢åº”ç”¨ä¾é  urlã€cookieã€localstorage æ¥ä¼ é€’æ•°æ®ï¼Œå•é¡µé¢åº”ç”¨åˆ™æ˜¯é ç»„ä»¶è¿›è¡Œé€šä¿¡ï¼Œç›¸å¯¹æ›´åŠ ç®€å•ã€‚</p><h2 id="å‰ç«¯è·¯ç”±çš„åŸç†"><a href="#å‰ç«¯è·¯ç”±çš„åŸç†" class="headerlink" title="å‰ç«¯è·¯ç”±çš„åŸç†"></a>å‰ç«¯è·¯ç”±çš„åŸç†</h2><p>å‰ç«¯è·¯ç”±çš„åŸç†æœ¬è´¨ä¸Šå°±æ˜¯é€šè¿‡ä¸åˆ·æ–°æµè§ˆå™¨çš„è¯·æ±‚ä¸‹ä¿®æ”¹ urlã€æ£€æµ‹ url çš„å˜åŒ–ï¼Œæˆªè· url çš„åœ°å€ï¼Œé€šè¿‡è§£æã€åŒ¹é…è·¯ç”±è§„åˆ™ä»è€Œå®ç° UI çš„æ›´æ–°ï¼Œè·¯ç”±çš„å®ç°é€šå¸¸æœ‰ä¸¤ç§å®ç°ï¼šhash æ¨¡å¼ã€history æ¨¡å¼</p><h3 id="hash-è·¯ç”±çš„åŸç†"><a href="#hash-è·¯ç”±çš„åŸç†" class="headerlink" title="hash è·¯ç”±çš„åŸç†"></a>hash è·¯ç”±çš„åŸç†</h3><p>åœ¨ hash æ¨¡å¼ä¸‹ï¼Œåœ¨ url ä¸­#åé¢çš„éƒ¨åˆ†è¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯çŠ¶æ€ï¼Œå½“è¿™éƒ¨åˆ†å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œæµè§ˆå™¨æœ¬èº«å°±ä¸ä¼šåˆ·æ–°ï¼Œè¿™æ ·å°±æ»¡è¶³äº†ç¬¬ä¸€ä¸ªæ¡ä»¶ï¼Œå³åœ¨ä¸åˆ·æ–°æµè§ˆå™¨çš„æƒ…å†µä¸‹ä¿®æ”¹æµè§ˆå™¨é“¾æ¥ï¼ŒåŒäº‹é€šè¿‡ç›‘å¬ hashChange äº‹ä»¶æ¥ç›‘å¬ url ä¸­ hash å€¼çš„å˜åŒ–ï¼Œè§¦å‘ç›¸å…³å‡½æ•°ï¼Œæ”¹å˜ç›¸å…³ç»„ä»¶ã€‚</p><h3 id="history-è·¯ç”±çš„åŸç†"><a href="#history-è·¯ç”±çš„åŸç†" class="headerlink" title="history è·¯ç”±çš„åŸç†"></a>history è·¯ç”±çš„åŸç†</h3><p>history æ¨¡å¼åˆ©ç”¨ html5 ä¸­ history APIï¼Œhistory.pushState å’Œ history.replaceState è¿™ä¸¤ä¸ªæ–¹æ³•å¯ä»¥åœ¨ä¸åˆ·æ–°é¡µé¢çš„æƒ…å†µä¸‹ï¼Œæ“ä½œæµè§ˆå™¨çš„å†å²è®°å½•ï¼Œç„¶åé€šè¿‡ popState äº‹ä»¶æ¥ç›‘å¬ url çš„å˜åŒ–ï¼Œä»è€Œè§¦å‘ç›¸å…³å‡½æ•°ï¼Œæ”¹å˜ç›¸å…³ç»„ä»¶ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;ä»€ä¹ˆæ˜¯å•é¡µé¢åº”ç”¨ï¼Ÿ&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯å•é¡µé¢åº”ç”¨ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯å•é¡µé¢åº”ç”¨ï¼Ÿ&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯å•é¡µé¢åº”ç”¨ï¼Ÿ&lt;/h2&gt;</summary>
    
    
    
    <category term="javascript" scheme="https://github.com/foolishmax/categories/javascript/"/>
    
    
    <category term="javascript" scheme="https://github.com/foolishmax/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>100é“å‰ç«¯ä¼˜è´¨é¢è¯•é¢˜</title>
    <link href="https://github.com/foolishmax/2022/03/11/100%E9%81%93%E5%89%8D%E7%AB%AF%E4%BC%98%E8%B4%A8%E9%9D%A2%E8%AF%95%E9%A2%98/"/>
    <id>https://github.com/foolishmax/2022/03/11/100%E9%81%93%E5%89%8D%E7%AB%AF%E4%BC%98%E8%B4%A8%E9%9D%A2%E8%AF%95%E9%A2%98/</id>
    <published>2022-03-11T09:46:11.000Z</published>
    <updated>2022-08-27T02:35:13.020Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><span id="more"></span><ul><li>ç¨‹åºæ‰§è¡Œæ—¶éœ€è¦çš„è®¡ç®—é‡å’Œå†…å­˜ç©ºé—´</li><li>å¤æ‚åº¦æ˜¯æ•°é‡çº§ï¼Œä¸æ˜¯å…·ä½“çš„æ•°å­—</li><li>ä¸€èˆ¬æ˜¯é’ˆå¯¹ä¸€ä¸ªå…·ä½“çš„ç®—æ³•ï¼Œè€Œéä¸€ä¸ªå®Œæ•´çš„ç³»ç»Ÿ</li></ul><h2 id="å°†ä¸€ä¸ªæ•°ç»„æ—‹è½¬-K-æ­¥"><a href="#å°†ä¸€ä¸ªæ•°ç»„æ—‹è½¬-K-æ­¥" class="headerlink" title="å°†ä¸€ä¸ªæ•°ç»„æ—‹è½¬ K æ­¥"></a>å°†ä¸€ä¸ªæ•°ç»„æ—‹è½¬ K æ­¥</h2><ul><li>è¾“å…¥ä¸€ä¸ªæ•°ç»„[1, 2, 3, 4, 5, 6, 7]</li><li>k=3,å³æ—‹è½¬ 3 æ­¥</li><li>è¾“å‡º[5, 6, 7, 1, 2, 3, 4]</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> arr åŸæ•°ç»„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> k æ­¥æ•°</span></span><br><span class="line"><span class="comment"> * æ—¶é—´å¤æ‚åº¦O(n^2),ç©ºé—´å¤æ‚åº¦O(1)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">rotate1</span>(<span class="params">arr: <span class="built_in">number</span>[], k: <span class="built_in">number</span></span>): <span class="built_in">number</span>[] &#123;</span><br><span class="line">  <span class="keyword">const</span> length = arr.<span class="property">length</span>;</span><br><span class="line">  <span class="keyword">if</span> (!k || length === <span class="number">0</span>) <span class="keyword">return</span> arr;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> step = <span class="title class_">Math</span>.<span class="title function_">abs</span>(k % length);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; step; i++) &#123;</span><br><span class="line">    <span class="keyword">const</span> n = arr.<span class="title function_">pop</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (n != <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="comment">// unshiftå†…ç½®apiæ—¶é—´å¤æ‚åº¦ä½O(n),å¼€é”€æ¯”è¾ƒå¤§</span></span><br><span class="line">      arr.<span class="title function_">unshift</span>(n);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> arr åŸæ•°ç»„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> k æ­¥æ•°</span></span><br><span class="line"><span class="comment"> * æ—¶é—´å¤æ‚åº¦O(1)ï¼Œç©ºé—´å¤æ‚åº¦O(n)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">rotate2</span>(<span class="params">arr: <span class="built_in">number</span>[], k: <span class="built_in">number</span></span>): <span class="built_in">number</span>[] &#123;</span><br><span class="line">  <span class="keyword">const</span> length = arr.<span class="property">length</span>;</span><br><span class="line">  <span class="keyword">if</span> (!k || length === <span class="number">0</span>) <span class="keyword">return</span> arr;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> step = <span class="title class_">Math</span>.<span class="title function_">abs</span>(k % length);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> part1 = arr.<span class="title function_">slice</span>(-step);</span><br><span class="line">  <span class="keyword">const</span> part2 = arr.<span class="title function_">slice</span>(<span class="number">0</span>, length - step);</span><br><span class="line">  <span class="keyword">const</span> part3 = part1.<span class="title function_">concat</span>(part2);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ€§èƒ½æµ‹è¯•</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> arr = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span> * <span class="number">10000</span>; i++) &#123;</span><br><span class="line">  arr.<span class="title function_">push</span>(i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">time</span>(<span class="string">&quot;rotate1&quot;</span>);</span><br><span class="line"><span class="title function_">rotate1</span>(arr, <span class="number">9</span> * <span class="number">10000</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">time</span>(<span class="string">&quot;rotate1&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">time</span>(<span class="string">&quot;rotate2&quot;</span>);</span><br><span class="line"><span class="title function_">rotate2</span>(arr, <span class="number">9</span> * <span class="number">10000</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">time</span>(<span class="string">&quot;rotate2&quot;</span>);</span><br></pre></td></tr></table></figure><h2 id="åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æ‹¬å·åŒ¹é…"><a href="#åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æ‹¬å·åŒ¹é…" class="headerlink" title="åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æ‹¬å·åŒ¹é…"></a>åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æ‹¬å·åŒ¹é…</h2><ul><li>ä¸€ä¸ªå­—ç¬¦ä¸² s å¯èƒ½åŒ…å«{}()[]ä¸‰ç§æ‹¬å·</li><li>åˆ¤æ–­ s æ˜¯å¦æ˜¯æ‹¬å·åŒ¹é…çš„</li><li>å¦‚ï¼ˆa{b}cï¼‰åŒ¹é…ï¼Œè€Œ{a(b æˆ–è€…{a(b}c)å°±æ˜¯ä¸åŒ¹é…çš„</li></ul><p>æ ˆ vs æ•°ç»„<br>æ ˆï¼šé€»è¾‘ç»“æ„ï¼Œç†è®ºæ¨¡å‹ï¼Œä¸ç®¡å¦‚ä½•å®ç°ï¼Œä¸å—ä»»ä½•è¯­è¨€çš„é™åˆ¶ã€‚<br>æ•°ç»„ï¼šç‰©ç†ç»“æ„ï¼ŒçœŸå®çš„åŠŸèƒ½å®ç°ï¼Œå—é™äºç¼–ç¨‹è¯­è¨€ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isMatch</span>(<span class="params">left: <span class="built_in">string</span>, right: <span class="built_in">string</span></span>): <span class="built_in">boolean</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (left === <span class="string">&quot;&#123;&quot;</span> &amp;&amp; right === <span class="string">&quot;&#125;&quot;</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">if</span> (left === <span class="string">&quot;(&quot;</span> &amp;&amp; right === <span class="string">&quot;)&quot;</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">if</span> (left === <span class="string">&quot;[&quot;</span> &amp;&amp; right === <span class="string">&quot;]&quot;</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">matchBracket</span>(<span class="params">str: <span class="built_in">string</span></span>): <span class="built_in">boolean</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> length = str.<span class="property">length</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (length === <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> stack = [];</span><br><span class="line">  <span class="keyword">const</span> leftSymbols = <span class="string">&quot;&#123;[(&quot;</span>;</span><br><span class="line">  <span class="keyword">const</span> rightSymbols = <span class="string">&quot;)]&#125;&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ—¶é—´å¤æ‚åº¦O(n),ç©ºé—´å¤æ‚åº¦O(n)</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">    <span class="keyword">const</span> s = str[i];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (leftSymbols.<span class="title function_">includes</span>(s)) &#123;</span><br><span class="line">      <span class="comment">// å·¦æ‹¬å·ï¼Œå‹æ ˆ</span></span><br><span class="line">      stack.<span class="title function_">push</span>(s);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (rightSymbols.<span class="title function_">includes</span>(s)) &#123;</span><br><span class="line">      <span class="keyword">const</span> top = stack[stack.<span class="property">length</span> - <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">      <span class="comment">// åˆ¤æ–­å³æ‹¬å·æ˜¯å¦åŒ¹é…</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="title function_">isMatch</span>(top, s)) &#123;</span><br><span class="line">        stack.<span class="title function_">pop</span>();</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> stack.<span class="property">length</span> === <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¸¤ä¸ªæ ˆå®ç°ä¸€ä¸ªé˜Ÿåˆ—"><a href="#ä¸¤ä¸ªæ ˆå®ç°ä¸€ä¸ªé˜Ÿåˆ—" class="headerlink" title="ä¸¤ä¸ªæ ˆå®ç°ä¸€ä¸ªé˜Ÿåˆ—"></a>ä¸¤ä¸ªæ ˆå®ç°ä¸€ä¸ªé˜Ÿåˆ—</h2><ul><li>è¯·ç”¨ä¸¤ä¸ªæ ˆå®ç°ä¸€ä¸ªé˜Ÿåˆ—</li><li>APIï¼šadd delete length</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Queue</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">stack1</span>: <span class="built_in">number</span>[] = [];</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">stack2</span>: <span class="built_in">number</span>[] = [];</span><br><span class="line"></span><br><span class="line">  <span class="title function_">add</span>(<span class="params">n: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">stack1</span>.<span class="title function_">push</span>(n);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">delete</span>(): <span class="built_in">number</span> | <span class="literal">null</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> res;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (stack1.<span class="property">length</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> n = stack1.<span class="title function_">pop</span>();</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (n != <span class="literal">null</span>) &#123;</span><br><span class="line">        stack2.<span class="title function_">push</span>(n);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    res = stack2.<span class="title function_">pop</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (stack2.<span class="property">length</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> n = stack2.<span class="title function_">pop</span>();</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (n != <span class="literal">null</span>) &#123;</span><br><span class="line">        stack1.<span class="title function_">push</span>(n);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res || <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">get</span> <span class="title function_">length</span>(): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">stack1</span>.<span class="property">length</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å®šä¹‰ä¸€ä¸ª-js-å‡½æ•°ï¼Œåè½¬å•å‘é“¾è¡¨"><a href="#å®šä¹‰ä¸€ä¸ª-js-å‡½æ•°ï¼Œåè½¬å•å‘é“¾è¡¨" class="headerlink" title="å®šä¹‰ä¸€ä¸ª js å‡½æ•°ï¼Œåè½¬å•å‘é“¾è¡¨"></a>å®šä¹‰ä¸€ä¸ª js å‡½æ•°ï¼Œåè½¬å•å‘é“¾è¡¨</h2><p>é“¾è¡¨æ˜¯ä¸€ç§ç‰©ç†ç»“æ„(éé€»è¾‘ç»“æ„),ç±»ä¼¼æ•°ç»„<br>æ•°ç»„éœ€è¦ä¸€æ®µè¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œè€Œé“¾è¡¨æ˜¯é›¶æ•£çš„<br>é“¾è¡¨èŠ‚ç‚¹çš„æ•°æ®ç»“æ„{ value, next?, prev? }</p><p>é“¾è¡¨ vs æ•°ç»„<br>éƒ½æ˜¯æœ‰åºç»“æ„<br>é“¾è¡¨ï¼šæŸ¥è¯¢æ…¢ O(n),æ–°å¢å’Œåˆ é™¤å¿« O(1)<br>æ•°ç»„ï¼šæŸ¥è¯¢å¿« O(1),æ–°å¢å’Œåˆ é™¤æ…¢ O(n)</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">ILinkListNode</span> &#123;</span><br><span class="line">  <span class="attr">value</span>: <span class="built_in">number</span>;</span><br><span class="line">  next?: <span class="title class_">ILinkListNode</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åˆ›å»ºé“¾è¡¨</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> arr æ•°ç»„</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createLinkList</span>(<span class="params">arr: <span class="built_in">number</span>[]</span>): <span class="title class_">ILinkListNode</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> length = arr.<span class="property">length</span>;</span><br><span class="line">  <span class="keyword">if</span> (length === <span class="number">0</span>) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;arr is empty&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> <span class="attr">curNode</span>: <span class="title class_">ILinkListNode</span> = &#123;</span><br><span class="line">    <span class="attr">value</span>: arr[length - <span class="number">1</span>],</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">if</span> (length === <span class="number">1</span>) <span class="keyword">return</span> curNode;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = length - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">    curNode = &#123;</span><br><span class="line">      <span class="attr">value</span>: arr[i],</span><br><span class="line">      <span class="attr">next</span>: curNode,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> curNode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">100</span>, <span class="number">200</span>, <span class="number">300</span>];</span><br><span class="line"><span class="keyword">const</span> list = <span class="title function_">createLinkList</span>(arr);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&quot;list&quot;</span>, list);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åè½¬å•å‘é“¾è¡¨ï¼Œè¿”å›åè½¬åçš„head node</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> listNode éœ€è¦æ“ä½œçš„é“¾è¡¨</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">reverseLinkList</span>(<span class="params">listNode: ILinkListNode</span>): <span class="title class_">ILinkListNode</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> <span class="attr">prevNode</span>: <span class="title class_">ILinkListNode</span> | <span class="literal">undefined</span>;</span><br><span class="line">  <span class="keyword">let</span> <span class="attr">curNode</span>: <span class="title class_">ILinkListNode</span> | <span class="literal">undefined</span>;</span><br><span class="line">  <span class="keyword">let</span> <span class="attr">nextNode</span>: <span class="title class_">ILinkListNode</span> | <span class="literal">undefined</span> = listNode;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (nextNode) &#123;</span><br><span class="line">    <span class="comment">// ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œåˆ é™¤nextæŒ‡é’ˆï¼Œé˜²æ­¢å¾ªç¯å¼•ç”¨</span></span><br><span class="line">    <span class="keyword">if</span> (curNode &amp;&amp; !prevNode) &#123;</span><br><span class="line">      <span class="keyword">delete</span> curNode.<span class="property">next</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åè½¬æŒ‡é’ˆ</span></span><br><span class="line">    <span class="keyword">if</span> (curNode &amp;&amp; prevNode) &#123;</span><br><span class="line">      curNode.<span class="property">next</span> = prevNode;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    prevNode = curNode;</span><br><span class="line">    curNode = nextNode;</span><br><span class="line">    nextNode = nextNode?.<span class="property">next</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å¤„ç†é“¾è¡¨æœ€åä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">  curNode!.<span class="property">next</span> = prevNode;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> curNode!;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> reverseList = <span class="title function_">reverseLinkList</span>(list);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&quot;reverseList&quot;</span>, reverseList);</span><br></pre></td></tr></table></figure><h2 id="ç”¨é“¾è¡¨å®ç°é˜Ÿåˆ—"><a href="#ç”¨é“¾è¡¨å®ç°é˜Ÿåˆ—" class="headerlink" title="ç”¨é“¾è¡¨å®ç°é˜Ÿåˆ—"></a>ç”¨é“¾è¡¨å®ç°é˜Ÿåˆ—</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">ILinkListNode</span> &#123;</span><br><span class="line">  <span class="attr">value</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">next</span>: <span class="title class_">ILinkListNode</span> | <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Queue</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">head</span>: <span class="title class_">ILinkListNode</span> | <span class="literal">null</span> = <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">tail</span>: <span class="title class_">ILinkListNode</span> | <span class="literal">null</span> = <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">private</span> len = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å…¥é˜Ÿï¼Œåœ¨tailä½ç½®</span></span><br><span class="line">  <span class="title function_">add</span>(<span class="params">n: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="attr">newNode</span>: <span class="title class_">ILinkListNode</span> = &#123;</span><br><span class="line">      <span class="attr">value</span>: n,</span><br><span class="line">      <span class="attr">next</span>: <span class="literal">null</span>,</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">head</span> === <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">head</span> = newNode;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">tail</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">tail</span>.<span class="property">next</span> = newNode;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">tail</span> = newNode;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">len</span>++;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å‡ºé˜Ÿï¼Œåœ¨headä½ç½®</span></span><br><span class="line">  <span class="title function_">delete</span>(): <span class="built_in">number</span> | <span class="literal">null</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">head</span> === <span class="literal">null</span> || <span class="variable language_">this</span>.<span class="property">len</span> &lt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> value = <span class="variable language_">this</span>.<span class="property">head</span>.<span class="property">value</span>;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">head</span> = <span class="variable language_">this</span>.<span class="property">head</span>.<span class="property">next</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">len</span>--;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> value;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">get</span> <span class="title function_">length</span>(): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">len</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> queue = <span class="keyword">new</span> <span class="title class_">Queue</span>();</span><br><span class="line">queue.<span class="title function_">add</span>(<span class="number">100</span>);</span><br><span class="line">queue.<span class="title function_">add</span>(<span class="number">200</span>);</span><br><span class="line">queue.<span class="title function_">add</span>(<span class="number">300</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;length&quot;</span>, queue.<span class="property">length</span>); <span class="comment">//3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(queue.<span class="title function_">delete</span>()); <span class="comment">//100</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;length2&quot;</span>, queue.<span class="property">length</span>); <span class="comment">//2</span></span><br></pre></td></tr></table></figure><h2 id="é“¾è¡¨å’Œæ•°ç»„ï¼Œå“ªä¸ªå®ç°é˜Ÿåˆ—æ›´å¿«ï¼Ÿ"><a href="#é“¾è¡¨å’Œæ•°ç»„ï¼Œå“ªä¸ªå®ç°é˜Ÿåˆ—æ›´å¿«ï¼Ÿ" class="headerlink" title="é“¾è¡¨å’Œæ•°ç»„ï¼Œå“ªä¸ªå®ç°é˜Ÿåˆ—æ›´å¿«ï¼Ÿ"></a>é“¾è¡¨å’Œæ•°ç»„ï¼Œå“ªä¸ªå®ç°é˜Ÿåˆ—æ›´å¿«ï¼Ÿ</h2><ul><li>ç©ºé—´å¤æ‚åº¦éƒ½æ˜¯ O(n)</li><li>add æ—¶é—´å¤æ‚åº¦ï¼šé“¾è¡¨ O(1)ï¼Œæ•°ç»„ O(1);</li><li>delete æ—¶é—´å¤æ‚åº¦ï¼šé“¾è¡¨ O(1)ï¼Œæ•°ç»„ O(n);</li></ul><h2 id="å®ç°äºŒåˆ†æŸ¥æ‰¾"><a href="#å®ç°äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="å®ç°äºŒåˆ†æŸ¥æ‰¾"></a>å®ç°äºŒåˆ†æŸ¥æ‰¾</h2><ul><li>å‡¡æœ‰åºï¼Œå¿…äºŒåˆ†</li><li>å‡¡äºŒåˆ†ï¼Œæ—¶é—´å¤æ‚åº¦å¿…åŒ…å« O(logn)</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¾ªç¯çš„æ–¹å¼</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> arr æŸ¥æ‰¾çš„æ•°ç»„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> target ç›®æ ‡å¯¹è±¡</span></span><br><span class="line"><span class="comment"> * è¿”å›ç›®æ ‡ç´¢å¼•ä¸‹æ ‡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">binarySearch1</span>(<span class="params">arr: <span class="built_in">number</span>[], target: <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> length = arr.<span class="property">length</span>;</span><br><span class="line">  <span class="keyword">if</span> (length === <span class="number">0</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> startIndex = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> endIndex = length - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (startIndex &lt;= endIndex) &#123;</span><br><span class="line">    <span class="keyword">const</span> midIndex = <span class="title class_">Math</span>.<span class="title function_">floor</span>((startIndex + endIndex) / <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">const</span> midValue = arr[midIndex];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (target &lt; midValue) &#123;</span><br><span class="line">      endIndex = midIndex - <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &gt; midValue) &#123;</span><br><span class="line">      startIndex = midIndex + <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> midIndex;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * äºŒåˆ†æŸ¥æ‰¾-é€’å½’çš„æ–¹å¼</span></span><br><span class="line"><span class="comment"> *<span class="doctag">@param</span> arr æŸ¥æ‰¾çš„æ•°ç»„</span></span><br><span class="line"><span class="comment"> *<span class="doctag">@param</span> target ç›®æ ‡å¯¹è±¡</span></span><br><span class="line"><span class="comment"> *<span class="doctag">@param</span> <span class="variable">startIndex</span></span></span><br><span class="line"><span class="comment"> *<span class="doctag">@param</span> <span class="variable">endIndex</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">binarySearch2</span>(<span class="params"></span></span><br><span class="line"><span class="params">  arr: <span class="built_in">number</span>[],</span></span><br><span class="line"><span class="params">  target: <span class="built_in">number</span>,</span></span><br><span class="line"><span class="params">  startIndex?: <span class="built_in">number</span>,</span></span><br><span class="line"><span class="params">  endIndex?: <span class="built_in">number</span></span></span><br><span class="line"><span class="params"></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> length = arr.<span class="property">length</span>;</span><br><span class="line">  <span class="keyword">if</span> (length === <span class="number">0</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!startIndex) startIndex = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">if</span> (!endIndex) endIndex = length - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (startIndex &gt; endIndex) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> midIndex = <span class="title class_">Math</span>.<span class="title function_">floor</span>((startIndex + endIndex) / <span class="number">2</span>);</span><br><span class="line">  <span class="keyword">const</span> midValue = arr[midIndex];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (target &lt; midValue) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">binarySearch2</span>(arr, target, startIndex, midIndex - <span class="number">1</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &gt; midValue) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">binarySearch2</span>(arr, target, midIndex + <span class="number">1</span>, endIndex);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> midIndex;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠŸèƒ½æµ‹è¯•</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>, <span class="number">60</span>];</span><br><span class="line"><span class="keyword">const</span> target = <span class="number">20</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">binarySearch1</span>(arr, target));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">binarySearch2</span>(arr, target));</span><br></pre></td></tr></table></figure><h2 id="ç»™å®šä¸€ä¸ªé€’å¢çš„æ•°ç»„ï¼Œæ‰¾å‡ºå…¶ä¸­å’Œä¸º-n-çš„ä¸¤ä¸ªå…ƒç´ "><a href="#ç»™å®šä¸€ä¸ªé€’å¢çš„æ•°ç»„ï¼Œæ‰¾å‡ºå…¶ä¸­å’Œä¸º-n-çš„ä¸¤ä¸ªå…ƒç´ " class="headerlink" title="ç»™å®šä¸€ä¸ªé€’å¢çš„æ•°ç»„ï¼Œæ‰¾å‡ºå…¶ä¸­å’Œä¸º n çš„ä¸¤ä¸ªå…ƒç´ "></a>ç»™å®šä¸€ä¸ªé€’å¢çš„æ•°ç»„ï¼Œæ‰¾å‡ºå…¶ä¸­å’Œä¸º n çš„ä¸¤ä¸ªå…ƒç´ </h2><ul><li>æœ‰ä¸€ä¸ªé€’å¢çš„æ•°ç»„[1, 2, 4, 7, 11, 15]å’Œä¸€ä¸ª n = 15</li><li>æ•°ç»„ä¸­æœ‰ä¸¤ä¸ªæ•°å’Œä¸º nï¼Œå³ 4+11=15</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åµŒå¥—å¾ªç¯ æ—¶é—´å¤æ‚åº¦ï¼šO(n^2)</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> arr æ“ä½œæ•°ç»„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> n å’Œ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">findTwoNumbers1</span>(<span class="params">arr: <span class="built_in">number</span>[], n: <span class="built_in">number</span></span>): <span class="built_in">number</span>[] &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="attr">res</span>: <span class="built_in">number</span>[] = [];</span><br><span class="line">  <span class="keyword">const</span> length = arr.<span class="property">length</span>;</span><br><span class="line">  <span class="keyword">if</span> (length === <span class="number">0</span>) <span class="keyword">return</span> res;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ—¶é—´å¤æ‚åº¦ï¼šO(n^2)</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">const</span> n1 = arr[i];</span><br><span class="line">    <span class="keyword">let</span> flag = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = i + <span class="number">1</span>; j &lt; length; j++) &#123;</span><br><span class="line">      <span class="keyword">const</span> n2 = arr[j];</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (n1 + n2 === n) &#123;</span><br><span class="line">        res.<span class="title function_">push</span>(n1, n2);</span><br><span class="line">        flag = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (flag) <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åŒæŒ‡é’ˆï¼Œæ—¶é—´å¤æ‚åº¦ O(n)</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> arr æ“ä½œæ•°ç»„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> n å’Œ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  æ€è·¯ï¼š</span></span><br><span class="line"><span class="comment">  å®šä¹‰iæŒ‡å‘å¤´ï¼ŒjæŒ‡å‘å°¾ï¼Œæ±‚arr[i] + arr[j]</span></span><br><span class="line"><span class="comment">  å¦‚æœå¤§äºnï¼Œåˆ™jéœ€è¦å‘å‰ç§»åŠ¨</span></span><br><span class="line"><span class="comment">  å¦‚æœå°äºnï¼Œåˆ™jéœ€è¦å‘åç§»åŠ¨</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">findTwoNumbers2</span>(<span class="params">arr: <span class="built_in">number</span>[], n: <span class="built_in">number</span></span>): <span class="built_in">number</span>[] &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="attr">res</span>: <span class="built_in">number</span>[] = [];</span><br><span class="line">  <span class="keyword">const</span> length = arr.<span class="property">length</span>;</span><br><span class="line">  <span class="keyword">if</span> (length === <span class="number">0</span>) <span class="keyword">return</span> res;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> j = length - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">    <span class="keyword">const</span> n1 = arr[i];</span><br><span class="line">    <span class="keyword">const</span> n2 = arr[j];</span><br><span class="line">    <span class="keyword">const</span> sum = n1 + n2;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (sum &gt; n) &#123;</span><br><span class="line">      j--;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sum &lt; n) &#123;</span><br><span class="line">      i++;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      res.<span class="title function_">push</span>(n1, n2);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ±‚ä¸€ä¸ªäºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰çš„ç¬¬-k-å°å€¼"><a href="#æ±‚ä¸€ä¸ªäºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰çš„ç¬¬-k-å°å€¼" class="headerlink" title="æ±‚ä¸€ä¸ªäºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰çš„ç¬¬ k å°å€¼"></a>æ±‚ä¸€ä¸ªäºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰çš„ç¬¬ k å°å€¼</h2><ul><li>å‰åº(æ ¹å·¦å³)ï¼Œä¸­åº(å·¦æ ¹å³)ï¼Œååº(å·¦å³æ ¹)</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">ItreeNode</span> &#123;</span><br><span class="line">  <span class="attr">value</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">left</span>: <span class="title class_">ItreeNode</span> | <span class="literal">null</span>;</span><br><span class="line">  <span class="attr">right</span>: <span class="title class_">ItreeNode</span> | <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">bstTree</span>: <span class="title class_">ItreeNode</span> = &#123;</span><br><span class="line">  <span class="attr">value</span>: <span class="number">5</span>,</span><br><span class="line">  <span class="attr">left</span>: &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="number">3</span>,</span><br><span class="line">    <span class="attr">left</span>: &#123;</span><br><span class="line">      <span class="attr">value</span>: <span class="number">2</span>,</span><br><span class="line">      <span class="attr">left</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">right</span>: <span class="literal">null</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">right</span>: &#123;</span><br><span class="line">      <span class="attr">value</span>: <span class="number">4</span>,</span><br><span class="line">      <span class="attr">left</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">right</span>: <span class="literal">null</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">right</span>: &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="number">7</span>,</span><br><span class="line">    <span class="attr">left</span>: &#123;</span><br><span class="line">      <span class="attr">value</span>: <span class="number">6</span>,</span><br><span class="line">      <span class="attr">left</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">right</span>: <span class="literal">null</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">right</span>: &#123;</span><br><span class="line">      <span class="attr">value</span>: <span class="number">8</span>,</span><br><span class="line">      <span class="attr">left</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">right</span>: <span class="literal">null</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * äºŒå‰æ ‘å‰åºéå†</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> node tree node</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">preOrderTraverse</span>(<span class="params">node: ItreeNode | <span class="literal">null</span></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (node === <span class="literal">null</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(node.<span class="property">value</span>);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">preOrderTraverse</span>(node.<span class="property">left</span>);</span><br><span class="line">  <span class="title function_">preOrderTraverse</span>(node.<span class="property">right</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * äºŒå‰æ ‘ä¸­åºéå†</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> node tree node</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">inOrderTraverse</span>(<span class="params">node: ItreeNode | <span class="literal">null</span></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (node === <span class="literal">null</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">inOrderTraverse</span>(node.<span class="property">left</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(node.<span class="property">value</span>);</span><br><span class="line">  <span class="title function_">inOrderTraverse</span>(node.<span class="property">right</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * äºŒå‰æ ‘ååºéå†</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> node tree node</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">postOrderTraverse</span>(<span class="params">node: ItreeNode | <span class="literal">null</span></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (node === <span class="literal">null</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">postOrderTraverse</span>(node.<span class="property">left</span>);</span><br><span class="line">  <span class="title function_">postOrderTraverse</span>(node.<span class="property">right</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(node.<span class="property">value</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ±‚äºŒå‰æœç´¢æ ‘ç¬¬kå€¼</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> node bst tree</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> k ç¬¬kä¸ªå€¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getKthValue</span>(<span class="params">node: ItreeNode | <span class="literal">null</span>, k: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (node === <span class="literal">null</span>) <span class="keyword">return</span>;</span><br><span class="line">  <span class="keyword">let</span> <span class="attr">arr</span>: <span class="built_in">number</span>[] = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">inOrderTraverse</span>(<span class="params">node: ItreeNode | <span class="literal">null</span></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (node === <span class="literal">null</span>) <span class="keyword">return</span> arr;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">inOrderTraverse</span>(node.<span class="property">left</span>);</span><br><span class="line">    arr.<span class="title function_">push</span>(node.<span class="property">value</span>);</span><br><span class="line">    <span class="title function_">inOrderTraverse</span>(node.<span class="property">right</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">inOrderTraverse</span>(node);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> arr[k - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ–æ³¢é‚£å¥‘æ•°åˆ—"><a href="#æ–æ³¢é‚£å¥‘æ•°åˆ—" class="headerlink" title="æ–æ³¢é‚£å¥‘æ•°åˆ—"></a>æ–æ³¢é‚£å¥‘æ•°åˆ—</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼ˆé€’å½’ï¼‰</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> <span class="variable">n</span></span></span><br><span class="line"><span class="comment"> * æ—¶é—´å¤æ‚åº¦O(2^n)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fibonacci</span>(<span class="params">n: <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (n &lt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">if</span> (n === <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">fibonacci</span>(n - <span class="number">1</span>) + <span class="title function_">fibonacci</span>(n - <span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼ˆå¾ªç¯ï¼‰</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> <span class="variable">n</span></span></span><br><span class="line"><span class="comment"> * æ—¶é—´å¤æ‚åº¦O(n)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fibonacci</span>(<span class="params">n: <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (n &lt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">if</span> (n === <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> n1 = <span class="number">1</span>; <span class="comment">// è®°å½•n-1çš„ç»“æœ</span></span><br><span class="line">  <span class="keyword">let</span> n2 = <span class="number">0</span>; <span class="comment">// è®°å½•n-2çš„ç»“æœ</span></span><br><span class="line">  <span class="keyword">let</span> res = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    res = n1 + n2;</span><br><span class="line">    n2 = n1;</span><br><span class="line">    n1 = res;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é’è›™è·³å°é˜¶ï¼ˆåŠ¨æ€è§„åˆ’æ€æƒ³è§£å†³é—®é¢˜ï¼‰"><a href="#é’è›™è·³å°é˜¶ï¼ˆåŠ¨æ€è§„åˆ’æ€æƒ³è§£å†³é—®é¢˜ï¼‰" class="headerlink" title="é’è›™è·³å°é˜¶ï¼ˆåŠ¨æ€è§„åˆ’æ€æƒ³è§£å†³é—®é¢˜ï¼‰"></a>é’è›™è·³å°é˜¶ï¼ˆåŠ¨æ€è§„åˆ’æ€æƒ³è§£å†³é—®é¢˜ï¼‰</h2><ul><li>ä¸€åªé’è›™ï¼Œä¸€æ¬¡å¯ä»¥è·³ 1 çº§ï¼Œä¹Ÿå¯ä»¥è·³ 2 çº§</li><li>é—®ï¼šé’è›™è·³åˆ° n çº§å°é˜¶ï¼Œæ€»å…±æœ‰å¤šå°‘ç§æ–¹å¼ï¼Ÿ</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç­”æ¡ˆåŒä¸Šä¸€é¢˜</span></span><br></pre></td></tr></table></figure><h2 id="å°†æ•°ç»„ä¸­çš„-0-ç§»åŠ¨åˆ°æœ«å°¾"><a href="#å°†æ•°ç»„ä¸­çš„-0-ç§»åŠ¨åˆ°æœ«å°¾" class="headerlink" title="å°†æ•°ç»„ä¸­çš„ 0 ç§»åŠ¨åˆ°æœ«å°¾"></a>å°†æ•°ç»„ä¸­çš„ 0 ç§»åŠ¨åˆ°æœ«å°¾</h2><ul><li>å¦‚è¾“å…¥[1, 0, 3, 0, 11, 0],è¾“å‡º[1, 3, 11, 0, 0, 0]</li><li>åªç§»åŠ¨ 0 ï¼Œå…¶ä»–é¡ºåºä¸å˜</li><li>å¿…é¡»åœ¨åŸæ•°ç»„è¿›è¡Œæ“ä½œ</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * (åµŒå¥—å¾ªç¯)</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> arr number arr</span></span><br><span class="line"><span class="comment"> * æ—¶é—´å¤æ‚åº¦ O(n^2)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">moveZero1</span>(<span class="params">arr: <span class="built_in">number</span>[]</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> length = arr.<span class="property">length</span>;</span><br><span class="line">  <span class="keyword">if</span> (length === <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> zeroCount = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length - zeroCount; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr[i] === <span class="number">0</span>) &#123;</span><br><span class="line">      arr.<span class="title function_">push</span>(<span class="number">0</span>);</span><br><span class="line">      arr.<span class="title function_">splice</span>(i, <span class="number">1</span>); <span class="comment">// O(n)</span></span><br><span class="line">      i--;</span><br><span class="line">      zeroCount++;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * (åŒæŒ‡é’ˆ)</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> arr number arr</span></span><br><span class="line"><span class="comment"> * æ—¶é—´å¤æ‚åº¦ O(n)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">moveZero2</span>(<span class="params">arr: <span class="built_in">number</span>[]</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> length = arr.<span class="property">length</span>;</span><br><span class="line">  <span class="keyword">if</span> (length === <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> i;</span><br><span class="line">  <span class="keyword">let</span> j = -<span class="number">1</span>; <span class="comment">// æŒ‡å‘ç¬¬ä¸€ä¸ª 0</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr[i] === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (j &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        j = i;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (arr[i] !== <span class="number">0</span> &amp;&amp; j &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> n = arr[i];</span><br><span class="line">      arr[i] = arr[j];</span><br><span class="line">      arr[j] = n;</span><br><span class="line">      j++;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// moveZero1(arr);</span></span><br><span class="line"><span class="title function_">moveZero2</span>(arr);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br></pre></td></tr></table></figure><h2 id="è®¡ç®—å­—ç¬¦ä¸²ä¸­è¿ç»­æœ€å¤šçš„å­—ç¬¦ä»¥åŠæ¬¡æ•°"><a href="#è®¡ç®—å­—ç¬¦ä¸²ä¸­è¿ç»­æœ€å¤šçš„å­—ç¬¦ä»¥åŠæ¬¡æ•°" class="headerlink" title="è®¡ç®—å­—ç¬¦ä¸²ä¸­è¿ç»­æœ€å¤šçš„å­—ç¬¦ä»¥åŠæ¬¡æ•°"></a>è®¡ç®—å­—ç¬¦ä¸²ä¸­è¿ç»­æœ€å¤šçš„å­—ç¬¦ä»¥åŠæ¬¡æ•°</h2><ul><li>è¾“å…¥â€™abbbcccccccddeee1234412â€™</li><li>è®¡ç®—å¾—åˆ°è¿ç»­æœ€å¤šçš„å­—ç¬¦æ˜¯â€™câ€™,7 æ¬¡</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> <span class="variable">str</span></span></span><br><span class="line"><span class="comment"> * æ—¶é—´å¤æ‚åº¦ï¼š O(n)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IRes</span> &#123;</span><br><span class="line">  <span class="attr">char</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">length</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">findContinuousChar1</span>(<span class="params">str: <span class="built_in">string</span></span>): <span class="title class_">IRes</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="attr">res</span>: <span class="title class_">IRes</span> = &#123;</span><br><span class="line">    <span class="attr">char</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">length</span>: <span class="number">0</span>,</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> length = str.<span class="property">length</span>;</span><br><span class="line">  <span class="keyword">if</span> (length === <span class="number">0</span>) <span class="keyword">return</span> res;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> tempLength = <span class="number">0</span>; <span class="comment">// ä¸´æ—¶è®°å½•å½“å‰è¿ç»­å­—ç¬¦çš„é•¿åº¦</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">    tempLength = <span class="number">0</span>; <span class="comment">// é‡ç½®</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = i; j &lt; length; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (str[i] === str[j]) &#123;</span><br><span class="line">        tempLength++;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (str[i] !== str[j] || j === length - <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (tempLength &gt; res.<span class="property">length</span>) &#123;</span><br><span class="line">          res.<span class="property">char</span> = str[i];</span><br><span class="line">          res.<span class="property">length</span> = tempLength;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (i &lt; length - <span class="number">1</span>) &#123;</span><br><span class="line">          i = j - <span class="number">1</span>; <span class="comment">// è·³æ­¥</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åŒæŒ‡é’ˆ</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> <span class="variable">str</span></span></span><br><span class="line"><span class="comment"> * æ—¶é—´å¤æ‚åº¦ï¼š O(n)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IRes</span> &#123;</span><br><span class="line">  <span class="attr">char</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">length</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">findContinuousChar2</span>(<span class="params">str: <span class="built_in">string</span></span>): <span class="title class_">IRes</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="attr">res</span>: <span class="title class_">IRes</span> = &#123;</span><br><span class="line">    <span class="attr">char</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">length</span>: <span class="number">0</span>,</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> length = str.<span class="property">length</span>;</span><br><span class="line">  <span class="keyword">if</span> (length === <span class="number">0</span>) <span class="keyword">return</span> res;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> tempLength = <span class="number">0</span>; <span class="comment">// ä¸´æ—¶è®°å½•å½“å‰è¿ç»­å­—ç¬¦çš„é•¿åº¦</span></span><br><span class="line">  <span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> j = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (; i &lt; length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (str[i] === str[j]) &#123;</span><br><span class="line">      tempLength++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (str[i] !== str[j] || i === length - <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="comment">// å¦‚æœä¸ç›¸ç­‰æˆ–è€… i å¾ªç¯åˆ°äº†æœ«å°¾</span></span><br><span class="line">      <span class="keyword">if</span> (tempLength &gt; res.<span class="property">length</span>) &#123;</span><br><span class="line">        res.<span class="property">char</span> = str[j];</span><br><span class="line">        res.<span class="property">length</span> = tempLength;</span><br><span class="line">      &#125;</span><br><span class="line">      tempLength = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">if</span> (i &lt; length - <span class="number">1</span>) &#123;</span><br><span class="line">        j = i; <span class="comment">// è®© j è¿½ä¸Š i</span></span><br><span class="line">        i--;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> str = <span class="string">&quot;abbbcccccccddeee1234412&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">findContinuousChar1</span>(str));</span><br></pre></td></tr></table></figure><h2 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> <span class="variable">arr</span></span></span><br><span class="line"><span class="comment"> * æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">quickSort1</span>(<span class="params">arr: <span class="built_in">number</span>[]</span>): <span class="built_in">number</span>[] &#123;</span><br><span class="line">  <span class="keyword">const</span> length = arr.<span class="property">length</span>;</span><br><span class="line">  <span class="keyword">if</span> (length === <span class="number">0</span>) <span class="keyword">return</span> arr;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> midIndex = <span class="title class_">Math</span>.<span class="title function_">floor</span>(length / <span class="number">2</span>);</span><br><span class="line">  <span class="keyword">const</span> midValue = arr.<span class="title function_">splice</span>(midIndex, <span class="number">1</span>)[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="attr">left</span>: <span class="built_in">number</span>[] = [];</span><br><span class="line">  <span class="keyword">const</span> <span class="attr">right</span>: <span class="built_in">number</span>[] = [];</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ³¨æ„ï¼š spliceä¼šæ”¹å˜åŸæ•°ç»„ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨length</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">const</span> n = arr[i];</span><br><span class="line">    <span class="keyword">if</span> (n &lt; midValue) &#123;</span><br><span class="line">      left.<span class="title function_">push</span>(n);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      right.<span class="title function_">push</span>(n);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">quickSort1</span>(left).<span class="title function_">concat</span>(midValue, <span class="title function_">quickSort1</span>(right));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">2</span>, <span class="number">7</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">quickSort1</span>(arr));</span><br></pre></td></tr></table></figure><h2 id="å¯¹ç§°æ•°"><a href="#å¯¹ç§°æ•°" class="headerlink" title="å¯¹ç§°æ•°"></a>å¯¹ç§°æ•°</h2><ul><li>æ±‚ 1 - 10000 ä¹‹é—´çš„æ‰€æœ‰å¯¹ç§°æ•°ï¼ˆå›æ–‡ï¼‰</li><li>ä¾‹å¦‚ï¼š0ï¼Œ 1ï¼Œ 2ï¼Œ 11ï¼Œ 22ï¼Œ 101ï¼Œ 232ï¼Œ1221</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">findPalindromeNumbers1</span>(<span class="params">max: <span class="built_in">number</span></span>): <span class="built_in">number</span>[] &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="attr">res</span>: <span class="built_in">number</span>[] = [];</span><br><span class="line">  <span class="keyword">if</span> (max &lt; <span class="number">0</span>) <span class="keyword">return</span> res;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= max; i++) &#123;</span><br><span class="line">    <span class="comment">// è½¬æ¢ä¸ºå­—ç¬¦è½¬ -&gt; è½¬æ¢ä¸ºæ•°ç»„ -&gt; å†åè½¬ -&gt; æ¯”è¾ƒ</span></span><br><span class="line">    <span class="keyword">const</span> s = i.<span class="title function_">toString</span>();</span><br><span class="line">    <span class="keyword">if</span> (s === s.<span class="title function_">split</span>(<span class="string">&quot;&quot;</span>).<span class="title function_">reverse</span>().<span class="title function_">join</span>(<span class="string">&quot;&quot;</span>)) &#123;</span><br><span class="line">      res.<span class="title function_">push</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">findPalindromeNumbers1</span>(<span class="number">200</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">findPalindromeNumbers2</span>(<span class="params">max: <span class="built_in">number</span></span>): <span class="built_in">number</span>[] &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="attr">res</span>: <span class="built_in">number</span>[] = [];</span><br><span class="line">  <span class="keyword">if</span> (max &lt;= <span class="number">0</span>) <span class="keyword">return</span> res;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= max; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> n = i;</span><br><span class="line">    <span class="keyword">let</span> rev = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// n: 123</span></span><br><span class="line">    <span class="comment">// rev: 321</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      rev = rev * <span class="number">10</span> + (n % <span class="number">10</span>);</span><br><span class="line">      n = <span class="title class_">Math</span>.<span class="title function_">floor</span>(n / <span class="number">10</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (i === rev) res.<span class="title function_">push</span>(i);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">findPalindromeNumbers2</span>(<span class="number">200</span>));</span><br></pre></td></tr></table></figure><h2 id="é«˜æ•ˆçš„å­—ç¬¦ä¸²å‰ç¼€åŒ¹é…"><a href="#é«˜æ•ˆçš„å­—ç¬¦ä¸²å‰ç¼€åŒ¹é…" class="headerlink" title="é«˜æ•ˆçš„å­—ç¬¦ä¸²å‰ç¼€åŒ¹é…"></a>é«˜æ•ˆçš„å­—ç¬¦ä¸²å‰ç¼€åŒ¹é…</h2><ul><li>æœ‰ä¸€ä¸ªè‹±æ–‡å•è¯åº“ï¼ˆæ•°ç»„ï¼‰ï¼Œé‡Œé¢æœ‰å‡ åä¸‡ä¸ªè‹±æ–‡å•è¯</li><li>è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¿«é€Ÿåˆ¤æ–­æ˜¯ä¸æ˜¯æŸä¸€ä¸ªå•è¯çš„å‰ç¼€</li><li>ï¼ˆè¯´æ˜æ€è·¯ï¼Œä¸ç”¨å†™ä»£ç ï¼‰</li></ul><p>æ€è·¯ä¸€ï¼š</p><ol><li><p>éå†å•è¯åº“æ•°ç»„</p></li><li><p>indexOf åˆ¤æ–­å‰ç¼€</p></li><li><p>å®é™…æ—¶é—´å¤æ‚åº¦è¶…è¿‡ O(n),å› ä¸º indexOf çš„è®¡ç®—é‡</p></li></ol><p>æ€è·¯äºŒï¼ˆå¯¹è±¡å– key æ—¶é—´å¤æ‚åº¦ä¸º O(1)ï¼‰ï¼š</p><ol><li><p>è‹±æ–‡å­—æ¯ä¸€å…±å°± 26 ä¸ªï¼Œå¯ä»¥æå‰æŠŠå•è¯åº“æ•°ç»„æ‹†åˆ†ä¸º 26 ä¸ª</p></li><li><p>ç¬¬ä¸€å±‚ 26 ä¸ªï¼Œç¬¬äºŒå±‚ã€ç¬¬ä¸‰å±‚ï¼Œç»§ç»­æ‹†åˆ†â€¦</p></li><li><p>æœ€åæŠŠå•è¯åº“æ‹†åˆ†ä¸ºä¸€é¢—æ ‘</p></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// æ ‘ç»“æ„</span><br><span class="line">const wordsTree = &#123;</span><br><span class="line">  a: &#123;</span><br><span class="line">    a: &#123;...&#125;</span><br><span class="line">    b: &#123;...&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  b: &#123;</span><br><span class="line">    a: &#123;...&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  c: &#123;</span><br><span class="line">    a: &#123;...&#125;</span><br><span class="line">  &#125;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ•°å­—åƒåˆ†ä½æ ¼å¼åŒ–"><a href="#æ•°å­—åƒåˆ†ä½æ ¼å¼åŒ–" class="headerlink" title="æ•°å­—åƒåˆ†ä½æ ¼å¼åŒ–"></a>æ•°å­—åƒåˆ†ä½æ ¼å¼åŒ–</h2><ul><li>å°†æ•°å­—åƒåˆ†ä½æ ¼å¼åŒ–ï¼Œè¾“å‡ºå­—ç¬¦ä¸²</li><li>å¦‚è¾“å…¥æ•°å­— 12050100ï¼Œè¾“å‡ºå­—ç¬¦ä¸² 12,050,100</li><li>(æ³¨æ„ï¼šé€†åºåˆ¤æ–­)</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> <span class="variable">n</span></span></span><br><span class="line"><span class="comment"> * ä½¿ç”¨æ•°ç»„</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">format1</span>(<span class="params">n: <span class="built_in">number</span></span>): <span class="built_in">string</span> &#123;</span><br><span class="line">  n = <span class="title class_">Math</span>.<span class="title function_">floor</span>(n); <span class="comment">// åªè€ƒè™‘æ•´æ•°</span></span><br><span class="line">  <span class="keyword">const</span> reverseArr = n.<span class="title function_">toString</span>().<span class="title function_">split</span>(<span class="string">&quot;&quot;</span>).<span class="title function_">reverse</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> reverseArr.<span class="title function_">reduce</span>(<span class="function">(<span class="params">prev, curr, index</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (index % <span class="number">3</span> === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (prev) &#123;</span><br><span class="line">        <span class="keyword">return</span> curr + <span class="string">&quot;,&quot;</span> + prev;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> curr;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> curr + prev;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, <span class="string">&quot;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> <span class="variable">n</span></span></span><br><span class="line"><span class="comment"> * ä½¿ç”¨å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">format2</span>(<span class="params">n: <span class="built_in">number</span></span>): <span class="built_in">string</span> &#123;</span><br><span class="line">  n = <span class="title class_">Math</span>.<span class="title function_">floor</span>(n);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> res = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="keyword">const</span> str = n.<span class="title function_">toString</span>();</span><br><span class="line">  <span class="keyword">const</span> length = str.<span class="property">length</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">    <span class="keyword">const</span> j = length - i;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (j % <span class="number">3</span> === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (i === <span class="number">0</span>) &#123;</span><br><span class="line">        res = str[i] + res;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        res = <span class="string">&quot;,&quot;</span> + str[i] + res;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      res = str[i] + res;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åˆ‡æ¢å­—æ¯å¤§å°å†™"><a href="#åˆ‡æ¢å­—æ¯å¤§å°å†™" class="headerlink" title="åˆ‡æ¢å­—æ¯å¤§å°å†™"></a>åˆ‡æ¢å­—æ¯å¤§å°å†™</h2><ul><li>è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ‡æ¢å…¶ä¸­å­—æ¯çš„å¤§å°å†™</li><li>å¦‚ï¼šè¾“å…¥å­—ç¬¦ä¸² 12aBc34ï¼Œè¾“å‡ºå­—ç¬¦ä¸² 12AbC34</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ­£åˆ™è¡¨è¾¾å¼</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> <span class="variable">s</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">switchLetterCase1</span>(<span class="params">s: <span class="built_in">string</span></span>): <span class="built_in">string</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> res = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="keyword">const</span> length = s.<span class="property">length</span>;</span><br><span class="line">  <span class="keyword">if</span> (length === <span class="number">0</span>) <span class="keyword">return</span> res;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> reg1 = <span class="regexp">/[a-z]/</span>;</span><br><span class="line">  <span class="keyword">const</span> reg2 = <span class="regexp">/[A-Z]/</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">    <span class="keyword">const</span> c = s[i];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (reg1.<span class="title function_">test</span>(c)) &#123;</span><br><span class="line">      res += c.<span class="title function_">toUpperCase</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (reg2.<span class="title function_">test</span>(c)) &#123;</span><br><span class="line">      res += c.<span class="title function_">toLowerCase</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      res += c;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ASCII ç¼–ç </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> <span class="variable">s</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">switchLetterCase2</span>(<span class="params">s: <span class="built_in">string</span></span>): <span class="built_in">string</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> res = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="keyword">const</span> length = s.<span class="property">length</span>;</span><br><span class="line">  <span class="keyword">if</span> (length === <span class="number">0</span>) <span class="keyword">return</span> res;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> reg1 = <span class="regexp">/[a-z]/</span>;</span><br><span class="line">  <span class="keyword">const</span> reg2 = <span class="regexp">/[A-Z]/</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">    <span class="keyword">const</span> c = s[i];</span><br><span class="line">    <span class="keyword">const</span> code = c.<span class="title function_">charCodeAt</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (code &gt;= <span class="number">65</span> &amp;&amp; code &lt;= <span class="number">90</span>) &#123;</span><br><span class="line">      res += c.<span class="title function_">toLowerCase</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (code &gt;= <span class="number">97</span> &amp;&amp; code &lt;= <span class="number">122</span>) &#123;</span><br><span class="line">      res += c.<span class="title function_">toUpperCase</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      res += c;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¸ºä½•-0-1-0-2-0-3"><a href="#ä¸ºä½•-0-1-0-2-0-3" class="headerlink" title="ä¸ºä½• 0.1+0.2 !==0.3?"></a>ä¸ºä½• 0.1+0.2 !==0.3?</h2><ul><li><p>è®¡ç®—æœºä½¿ç”¨äºŒè¿›åˆ¶å­˜å‚¨æ•°æ®</p></li><li><p>æ•´æ•°è½¬äºŒè¿›åˆ¶æ²¡æœ‰è¯¯å·®</p></li><li><p>å°æ•°å¯èƒ½æ— æ³•ç”¨äºŒè¿›åˆ¶å‡†ç¡®è¡¨è¾¾</p></li></ul><h2 id="è¯·è¯´æ˜-ajaxã€fetchã€axios-ä¸‰è€…çš„åŒºåˆ«ï¼Ÿ"><a href="#è¯·è¯´æ˜-ajaxã€fetchã€axios-ä¸‰è€…çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="è¯·è¯´æ˜ ajaxã€fetchã€axios ä¸‰è€…çš„åŒºåˆ«ï¼Ÿ"></a>è¯·è¯´æ˜ ajaxã€fetchã€axios ä¸‰è€…çš„åŒºåˆ«ï¼Ÿ</h2><ul><li><p>ajax(asynchronous javascript xml),ä¸€ç§æŠ€æœ¯ç»Ÿç§°</p></li><li><p>fetchï¼Œä¸€ä¸ªå…·ä½“çš„ API</p></li><li><p>axiosï¼Œç¬¬ä¸‰æ–¹åº“ <a href="https://axios-http.com/">https://axios-http.com/</a></p></li></ul><h2 id="èŠ‚æµå’Œé˜²æŠ–ï¼šä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿåˆ†åˆ«ç”¨äºä»€ä¹ˆåœºæ™¯ï¼Ÿ"><a href="#èŠ‚æµå’Œé˜²æŠ–ï¼šä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿåˆ†åˆ«ç”¨äºä»€ä¹ˆåœºæ™¯ï¼Ÿ" class="headerlink" title="èŠ‚æµå’Œé˜²æŠ–ï¼šä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿåˆ†åˆ«ç”¨äºä»€ä¹ˆåœºæ™¯ï¼Ÿ"></a>èŠ‚æµå’Œé˜²æŠ–ï¼šä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿåˆ†åˆ«ç”¨äºä»€ä¹ˆåœºæ™¯ï¼Ÿ</h2><ul><li><p>é˜²æŠ–</p><ol><li>ä¾‹å¦‚ï¼šä¸€ä¸ªæœç´¢è¾“å…¥æ¡†ï¼Œç­‰è¾“å…¥åœæ­¢åï¼Œå†å‡ºå‘æœç´¢</li></ol></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é˜²æŠ–</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">fn, delay = <span class="number">200</span></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> timer = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (timer) <span class="built_in">clearTimeout</span>(timer);</span><br><span class="line"></span><br><span class="line">    timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>);</span><br><span class="line">    &#125;, delay);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>èŠ‚æµ<ol><li>drag æˆ– scroll æœŸé—´å‡ºå‘æŸä¸ªå›è°ƒï¼Œè¦è®¾ç½®ä¸€ä¸ªæ—¶é—´é—´éš”</li></ol></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">throttle</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> timer = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (timer) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>);</span><br><span class="line">      timer = <span class="number">0</span>;</span><br><span class="line">    &#125;, delay);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="px-em-rem-vw-vhæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#px-em-rem-vw-vhæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="px % em rem vw/vhæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a><em>px % em rem vw/vh</em>æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><ul><li><p>px åŸºæœ¬å•ä½ï¼Œæ˜¯ç»å¯¹å•ä½ï¼ˆå…¶ä»–çš„éƒ½æ˜¯ç›¸å¯¹å•ä½ï¼‰</p></li><li><p>% æ˜¯ç›¸å¯¹äºçˆ¶å…ƒç´ çš„å®½åº¦æ¯”ä¾‹</p></li><li><p>em ç›¸å¯¹äºå½“å‰å…ƒç´ çš„ font-size</p></li><li><p>rem ç›¸å¯¹äºè·Ÿå…ƒç´ çš„ font-size</p></li><li><p>vw å±å¹•å®½åº¦çš„ 1%</p></li><li><p>vh å±å¹•é«˜åº¦çš„ 1%</p></li><li><p>vmin å– vwã€vh ä¸¤è€…ä¸­çš„æœ€å°å€¼</p></li><li><p>vmax å– vwã€vh ä¸¤è€…ä¸­çš„æœ€å¤§å€¼</p></li></ul><h2 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h2><ul><li><p>ç®­å¤´å‡½æ•°çš„ç‰¹ç‚¹</p><ol><li>æ²¡æœ‰ arguments</li><li>æ— æ³•é€šè¿‡ applyã€callã€bind æ”¹å˜ this</li><li>æŸäº›è‚©å¤´å‡½æ•°ä»£ç éš¾ä»¥é˜…è¯»</li></ol></li></ul><h2 id="forâ€¦in-å’Œ-forâ€¦of-æœ‰ä»€ä¹ˆåŒºåˆ«"><a href="#forâ€¦in-å’Œ-forâ€¦of-æœ‰ä»€ä¹ˆåŒºåˆ«" class="headerlink" title="forâ€¦in å’Œ forâ€¦of æœ‰ä»€ä¹ˆåŒºåˆ«"></a>forâ€¦in å’Œ forâ€¦of æœ‰ä»€ä¹ˆåŒºåˆ«</h2><ul><li><p>key å’Œ value</p><ol><li>forâ€¦in éå†å¾—åˆ° key</li><li>forâ€¦of éå†å¾—åˆ° value</li></ol></li><li><p>é€‚ç”¨äºä¸åŒçš„æ•°æ®ç±»å‹</p><ol><li>éå†å¯¹è±¡ï¼š forâ€¦in å¯ä»¥ï¼Œforâ€¦of ä¸å¯ä»¥</li><li>éå† Mapã€Setï¼šforâ€¦of å¯ä»¥ï¼Œforâ€¦in ä¸å¯ä»¥</li><li>éå† generatorï¼šforâ€¦of å¯ä»¥ï¼Œforâ€¦in ä¸å¯ä»¥</li></ol></li><li><p>å¯æšä¸¾ vs å¯è¿­ä»£</p><ol><li>forâ€¦in ç”¨äºå¯æšä¸¾ï¼ˆObject.getOwnPropertyDescriptors(obj)ï¼‰æ•°æ®ï¼Œå¦‚å¯¹è±¡ã€æ•°ç»„ã€å­—ç¬¦ä¸²</li><li>forâ€¦of ç”¨äºå¯è¿­ä»£(arr[Symbol.iterator])æ•°æ®ï¼Œå¦‚æ•°ç»„ã€å­—ç¬¦ä¸²ã€Mapã€Set</li></ol></li></ul><h2 id="for-awaitâ€¦of-æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ"><a href="#for-awaitâ€¦of-æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ" class="headerlink" title="for awaitâ€¦of æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ"></a>for awaitâ€¦of æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</h2><ul><li>for awaitâ€¦of ç”¨äºéå†å¤šä¸ª Promise</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">createPromise</span>(<span class="params">value</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">resolve</span>(value);</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">(<span class="keyword">async</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> p1 = <span class="title function_">createPromise</span>(<span class="number">100</span>);</span><br><span class="line">  <span class="keyword">const</span> p2 = <span class="title function_">createPromise</span>(<span class="number">200</span>);</span><br><span class="line">  <span class="keyword">const</span> p3 = <span class="title function_">createPromise</span>(<span class="number">300</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> list = [p1, p2, p3];</span><br><span class="line">  <span class="keyword">const</span> list2 = [<span class="number">100</span>, <span class="number">200</span>, <span class="number">300</span>];</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ---------------åŒæ—¶è°ƒç”¨----------------</span></span><br><span class="line">  <span class="comment">// æ–¹å¼ä¸€</span></span><br><span class="line">  <span class="comment">// const res1 = await p1;</span></span><br><span class="line">  <span class="comment">// console.log(res1);</span></span><br><span class="line">  <span class="comment">// const res2 = await p2;</span></span><br><span class="line">  <span class="comment">// console.log(res2);</span></span><br><span class="line">  <span class="comment">// const res3 = await p3;</span></span><br><span class="line">  <span class="comment">// console.log(res3);</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ–¹å¼äºŒ</span></span><br><span class="line">  <span class="comment">// Promise.all(list).then((res) =&gt; console.log(res));</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ–¹å¼ä¸‰</span></span><br><span class="line">  <span class="comment">// for await (let res of list) &#123;</span></span><br><span class="line">  <span class="comment">//   console.log(res);</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// -----------------é€æ­¥è°ƒç”¨---------------</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> value <span class="keyword">of</span> list2) &#123;</span><br><span class="line">    <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="title function_">createPromise</span>(value);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><h2 id="offsetHeightã€scrollHeightã€clientHeight-åŒºåˆ«ï¼Ÿ"><a href="#offsetHeightã€scrollHeightã€clientHeight-åŒºåˆ«ï¼Ÿ" class="headerlink" title="offsetHeightã€scrollHeightã€clientHeight åŒºåˆ«ï¼Ÿ"></a>offsetHeightã€scrollHeightã€clientHeight åŒºåˆ«ï¼Ÿ</h2><ul><li><p>offsetHeightã€offsetWidth: border + padding + content</p></li><li><p>clientHeightã€clientWidth: padding + content</p></li><li><p>scrollHeightã€scrollWidth: padding + å®é™…å†…å®¹å°ºå¯¸</p></li></ul><h2 id="HTMLCollection-å’Œ-NodeList-åŒºåˆ«ï¼Ÿ"><a href="#HTMLCollection-å’Œ-NodeList-åŒºåˆ«ï¼Ÿ" class="headerlink" title="HTMLCollection å’Œ NodeList åŒºåˆ«ï¼Ÿ"></a>HTMLCollection å’Œ NodeList åŒºåˆ«ï¼Ÿ</h2><ul><li><p>Node å’Œ Element</p><ol><li>DOM æ˜¯ä¸€æ£µæ ‘ï¼Œæ‰€æœ‰èŠ‚ç‚¹éƒ½æ˜¯ Node</li><li>Node æ˜¯ Element çš„åŸºç±»</li><li>Element æ˜¯å…¶ä»– HTML å…ƒç´ çš„åŸºç±»ï¼Œå¦‚ HTMLDivElement</li></ol></li><li><p>HTMLCollection å’Œ NodeList</p><ol><li>HTMLCollection æ˜¯ Element çš„é›†åˆï¼ˆelem.childrenï¼‰</li><li>NodeList æ˜¯ Node é›†åˆï¼ˆelem.childNodesï¼‰</li><li>HTMLCollection ä¸ä¼šåŒ…å« Text å’Œ Comment èŠ‚ç‚¹ï¼ŒNodeList åˆ™ä¼šåŒ…å«</li></ol></li><li><p>HTMLCollection å’Œ NodeList éƒ½ä¸æ˜¯æ•°ç»„ï¼Œè€Œæ˜¯â€œç´¯æ•°ç»„â€</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è½¬æ¢</span></span><br><span class="line"><span class="keyword">const</span> arr1 = <span class="title class_">Array</span>.<span class="title function_">from</span>(list);</span><br><span class="line"><span class="keyword">const</span> arr2 = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(list);</span><br><span class="line"><span class="keyword">const</span> arr3 = [...list];</span><br></pre></td></tr></table></figure></li></ul><h2 id="Vue-ä¸­-computed-å’Œ-watch-çš„åŒºåˆ«ï¼Ÿ"><a href="#Vue-ä¸­-computed-å’Œ-watch-çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="Vue ä¸­ computed å’Œ watch çš„åŒºåˆ«ï¼Ÿ"></a>Vue ä¸­ computed å’Œ watch çš„åŒºåˆ«ï¼Ÿ</h2><ul><li><p>ç”¨é€”ä¸åŒ</p><ol><li>computed ç”¨äºè®¡ç®—äº§ç”Ÿæ–°çš„æ•°æ®ï¼Œæœ‰ç¼“å­˜</li><li>watch ç”¨äºç›‘å¬ç°æœ‰æ•°æ®</li></ol></li><li><p>æ‰©å±•çŸ¥è¯†</p><ol><li>computed æœ‰ç¼“å­˜</li><li>methods æ²¡æœ‰ç¼“å­˜</li></ol></li></ul><h2 id="Vue-ç»„ä»¶é€šè®¯çš„æ–¹å¼"><a href="#Vue-ç»„ä»¶é€šè®¯çš„æ–¹å¼" class="headerlink" title="Vue ç»„ä»¶é€šè®¯çš„æ–¹å¼"></a>Vue ç»„ä»¶é€šè®¯çš„æ–¹å¼</h2><ul><li>props å’Œ $emit</li><li>è‡ªå®šä¹‰äº‹ä»¶</li><li>$attrs</li><li>$parent</li><li>$refs</li><li>provide/inject</li><li>vuex</li></ul><h2 id="vuex-mutation-å’Œ-action-çš„åŒºåˆ«ï¼Ÿ"><a href="#vuex-mutation-å’Œ-action-çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="vuex mutation å’Œ action çš„åŒºåˆ«ï¼Ÿ"></a>vuex mutation å’Œ action çš„åŒºåˆ«ï¼Ÿ</h2><ul><li>mutation: åŒæ­¥ä»£ç </li><li>action: å¯åŒ…å«å¼‚æ­¥ä»£ç </li></ul><h2 id="JS-ä¸¥æ ¼æ¨¡å¼æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ"><a href="#JS-ä¸¥æ ¼æ¨¡å¼æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ" class="headerlink" title="JS ä¸¥æ ¼æ¨¡å¼æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ"></a>JS ä¸¥æ ¼æ¨¡å¼æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>; <span class="comment">//å…¨å±€å¼€å¯</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="string">&quot;use strict&quot;</span>; <span class="comment">// å±€éƒ¨å¼€å¯</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ç‰¹ç‚¹<ol><li>å…¨å±€å˜é‡å¿…é¡»å…ˆå£°æ˜</li><li>ç¦æ­¢ä½¿ç”¨ with</li><li>this æŒ‡å‘ undefined è€Œä¸æ˜¯ window</li><li>å‡½æ•°å‚æ•°ä¸èƒ½é‡å</li><li>eval æœ‰å•ç‹¬ä½œç”¨åŸŸï¼Œä¸æ¨èä½¿ç”¨</li></ol></li></ul><h2 id="HTTP-è·¨åŸŸè¯·æ±‚äº‹ä¸ºä»€ä¹ˆå‘é€-options-è¯·æ±‚ï¼Ÿ"><a href="#HTTP-è·¨åŸŸè¯·æ±‚äº‹ä¸ºä»€ä¹ˆå‘é€-options-è¯·æ±‚ï¼Ÿ" class="headerlink" title="HTTP è·¨åŸŸè¯·æ±‚äº‹ä¸ºä»€ä¹ˆå‘é€ options è¯·æ±‚ï¼Ÿ"></a>HTTP è·¨åŸŸè¯·æ±‚äº‹ä¸ºä»€ä¹ˆå‘é€ options è¯·æ±‚ï¼Ÿ</h2><ul><li>è·¨åŸŸè¯·æ±‚<ol><li>æµè§ˆå™¨åŒæºç­–ç•¥</li><li>åŒæºç­–ç•¥ä¸€èˆ¬é™åˆ¶ ajax ç½‘ç»œè¯·æ±‚ï¼Œä¸èƒ½è·¨åŸŸè¯·æ±‚ server</li><li>ä¸ä¼šé™åˆ¶<code>&lt;link&gt; &lt;img&gt; &lt;script&gt; &lt;iframe&gt;</code> åŠ è½½ç¬¬ä¸‰æ–¹èµ„æº</li></ol></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// JSONP</span></span><br><span class="line"><span class="comment">// client</span></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="variable language_">window</span>.<span class="property">onSuccess</span> = <span class="keyword">function</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://www.aaa.com/api/getData&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="comment">// server</span></span><br><span class="line"><span class="comment">// https://www.aaa.com/api/getData è¿”å›ä¸€æ®µå­—ç¬¦ä¸²ï¼Œäº¤ç»™å‰ç«¯æ‰§è¡Œè¾¾åˆ°ä¼ é€’æ•°æ®çš„ç›®çš„</span></span><br><span class="line"><span class="string">&#x27;onSuccess(&#123;data: &#123;/* æ•°æ®å†…å®¹ */&#125;&#125;)&#x27;</span></span><br></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// CORS é…ç½®å…è®¸è·¨åŸŸï¼ˆæœåŠ¡ç«¯ï¼‰</span></span><br><span class="line">response.<span class="title function_">setHeader</span>(<span class="string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="string">&quot;http://localhost:8080&quot;</span>); <span class="comment">// æˆ–è€… *</span></span><br><span class="line">response.<span class="title function_">setHeader</span>(<span class="string">&quot;Access-Control-Allow-Headers&quot;</span>, <span class="string">&quot;X-Requested-With&quot;</span>);</span><br><span class="line">response.<span class="title function_">setHeader</span>(</span><br><span class="line">  <span class="string">&quot;Access-Control-Allow-Methods&quot;</span>,</span><br><span class="line">  <span class="string">&quot;PUT,POST,GET,DELETE,OPTIONS&quot;</span></span><br><span class="line">);</span><br><span class="line">response.<span class="title function_">setHeader</span>(<span class="string">&quot;Access-Control-Allow-Credentials&quot;</span>, <span class="string">&quot;true&quot;</span>); <span class="comment">// å…è®¸è·¨åŸŸæ¥å—cookie</span></span><br></pre></td></tr></table></figure><ul><li>ç­”æ¡ˆ<ol><li>options è¯·æ±‚ï¼Œæ˜¯è·¨åŸŸè¯·æ±‚ä¹‹å‰çš„é¢„æ£€æŸ¥</li><li>æµè§ˆå™¨è‡ªè¡Œå‘èµ·çš„</li><li>ä¸ä¼šå½±å“å®é™…çš„åŠŸèƒ½</li></ol></li></ul><h2 id="JS-å†…å­˜æ³„æ¼å¦‚ä½•æ£€æµ‹ï¼Ÿåœºæ™¯æœ‰å“ªäº›ï¼Ÿ"><a href="#JS-å†…å­˜æ³„æ¼å¦‚ä½•æ£€æµ‹ï¼Ÿåœºæ™¯æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="JS å†…å­˜æ³„æ¼å¦‚ä½•æ£€æµ‹ï¼Ÿåœºæ™¯æœ‰å“ªäº›ï¼Ÿ"></a>JS å†…å­˜æ³„æ¼å¦‚ä½•æ£€æµ‹ï¼Ÿåœºæ™¯æœ‰å“ªäº›ï¼Ÿ</h2><ul><li><p>åƒåœ¾å›æ”¶ GC</p><ol><li>å¼•ç”¨è®¡æ•°</li><li>æ ‡è®°æ¸…é™¤</li></ol></li><li><p>åœºæ™¯</p><ol><li>æ„å¤–çš„å…¨å±€å˜é‡</li><li>é—å¿˜çš„å®šæ—¶å™¨</li><li>ä½¿ç”¨ä¸å½“çš„é—­åŒ…</li><li>é—æ¼çš„ DOM å…ƒç´ </li><li>ç½‘ç»œå›è°ƒ</li></ol></li><li><p>å†…å­˜æ³„æ¼å±äºéé¢„æœŸçš„ï¼Œé—­åŒ…æ˜¯ä¸»åŠ¨è¡Œä¸ºï¼Œé—­åŒ…éå†…å­˜æ³„æ¼</p></li><li><p>å¯ä»¥ä½¿ç”¨ chrome devtools çš„ performance å’Œ memory å·¥å…·ç±»æ£€æµ‹ js å†…å­˜</p></li><li><p><a href="https://www.cnblogs.com/dasusu/p/12200176.html">å‚è€ƒ</a></p></li></ul><h2 id="vdom-çœŸçš„å¾ˆå¿«å—ï¼Ÿ"><a href="#vdom-çœŸçš„å¾ˆå¿«å—ï¼Ÿ" class="headerlink" title="vdom çœŸçš„å¾ˆå¿«å—ï¼Ÿ"></a>vdom çœŸçš„å¾ˆå¿«å—ï¼Ÿ</h2><ul><li><p>js ç›´æ¥æ“ä½œ dom æ‰æ˜¯æœ€å¿«çš„ï¼Œvdom å¹¶ä¸å¿«</p></li><li><p>ä½†æ˜¯ vdom æ˜¯æœ€åˆé€‚â€œæ•°æ®é©±åŠ¨è§†å›¾â€çš„æŠ€æœ¯æ–¹æ¡ˆ</p></li></ul><h2 id="éå†æ•°ç»„ï¼Œfor-å’Œ-forEach-å“ªä¸ªå¿«ï¼Ÿ"><a href="#éå†æ•°ç»„ï¼Œfor-å’Œ-forEach-å“ªä¸ªå¿«ï¼Ÿ" class="headerlink" title="éå†æ•°ç»„ï¼Œfor å’Œ forEach å“ªä¸ªå¿«ï¼Ÿ"></a>éå†æ•°ç»„ï¼Œfor å’Œ forEach å“ªä¸ªå¿«ï¼Ÿ</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(n)</p></li><li><p>ç»“è®ºï¼š</p><ol><li>for æ›´å¿«</li><li>forEach æ¯æ¬¡éƒ½è¦åˆ›å»ºä¸€ä¸ªå‡½æ•°æ¥è°ƒç”¨ï¼Œè€Œ for ä¸ä¼šåˆ›å»ºå‡½æ•°</li><li>å‡½æ•°éœ€è¦ç‹¬ç«‹çš„ä½œç”¨åŸŸï¼Œä¼šæœ‰é¢å¤–çš„å¼€é”€</li></ol></li></ul><h2 id="nodejs-å¦‚ä½•å¼€å¯è¿›ç¨‹ï¼Œè¿›ç¨‹å¦‚ä½•é€šè®¯ï¼Ÿ"><a href="#nodejs-å¦‚ä½•å¼€å¯è¿›ç¨‹ï¼Œè¿›ç¨‹å¦‚ä½•é€šè®¯ï¼Ÿ" class="headerlink" title="nodejs å¦‚ä½•å¼€å¯è¿›ç¨‹ï¼Œè¿›ç¨‹å¦‚ä½•é€šè®¯ï¼Ÿ"></a>nodejs å¦‚ä½•å¼€å¯è¿›ç¨‹ï¼Œè¿›ç¨‹å¦‚ä½•é€šè®¯ï¼Ÿ</h2><ul><li><p>è¿›ç¨‹ process VS çº¿ç¨‹ thread</p><ol><li>è¿›ç¨‹ï¼š è¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„æœ€å°å•å…ƒï¼Œæœ‰ç‹¬ç«‹å†…å­˜ç©ºé—´</li><li>çº¿ç¨‹ï¼š è¿›è¡Œè¿ç®—è°ƒåº¦çš„æœ€å°å•å…ƒï¼Œå…±äº«è¿›ç¨‹å†…å­˜ç©ºé—´</li><li>js æ˜¯å•çº¿ç¨‹çš„ï¼Œä½†å¯ä»¥å¤šè¿›è¡Œæ‰§è¡Œï¼Œå¦‚ ã€WebWorker</li></ol></li><li><p>ä¸ºä½•éœ€è¦å¤šè¿›ç¨‹ï¼Ÿ</p><ul><li>å¤šæ ¸ CPUï¼Œæ›´é€‚åˆå¤„ç†å¤šè¿›ç¨‹</li><li>å†…å­˜è¾ƒå¤§ï¼Œå¤šä¸ªè¿›ç¨‹æ‰èƒ½æ›´å¥½çš„åˆ©ç”¨ï¼ˆå•è¿›ç¨‹æœ‰å†…å­˜ä¸Šçº¿ï¼‰</li></ul></li><li><p>å¼€å¯è¿›ç¨‹ä¸¤ç§æ–¹æ³• child_process.forkï¼Œ cluster.fork</p></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// parent.js</span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&quot;http&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> fork = <span class="built_in">require</span>(<span class="string">&quot;child_process&quot;</span>).<span class="property">fork</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> server = http.<span class="title function_">createServer</span>(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (req.<span class="property">url</span> === <span class="string">&quot;/xxx&quot;</span>) &#123;</span><br><span class="line">    <span class="comment">// å¼€å¯å­è¿›ç¨‹</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> computeProcess = <span class="title function_">fork</span>(<span class="string">&quot;./compute.js&quot;</span>);</span><br><span class="line">    computeProcess.<span class="title function_">send</span>(<span class="string">&quot;start&quot;</span>);</span><br><span class="line"></span><br><span class="line">    computeProcess.<span class="title function_">on</span>(<span class="string">&quot;message&quot;</span>, <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">      res.<span class="title function_">end</span>(<span class="string">&quot;sum is&quot;</span> + data);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    computeProcess.<span class="title function_">on</span>(<span class="string">&quot;close&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å­è¿›ç¨‹å› æŠ¥é”™è€Œé€€å‡º&quot;</span>);</span><br><span class="line">      computeProcess.<span class="title function_">kill</span>();</span><br><span class="line">      res.<span class="title function_">end</span>(<span class="string">&quot;error&quot;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">3000</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;localhost: 3000 starting...&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// compute.js</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getSum</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> sum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++) &#123;</span><br><span class="line">    sum += i;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">process.<span class="title function_">on</span>(<span class="string">&quot;message&quot;</span>, <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å­è¿›ç¨‹id&quot;</span>, process.<span class="property">pid</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å­è¿›ç¨‹æ¥æ”¶åˆ°çš„æ•°æ®&quot;</span>, data);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> sum = <span class="title function_">getSum</span>();</span><br><span class="line"></span><br><span class="line">  process.<span class="title function_">send</span>(sum);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&quot;http&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> cpuCoreLength = <span class="built_in">require</span>(<span class="string">&quot;os&quot;</span>).<span class="title function_">cpus</span>().<span class="property">length</span>;</span><br><span class="line"><span class="keyword">const</span> cluster = <span class="built_in">require</span>(<span class="string">&quot;cluster&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (cluster.<span class="property">isMaster</span>) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; cpuCoreLength; i++) &#123;</span><br><span class="line">    cluster.<span class="title function_">fork</span>(); <span class="comment">// å¼€å¯å­è¿›ç¨‹</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  cluster.<span class="title function_">on</span>(<span class="string">&quot;exit&quot;</span>, <span class="function">(<span class="params">worker</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å­è¿›ç¨‹é€€å‡º&quot;</span>);</span><br><span class="line">    cluster.<span class="title function_">fork</span>(); <span class="comment">// è¿›ç¨‹å®ˆæŠ¤</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> server = http.<span class="title function_">createServer</span>(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    res.<span class="title function_">writeHead</span>(<span class="number">200</span>);</span><br><span class="line">    res.<span class="title function_">end</span>(<span class="string">&quot;done&quot;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  server.<span class="title function_">listen</span>(<span class="number">3000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è¯·æè¿°-JS-Bridge-çš„åŸç†"><a href="#è¯·æè¿°-JS-Bridge-çš„åŸç†" class="headerlink" title="è¯·æè¿° JS Bridge çš„åŸç†"></a>è¯·æè¿° JS Bridge çš„åŸç†</h2><ul><li><p>ä»€ä¹ˆæ˜¯ JS Bridgeï¼Ÿ</p><ul><li>js æ— æ³•ç›´æ¥è°ƒç”¨ native API</li><li>éœ€è¦é€šè¿‡ä¸€äº›ç‰¹å®šçš„â€œæ ¼å¼â€æ¥è°ƒç”¨</li><li>è¿™äº›â€œæ ¼å¼â€å°±ç»Ÿç§° JS-Bridgeï¼Œä¾‹å¦‚å¾®ä¿¡ JSSDK</li></ul></li><li><p>JS Bridge çš„å¸¸è§å®ç°æ–¹å¼</p><ul><li>æ³¨å†Œå…¨å±€ API</li><li>URL Scheme</li></ul></li></ul><h2 id="requestIdleCallback-å’Œ-requestAnimationFrame-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#requestIdleCallback-å’Œ-requestAnimationFrame-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="requestIdleCallback å’Œ requestAnimationFrame æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>requestIdleCallback å’Œ requestAnimationFrame æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><ul><li><p>åŒºåˆ«</p><ul><li>requestAnimationFrame æ¯æ¬¡æ¸²æŸ“å®Œéƒ½ä¼šæ‰§è¡Œï¼Œé«˜ä¼˜å…ˆçº§</li><li>requestIdleCallback ç©ºé—²æ—¶å€™æ‰æ‰§è¡Œï¼Œä½ä¼˜å…ˆçº§</li><li>requestAnimationFrame æ¯” requestIdleCallback å…ˆæ‰§è¡Œï¼Œå› ä¸ºä¼˜å…ˆçº§é«˜</li></ul></li><li><p>è¡¥å……</p><ul><li>ä¸¤è€…éƒ½æ˜¯å®ä»»åŠ¡</li></ul></li></ul><h2 id="vue-ç”Ÿå‘½å‘¨æœŸï¼Ÿ"><a href="#vue-ç”Ÿå‘½å‘¨æœŸï¼Ÿ" class="headerlink" title="vue ç”Ÿå‘½å‘¨æœŸï¼Ÿ"></a>vue ç”Ÿå‘½å‘¨æœŸï¼Ÿ</h2><ul><li><p>befroeCreate</p><ul><li>åˆ›å»ºä¸€ä¸ªç©ºç™½çš„ Vue å®ä¾‹</li><li>dataã€method å°šæœªè¢«åˆå§‹åŒ–ï¼Œä¸å¯ä½¿ç”¨</li></ul></li><li><p>created</p><ul><li>vue å®ä¾‹åˆå§‹åŒ–å®Œæˆï¼Œå®Œæˆç›¸åº”å¼ç»‘å®š</li><li>dataã€method éƒ½å·²ç»åˆå§‹åŒ–å®Œæˆï¼Œå¯ä»¥è°ƒç”¨</li><li>å°šæœªå¼€å§‹æ¸²æŸ“æ¨¡æ¿</li></ul></li><li><p>beforeMount</p><ul><li>ç¼–è¯‘æ¨¡æ¿ï¼Œè°ƒç”¨ render ç”Ÿæˆ vdom</li><li>è¿˜æ²¡æœ‰å¼€å§‹æ¸²æŸ“ DOM</li></ul></li><li><p>mounted</p><ul><li>å®Œæˆ DOM æ¸²æŸ“</li><li>ç»„ä»¶åˆ›å»ºå®Œæˆ</li><li>å¼€å§‹ç”±â€œåˆ›å»ºé˜¶æ®µâ€è¿›å…¥â€œè¿è¡Œé˜¶æ®µâ€</li></ul></li><li><p>beforeUpdate</p><ul><li>data å‘ç”Ÿå˜åŒ–ä¹‹å</li><li>å‡†å¤‡æ›´æ–° DOM ï¼ˆå°šæœªæ›´æ–° DOMï¼‰</li></ul></li><li><p>updated</p><ul><li>data å‘ç”Ÿå˜åŒ–ï¼Œä¸” DOM æ›´æ–°å®Œæˆ</li><li>ä¸è¦åœ¨ updated ä¸­ä¿®æ”¹ dataï¼Œå¯èƒ½ä¼šå¯¼è‡´æ­»å¾ªç¯</li></ul></li><li><p>beforeUnmount</p><ul><li>ç»„ä»¶è¿›å…¥é”€æ¯é˜¶æ®µï¼ˆå°šæœªé”€æ¯ï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼‰</li><li>å¯ç§»é™¤ã€è§£ç»‘ä¸€äº›å…¨å±€äº‹ä»¶ã€è‡ªå®šä¹‰äº‹ä»¶</li></ul></li><li><p>unmounted</p><ul><li>ç»„ä»¶è¢«é”€æ¯äº†</li><li>æ‰€æœ‰å­ç»„ä»¶ä¹Ÿè¢«é”€æ¯äº†</li></ul></li><li><p>è¿ç¯é—®ï¼švue ä»€ä¹ˆæ—¶å€™æ“ä½œ dom æ¯”è¾ƒåˆé€‚ï¼Ÿ</p><ul><li>mounted å’Œ updated éƒ½ä¸èƒ½ä¿è¯å­ç»„ä»¶å…¨éƒ¨æŒ‚è½½å®Œæˆ</li><li>ä½¿ç”¨ $nextTick æ“ä½œ dom</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.$nextTick(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ä»…åœ¨æ•´ä¸ªè§†å›¾éƒ½è¢«æ¸²æŸ“ä¹‹åæ‰ä¼šè¿è¡Œçš„ä»£ç </span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>è¿ç¯é—®ï¼šAjax åº”è¯¥æ”¾åœ¨é‚£ä¸ªç”Ÿå‘½å‘¨æœŸï¼Ÿ</p><ul><li>ä¸¤ä¸ªé€‰æ‹©ï¼šcreated å’Œ mounted</li><li>æ¨èï¼šmounted</li></ul></li><li><p>vue3 composition API ç”Ÿå‘½å‘¨æœŸæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p><ul><li>setup ä»£æ›¿äº† beforeCreate å’Œ created</li><li>ä½¿ç”¨ hooks å‡½æ•°çš„å½¢å¼ï¼Œå¦‚ mounted æ”¹ä¸º onMounted()</li></ul></li></ul><h2 id="Vue2ã€Vue3ã€React-ä¸‰è€…-diff-ç®—æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#Vue2ã€Vue3ã€React-ä¸‰è€…-diff-ç®—æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="Vue2ã€Vue3ã€React ä¸‰è€… diff ç®—æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>Vue2ã€Vue3ã€React ä¸‰è€… diff ç®—æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><ul><li>ä¸¥æ ¼çš„ Tree diff ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n*3)</li><li>vueã€react æ¡†æ¶å¯¹ tree diff è¿›è¡Œäº†ä¼˜åŒ– O(n)<ul><li>åªæ¯”è¾ƒåŒä¸€å±‚çº§ï¼Œä¸è·¨çº§æ¯”è¾ƒ</li><li>tag ä¸åŒåˆ™åˆ é™¤é‡å»º</li><li>å­èŠ‚ç‚¹é€šè¿‡ key åŒºåˆ†<ul><li>vdom diff ç®—æ³•ä¼šæ ¹æ® key åˆ¤æ–­å…ƒç´ æ˜¯å¦éœ€è¦åˆ é™¤</li><li>åŒ¹é…äº† keyï¼Œåˆ™åªç§»åŠ¨å…ƒç´  - æ€§èƒ½è¾ƒå¥½</li><li>æœªåŒ¹é… keyï¼Œåˆ™åˆ é™¤é‡å»º - æ€§èƒ½è¾ƒå·®</li></ul></li></ul></li><li>åŒºåˆ«<ul><li>react ä»…å³ç§»</li><li>vue2 åŒç«¯æ¯”è¾ƒ</li><li>vue3 æœ€é•¿é€’å¢å­åºåˆ—</li></ul></li></ul><h2 id="Vue-router-ä¸‰ç§æ¨¡å¼ï¼ˆReact-router-ä¹Ÿä¸€æ ·ï¼‰"><a href="#Vue-router-ä¸‰ç§æ¨¡å¼ï¼ˆReact-router-ä¹Ÿä¸€æ ·ï¼‰" class="headerlink" title="Vue-router ä¸‰ç§æ¨¡å¼ï¼ˆReact-router ä¹Ÿä¸€æ ·ï¼‰"></a>Vue-router ä¸‰ç§æ¨¡å¼ï¼ˆReact-router ä¹Ÿä¸€æ ·ï¼‰</h2><ul><li>Hash</li><li>WebHistory</li><li>MemoryHistoryï¼ˆv4 ä¹‹å‰å«åš abstract historyï¼‰</li></ul><h2 id="ç§»åŠ¨ç«¯-H5-click-æœ‰-300ms-å»¶è¿Ÿï¼Œå¦‚ä½•è§£å†³ï¼Ÿ"><a href="#ç§»åŠ¨ç«¯-H5-click-æœ‰-300ms-å»¶è¿Ÿï¼Œå¦‚ä½•è§£å†³ï¼Ÿ" class="headerlink" title="ç§»åŠ¨ç«¯ H5 click æœ‰ 300ms å»¶è¿Ÿï¼Œå¦‚ä½•è§£å†³ï¼Ÿ"></a>ç§»åŠ¨ç«¯ H5 click æœ‰ 300ms å»¶è¿Ÿï¼Œå¦‚ä½•è§£å†³ï¼Ÿ</h2><ul><li><p>èƒŒæ™¯ï¼šdouble tap to zoom</p></li><li><p>åˆæœŸè§£å†³æ–¹æ¡ˆ FastClick</p><ul><li>ç›‘å¬ touchend äº‹ä»¶(touchstart touchend ä¼šå…ˆäº click è§¦å‘)</li><li>ä½¿ç”¨è‡ªå®šä¹‰ DOM äº‹ä»¶æ¨¡æ‹Ÿä¸€ä¸ª click äº‹ä»¶</li><li>æŠŠé»˜è®¤çš„ click äº‹ä»¶(300ms ä¹‹åè§¦å‘)ç¦æ­¢æ‰</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(</span><br><span class="line">  <span class="string">&quot;load&quot;</span>,</span><br><span class="line">  <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">FastClick</span>.<span class="title function_">attach</span>(<span class="variable language_">document</span>.<span class="property">body</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="literal">false</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure></li><li><p>ç°ä»£æµè§ˆå™¨çš„æ”¹è¿›ï¼ˆwidth=device-widthï¼‰</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1.0&quot;&gt;</span><br><span class="line">  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;id=edge&quot;&gt;</span><br><span class="line">  &lt;title&gt;title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br></pre></td></tr></table></figure></li></ul><h2 id="ç½‘ç»œè¯·æ±‚ä¸­ï¼Œtoken-å’Œ-cookie-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#ç½‘ç»œè¯·æ±‚ä¸­ï¼Œtoken-å’Œ-cookie-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="ç½‘ç»œè¯·æ±‚ä¸­ï¼Œtoken å’Œ cookie æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>ç½‘ç»œè¯·æ±‚ä¸­ï¼Œtoken å’Œ cookie æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><ul><li><p>cookie</p><ul><li>http æ— çŠ¶æ€ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½è¦å¸¦ cookieï¼Œä»¥å¸®åŠ©è¯†åˆ«èº«ä»½</li><li>æœåŠ¡ç«¯ä¹Ÿå¯ä»¥å‘å®¢æˆ·ç«¯ set-cookieï¼Œcookie å¤§å°é™åˆ¶ 4kb</li><li>é»˜è®¤æœ‰è·¨åŸŸé™åˆ¶ï¼šä¸å¯è·¨åŸŸå…±äº«ã€ä¼ é€’ cookie</li></ul></li><li><p>token vs cookie</p><ul><li>cookie æ˜¯ http è§„èŒƒï¼Œè€Œ token æ˜¯è‡ªå®šä¹‰ä¼ é€’</li><li>cookie ä¼šé»˜è®¤è¢«æµè§ˆå™¨å­˜å‚¨ï¼Œè€Œ token éœ€è‡ªå·±å­˜å‚¨</li><li>token é»˜è®¤æ²¡æœ‰è·¨åŸŸé™åˆ¶</li></ul></li><li><p>JWT(JSON Web Token)</p><ul><li>å‰ç«¯å‘èµ·ç™»å½•ï¼Œåç«¯éªŒè¯æˆåŠŸä¹‹åï¼Œè¿”å›ä¸€ä¸ªåŠ å¯†çš„ token</li><li>å‰ç«¯è‡ªè¡Œå­˜å‚¨è¿™ä¸ª tokenï¼ˆå…¶ä¸­åŒ…å«äº†ç”¨æˆ·ä¿¡æ¯ï¼ŒåŠ å¯†äº†ï¼‰</li><li>ä»¥åè®¿é—®æœåŠ¡ç«¯çš„æ¥å£ï¼Œéƒ½å¸¦ç€è¿™ä¸ª tokenï¼Œä½œä¸ºç”¨æˆ·ä¿¡æ¯</li></ul></li></ul><h2 id="Session-å’Œ-JWT-å“ªä¸ªæ›´å¥½ï¼Ÿ"><a href="#Session-å’Œ-JWT-å“ªä¸ªæ›´å¥½ï¼Ÿ" class="headerlink" title="Session å’Œ JWT å“ªä¸ªæ›´å¥½ï¼Ÿ"></a>Session å’Œ JWT å“ªä¸ªæ›´å¥½ï¼Ÿ</h2><ul><li><p>session</p><ul><li>ä¼˜ç‚¹<ul><li>åŸç†ç®€å•ï¼Œæ˜“äºå­¦ä¹ </li><li>ç”¨æˆ·ä¿¡æ¯å­˜å‚¨åœ¨æœåŠ¡ç«¯ï¼Œå¯ä»¥å¿«é€Ÿå°ç¦æŸä¸ªç”¨æˆ·</li></ul></li><li>ç¼ºç‚¹<ul><li>å ç”¨æœåŠ¡ç«¯å†…å­˜ï¼Œç¡¬ä»¶æˆæœ¬é«˜</li><li>å¤šè¿›ç¨‹ï¼Œå¤šæœåŠ¡å™¨æ—¶ï¼Œä¸å¥½åŒæ­¥-éœ€è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹ç¼“å­˜ï¼Œå¦‚ redis</li><li>é»˜è®¤æœ‰è·¨åŸŸé™åˆ¶</li></ul></li></ul></li><li><p>JWT</p><ul><li>ä¼˜ç‚¹<ul><li>ä¸å ç”¨æœåŠ¡å™¨å†…å­˜</li><li>å¤šè¿›ç¨‹ã€å¤šæœåŠ¡å™¨ä¸å—å½±å“</li><li>æ²¡æœ‰è·¨åŸŸé™åˆ¶</li></ul></li><li>ç¼ºç‚¹<ul><li>ç”¨æˆ·ä¿¡æ¯å­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œæ— æ³•å¿«é€Ÿå°ç¦æŸç”¨æˆ·</li><li>ä¸‡ä¸€æœåŠ¡å™¨å¯†é’¥è¢«æ³„æ¼ï¼Œåˆ™ç”¨æˆ·ä¿¡æ¯å…¨éƒ¨ä¸¢å¤±</li><li>token ä½“ç§¯ä¸€èˆ¬å¤§äº cookieï¼Œä¼šå¢åŠ è¯·æ±‚çš„æ•°æ®é‡</li></ul></li></ul></li><li><p>ç­”æ¡ˆ</p><ul><li>å¦‚æœ‰ä¸¥æ ¼ç®¡ç†ç”¨æˆ·ä¿¡æ¯çš„éœ€æ±‚ï¼ˆä¿å¯†ã€å¿«é€Ÿå°ç¦ï¼‰ï¼Œæ¨è session</li><li>å¦‚æ²¡æœ‰ç‰¹æ®Šè¦æ±‚ï¼Œåˆ™ä½¿ç”¨ JWT</li></ul></li></ul><h2 id="å¦‚ä½•å®ç°-SSO-å•ç‚¹ç™»å½•ï¼Ÿ"><a href="#å¦‚ä½•å®ç°-SSO-å•ç‚¹ç™»å½•ï¼Ÿ" class="headerlink" title="å¦‚ä½•å®ç° SSO å•ç‚¹ç™»å½•ï¼Ÿ"></a>å¦‚ä½•å®ç° SSO å•ç‚¹ç™»å½•ï¼Ÿ</h2><ul><li><p>åŸºäº cookieï¼ˆä¸»åŸŸåç›¸åŒï¼‰</p><ul><li>cookie é»˜è®¤ä¸å¯è·¨åŸŸå…±äº«ï¼Œä½†æœ‰äº›æƒ…å†µä¸‹å¯è®¾ç½®å…±äº«</li><li>ä¸»åŸŸåç›¸åŒï¼Œå¦‚<a href="http://www.baidu.com,image.baidu.com/">www.baidu.com,image.baidu.com</a></li><li>è®¾ç½® cookie domain ä¸ºä¸»åŸŸåï¼Œå³å¯å…±äº« cookie</li></ul></li><li><p>SSOï¼ˆä¸»åŸŸåä¸ç›¸åŒï¼Œcookie æ— æ³•å…±äº«ï¼‰</p><ul><li><img src="/images/md_img/sso.jpg" alt="sso"></li></ul></li></ul><h2 id="HTTP-åè®®å’Œ-UDP-åè®®æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#HTTP-åè®®å’Œ-UDP-åè®®æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="HTTP åè®®å’Œ UDP åè®®æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>HTTP åè®®å’Œ UDP åè®®æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><ul><li>ç½‘ç»œåè®®<ul><li>HTTP åè®®åœ¨åº”ç”¨å±‚</li><li>TCPã€UDP åè®®åœ¨ä¼ è¾“å±‚<ul><li>TCP åè®®<ul><li>æœ‰è¿æ¥ï¼Œæœ‰æ–­å¼€</li><li>ç¨³å®šä¼ è¾“</li></ul></li><li>UDP åè®®<ul><li>æ— è¿æ¥ï¼Œæ— æ–­å¼€</li><li>ä¸ç¨³å®šä¼ è¾“ï¼Œä½†æ•ˆç‡é«˜</li><li>å¦‚è§†é¢‘ä¼šè®®ã€è¯­éŸ³é€šè¯</li></ul></li></ul></li></ul></li></ul><h2 id="HTTP-åè®®-1-0ã€1-1ã€2-0-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#HTTP-åè®®-1-0ã€1-1ã€2-0-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="HTTP åè®® 1.0ã€1.1ã€2.0 æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>HTTP åè®® 1.0ã€1.1ã€2.0 æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><ul><li><p>HTTP 1.0</p><ul><li>æœ€åŸºç¡€çš„ HTTP åè®®</li><li>æ”¯æŒåŸºæœ¬çš„ GETã€POST æ–¹æ³•</li></ul></li><li><p>HTTP 1.1</p><ul><li>ç¼“å­˜ç­–ç•¥ cache-controlã€E-tag ç­‰</li><li>æ”¯æŒé•¿è¿æ¥ Connection: keep-alive,ä¸€æ¬¡ TCP è¿æ¥å¤šæ¬¡è¯·æ±‚</li><li>æ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼ŒçŠ¶æ€ç  206</li><li>æ”¯æŒæ–°çš„æ–¹æ³• PUTã€DELETE ç­‰ï¼Œå¯ç”¨äº Restful API</li></ul></li><li><p>HTTP 2.0</p><ul><li>å¯å‹ç¼© headerï¼Œå‡å°‘ä½“ç§¯</li><li>å¤šè·¯å¤ç”¨ï¼Œä¸€æ¬¡ TCP è¿æ¥ä¸­å¯ä»¥å¤šä¸ª HTTP å¹¶è¡Œè¯·æ±‚</li><li>æœåŠ¡ç«¯æ¨é€</li></ul></li></ul><h2 id="ä»€ä¹ˆæ˜¯-HTTPS-ä¸­é—´äººæ”»å‡»ï¼Ÿå¦‚ä½•é¢„é˜²ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-HTTPS-ä¸­é—´äººæ”»å‡»ï¼Ÿå¦‚ä½•é¢„é˜²ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ HTTPS ä¸­é—´äººæ”»å‡»ï¼Ÿå¦‚ä½•é¢„é˜²ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ HTTPS ä¸­é—´äººæ”»å‡»ï¼Ÿå¦‚ä½•é¢„é˜²ï¼Ÿ</h2><ul><li><p>HTTPS åŠ å¯†ä¼ è¾“</p><ul><li>HTTP æ˜æ–‡ä¼ è¾“</li><li>HTTPS åŠ å¯†ä¼ è¾“ HTTP + TLS/SSL</li><li><img src="/images/md_img/https.jpg" alt="httpsåŠ å¯†"></li></ul></li><li><p>ç­”æ¡ˆ</p><ul><li>ä½¿ç”¨æ­£è§„å‚å•†çš„åŠ å¯†è¯ä¹¦å¯ä»¥é˜²æ­¢ä¸­é—´äººæ”»å‡»</li></ul></li></ul><h2 id="defer-å’Œ-async-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#defer-å’Œ-async-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="defer å’Œ async æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>defer å’Œ async æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><ul><li>åŒºåˆ« <img src="/images/md_img/defer_async.jpg" alt="åŒºåˆ«"></li></ul><h2 id="prefetch-å’Œ-dns-prefetch-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#prefetch-å’Œ-dns-prefetch-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="prefetch å’Œ dns-prefetch æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>prefetch å’Œ dns-prefetch æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><ul><li>preload èµ„æºåœ¨å½“å‰é¡µé¢ä½¿ç”¨ï¼Œä¼šä¼˜å…ˆåŠ è½½</li><li>prefetch èµ„æºåœ¨æœªæ¥é¡µé¢ä½¿ç”¨ï¼Œç©ºé—²æ—¶åŠ è½½</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preload&quot;</span> <span class="attr">href</span>=<span class="string">&quot;style.css&quot;</span> <span class="attr">as</span>=<span class="string">&quot;style&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;prefetch&quot;</span> <span class="attr">href</span>=<span class="string">&quot;other.js&quot;</span> <span class="attr">as</span>=<span class="string">&quot;script&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br></pre></td></tr></table></figure><ul><li>dns-prefetch å³ DNS é¢„æŸ¥è¯¢</li><li>preconnect å³ DNS é¢„è¿æ¥</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;dns-prefetch&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://www.xxx.com/&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preconnect&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://www.xxx.com&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h2 id="ä½ çŸ¥é“å“ªäº›å‰ç«¯æ”»å‡»ï¼Ÿè¯¥å¦‚ä½•é¢„é˜²ï¼Ÿ"><a href="#ä½ çŸ¥é“å“ªäº›å‰ç«¯æ”»å‡»ï¼Ÿè¯¥å¦‚ä½•é¢„é˜²ï¼Ÿ" class="headerlink" title="ä½ çŸ¥é“å“ªäº›å‰ç«¯æ”»å‡»ï¼Ÿè¯¥å¦‚ä½•é¢„é˜²ï¼Ÿ"></a>ä½ çŸ¥é“å“ªäº›å‰ç«¯æ”»å‡»ï¼Ÿè¯¥å¦‚ä½•é¢„é˜²ï¼Ÿ</h2><ul><li><p>xss</p><ul><li>Cross Site Script è·¨ç«™è„šæœ¬æ”»å‡»</li><li>æ‰‹æ®µï¼šå°† js ä»£ç æ’å…¥åˆ°ç½‘é¡µå†…å®¹ä¸­ï¼Œæ¸²æŸ“æ—¶æ‰§è¡Œ js ä»£ç </li><li>é¢„é˜²ï¼šç‰¹æ®Šå­—ç¬¦æ›¿æ¢ï¼ˆå‰ç«¯æˆ–åç«¯ï¼‰</li></ul></li><li><p>csrf</p><ul><li><p>Cross Site Request Forgery è·¨ç«™è¯·æ±‚ä¼ªé€ </p></li><li><p>æ‰‹æ®µï¼šè¯±å¯¼ç”¨æˆ·å»è®¿é—®å¦ä¸€ä¸ªç½‘ç«™çš„æ¥å£ï¼Œä¼ªé€ è¯·æ±‚</p></li><li><p>é¢„é˜²ï¼šä¸¥æ ¼çš„è·¨åŸŸé™åˆ¶ + éªŒè¯ç æœºåˆ¶</p></li><li><p>csrf è¯¦ç»†è¿‡ç¨‹</p><ul><li>ç”¨æˆ·ç™»å½• A ç½‘ç«™ï¼Œæœ‰äº† A ç½‘ç«™çš„ cookie</li><li>è¯±å¯¼ç”¨æˆ·åˆ° B ç½‘ç«™ï¼Œå¹¶å‘èµ· A ç½‘ç«™çš„è¯·æ±‚</li><li>A ç½‘ç«™çš„ API å‘ç°æœ‰ cookieï¼Œè®¤ä¸ºæ˜¯ç”¨æˆ·è‡ªå·±æ“ä½œçš„</li></ul></li><li><p>csrf é¢„é˜²æ‰‹æ®µ</p><ul><li>ä¸¥æ ¼çš„è·¨åŸŸè¯·æ±‚é™åˆ¶ï¼Œå¦‚åˆ¤æ–­ refererï¼ˆè¯·æ±‚æ¥æºï¼‰</li><li>ä¸º cookie è®¾ç½® SameSiteï¼Œç¦æ­¢è·¨åŸŸä¼ é€’ cookie</li><li>å…³é”®æ¥å£ä½¿ç”¨çŸ­ä¿¡éªŒè¯ç </li></ul></li></ul></li><li><p>ç‚¹å‡»åŠ«æŒ</p><ul><li>click jacing</li><li>æ‰‹æ®µï¼šè¯±å¯¼ç•Œé¢ä¸Šè’™ä¸€ä¸ªé€æ˜ iframeï¼Œè¯±å¯¼ç”¨æˆ·ç‚¹å‡»</li><li>é¢„é˜²ï¼šè®© iframe ä¸èƒ½è·¨åŸŸåŠ è½½</li></ul></li><li><p>DDos</p><ul><li>Distribute denial-of-service åˆ†å¸ƒå¼æ‹’ç»æœåŠ¡</li><li>æ‰‹æ®µï¼šåˆ†å¸ƒå¼çš„ã€å¤§è§„æ¨¡çš„æµé‡è®¿é—®ï¼Œä½¿æœåŠ¡å™¨ç˜«ç—ª</li><li>é¢„é˜²ï¼šè½¯ä»¶å±‚ä¸å¥½åšï¼Œéœ€ç¡¬ä»¶é¢„é˜²ï¼ˆå¦‚é˜¿é‡Œäº‘ WAFï¼‰</li></ul></li><li><p>SQL æ³¨å…¥</p><ul><li>æ‰‹æ®µï¼šæäº¤å†…å®¹æ—¶å†™å…¥ SQL è¯­å¥ï¼Œç ´ç¯æ•°æ®åº“</li><li>é¢„é˜²ï¼šå¤„ç†è¾“å…¥çš„å†…å®¹ï¼Œæ›¿æ¢ç‰¹æ®Šå­—ç¬¦</li></ul></li></ul><h2 id="WebSocket-å’Œ-HTTP-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#WebSocket-å’Œ-HTTP-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="WebSocket å’Œ HTTP æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>WebSocket å’Œ HTTP æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><ul><li><p>WebSocket</p><ul><li><p>æ”¯æŒç«¯å¯¹ç«¯é€šè®¯</p></li><li><p>å¯ä»¥ç”± client å‘èµ·ï¼Œä¹Ÿå¯ä»¥ç”± server å‘èµ·</p></li><li><p>ç”¨äºï¼šæ¶ˆæ¯é€šçŸ¥ï¼Œç›´æ’­é—´è®¨è®ºåŒºï¼ŒèŠå¤©å®¤ï¼ŒååŒç¼–è¾‘</p></li><li><p>client</p></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">WebSocketServer</span> &#125; = <span class="built_in">require</span>(<span class="string">&quot;ws&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> wsServer = <span class="keyword">new</span> <span class="title class_">WebSocketServer</span>(&#123; <span class="attr">port</span>: <span class="number">3000</span> &#125;);</span><br><span class="line"></span><br><span class="line">wsServer.<span class="title function_">on</span>(<span class="string">&quot;connection&quot;</span>, <span class="function">(<span class="params">ws</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;connection&quot;</span>);</span><br><span class="line"></span><br><span class="line">  ws.<span class="title function_">on</span>(<span class="string">&quot;message&quot;</span>, <span class="function">(<span class="params">msg</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æ”¶åˆ°äº†ä¿¡æ¯&quot;</span>, msg.<span class="title function_">toString</span>());</span><br><span class="line"></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      ws.<span class="title function_">send</span>(<span class="string">&quot;æœåŠ¡ç«¯å·²ç»æ”¶åˆ°äº†ä¿¡æ¯&quot;</span> + msg.<span class="title function_">toString</span>());</span><br><span class="line">    &#125;, <span class="number">2000</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ul><li>server</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ws = <span class="keyword">new</span> <span class="title class_">WebSocket</span>(<span class="string">&quot;ws://127.0.0.1:3000&quot;</span>);</span><br><span class="line">ws.<span class="property">onopen</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;opened&quot;</span>);</span><br><span class="line">  ws.<span class="title function_">send</span>(<span class="string">&quot;client opened&quot;</span>);</span><br><span class="line">&#125;;</span><br><span class="line">ws.<span class="property">onmessage</span> = <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æ”¶åˆ°äº†ä¿¡æ¯&quot;</span>, event.<span class="property">data</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> btn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn&quot;</span>);</span><br><span class="line">btn.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;clicked&quot;</span>);</span><br><span class="line"></span><br><span class="line">  ws.<span class="title function_">send</span>(<span class="string">&quot;å½“å‰æ—¶é—´&quot;</span> + <span class="title class_">Date</span>.<span class="title function_">now</span>());</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>WebSocket è¿æ¥è¿‡ç¨‹</p><ul><li>å…ˆå‘èµ·ä¸€ä¸ª http è¯·æ±‚</li><li>æˆåŠŸä¹‹åå†å‡çº§åˆ° WebSocket åè®®ï¼Œå†é€šè®¯</li></ul></li><li><p>WebSocket å’Œ HTTP åŒºåˆ«ï¼Ÿ</p><ul><li>WebSocket åè®®åæ˜¯ ws://,å¯åŒç«¯å‘èµ·è¯·æ±‚</li><li>WebSocket æ²¡æœ‰è·¨åŸŸé™åˆ¶</li><li>é€šè¿‡ send å’Œ onmessage é€šè®¯ï¼ˆHTTP é€šè¿‡ req å’Œ resï¼‰</li></ul></li><li><p>ws å¯å‡çº§ä¸º wssï¼ˆlike httpsï¼‰</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createServer &#125; <span class="keyword">from</span> <span class="string">&quot;https&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; readFileSync &#125; <span class="keyword">from</span> <span class="string">&quot;fs&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">WebSocketServer</span> &#125; <span class="keyword">from</span> <span class="string">&quot;ws&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> server = <span class="title function_">createServer</span>(&#123;</span><br><span class="line">  <span class="attr">cert</span>: <span class="title function_">readFileSync</span>(<span class="string">&quot;/path/to/cert.pem&quot;</span>),</span><br><span class="line">  <span class="attr">key</span>: <span class="title function_">readFileSync</span>(<span class="string">&quot;/path/to/key.pem&quot;</span>),</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> wss = <span class="keyword">new</span> <span class="title class_">WebSocketServer</span>(&#123; server &#125;);</span><br></pre></td></tr></table></figure></li><li><p>å®é™…é¡¹ç›®æ¨è socket.io,API æ›´ç®€æ´</p></li></ul><h2 id="WebSocket-å’Œ-HTTP-é•¿è½®è¯¢çš„åŒºåˆ«ï¼Ÿ"><a href="#WebSocket-å’Œ-HTTP-é•¿è½®è¯¢çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="WebSocket å’Œ HTTP é•¿è½®è¯¢çš„åŒºåˆ«ï¼Ÿ"></a>WebSocket å’Œ HTTP é•¿è½®è¯¢çš„åŒºåˆ«ï¼Ÿ</h2><ul><li><p>åŒºåˆ«</p><ul><li>HTTP é•¿è½®è¯¢ï¼šå®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ï¼ŒæœåŠ¡ç«¯é˜»å¡ï¼Œä¸ä¼šç«‹å³è¿”å›</li><li>WebSocketï¼šå®¢æˆ·ç«¯å¯å‘èµ·è¯·æ±‚ï¼ŒæœåŠ¡ç«¯ä¹Ÿå¯å‘èµ·è¯·æ±‚</li></ul></li><li><p>æ³¨æ„</p><ul><li>HTTP é•¿è½®è¯¢ï¼Œéœ€å¤„ç† timeoutï¼Œå³ timeout ä¹‹åé‡æ–°å‘è¯·æ±‚</li></ul></li></ul><h2 id="æè¿°ä»è¾“å…¥-url-åˆ°é¡µé¢å±•ç¤ºçš„å®Œæ•´è¿‡ç¨‹"><a href="#æè¿°ä»è¾“å…¥-url-åˆ°é¡µé¢å±•ç¤ºçš„å®Œæ•´è¿‡ç¨‹" class="headerlink" title="æè¿°ä»è¾“å…¥ url åˆ°é¡µé¢å±•ç¤ºçš„å®Œæ•´è¿‡ç¨‹"></a>æè¿°ä»è¾“å…¥ url åˆ°é¡µé¢å±•ç¤ºçš„å®Œæ•´è¿‡ç¨‹</h2><ul><li>ç½‘ç»œè¯·æ±‚<ul><li>DNS æŸ¥è¯¢ï¼ˆå¾—åˆ° IPï¼‰ï¼Œå»ºç«‹ TCP è¿æ¥ï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰</li><li>æµè§ˆå™¨å‘èµ· HTTP è¯·æ±‚</li><li>æ”¶åˆ°è¯·æ±‚å“åº”ï¼Œå¾—åˆ° HTML æºä»£ç </li></ul></li><li>è§£æï¼ˆå­—ç¬¦ä¸² -&gt; ç»“æ„åŒ–æ•°æ®ï¼‰<ul><li>HTML æ„å»º DOM æ ‘</li><li>CSS æ„å»º CSSOM æ ‘ï¼ˆstyle treeï¼‰</li><li>ä¸¤è€…ç»“åˆï¼Œå½¢æˆ render tree</li></ul></li><li>æ¸²æŸ“ï¼ˆrender tree ç»˜åˆ¶åˆ°é¡µé¢ï¼‰<ul><li>è®¡ç®—å„ä¸ª DOM çš„å°ºå¯¸ã€å®šä½ï¼Œæœ€åç»˜åˆ¶åˆ°é¡µé¢</li><li>é‡åˆ° js å¯èƒ½ä¼šæ‰§è¡Œï¼ˆå‚è€ƒ deferã€asyncï¼‰</li><li>å¼‚æ­¥ CSSã€å›¾ç‰‡åŠ è½½ï¼Œå¯èƒ½ä¼šè§¦å‘é‡æ–°æ¸²æŸ“</li></ul></li></ul><h2 id="é‡ç»˜-repaint-é‡æ’-reflow-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#é‡ç»˜-repaint-é‡æ’-reflow-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="é‡ç»˜ repaint é‡æ’ reflow æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>é‡ç»˜ repaint é‡æ’ reflow æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><ul><li><p>é‡ç»˜ repaint</p><ul><li>å…ƒç´ å¤–è§‚æ”¹å˜ï¼Œå¦‚é¢œè‰²ã€èƒŒæ™¯è‰²</li><li>ä½†å…ƒç´ çš„å°ºå¯¸ã€å®šä½ä¸å˜ï¼Œä¸ä¼šå½±å“åˆ°å…¶ä»–å…ƒç´ çš„ä½ç½®</li></ul></li><li><p>é‡æ’ relfow</p><ul><li>é‡æ–°è®¡ç®—å°ºå¯¸å’Œå¸ƒå±€ï¼Œå¯èƒ½ä¼šå½±å“å…¶ä»–å…ƒç´ çš„ä½ç½®</li><li>å¦‚å…ƒç´ é«˜åº¦å¢åŠ ï¼Œå¯èƒ½ä¼šä½¿ç›¸é‚»å…ƒç´ ä½ç½®ä¸‹ç§»</li></ul></li><li><p>åŒºåˆ«</p><ul><li>é‡æ’æ¯”é‡ç»˜å½±å“æ›´å¤§ï¼Œæ¶ˆè€—æ›´å¤§</li><li>æ‰€ä»¥ï¼Œè¦å°½é‡é¿å…æ— æ„ä¹‰çš„é‡æ’</li></ul></li><li><p>å‡å°‘é‡æ’çš„æ–¹æ³•</p><ul><li>é›†ä¸­ä¿®æ”¹æ ·å¼ï¼Œæˆ–ç›´æ¥åˆ‡æ¢ cssã€class</li><li>ä¿®æ”¹ä¹‹å‰å…ˆè®¾ç½® display: none,è„±ç¦»æ–‡æ¡£æµ</li><li>ä½¿ç”¨ BFC ç‰¹æ€§ï¼Œä¸å½±å“å…¶ä»–å…ƒç´ ä½ç½®</li><li>é¢‘å‘è§¦å‘ï¼ˆresizeã€scrollï¼‰ä½¿ç”¨èŠ‚æµå’Œé˜²æŠ–</li><li>ä½¿ç”¨ createDocumentFragment æ‰¹é‡æ“ä½œ DOM</li><li>ä¼˜åŒ–åŠ¨ç”»ï¼Œä½¿ç”¨ CSS3 å’Œ requestAnimationFrame</li></ul></li></ul><h2 id="å¦‚ä½•å®ç°ç½‘é¡µå¤šæ ‡ç­¾é€šè®¯ï¼Ÿ"><a href="#å¦‚ä½•å®ç°ç½‘é¡µå¤šæ ‡ç­¾é€šè®¯ï¼Ÿ" class="headerlink" title="å¦‚ä½•å®ç°ç½‘é¡µå¤šæ ‡ç­¾é€šè®¯ï¼Ÿ"></a>å¦‚ä½•å®ç°ç½‘é¡µå¤šæ ‡ç­¾é€šè®¯ï¼Ÿ</h2><ul><li><p>ä½¿ç”¨ WebSocket</p><ul><li>æ— è·¨åŸŸé™åˆ¶</li><li>éœ€è¦æœåŠ¡ç«¯æ”¯æŒï¼Œæˆæœ¬é«˜</li></ul></li><li><p>localStorageï¼ˆè·¨åŸŸä¸å…±äº«ï¼‰</p><ul><li>åŒåŸŸçš„ A å’Œ B ä¸¤ä¸ªé¡µé¢</li><li>A é¡µé¢è®¾ç½® localStorage</li><li>B é¡µé¢å¯ç›‘å¬åˆ° localStorage å€¼çš„ä¿®æ”¹</li></ul></li><li><p>SharedWorker(å¿…é¡»åŒåŸŸ)</p><ul><li>SharedWorker æ˜¯ WebWorker çš„ä¸€ç§</li><li>WebWorker å¯å¼€å¯å­è¿›ç¨‹æ‰§è¡Œ JSï¼Œä½†ä¸èƒ½æ“ä½œ DOM</li><li>SharedWorker å¯å•ç‹¬å¼€å¯ä¸€ä¸ªè¿›ç¨‹ï¼Œç”¨äºåŒåŸŸé¡µé¢é€šè®¯</li></ul></li></ul><h2 id="ç½‘é¡µå’Œ-iframe-å¦‚ä½•é€šè®¯ï¼Ÿ"><a href="#ç½‘é¡µå’Œ-iframe-å¦‚ä½•é€šè®¯ï¼Ÿ" class="headerlink" title="ç½‘é¡µå’Œ iframe å¦‚ä½•é€šè®¯ï¼Ÿ"></a>ç½‘é¡µå’Œ iframe å¦‚ä½•é€šè®¯ï¼Ÿ</h2><ul><li>ä½¿ç”¨ postMessage é€šè®¯</li><li>æ³¨æ„è·¨åŸŸçš„é™åˆ¶å’Œåˆ¤æ–­</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// çˆ¶ä¼ å­</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">iframe1</span>.<span class="property">contentWindow</span>.<span class="title function_">postMessage</span>(<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;*&quot;</span>);</span><br><span class="line"><span class="comment">// å­ä¼ çˆ¶</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">parent</span>.<span class="title function_">postMessage</span>(<span class="string">&quot;world&quot;</span>, <span class="string">&quot;*&quot;</span>);</span><br><span class="line"><span class="comment">// æ¥æ”¶</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;message&quot;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(event.<span class="property">origin</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(event.<span class="property">data</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="è¯·æè¿°-koa2-æ´‹è‘±åœˆæ¨¡å‹ï¼Ÿ"><a href="#è¯·æè¿°-koa2-æ´‹è‘±åœˆæ¨¡å‹ï¼Ÿ" class="headerlink" title="è¯·æè¿° koa2 æ´‹è‘±åœˆæ¨¡å‹ï¼Ÿ"></a>è¯·æè¿° koa2 æ´‹è‘±åœˆæ¨¡å‹ï¼Ÿ</h2><ul><li><p>koa2</p><ul><li>ä¸€ä¸ªç®€çº¦ã€æµè¡Œçš„ nodejs æ¡†æ¶</li><li>é€šè¿‡ä¸­é—´ä»¶ç»„ç»‡ä»£ç </li><li>å¤šä¸ªä¸­é—´ä»¶ä»¥â€œæ´‹è‘±åœˆæ¨¡å‹â€æ‰§è¡Œ</li></ul></li><li><p>ä»£ç æ‰§è¡Œè¿‡ç¨‹</p><ul><li><img src="/images/md_img/koa1.jpg" alt="koa1"></li></ul></li><li><p>æ´‹è‘±åœˆæ¨¡å‹(ç±»ä¼¼æ•è·å†’æ³¡)</p><ul><li><img src="/images/md_img/koa2.jpg" alt="koa2"></li></ul></li></ul><h2 id="H5-é¡µé¢å¦‚ä½•è¿›è¡Œé¦–å±ä¼˜åŒ–ï¼Ÿ"><a href="#H5-é¡µé¢å¦‚ä½•è¿›è¡Œé¦–å±ä¼˜åŒ–ï¼Ÿ" class="headerlink" title="H5 é¡µé¢å¦‚ä½•è¿›è¡Œé¦–å±ä¼˜åŒ–ï¼Ÿ"></a>H5 é¡µé¢å¦‚ä½•è¿›è¡Œé¦–å±ä¼˜åŒ–ï¼Ÿ</h2><ul><li><p>è·¯ç”±æ‡’åŠ è½½</p><ul><li>é€‚ç”¨äº SPA</li><li>è·¯ç”±æ‹†åˆ†ï¼Œä¼˜å…ˆä¿è¯é¦–é¡µåŠ è½½</li></ul></li><li><p>æœåŠ¡ç«¯æ¸²æŸ“ SSR</p><ul><li>ä¼ ç»Ÿå‰åç«¯åˆ†ç¦»ï¼ˆSPAï¼‰æ¸²æŸ“é¡µé¢çš„è¿‡ç¨‹å¤æ‚</li><li>SSR æ¸²æŸ“é¡µé¢è¿‡ç¨‹ç®€å•ï¼Œæ‰€æœ‰æ€§èƒ½å¥½</li><li>å¦‚æœæ˜¯çº¯ H5 é¡µé¢ï¼ŒSSR æ˜¯æ€§èƒ½ä¼˜åŒ–çš„ç»ˆææ–¹æ¡ˆ</li></ul></li><li><p>App é¢„å–</p><ul><li>å¦‚æœ H5 åœ¨ App WebView ä¸­å±•ç¤ºï¼Œå¯ä½¿ç”¨ App é¢„å–</li><li>ç”¨æˆ·è®¿é—®åˆ—è¡¨é¡µé¢æ—¶ï¼ŒApp é¢„åŠ è½½æ–‡ç« é¦–å±å†…å®¹</li><li>ç”¨æˆ·è¿›å…¥ H5 é¡µé¢ï¼Œç›´æ¥ä» App ä¸­è·å–å†…å®¹ï¼Œç¬é—´å±•ç¤ºé¦–å±</li></ul></li><li><p>åˆ†é¡µ</p><ul><li>é’ˆå¯¹åˆ—è¡¨é¡µ</li><li>é»˜è®¤åªå±•ç¤ºç¬¬ä¸€é¡µå†…å®¹</li><li>ä¸Šæ»‘åŠ è½½æ›´å¤š</li></ul></li><li><p>å›¾ç‰‡æ‡’åŠ è½½ lazyload</p><ul><li>é’ˆå¯¹è¯¦æƒ…é¡µ</li><li>é»˜è®¤åªå±•ç¤ºæ–‡æœ¬å†…å®¹ï¼Œç„¶åå‡ºå‘å›¾ç‰‡æ‡’åŠ è½½</li><li>æ³¨æ„ï¼šæå‰è®¾ç½®å›¾ç‰‡å°ºå¯¸ï¼Œå°½é‡åªé‡ç»˜ä¸é‡æ’</li></ul></li><li><p>Hybrid</p><ul><li>æå‰å°† HTMLã€JSã€CSS ä¸‹è½½åˆ° App å†…éƒ¨</li><li>åœ¨ App webview ä¸­ä½¿ç”¨ fileï¼š// åè®®åŠ è½½é¡µé¢æ–‡ä»¶</li><li>å†ç”¨ Ajax è·å–å†…å®¹å¹¶å±•ç¤ºï¼ˆä¹Ÿç»“åˆ App é¢„å–ï¼‰</li></ul></li></ul><h2 id="åç«¯ä¸€æ¬¡æ€§è¿”å›-10w-æ¡æ•°æ®ï¼Œä½ è¯¥å¦‚ä½•æ¸²æŸ“ï¼Ÿ"><a href="#åç«¯ä¸€æ¬¡æ€§è¿”å›-10w-æ¡æ•°æ®ï¼Œä½ è¯¥å¦‚ä½•æ¸²æŸ“ï¼Ÿ" class="headerlink" title="åç«¯ä¸€æ¬¡æ€§è¿”å› 10w æ¡æ•°æ®ï¼Œä½ è¯¥å¦‚ä½•æ¸²æŸ“ï¼Ÿ"></a>åç«¯ä¸€æ¬¡æ€§è¿”å› 10w æ¡æ•°æ®ï¼Œä½ è¯¥å¦‚ä½•æ¸²æŸ“ï¼Ÿ</h2><ul><li><p>è®¾è®¡ä¸åˆç†ï¼Œå»ç äº†åç«¯</p></li><li><p>è‡ªå®šä¹‰ä¸­é—´å±‚</p><ul><li>è‡ªå®šä¹‰ nodejs ä¸­é—´å±‚ï¼Œè·å–å¹¶æ‹†åˆ†è¿™ 10w æ¡æ•°æ®</li><li>å‰ç«¯å¯¹æ¥ nodejs ä¸­é—´å±‚ï¼Œè€Œä¸æ˜¯æœåŠ¡ç«¯</li><li>æˆæœ¬æ¯”è¾ƒé«˜</li></ul></li><li><p>è™šæ‹Ÿåˆ—è¡¨</p><ul><li>åªæ¸²æŸ“å¯è§†åŒºåŸŸ</li></ul></li></ul><h2 id="React-éƒ½æœ‰å“ªäº›æ³¨æ„ç‚¹ï¼ˆå‘ï¼‰ï¼Ÿ"><a href="#React-éƒ½æœ‰å“ªäº›æ³¨æ„ç‚¹ï¼ˆå‘ï¼‰ï¼Ÿ" class="headerlink" title="React éƒ½æœ‰å“ªäº›æ³¨æ„ç‚¹ï¼ˆå‘ï¼‰ï¼Ÿ"></a>React éƒ½æœ‰å“ªäº›æ³¨æ„ç‚¹ï¼ˆå‘ï¼‰ï¼Ÿ</h2><ul><li><p>è‡ªå®šä¹‰ç»„ä»¶é¦–å­—æ¯å¤§å†™</p></li><li><p>js å…³é”®å­—çš„å†²çªï¼ˆhtmlForã€classNameï¼‰</p></li><li><p>JSX çš„æ•°æ®ç±»å‹</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">Demo</span> value=&#123;<span class="number">1</span>&#125; /&gt; <span class="comment">// number</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Demo</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span> /&gt;</span></span> <span class="comment">// string</span></span><br></pre></td></tr></table></figure></li><li><p>setState æ˜¯å¼‚æ­¥æ›´æ–°çš„</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="title function_">setState</span>(</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">num</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">num</span> + <span class="number">1</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">num</span>); <span class="comment">// æ­£ç¡®</span></span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">num</span>); <span class="comment">// é”™è¯¯</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="å¦‚ä½•ç»Ÿä¸€ç›‘å¬-Vue-ç»„ä»¶æŠ¥é”™ï¼Ÿ"><a href="#å¦‚ä½•ç»Ÿä¸€ç›‘å¬-Vue-ç»„ä»¶æŠ¥é”™ï¼Ÿ" class="headerlink" title="å¦‚ä½•ç»Ÿä¸€ç›‘å¬ Vue ç»„ä»¶æŠ¥é”™ï¼Ÿ"></a>å¦‚ä½•ç»Ÿä¸€ç›‘å¬ Vue ç»„ä»¶æŠ¥é”™ï¼Ÿ</h2><ul><li><p>window.onerror</p><ul><li>å…¨å±€ç›‘å¬æ‰€æœ‰ js é”™è¯¯</li><li>tryâ€¦catch ä¸­çš„é”™è¯¯æ— æ³•è¢«ç›‘å¬åˆ°</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">onerror</span> = <span class="keyword">function</span> (<span class="params">msg, source, line, column, error</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(msg, source, line, column, error);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// or</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;error&quot;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(event);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>errorCaptured ç”Ÿå‘½å‘¨æœŸ</p><ul><li>ç›‘å¬æ‰€æœ‰ä¸‹çº§ç»„ä»¶çš„é”™è¯¯</li><li>è¿”å› false ä¼šé˜»æ­¢å‘ä¸Šä¼ æ’­</li></ul></li><li><p>errorHandler é…ç½®</p><ul><li>Vue å…¨å±€é”™è¯¯ç›‘å¬ï¼Œæ‰€æœ‰ç»„ä»¶é”™è¯¯éƒ½ä¼šæ±‡æ€»åˆ°è¿™é‡Œ</li><li>ä½† errorCaptured è¿”å› falseï¼Œä¸ä¼šä¼ æ’­åˆ°è¿™é‡Œ</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="property">config</span>.<span class="property">errorHandler</span> = <span class="function">(<span class="params">err, vm, info</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(error, vm, info);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li><li><p>å¼‚æ­¥é”™è¯¯</p><ul><li>å¼‚æ­¥å›è°ƒé‡Œé¢çš„é”™è¯¯ï¼ŒerrorHandler ç›‘å¬ä¸åˆ°</li><li>éœ€è¦ä½¿ç”¨ window.onerror</li></ul></li></ul><h2 id="å¦‚ä½•ç»Ÿä¸€ç›‘å¬-React-æŠ¥é”™ï¼Ÿ"><a href="#å¦‚ä½•ç»Ÿä¸€ç›‘å¬-React-æŠ¥é”™ï¼Ÿ" class="headerlink" title="å¦‚ä½•ç»Ÿä¸€ç›‘å¬ React æŠ¥é”™ï¼Ÿ"></a>å¦‚ä½•ç»Ÿä¸€ç›‘å¬ React æŠ¥é”™ï¼Ÿ</h2><ul><li><p>ErrorBoundary ç»„ä»¶</p><ul><li>ç›‘å¬æ‰€æœ‰ä¸‹çº§ç»„ä»¶æŠ¥é”™ï¼Œå¯é™çº§å±•ç¤º UI</li><li>åªç›‘å¬ç»„ä»¶æ¸²æŸ“æ—¶æŠ¥é”™ï¼Œä¸ç›‘å¬ DOM äº‹ä»¶ã€å¼‚æ­¥é”™è¯¯<ul><li>ä¸ç›‘å¬ DOM äº‹ä»¶æŠ¥é”™ï¼Œå¯ç”¨ tryâ€¦catch,window.onerror</li></ul></li><li>åªåœ¨ production ç¯å¢ƒç”Ÿæ•ˆï¼Œdev ä¼šç›´æ¥æŠ›å‡ºé”™è¯¯</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ErrorBoundary</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(props);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">      <span class="attr">error</span>: <span class="literal">null</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">getDerivedStateFromError</span>(<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="comment">// æ›´æ–°stateï¼Œæ˜¾ç¤ºé™çº§UI</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123; error &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">componentDidCatch</span>(<span class="params">error, errorInfo</span>) &#123;</span><br><span class="line">    <span class="comment">// ç»Ÿè®¡ä¸ŠæŠ¥é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error, errorInfo);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">error</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>æŠ¥é”™äº†<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">children</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="å¦‚æœä¸€ä¸ª-H5-å¾ˆæ…¢ï¼Œä½ è¯¥å¦‚ä½•æ’æŸ¥æ€§èƒ½é—®é¢˜ï¼Ÿ"><a href="#å¦‚æœä¸€ä¸ª-H5-å¾ˆæ…¢ï¼Œä½ è¯¥å¦‚ä½•æ’æŸ¥æ€§èƒ½é—®é¢˜ï¼Ÿ" class="headerlink" title="å¦‚æœä¸€ä¸ª H5 å¾ˆæ…¢ï¼Œä½ è¯¥å¦‚ä½•æ’æŸ¥æ€§èƒ½é—®é¢˜ï¼Ÿ"></a>å¦‚æœä¸€ä¸ª H5 å¾ˆæ…¢ï¼Œä½ è¯¥å¦‚ä½•æ’æŸ¥æ€§èƒ½é—®é¢˜ï¼Ÿ</h2><ul><li><p>å‰ç«¯æ€§èƒ½æŒ‡æ ‡</p><ul><li>First Paintï¼ˆFPï¼‰</li><li>First ContentFul Paintï¼ˆFCPï¼‰</li><li>DomContentLoadedï¼ˆDCLï¼‰</li><li>Largest Contentful Paintï¼ˆLCPï¼‰</li><li>Loadï¼ˆLï¼‰</li></ul></li><li><p>Chrome devtools</p><ul><li>Performance å¯æŸ¥çœ‹ä¸Šè¿°æ€§èƒ½æŒ‡æ ‡ï¼Œå¹¶æœ‰ç½‘é¡µå¿«ç…§</li><li>Network å¯ä»¥æŸ¥çœ‹å„ä¸ªèµ„æºçš„åŠ è½½æ—¶é—´</li></ul></li><li><p>lighthouseï¼ˆç¬¬ä¸‰æ–¹æ€§èƒ½è¯„æµ‹å·¥å…·ï¼‰</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// terminal</span></span><br><span class="line">lighthouse <span class="attr">https</span>:<span class="comment">//www.imooc.com/ --view --preset=desktop</span></span><br></pre></td></tr></table></figure></li><li><p>é€šè¿‡ä»¥ä¸Šå·¥å…·æ¥åˆ¤è¯»æ˜¯åŠ è½½æ…¢è¿˜æ˜¯æ¸²æŸ“æ…¢</p><ul><li>åŠ è½½æ…¢<ul><li>ä¼˜åŒ–æœåŠ¡ç«¯ç¡¬ä»¶é…ç½®ï¼Œä½¿ç”¨ CDN</li><li>è·¯ç”±æ‡’åŠ è½½ï¼Œå¤§ç»„ä»¶å¼‚æ­¥åŠ è½½-å‡å°‘ä¸»åŒ…çš„ä½“ç§¯</li><li>ä¼˜åŒ– http ç¼“å­˜ç­–ç•¥</li></ul></li><li>æ¸²æŸ“æ…¢<ul><li>ä¼˜åŒ–æœåŠ¡ç«¯æ¥å£ï¼ˆå¦‚ ajax è·å–æ•°æ®æ…¢ï¼‰</li><li>ä¼˜åŒ–å…¨æ®µç»„ä»¶å†…éƒ¨é€»è¾‘</li><li>æœåŠ¡ç«¯æ¸²æŸ“ SSR</li></ul></li></ul></li></ul><h2 id="å¦‚ä½•ç†è§£-HTML-è¯­ä¹‰åŒ–ï¼Ÿ"><a href="#å¦‚ä½•ç†è§£-HTML-è¯­ä¹‰åŒ–ï¼Ÿ" class="headerlink" title="å¦‚ä½•ç†è§£ HTML è¯­ä¹‰åŒ–ï¼Ÿ"></a>å¦‚ä½•ç†è§£ HTML è¯­ä¹‰åŒ–ï¼Ÿ</h2><ul><li>è®©äººæ›´å®¹æ˜“è¯»æ‡‚ï¼ˆå¢åŠ ä»£ç å¯è¯»æ€§ï¼‰</li><li>è®©æœç´¢å¼•æ“æ›´å®¹æ˜“è¯»æ‡‚ï¼ˆSEOï¼‰</li></ul><h2 id="å—çŠ¶å…ƒç´ -amp-å†…è”å…ƒç´ ï¼Ÿ"><a href="#å—çŠ¶å…ƒç´ -amp-å†…è”å…ƒç´ ï¼Ÿ" class="headerlink" title="å—çŠ¶å…ƒç´  &amp; å†…è”å…ƒç´ ï¼Ÿ"></a>å—çŠ¶å…ƒç´  &amp; å†…è”å…ƒç´ ï¼Ÿ</h2><ul><li>å—çº§å…ƒç´ <ul><li>display: block/table;</li><li>divã€h1ã€h2ã€tableã€ulã€olã€p ç­‰</li></ul></li><li>å†…è”å…ƒç´ <ul><li>display: inline/inline-block;</li><li>spanã€imgã€inputã€button ç­‰ï¼›</li></ul></li></ul><h2 id="å¦‚ä¸‹ä»£ç ï¼Œè¯·é—®-div-çš„-offsetWidth-æ˜¯å¤šå¤§ï¼Ÿ"><a href="#å¦‚ä¸‹ä»£ç ï¼Œè¯·é—®-div-çš„-offsetWidth-æ˜¯å¤šå¤§ï¼Ÿ" class="headerlink" title="å¦‚ä¸‹ä»£ç ï¼Œè¯·é—® div çš„ offsetWidth æ˜¯å¤šå¤§ï¼Ÿ"></a>å¦‚ä¸‹ä»£ç ï¼Œè¯·é—® div çš„ offsetWidth æ˜¯å¤šå¤§ï¼Ÿ</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-id">#div</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">padding</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">margin</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>offsetWidth = (å†…å®¹å®½åº¦ + å†…è¾¹è· + è¾¹æ¡†)ï¼Œæ— å¤–è¾¹è·</li><li>ç­”æ¡ˆï¼š 100 + 10 + 1 * 2 = 122px</li><li>å¯ä»¥é€šè¿‡ï¼šbox-sizing: border-box; ä½¿å¾— offsetWidth=100</li></ul><h2 id="margin-çºµå‘é‡å é—®é¢˜"><a href="#margin-çºµå‘é‡å é—®é¢˜" class="headerlink" title="margin çºµå‘é‡å é—®é¢˜"></a>margin çºµå‘é‡å é—®é¢˜</h2><ul><li>å¦‚ä¸‹ä»£ç ï¼ŒA å’Œ B ä¹‹é—´çš„è·ç¦»æ˜¯å¤šå°‘ï¼Ÿ</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-tag">p</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">line-height</span>: <span class="number">1</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">margin-bottom</span>: <span class="number">15px</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>A<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>B<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>ç›¸é‚»å…ƒç´ çš„ margin-top å’Œ margin-bottom ä¼šå‘ç”Ÿé‡å </li><li>ç©ºç™½å†…å®¹ p æ ‡ç­¾ä¹Ÿä¼šé‡å </li><li>ç­”æ¡ˆï¼š15px</li></ul><h2 id="margin-è´Ÿå€¼é—®é¢˜"><a href="#margin-è´Ÿå€¼é—®é¢˜" class="headerlink" title="margin è´Ÿå€¼é—®é¢˜"></a>margin è´Ÿå€¼é—®é¢˜</h2><ul><li>margin-top å’Œ margin-left è´Ÿå€¼ï¼Œå…ƒç´ å‘ä¸Šã€å‘å·¦ç§»åŠ¨</li><li>margin-right è´Ÿå€¼ï¼Œå³ä¾§å…ƒç´ å·¦ç§»ï¼Œè‡ªèº«ä¸å—å½±å“</li><li>margin-bottom è´Ÿå€¼ï¼Œä¸‹æ–¹å…ƒç´ ä¸Šç§»ï¼Œè‡ªèº«ä¸å—å½±å“</li></ul><h2 id="BFC-ç†è§£ä¸åº”ç”¨"><a href="#BFC-ç†è§£ä¸åº”ç”¨" class="headerlink" title="BFC ç†è§£ä¸åº”ç”¨"></a>BFC ç†è§£ä¸åº”ç”¨</h2><ul><li>Block format contextï¼Œå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡</li><li>ä¸€å—ç‹¬ç«‹æ¸²æŸ“åŒºåŸŸï¼Œå†…éƒ¨å…ƒç´ çš„æ¸²æŸ“ä¸ä¼šå½±å“è¾¹ç•Œä»¥å¤–çš„å…ƒç´ </li><li>å½¢æˆ BFC çš„å¸¸è§æ¡ä»¶<ul><li>float ä¸æ˜¯ none</li><li>position æ˜¯ absolute æˆ– fixed</li><li>overflow ä¸æ˜¯ visible</li><li>display æ˜¯ flexã€inline-block ç­‰</li></ul></li><li>å¸¸è§åº”ç”¨ï¼š<ul><li>æ¸…é™¤æµ®åŠ¨</li></ul></li></ul><h2 id="float-å¸ƒå±€"><a href="#float-å¸ƒå±€" class="headerlink" title="float å¸ƒå±€"></a>float å¸ƒå±€</h2><ul><li>å®ç°åœ£æ¯å¸ƒå±€å’ŒåŒé£ç¿¼å¸ƒå±€<ul><li>ç›®çš„<ul><li>ä¸‰æ å¸ƒå±€ï¼Œä¸­é—´ä¸€æ æœ€å…ˆåŠ è½½å’Œæ¸²æŸ“</li><li>ä¸¤ä¾§å†…å®¹å›ºå®šï¼Œä¸­é—´å†…å®¹éšç€å®½åº¦è‡ªé€‚åº”</li><li>ä¸€èˆ¬ç”¨äº PC ç½‘é¡µ</li></ul></li><li>å®ç°<ul><li>ä½¿ç”¨ float å¸ƒå±€</li><li>ä¸¤ä¾§ä½¿ç”¨ margin è´Ÿå€¼ï¼Œä»¥ä¾¿å’Œä¸­é—´å†…å®¹æ¨ªå‘é‡å </li><li>é˜²æ­¢ä¸­é—´å†…å®¹è¢«ä¸¤ä¾§è¦†ç›–ï¼Œä¸€ä¸ªç”¨ paddingï¼Œä¸€ä¸ªç”¨ margin</li></ul></li></ul></li></ul><h2 id="css-å®šä½"><a href="#css-å®šä½" class="headerlink" title="css å®šä½"></a>css å®šä½</h2><ul><li><p>absolute å’Œ relative å®šä½</p><ul><li>relative ä¾æ®è‡ªèº«å®šä½</li><li>absolute ä¾æ®æœ€è¿‘ä¸€å±‚çš„å®šä½å…ƒç´ å®šä½<ul><li>å®šä½å…ƒç´ ï¼šabsoluteã€relativeã€fiedã€body</li></ul></li></ul></li><li><p>å±…ä¸­å¯¹é½</p><ul><li><p>æ°´å¹³å±…ä¸­</p><ul><li>inline å…ƒç´ ï¼štext-align: center</li><li>block å…ƒç´ ï¼šmargin: auto</li><li>absolute å…ƒç´ ï¼šleft:50% + margin-left è´Ÿå€¼</li></ul></li><li><p>å‚ç›´å±…ä¸­</p><ul><li>inline å…ƒç´ ï¼šline-height çš„å€¼ç­‰äº height çš„å€¼</li><li>absolute å…ƒç´ ï¼štop: 50% + margin-top è´Ÿå€¼</li><li>absolute å…ƒç´ ï¼štransform(-50%, -50%)</li><li>absolute å…ƒç´ ï¼štop,left,bottom,right=0 + margin: auto</li></ul></li></ul></li></ul><h2 id="css-å›¾æ–‡æ ·å¼"><a href="#css-å›¾æ–‡æ ·å¼" class="headerlink" title="css-å›¾æ–‡æ ·å¼"></a>css-å›¾æ–‡æ ·å¼</h2><ul><li><p>line-height å¦‚ä½•ç»§æ‰¿</p><ul><li>å¦‚ä¸‹ä»£ç ï¼Œp æ ‡ç­¾çš„è¡Œé«˜æ˜¯å¤šå°‘ï¼Ÿ</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">font-size</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">line-height</span>: <span class="number">200%</span>; <span class="comment">/* 40px */</span></span></span><br><span class="line"><span class="language-css">    <span class="attribute">line-height</span>: <span class="number">1.5</span>; <span class="comment">/* 16 * 1.5 = 24 */</span></span></span><br><span class="line"><span class="language-css">    <span class="attribute">line-height</span>: <span class="number">30px</span>; <span class="comment">/* 30px */</span></span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css">  <span class="selector-tag">p</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>AAA<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>ç­”æ¡ˆï¼š 40px</li></ul></li><li><p>å…·ä½“æ•°å€¼ï¼Œå¦‚ 30pxï¼Œåˆ™ç»§æ‰¿è¯¥å€¼</p></li><li><p>å†™æ¯”ä¾‹ï¼Œå¦‚ 2/1.5ï¼Œåˆ™ç»§æ‰¿å½“å‰å…ƒç´  font-size çš„æ¯”ä¾‹</p></li><li><p>å†™ç™¾åˆ†æ¯”ï¼Œå¦‚ 200%ï¼Œåˆ™ç»§æ‰¿è®¡ç®—å‡ºæ¥çš„å€¼</p></li></ul><h2 id="css-å“åº”å¼"><a href="#css-å“åº”å¼" class="headerlink" title="css-å“åº”å¼"></a>css-å“åº”å¼</h2><ul><li><p>å¸¸è§é•¿åº¦å•ä½</p><ul><li>pxï¼Œç»å¯¹é•¿åº¦å•ä½</li><li>emï¼Œç›¸å¯¹é•¿åº¦å•ä½ï¼Œç›¸å¯¹äºçˆ¶å…ƒç´ </li><li>remï¼Œç›¸å¯¹é•¿åº¦å•ä½ï¼Œç›¸å¯¹äºæ ¹å…ƒç´ ï¼Œå¸¸ç”¨ä¸å“åº”å¼å¸ƒå±€</li></ul></li><li><p>å“åº”å¼å¸ƒå±€å¸¸ç”¨æ–¹æ¡ˆ</p><ul><li>media-queryï¼Œæ ¹æ®ä¸åŒå±å¹•å®½åº¦è®¾ç½®æ ¹å…ƒç´  font-size</li><li>remï¼ŒåŸºäºæ ¹å…ƒç´ çš„ç›¸å¯¹å•ä½</li><li>rem çš„å¼Šç«¯ï¼šâ€œé˜¶æ¢¯â€æ€§</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="keyword">@media</span> <span class="keyword">only</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">374px</span>) &#123;</span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">html</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">font-size</span>: <span class="number">86px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css">  <span class="keyword">@media</span> <span class="keyword">only</span> scrren <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">375px</span>) <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">413px</span>) &#123;</span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">html</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">font-size</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css">  <span class="keyword">@media</span> <span class="keyword">only</span> scrren <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">414px</span>) &#123;</span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">html</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">font-size</span>: <span class="number">110px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">font-size</span>: <span class="number">0.16rem</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-id">#div</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">width</span>: <span class="number">1rem</span>; <span class="comment">/* 100px */</span></span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div&quot;</span>&gt;</span>div<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>ç½‘é¡µè§†å£å°ºå¯¸</p><ul><li>window.screen.height // å±å¹•é«˜åº¦</li><li>window.innerHeight // ç½‘é¡µè§†å£é«˜åº¦<ul><li>vh ç½‘é¡µè§†å£é«˜åº¦çš„ 1/100</li><li>vw ç½‘é¡µè§†å£å®½åº¦çš„ 1/100</li><li>vmax å–ä¸¤è€…æœ€å¤§å€¼ï¼›vmin å–ä¸¤è€…æœ€å°å€¼</li></ul></li><li>document.body.clientHeight // body é«˜åº¦</li></ul></li></ul><h2 id="typeof-è¿ç®—ç¬¦"><a href="#typeof-è¿ç®—ç¬¦" class="headerlink" title="typeof è¿ç®—ç¬¦"></a>typeof è¿ç®—ç¬¦</h2><ul><li>è¯†åˆ«æ‰€æœ‰å€¼ç±»å‹<ul><li>undefined</li><li>string</li><li>number</li><li>boolean</li><li>Symbol</li></ul></li><li>è¯†åˆ«å‡½æ•°ã€<ul><li>function</li></ul></li><li>åˆ¤æ–­æ˜¯å¦æ˜¯å¼•ç”¨ç±»å‹<ul><li>object</li></ul></li></ul><h2 id="æ‰‹å†™-call"><a href="#æ‰‹å†™-call" class="headerlink" title="æ‰‹å†™ call"></a>æ‰‹å†™ call</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">call</span> = <span class="keyword">function</span> (<span class="params">context, ...args</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> ctx = context || <span class="variable language_">window</span>;</span><br><span class="line">  <span class="keyword">const</span> fn = <span class="title class_">Symbol</span>();</span><br><span class="line"></span><br><span class="line">  ctx[fn] = <span class="variable language_">this</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> res = ctx[fn](...args);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">delete</span> ctx[fn];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="æ‰‹å†™-apply"><a href="#æ‰‹å†™-apply" class="headerlink" title="æ‰‹å†™ apply"></a>æ‰‹å†™ apply</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">apply</span> = <span class="keyword">function</span> (<span class="params">context, args = []</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> ctx = context || <span class="variable language_">window</span>;</span><br><span class="line">  <span class="keyword">const</span> fn = <span class="title class_">Symbol</span>();</span><br><span class="line"></span><br><span class="line">  ctx[fn] = <span class="variable language_">this</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> res = ctx[fn](...args);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">delete</span> ctx[fn];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="æ‰‹å†™-bind"><a href="#æ‰‹å†™-bind" class="headerlink" title="æ‰‹å†™ bind"></a>æ‰‹å†™ bind</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">bind</span> = <span class="keyword">function</span> (<span class="params">context, ...args</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> fn = <span class="variable language_">this</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> <span class="title function_">newFn</span>(<span class="params">...newFnArgs</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span> <span class="keyword">instanceof</span> newFn) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title function_">fn</span>(...args, ...newFnArgs);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> fn.<span class="title function_">apply</span>(context, [...args, ...newFnArgs]);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="æ‰‹å†™-instanceof"><a href="#æ‰‹å†™-instanceof" class="headerlink" title="æ‰‹å†™ instanceof"></a>æ‰‹å†™ instanceof</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 1.é€šè¿‡left.__proto__.__proto__è¿™ç§æ–¹å¼ä»ä¸‹å¾€ä¸Šè·å–åŸå‹å¯¹è±¡</span></span><br><span class="line"><span class="comment">* 2.é€šè¿‡Object.create(null)çš„å®ä¾‹æ˜¯æ²¡æœ‰åŸå‹é“¾</span></span><br><span class="line"><span class="comment">* 3.æœ‰åŸå‹é“¾çš„å®ä¾‹çš„å°½å¤´éƒ½æ˜¯Object</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">instanceof</span>(<span class="params">left, right</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!left.<span class="property">__proto__</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">if</span> (right === <span class="title class_">Object</span> || left.<span class="property">__proto__</span> === right.<span class="property">protorype</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">instanceof</span>(left.<span class="property">__proto__</span>, right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¼‚æ­¥å’Œå•çº¿ç¨‹"><a href="#å¼‚æ­¥å’Œå•çº¿ç¨‹" class="headerlink" title="å¼‚æ­¥å’Œå•çº¿ç¨‹"></a>å¼‚æ­¥å’Œå•çº¿ç¨‹</h2><ul><li><p>js æ˜¯å•çº¿ç¨‹è¯­è¨€ï¼ŒåŒæ—¶åªèƒ½åšä¸€ä»¶äº‹</p></li><li><p>æµè§ˆå™¨å’Œ nodejs å·²æ”¯æŒå¯åŠ¨è¿›ç¨‹ï¼Œå¦‚ web worker</p></li><li><p>js å’Œ dom æ¸²æŸ“å…±ç”¨åŒä¸€ä¸ªçº¿ç¨‹ï¼Œå› ä¸º js å¯ä»¥ä¿®æ”¹ dom ç»“æ„ï¼Œæ‰€ä»¥é‡åˆ°ç­‰å¾…ï¼ˆç½‘ç»œè¯·æ±‚ï¼Œå®šæ—¶ä»»åŠ¡ï¼‰å°±ä¼šå¡ä½</p><ul><li>ç½‘ç»œè¯·æ±‚ï¼Œå¦‚ ajax å›¾ç‰‡åŠ è½½</li><li>å®šæ—¶ä»»åŠ¡ï¼Œå¦‚ setTimeout</li></ul></li><li><p>æ‰€ä»¥éœ€è¦å¼‚æ­¥ï¼ˆcallbackï¼‰</p></li><li><p>å¼‚æ­¥å’ŒåŒæ­¥çš„åŒºåˆ«ï¼Ÿ</p><ul><li>åŸºäº js æ˜¯å•çº¿ç¨‹è¯­è¨€</li><li>å¼‚æ­¥ä¸ä¼šé˜»å¡ä»£ç æ‰§è¡Œ</li><li>åŒæ­¥ä¼šé˜»å¡ä»£ç æ‰§è¡Œ</li></ul></li></ul><h2 id="forâ€¦of"><a href="#forâ€¦of" class="headerlink" title="forâ€¦of"></a>forâ€¦of</h2><ul><li><p>forâ€¦inï¼ˆä»¥åŠ forEachã€forï¼‰éƒ½æ˜¯å¸¸è§„çš„åŒæ­¥éå†</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">muti</span>(<span class="params">num</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">resolve</span>(num * num);</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> nums = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç°è±¡ï¼š1såï¼ŒåŒæ—¶æ‰“å° 1ï¼Œ4ï¼Œ9</span></span><br><span class="line">nums.<span class="title function_">forEach</span>(<span class="keyword">async</span> (item) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="title function_">muti</span>(item);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç°è±¡ï¼šå¼‚æ­¥ç­‰å¾…æ‰“å°</span></span><br><span class="line">!(<span class="keyword">async</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> nums) &#123;</span><br><span class="line">    <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="title function_">muti</span>(i);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure></li><li><p>forâ€¦of å¸¸ç”¨äºå¼‚æ­¥çš„éå†</p></li></ul><h2 id="ä»-event-loop-è§£é‡Šï¼Œä¸ºä»€ä¹ˆå¾®ä»»åŠ¡æ‰§è¡Œæ›´æ—©ï¼Ÿ"><a href="#ä»-event-loop-è§£é‡Šï¼Œä¸ºä»€ä¹ˆå¾®ä»»åŠ¡æ‰§è¡Œæ›´æ—©ï¼Ÿ" class="headerlink" title="ä» event loop è§£é‡Šï¼Œä¸ºä»€ä¹ˆå¾®ä»»åŠ¡æ‰§è¡Œæ›´æ—©ï¼Ÿ"></a>ä» event loop è§£é‡Šï¼Œä¸ºä»€ä¹ˆå¾®ä»»åŠ¡æ‰§è¡Œæ›´æ—©ï¼Ÿ</h2><ul><li><p>å®ä»»åŠ¡ï¼š</p></li><li><p>setTimeoutã€setIntervalã€ajaxã€DOM äº‹ä»¶</p></li><li><p>å¾®ä»»åŠ¡ï¼š</p></li><li><p>promiseã€async/await</p></li><li><p>å¾®ä»»åŠ¡çš„æ‰§è¡Œæ—¶æœºè¦æ¯”å®ä»»åŠ¡è¦æ—©</p></li><li><p>æ¯æ¬¡ call stack æ¸…ç©ºï¼Œå³æ¯æ¬¡è½®è¯¢ç»“æŸï¼Œå³åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæˆ</p></li><li><p>å¦‚æœ DOM ç»“æ„æœ‰æ”¹å˜ï¼Œåˆ™ä¼šé‡æ–°è¿›è¡Œ DOM æ¸²æŸ“</p></li><li><p>å®ä»»åŠ¡ï¼šDOM æ¸²æŸ“åè§¦å‘ï¼Œå¦‚ setTimeout</p></li><li><p>å¾®ä»»åŠ¡ï¼šDOM æ¸²æŸ“å‰è§¦å‘ï¼Œå¦‚ promise</p></li><li><p>æ‰€ä»¥ï¼šå¾®ä»»åŠ¡å…ˆäºå®ä»»åŠ¡å…ˆæ‰§è¡Œ</p></li><li><p>è¡¥å……ï¼š</p><ul><li>å¾®ä»»åŠ¡éƒ½æ˜¯ ES6 è¯­æ³•è§„å®šçš„</li><li>å®ä»»åŠ¡éƒ½æ˜¯ç”±æµè§ˆå™¨è§„å®šçš„</li></ul></li></ul><h2 id="BOM-API"><a href="#BOM-API" class="headerlink" title="BOM API"></a>BOM API</h2><ul><li>navigator</li><li>screen</li><li>location</li><li>history</li></ul><h2 id="ajax"><a href="#ajax" class="headerlink" title="ajax"></a>ajax</h2><ul><li><p>xhr.readyState</p><ul><li>0 (æœªåˆå§‹åŒ–)è¿˜æ²¡æœ‰è°ƒç”¨ send()æ–¹æ³•</li><li>1 (è½½å…¥)å·²è°ƒç”¨ send()æ–¹æ³•ï¼Œæ­£åœ¨å‘é€è¯·æ±‚</li><li>2 (è½½å…¥å®Œæˆ) send()æ–¹æ³•æ‰§è¡Œå®Œæˆï¼Œå·²ç»æ¥æ”¶åˆ°å…¨éƒ¨å“åº”å†…å®¹</li><li>3 (äº¤äº’) æ­£åœ¨è§£æå“åº”å†…å®¹</li><li>4 (å®Œæˆ) å“åº”å†…å®¹è§£æå®Œæˆï¼Œå¯ä»¥åœ¨å®¢æˆ·ç«¯è°ƒç”¨</li></ul></li><li><p>xhr.status</p><ul><li>2xx è¡¨ç¤ºæˆåŠŸå¤„ç†è¯·æ±‚ï¼Œå¦‚ 200</li><li>3xx éœ€è¦é‡å®šå‘ï¼Œæµè§ˆå™¨ç›´æ¥è·³è½¬ï¼Œå¦‚ 301ã€302ã€304</li><li>4xx å®¢æˆ·ç«¯è¯·æ±‚é”™è¯¯ï¼Œå¦‚ 404ã€403</li><li>5xx æœåŠ¡ç«¯é”™è¯¯</li></ul></li></ul><h2 id="å¸¸è§çŠ¶æ€ç ï¼Ÿ"><a href="#å¸¸è§çŠ¶æ€ç ï¼Ÿ" class="headerlink" title="å¸¸è§çŠ¶æ€ç ï¼Ÿ"></a>å¸¸è§çŠ¶æ€ç ï¼Ÿ</h2><p>ä¿¡æ¯å“åº”</p><ul><li>101 åè®®åˆ‡æ¢</li></ul><p>æˆåŠŸå“åº”</p><ul><li>200 æˆåŠŸ</li><li>204 è¯·æ±‚æˆåŠŸï¼Œä¸åæ‚”ä»»ä½•å†…å®¹</li><li>206 åˆ†å—è¯·æ±‚æˆåŠŸ</li></ul><p>é‡å®šå‘</p><ul><li>301 æ°¸ä¹…é‡å®šå‘ï¼ˆé…åˆ locationï¼Œæµè§ˆå™¨è‡ªåŠ¨å¤„ç†ï¼‰</li><li>302 ä¸´æ—¶é‡å®šå‘ï¼ˆé…åˆ locationï¼Œæµè§ˆå™¨è‡ªåŠ¨å¤„ç†ï¼‰</li><li>304 èµ„æºæœªè¢«ä¿®æ”¹ï¼ˆåå•†ç¼“å­˜ ï¼‰</li></ul><p>å®¢æˆ·ç«¯å“åº”</p><ul><li>400 æ— æ³•è¢«æœåŠ¡å™¨ç†è§£</li><li>401 æœªæˆæƒ</li><li>403 ç¦æ­¢è®¿é—®</li><li>404 èµ„æºæœªæ‰¾åˆ°</li><li>405 æ²¡æœ‰æƒé™,è¯·æ±‚æ–¹æ³•(get/post ç­‰)é”™è¯¯</li></ul><p>æœåŠ¡ç«¯å“åº”</p><ul><li><p>500 æœåŠ¡å™¨é”™è¯¯</p></li><li><p>503 æœåŠ¡ä¸å¯è¾¾</p></li><li><p>504 ç½‘å…³è¶…æ—¶</p></li><li><p>æœ¬èº«çŠ¶æ€ç å°±æ˜¯ä¸€ç§çº¦å®šï¼Œä¸€ç§åè®®å’Œè§„èŒƒï¼Œä¸è¦å°è¯•è¿åè§„èŒƒï¼Œä¾‹å¦‚ IE æµè§ˆå™¨</p></li></ul><h2 id="http-å¸¸è§-methodsï¼Ÿ"><a href="#http-å¸¸è§-methodsï¼Ÿ" class="headerlink" title="http å¸¸è§ methodsï¼Ÿ"></a>http å¸¸è§ methodsï¼Ÿ</h2><ul><li><p>ä¼ ç»Ÿ methods</p><ul><li>get è·å–æœåŠ¡å™¨çš„æ•°æ®</li><li>post å‘æœåŠ¡å™¨æäº¤æ•°æ®</li></ul></li><li><p>æ–°çš„ methods</p><ul><li>get è·å–æ•°æ®</li><li>post æ–°å»ºæ•°æ®</li><li>patch/put æ›´æ–°æ•°æ®</li><li>delete åˆ é™¤æ•°æ®</li></ul></li></ul><h2 id="Restful-API"><a href="#Restful-API" class="headerlink" title="Restful API"></a>Restful API</h2><ul><li><p>ä¸€ç§æ–°çš„ API è®¾è®¡æ–¹æ³•</p></li><li><p>ä¼ ç»Ÿ API è®¾è®¡ï¼šæŠŠæ¯ä¸ª url å½“ä½œä¸€ä¸ªåŠŸèƒ½</p></li><li><p>Restful API è®¾è®¡ï¼šæŠŠæ¯ä¸ª url å½“ä½œä¸€ä¸ªå”¯ä¸€çš„èµ„æº</p></li><li><p>åŸåˆ™</p><ul><li>ä¸ä½¿ç”¨ url å‚æ•°<ul><li>ä¼ ç»Ÿ API è®¾è®¡ï¼š/api/list?pageIndex=2</li><li>Restful API è®¾è®¡ï¼š/api/list/2</li></ul></li><li>ç”¨ method è¡¨ç¤ºæ“ä½œç±»å‹<ul><li>ä¼ ç»Ÿ API è®¾è®¡<ul><li>post è¯·æ±‚ /api/create-blog</li><li>post è¯·æ±‚ /api/update-blog?id=100</li><li>get è¯·æ±‚ /api/get-blog?id=100</li></ul></li><li>Restful API è¯·æ±‚<ul><li>post è¯·æ±‚ /api/blog</li><li>patch è¯·æ±‚ /api/blog/100</li><li>get è¯·æ±‚ /api/blog/100</li></ul></li></ul></li></ul></li></ul><h2 id="å¸¸è§-http-headersï¼Ÿ"><a href="#å¸¸è§-http-headersï¼Ÿ" class="headerlink" title="å¸¸è§ http headersï¼Ÿ"></a>å¸¸è§ http headersï¼Ÿ</h2><ul><li><p>Request Headers</p><ul><li>Accept æµè§ˆå™¨å¯æ¥æ”¶çš„æ•°æ®æ ¼å¼</li><li>Accept-Encoding æµè§ˆå™¨å¯æ¥æ”¶çš„å‹ç¼©ç®—æ³•ï¼Œå¦‚ gzip</li><li>Accept-Languange æµè§ˆå™¨å¯æ¥æ”¶çš„è¯­è¨€ï¼Œå¦‚ zh-CN</li><li>Connection: keep-alive ä¸€æ¬¡ TCP è¿æ¥é‡å¤ä½¿ç”¨</li><li>cookie</li><li>Host å¦‚ï¼š<a href="http://www.baidu.com/">www.baidu.com</a></li><li>Cache-Control</li><li>User-Agent ï¼ˆç®€ç§° UAï¼‰æµè§ˆå™¨ä¿¡æ¯</li><li>Content-type å‘é€æ•°æ®çš„æ ¼å¼ï¼Œå¦‚ application/json</li></ul></li><li><p>Response Headers</p><ul><li>Content-type è¿”å›æ•°æ®çš„æ ¼å¼ï¼Œå¦‚ application/json</li><li>Content-length è¿”å›æ•°æ®çš„å¤§å°ï¼Œå¤šå°‘å­—èŠ‚</li><li>Content-Encoding è¿”å›æ•°æ®çš„å‹ç¼©ç®—æ³•ï¼Œå¦‚ gzip</li><li>Set-Cookie</li><li>Expires</li><li>Etag</li><li>date</li></ul></li><li><p>è‡ªå®šä¹‰ header</p></li><li><p>ç¼“å­˜ç›¸å…³çš„ headers</p><ul><li>Cache-Control Expires</li><li>Last-Modified If-Modified-Since</li><li>Etag If-None-Match</li></ul></li></ul><h2 id="http-ç¼“å­˜ï¼Ÿ"><a href="#http-ç¼“å­˜ï¼Ÿ" class="headerlink" title="http ç¼“å­˜ï¼Ÿ"></a>http ç¼“å­˜ï¼Ÿ</h2><ul><li><p>å¼ºåˆ¶ç¼“å­˜</p><ul><li><img src="/images/md_img/%E5%BC%BA%E5%88%B6%E7%BC%93%E5%AD%98.png" alt="å¼ºåˆ¶ç¼“å­˜"></li><li>å¼ºåˆ¶ç¼“å­˜è¿‡æœŸåä¼šå»æœåŠ¡ç«¯é‡æ–°è¯·æ±‚</li></ul></li><li><p>åå•†ç¼“å­˜</p><ul><li>æœåŠ¡ç«¯ç¼“å­˜ç­–ç•¥</li><li>æœåŠ¡ç«¯åˆ¤æ–­å®¢æˆ·ç«¯èµ„æºï¼Œæ˜¯å¦å’ŒæœåŠ¡ç«¯èµ„æºä¸€æ ·</li><li>ä¸€è‡´åˆ™è¿”å› 304ï¼Œå¦åˆ™è¿”å› 200 å’Œæœ€æ–°çš„èµ„æº</li><li>åœ¨ Response Headers ä¸­ï¼Œæœ‰ä¸¤ç§ï¼š<ul><li>Last-Modified èµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´<ul><li><img src="/images/md_img/last_modified.png" alt="last_modified"></li></ul></li><li>Etag èµ„æºçš„å”¯ä¸€æ ‡è¯†<ul><li><img src="/images/md_img/etag.png" alt="etag"></li></ul></li></ul></li><li><img src="/images/md_img/%E5%8D%8F%E5%95%86%E7%BC%93%E5%AD%98.png" alt="åå•†ç¼“å­˜"></li><li>Last-Modified å’Œ Etag<ul><li>ä¼šä¼˜å…ˆä½¿ç”¨ Etag</li><li>Last-Modified åªèƒ½ç²¾ç¡®åˆ°ç§’çº§</li><li>å¦‚æœèµ„æºè¢«é‡å¤ç”Ÿæˆï¼Œè€Œå†…å®¹ä¸å˜ï¼Œåˆ™ Etag æ›´ç²¾ç¡®</li></ul></li></ul></li><li><p>ç»¼è¿°</p><ul><li><img src="/images/md_img/http%E7%BC%93%E5%AD%98.png" alt="httpç¼“å­˜"></li></ul></li></ul><h2 id="åˆ·æ–°æ“ä½œå¯¹ç¼“å­˜çš„å½±å“ï¼Ÿ"><a href="#åˆ·æ–°æ“ä½œå¯¹ç¼“å­˜çš„å½±å“ï¼Ÿ" class="headerlink" title="åˆ·æ–°æ“ä½œå¯¹ç¼“å­˜çš„å½±å“ï¼Ÿ"></a>åˆ·æ–°æ“ä½œå¯¹ç¼“å­˜çš„å½±å“ï¼Ÿ</h2><ul><li>æ­£å¸¸æ“ä½œï¼šåœ°å€è¾“å…¥ urlï¼Œè·³è½¬é“¾æ¥ï¼Œå‰è¿›åé€€ç­‰<ul><li>å¼ºåˆ¶ç¼“å­˜æœ‰æ•ˆï¼Œåå•†ç¼“å­˜æœ‰æ•ˆ</li></ul></li><li>æ‰‹åŠ¨åˆ·æ–°ï¼šF5ï¼Œç‚¹å‡»åˆ·æ–°æŒ‰é’®ï¼Œå³å‡»èœå•åˆ·æ–°<ul><li>å¼ºåˆ¶ç¼“å­˜å¤±æ•ˆï¼Œåå•†ç¼“å­˜æœ‰æ•ˆ</li></ul></li><li>å¼ºåˆ¶åˆ·æ–°ï¼šctrl + F5<ul><li>å¼ºåˆ¶ç¼“å­˜å¤±æ•ˆï¼Œåå•†ç¼“å­˜å¤±æ•ˆ</li></ul></li></ul><h2 id="è®¿é—®æµè§ˆå™¨ç½‘é¡µè¿‡ç¨‹ï¼Ÿ"><a href="#è®¿é—®æµè§ˆå™¨ç½‘é¡µè¿‡ç¨‹ï¼Ÿ" class="headerlink" title="è®¿é—®æµè§ˆå™¨ç½‘é¡µè¿‡ç¨‹ï¼Ÿ"></a>è®¿é—®æµè§ˆå™¨ç½‘é¡µè¿‡ç¨‹ï¼Ÿ</h2><ul><li><p>åŠ è½½è¿‡ç¨‹</p><ul><li>DNS è§£æï¼šåŸŸå-&gt;IP åœ°å€</li><li>æµè§ˆå™¨æ ¹æ® IP åœ°å€ axing æœåŠ¡å™¨å‘èµ· http è¯·æ±‚</li><li>æœåŠ¡å™¨å¤„ç† http è¯·æ±‚ï¼Œå¹¶è¿”å›ç»™æµè§ˆå™¨</li></ul></li><li><p>æ¸²æŸ“è¿‡ç¨‹</p><ul><li>æ ¹æ® HTML ä»£ç ç”Ÿæˆ DOM Tree</li><li>æ ¹æ® CSS ä»£ç ç”Ÿæˆ CSSOM æ ‘</li><li>å°† DOM Tree å’Œ CSSOM æ•´åˆæˆ Render Tree</li><li>æ ¹æ® Render Tree æ¸²æŸ“é¡µé¢</li><li>é‡åˆ° script æ ‡ç­¾åˆ™åœæ­¢æ¸²æŸ“ï¼Œä¼˜å…ˆåŠ è½½å¹¶æ‰§è¡Œ js ä»£ç ï¼Œå®Œæˆå†ç»§ç»­</li><li>ç›´è‡³æŠŠ Render Tree æ¸²æŸ“å®Œæˆ</li></ul></li></ul><h2 id="ä¸ºä½•è¦å°†-css-æ–‡ä»¶æ”¾åœ¨-head-æ ‡ç­¾ä¸­å‘¢ï¼Ÿ"><a href="#ä¸ºä½•è¦å°†-css-æ–‡ä»¶æ”¾åœ¨-head-æ ‡ç­¾ä¸­å‘¢ï¼Ÿ" class="headerlink" title="ä¸ºä½•è¦å°† css æ–‡ä»¶æ”¾åœ¨ head æ ‡ç­¾ä¸­å‘¢ï¼Ÿ"></a>ä¸ºä½•è¦å°† css æ–‡ä»¶æ”¾åœ¨ head æ ‡ç­¾ä¸­å‘¢ï¼Ÿ</h2><ul><li>css æ”¾åœ¨ body æ ‡ç­¾å°¾éƒ¨æ—¶ï¼ŒDOMTree æ„å»ºå®Œæˆä¹‹åä¾¿å¼€å§‹æ„å»º RenderTreeï¼Œå¹¶è®¡ç®—å¸ƒå±€æ¸²æŸ“ç½‘é¡µï¼Œç­‰åŠ è½½è§£æå®Œ css ä¹‹åï¼Œå¼€å§‹æ„å»º CSSOMTreeï¼Œå¹¶å’Œ DOMTree é‡æ–°æ„å»º RenderTreeï¼Œé‡æ–°è®¡ç®—å¸ƒå±€æ¸²æŸ“ç½‘é¡µ</li><li>css æ”¾åœ¨ head ä¸­ï¼Œå…ˆåŠ è½½ cssï¼Œä¹‹åè§£æ css æ„å»º CSSOMTreeï¼ŒåŒæ—¶æ„å»º DOMTreeï¼ŒCSSOMTree å’Œ DOMTree éƒ½æ„å»ºå®Œæˆä¹‹åå¼€å§‹æ„å»º Render Treeï¼Œè®¡ç®—å¸ƒå±€ç½‘é¡µ</li><li>ä¸¤è€…å¯¹æ¯”ï¼Œcss æ”¾åœ¨ head ä¸­æ¯”æ”¾åœ¨ body æ ‡ç­¾å°¾éƒ¨å°‘äº†ä¸€æ¬¡æ„å»º RenderTreeï¼Œä¸€æ¬¡è®¡ç®—å¸ƒå±€å’Œä¸€æ¬¡æ¸²æŸ“ç½‘é¡µï¼Œå› æ­¤æ€§èƒ½ä¼šæ›´å¥½ï¼Œå¹¶ä¸” css æ”¾åœ¨ body æ ‡ç­¾å°¾éƒ¨ä¼šåœ¨ç½‘é¡µä¸­çŸ­æš‚å‡ºç°è£¸å¥”çš„ htmlï¼Œä¸åˆ©äºç”¨æˆ·ä½“éªŒ</li></ul><h2 id="ä¸ºä»€ä¹ˆå»ºè®®æŠŠ-script-æ ‡ç­¾æ”¾åœ¨-body-æœ€åï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆå»ºè®®æŠŠ-script-æ ‡ç­¾æ”¾åœ¨-body-æœ€åï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆå»ºè®®æŠŠ script æ ‡ç­¾æ”¾åœ¨ body æœ€åï¼Ÿ"></a>ä¸ºä»€ä¹ˆå»ºè®®æŠŠ script æ ‡ç­¾æ”¾åœ¨ body æœ€åï¼Ÿ</h2><ul><li>js çš„ä¸‹è½½å’Œæ‰§è¡Œä¼šé˜»å¡ DOMTree çš„æ„å»ºï¼Œå³ä¼šä¸­æ–­ DOMTree çš„æ›´æ–°ï¼Œæ‰€ä»¥å¦‚æœæŠŠ script æ ‡ç­¾æ”¾åœ¨é¦–å±èŒƒå›´å†…çš„ HTML ä»£ç ä¸­ä¼šæˆªæ–­é¦–å±çš„å†…å®¹ã€‚</li><li>æ™®é€š script æ ‡ç­¾æ”¾åœ¨ body åº•éƒ¨ï¼Œåšä¸ä¸åš async æˆ–è€… defer å¤„ç†éƒ½ä¸ä¼šå½±å“é¦–å±æ—¶é—´ï¼Œä½†æ˜¯ä¼šå½±å“ DomContentLoad å’Œ load çš„æ—¶é—´ï¼Œè¿›è€Œå½±å“ä¾èµ–ä»–ä»¬çš„ä»£ç çš„æ‰§è¡Œçš„å¼€å§‹æ—¶é—´</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;load&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// é¡µé¢çš„å…¨éƒ¨èµ„æºåŠ è½½å®Œæˆåæ‰ä¼šæ‰§è¡Œï¼ŒåŒ…æ‹¬å›¾ç‰‡ã€è§†é¢‘ç­‰</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;DOMContentLoaded&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// DOM æ¸²æŸ“å®Œæˆåå³å¯æ‰§è¡Œï¼Œæ­¤æ—¶å›¾ç‰‡ã€è§†é¢‘å¯èƒ½è¿˜æ²¡æœ‰åŠ è½½å®Œ</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="æ€§èƒ½ä¼˜åŒ–"><a href="#æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="æ€§èƒ½ä¼˜åŒ–"></a>æ€§èƒ½ä¼˜åŒ–</h2><ul><li>æ€§èƒ½ä¼˜åŒ–åŸåˆ™<ul><li>å¤šä½¿ç”¨å†…å­˜ã€ç¼“å­˜</li><li>å‡å°‘ CUP è®¡ç®—ï¼Œå‡å°‘ç½‘ç»œåŠ è½½è€—æ—¶</li><li>é€‚ç”¨äºæ‰€æœ‰å˜æˆçš„æ€§èƒ½ä¼˜åŒ–-ç©ºé—´æ¢æ—¶é—´</li></ul></li><li>ä»ä½•å…¥æ‰‹<ul><li>è®©åŠ è½½æ›´å¿«<ul><li>å‡å°‘èµ„æºä½“ç§¯ï¼šå‹ç¼©ä»£ç </li><li>å‡å°‘è®¿é—®æ¬¡æ•°ï¼šåˆå¹¶ä»£ç ï¼ŒSSR æœåŠ¡å™¨æ¸²æŸ“ï¼Œç¼“å­˜ï¼Œç²¾çµå›¾<ul><li>ç¼“å­˜ï¼ˆwebpack contenthashï¼‰<ul><li>é™æ€èµ„æºåŠ  hash åç¼€ï¼Œæ ¹æ®æ–‡ä»¶å†…å®¹è®¡ç®— hash</li><li>æ–‡ä»¶å†…å®¹ä¸å˜ï¼Œåˆ™ hash ä¸å˜åˆ™ url ä¸å˜</li><li>url å’Œæ–‡ä»¶ä¸å˜ï¼Œåˆ™ä¼šè‡ªåŠ¨è§¦å‘ http çš„ç¼“å­˜æœºåˆ¶ï¼Œè¿”å› 304</li></ul></li><li>SSR<ul><li>æœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼šå°†ç½‘é¡µå’Œæ•°æ®ä¸€èµ·åŠ è½½ï¼Œä¸€èµ·æ¸²æŸ“</li><li>é SSRï¼ˆå‰åç«¯åˆ†ç¦»ï¼‰ï¼šå…ˆåŠ è½½ç½‘é¡µï¼ŒååŠ è½½æ•°æ®ï¼Œå†æ¸²æŸ“æ•°æ®</li></ul></li></ul></li><li>ä½¿ç”¨æ›´å¿«çš„ç½‘ç»œï¼šCDN</li></ul></li><li>è®©æ¸²æŸ“æ›´å¿«<ul><li>css æ”¾åœ¨ headï¼Œjs æ”¾åœ¨ body æœ€ä¸‹é¢</li><li>å°½æ—©å¼€å§‹æ‰§è¡Œ jsï¼Œç”¨ DOMContentLoaded è§¦å‘</li><li>æ‡’åŠ è½½ï¼ˆå›¾ç‰‡æ‡’åŠ è½½ï¼Œä¸‹æ»‘æ›´å¤šç­‰ï¼‰<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;img id=<span class="string">&quot;img&quot;</span> src=<span class="string">&quot;preview.png&quot;</span> data-realsrc=<span class="string">&quot;abc.png&quot;</span> /&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">let</span> img = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;img&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  img.<span class="property">src</span>=img.<span class="title function_">getAttribute</span>(<span class="string">&#x27;data-realsrc&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li><li>å¯¹ DOM æŸ¥è¯¢è¿›è¡Œç¼“å­˜</li><li>åˆå¹¶é¢‘ç¹çš„ DOM æ“ä½œ,document.createDocumentFragment()</li><li>èŠ‚æµ throttleã€é˜²æŠ– debounce</li></ul></li></ul></li></ul><h2 id="å®‰å…¨"><a href="#å®‰å…¨" class="headerlink" title="å®‰å…¨"></a>å®‰å…¨</h2><ul><li>XSS è·¨ç«™è¯·æ±‚æ”»å‡»<ul><li>æ”»å‡»æ–¹å¼<ul><li>ä¸€ä¸ªåšå®¢ç½‘ç«™ï¼Œæˆ‘å‘è¡¨ä¸€ç¯‡åšå®¢ï¼Œå…¶ä¸­åµŒå…¥ script è„šæœ¬</li><li>è„šæœ¬å†…å®¹ï¼šè·å– cookieï¼Œå‘é€åˆ°æˆ‘çš„æœåŠ¡å™¨</li><li>å‘å¸ƒè¿™ç¯‡åšå®¢ï¼Œæœ‰äººæŸ¥çœ‹ï¼Œå°±å¯ä»¥å›å»åˆ°è®¿é—®è€…çš„ cookie</li></ul></li><li>é¢„é˜²æ–¹å¼<ul><li>æ›¿æ¢ç‰¹æ®Šå­—ç¬¦</li></ul></li></ul></li><li>XSRF è·¨ç«™è¯·æ±‚ä¼ªé€ <ul><li>é¢„é˜²<ul><li>å¢åŠ éªŒè¯ï¼Œä¾‹å¦‚å¯†ç ã€çŸ­ä¿¡éªŒè¯ã€æŒ‡çº¹ç­‰</li></ul></li></ul></li></ul><h2 id="ES6-æ–°å¢çš„å£°æ˜æ–¹å¼"><a href="#ES6-æ–°å¢çš„å£°æ˜æ–¹å¼" class="headerlink" title="ES6 æ–°å¢çš„å£°æ˜æ–¹å¼"></a>ES6 æ–°å¢çš„å£°æ˜æ–¹å¼</h2><ul><li>letã€const<ul><li>ä¸å±äºé¡¶å±‚å¯¹è±¡ window</li><li>ä¸å…è®¸é‡å¤å£°æ˜</li><li>ä¸å­˜åœ¨å˜é‡æå‡</li><li>æš‚æ—¶æ€§æ­»åŒºï¼ˆä¸èƒ½åœ¨å˜é‡å£°æ˜ä¹‹å‰å»ä½¿ç”¨ï¼‰</li><li>å—çº§ä½œç”¨åŸŸ</li></ul></li></ul><h2 id="å®šåˆ¶åŒ–è¾“å‡ºç‰¹å®šæ•°ç»„"><a href="#å®šåˆ¶åŒ–è¾“å‡ºç‰¹å®šæ•°ç»„" class="headerlink" title="å®šåˆ¶åŒ–è¾“å‡ºç‰¹å®šæ•°ç»„"></a>å®šåˆ¶åŒ–è¾“å‡ºç‰¹å®šæ•°ç»„</h2><ul><li>éšæœºç”Ÿæˆä¸€ä¸ªé•¿åº¦ä¸º 10 çš„æ•´æ•°ç±»å‹çš„æ•°æ®</li><li>ä¾‹å¦‚ [2, 10, 3, 35, 5, 11, 10, 11, 20]</li><li>å°†å…¶æ’åˆ—æˆä¸€ä¸ªæ–°æ•°ç»„ï¼Œè¦æ±‚æ–°æ•°ç»„å½¢å¼å¦‚ä¸‹ï¼š</li><li>[[2, 3, 5], [10, 11],[20],[35]]</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. è·å–éšæœºæ•° 0-99</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getRandomNumber</span>(<span class="params">min, max</span>) &#123;</span><br><span class="line">  min = <span class="title class_">Math</span>.<span class="title function_">ceil</span>(min);</span><br><span class="line">  max = <span class="title class_">Math</span>.<span class="title function_">floor</span>(max);</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * (max - min + <span class="number">1</span>) + min);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> arr = <span class="title class_">Array</span>.<span class="title function_">from</span>(&#123; <span class="attr">length</span>: <span class="number">10</span> &#125;, <span class="function">() =&gt;</span> <span class="title function_">getRandomNumber</span>(<span class="number">0</span>, <span class="number">99</span>));</span><br><span class="line"><span class="comment">// 2. å»é‡(æ²¡å¿…è¦)</span></span><br><span class="line">arr = [...<span class="keyword">new</span> <span class="title class_">Set</span>(arr)];</span><br><span class="line"><span class="comment">// 3. æ’åº</span></span><br><span class="line">arr.<span class="title function_">sort</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b);</span><br><span class="line"><span class="comment">// 4. å­˜å‚¨ 0-9 10-19 20-29</span></span><br><span class="line"><span class="keyword">const</span> map = &#123;&#125;;</span><br><span class="line">arr.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> key = <span class="title class_">Math</span>.<span class="title function_">floor</span>(item / <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!map[key]) &#123;</span><br><span class="line">    map[key] = [];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  map[key].<span class="title function_">push</span>(item);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">const</span> result = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> map) &#123;</span><br><span class="line">  result.<span class="title function_">push</span>(map[key]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result);</span><br></pre></td></tr></table></figure><h2 id="å°†æ ‘çŠ¶ç»“æ„è½¬æ¢ä¸ºå±æ€§å¹³é“ºçš„ç»“æ„"><a href="#å°†æ ‘çŠ¶ç»“æ„è½¬æ¢ä¸ºå±æ€§å¹³é“ºçš„ç»“æ„" class="headerlink" title="å°†æ ‘çŠ¶ç»“æ„è½¬æ¢ä¸ºå±æ€§å¹³é“ºçš„ç»“æ„"></a>å°†æ ‘çŠ¶ç»“æ„è½¬æ¢ä¸ºå±æ€§å¹³é“ºçš„ç»“æ„</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é¢˜ç›®</span></span><br><span class="line"><span class="keyword">const</span> entry = &#123;</span><br><span class="line">  <span class="attr">a</span>: &#123;</span><br><span class="line">    <span class="attr">b</span>: &#123;</span><br><span class="line">      <span class="attr">c</span>: &#123;</span><br><span class="line">        <span class="attr">dd</span>: <span class="string">&quot;abcdd&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">d</span>: &#123;</span><br><span class="line">      <span class="attr">ee</span>: <span class="string">&quot;adee&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">f</span>: <span class="string">&quot;af&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> output = &#123;</span><br><span class="line">  <span class="string">&quot;a.b.c.dd&quot;</span>: <span class="string">&quot;abcdd&quot;</span>,</span><br><span class="line">  <span class="string">&quot;a.d.ee&quot;</span>: <span class="string">&quot;adee&quot;</span>,</span><br><span class="line">  <span class="string">&quot;a.f&quot;</span>: <span class="string">&quot;af&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£ç­”</span></span><br><span class="line"><span class="comment">// æ–¹æ³•1: é€’å½’</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">flatObj</span>(<span class="params">obj, preKey = <span class="string">&quot;&quot;</span>, result = &#123;&#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="keyword">if</span> (obj.<span class="title function_">hasOwnProperty</span>(key)) &#123;</span><br><span class="line">      <span class="keyword">const</span> newKey = <span class="string">`<span class="subst">$&#123;preKey&#125;</span><span class="subst">$&#123;key&#125;</span>`</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> obj[key] === <span class="string">&quot;object&quot;</span>) &#123;</span><br><span class="line">        <span class="title function_">flatObj</span>(obj[key], <span class="string">`<span class="subst">$&#123;newKey&#125;</span>.`</span>, result);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        result[newKey] = obj[key];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ–¹æ³•2: whileå¾ªç¯-é˜Ÿåˆ—</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">flatObj2</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> queue = <span class="title class_">Object</span>.<span class="title function_">entries</span>(obj);</span><br><span class="line">  <span class="keyword">const</span> result = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (queue.<span class="property">length</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> [key, value] = queue.<span class="title function_">pop</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> [k, v] <span class="keyword">of</span> <span class="title class_">Object</span>.<span class="title function_">entries</span>(value)) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> v === <span class="string">&quot;object&quot;</span>) &#123;</span><br><span class="line">        queue.<span class="title function_">push</span>([<span class="string">`<span class="subst">$&#123;key&#125;</span>.<span class="subst">$&#123;k&#125;</span>`</span>, v]);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        result[<span class="string">`<span class="subst">$&#123;key&#125;</span>.<span class="subst">$&#123;k&#125;</span>`</span>] = v;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="title function_">flatObj</span>(entry);</span><br><span class="line"><span class="title function_">flatObj2</span>(entry);</span><br></pre></td></tr></table></figure><h2 id="å°†å¹³é“ºå±æ€§çš„æ•°æ®ç»“æ„è½¬æ¢ä¸ºæ ‘çŠ¶æ•°æ®ç»“æ„"><a href="#å°†å¹³é“ºå±æ€§çš„æ•°æ®ç»“æ„è½¬æ¢ä¸ºæ ‘çŠ¶æ•°æ®ç»“æ„" class="headerlink" title="å°†å¹³é“ºå±æ€§çš„æ•°æ®ç»“æ„è½¬æ¢ä¸ºæ ‘çŠ¶æ•°æ®ç»“æ„"></a>å°†å¹³é“ºå±æ€§çš„æ•°æ®ç»“æ„è½¬æ¢ä¸ºæ ‘çŠ¶æ•°æ®ç»“æ„</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é¢˜ç›®</span></span><br><span class="line"><span class="keyword">const</span> entry = &#123;</span><br><span class="line">  <span class="string">&quot;a.b.c.dd&quot;</span>: <span class="string">&quot;abcdd&quot;</span>,</span><br><span class="line">  <span class="string">&quot;a.d.ee&quot;</span>: <span class="string">&quot;adee&quot;</span>,</span><br><span class="line">  <span class="string">&quot;a.f&quot;</span>: <span class="string">&quot;af&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> output = &#123;</span><br><span class="line">  <span class="attr">a</span>: &#123;</span><br><span class="line">    <span class="attr">b</span>: &#123;</span><br><span class="line">      <span class="attr">c</span>: &#123;</span><br><span class="line">        <span class="attr">dd</span>: <span class="string">&quot;abcdd&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">d</span>: &#123;</span><br><span class="line">      <span class="attr">ee</span>: <span class="string">&quot;adee&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">f</span>: <span class="string">&quot;af&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­”æ¡ˆ</span></span><br><span class="line"><span class="comment">// æ–¹æ³•1: åŒé‡å¾ªç¯</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">map</span>(<span class="params">entry</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> result = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> entry) &#123;</span><br><span class="line">    <span class="keyword">const</span> value = entry[key];</span><br><span class="line">    <span class="keyword">const</span> keyMap = key.<span class="title function_">split</span>(<span class="string">&quot;.&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!result[keyMap[<span class="number">0</span>]]) &#123;</span><br><span class="line">      result[keyMap[<span class="number">0</span>]] = &#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> tmp = result[keyMap[<span class="number">0</span>]];</span><br><span class="line">    <span class="keyword">let</span> length = keyMap.<span class="property">length</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; length; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!tmp[keyMap[i]]) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i === length - <span class="number">1</span>) &#123;</span><br><span class="line">          tmp[keyMap[i]] = value;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          tmp[keyMap[i]] = &#123;&#125;;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      tmp = tmp[keyMap[i]];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ–¹æ³•2: é€’å½’</span></span><br><span class="line"><span class="comment">// &#123;&quot;a.b.c.dd&quot;: &quot;abcdd&quot;&#125;</span></span><br><span class="line"><span class="comment">// =&gt; &#123;&quot;a.b.c&quot;: &#123;&quot;dd&quot;:&quot;abcdd&quot;&#125;&#125;</span></span><br><span class="line"><span class="comment">// =&gt;...</span></span><br><span class="line"><span class="comment">// =&gt; &#123;&quot;a&quot;: &#123;&quot;b&quot;: &#123;&quot;c&quot;: &#123;&quot;dd&quot;: &quot;abcdd&quot;&#125;&#125;&#125;&#125;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">map2</span>(<span class="params">entry</span>) &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">getNest</span>(<span class="params">key</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> lastIndex = key.<span class="title function_">lastIndexOf</span>(<span class="string">&quot;.&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> value = entry[key];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (lastIndex !== -<span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">delete</span> entry[key];</span><br><span class="line">      <span class="keyword">const</span> preKey = key.<span class="title function_">substring</span>(<span class="number">0</span>, lastIndex);</span><br><span class="line">      <span class="keyword">const</span> restKey = key.<span class="title function_">substring</span>(lastIndex + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (!entry[preKey]) &#123;</span><br><span class="line">        entry[preKey] = &#123; [restKey]: value &#125;;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        entry[preKey][restKey] = value;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (<span class="regexp">/./</span>.<span class="title function_">test</span>(preKey)) &#123;</span><br><span class="line">        <span class="title function_">getNest</span>(preKey);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> entry) &#123;</span><br><span class="line">    <span class="title function_">getNest</span>(key);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> entry;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">map</span>(entry);</span><br><span class="line"><span class="title function_">map2</span>(entry);</span><br></pre></td></tr></table></figure><h2 id="react-è‡ªå®šä¹‰å°è£…ä¸ä¼šåå¤åˆ›å»ºçš„å®šæ—¶å™¨ï¼ˆsetIntervalï¼‰"><a href="#react-è‡ªå®šä¹‰å°è£…ä¸ä¼šåå¤åˆ›å»ºçš„å®šæ—¶å™¨ï¼ˆsetIntervalï¼‰" class="headerlink" title="react è‡ªå®šä¹‰å°è£…ä¸ä¼šåå¤åˆ›å»ºçš„å®šæ—¶å™¨ï¼ˆsetIntervalï¼‰"></a>react è‡ªå®šä¹‰å°è£…ä¸ä¼šåå¤åˆ›å»ºçš„å®šæ—¶å™¨ï¼ˆsetIntervalï¼‰</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useRef, useState &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">useTimer</span> = (<span class="params">step = <span class="number">1</span></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> timer = <span class="title function_">useRef</span>(<span class="literal">null</span>);</span><br><span class="line">  <span class="keyword">const</span> [num, setNum] = <span class="title function_">useState</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">start</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> timeout = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">setNum</span>(<span class="function">(<span class="params">num</span>) =&gt;</span> num + <span class="number">1</span>);</span><br><span class="line">    &#125;, step * <span class="number">1000</span>);</span><br><span class="line">    timer.<span class="property">current</span> = timeout;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">clear</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="title function_">setNum</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">clearInterval</span>(timer.<span class="property">current</span>);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    num,</span><br><span class="line">    start,</span><br><span class="line">    clear,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="ä¿®æ”¹ä¸‹é¢ä»£ç ï¼Œé¡ºåºè¾“å‡º-0-99"><a href="#ä¿®æ”¹ä¸‹é¢ä»£ç ï¼Œé¡ºåºè¾“å‡º-0-99" class="headerlink" title="ä¿®æ”¹ä¸‹é¢ä»£ç ï¼Œé¡ºåºè¾“å‡º 0-99"></a>ä¿®æ”¹ä¸‹é¢ä»£ç ï¼Œé¡ºåºè¾“å‡º 0-99</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¦æ±‚ï¼š</span></span><br><span class="line"><span class="comment">// 1. åªèƒ½ä¿®æ”¹ setTimeout</span></span><br><span class="line"><span class="comment">// 2. ä¸èƒ½ä¿®æ”¹Math.floor(Math.random() * 1000)</span></span><br><span class="line"><span class="comment">// 3. ä¸èƒ½ä½¿ç”¨å…¨å±€å˜é‡</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">print</span>(<span class="params">n</span>) &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(n);</span><br><span class="line">  &#125;, <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">  <span class="title function_">print</span>(i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­”æ¡ˆ</span></span><br><span class="line"><span class="comment">// æ–¹æ³•1: ç«‹å³æ‰§è¡Œå‡½æ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">print</span>(<span class="params">n</span>) &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(</span><br><span class="line">    (<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(n);</span><br><span class="line">      <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;&#125;;</span><br><span class="line">    &#125;)(),</span><br><span class="line">    <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>)</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">  <span class="title function_">print</span>(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ–¹æ³•1: setTimeoutç¬¬ä¸‰ä¸ªå‚æ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">print</span>(<span class="params">n</span>) &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(</span><br><span class="line">    <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(n);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="number">10</span>,</span><br><span class="line">    <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>)</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">  <span class="title function_">print</span>(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="for-å¾ªç¯å’Œ-splice-çš„å‘"><a href="#for-å¾ªç¯å’Œ-splice-çš„å‘" class="headerlink" title="for å¾ªç¯å’Œ splice çš„å‘"></a>for å¾ªç¯å’Œ splice çš„å‘</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// forå¾ªç¯å’Œspliceçš„å‘</span></span><br><span class="line"><span class="comment">// å…·ä½“æè¿°ï¼šåœ¨å¯¹ä¸€ä¸ªæ•°ç»„æ‰§è¡Œforå¾ªç¯æ—¶ï¼Œ</span></span><br><span class="line"><span class="comment">// åˆ é™¤æ•°ç»„å…ƒç´ ï¼Œä¼šå­˜åœ¨ä»€ä¹ˆé—®é¢˜</span></span><br><span class="line"><span class="comment">// æ–¹æ³•1: i--</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="string">&quot;a&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;d&quot;</span>, <span class="string">&quot;e&quot;</span>, <span class="string">&quot;f&quot;</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">if</span> (arr[i] === <span class="string">&quot;a&quot;</span>) &#123;</span><br><span class="line">    arr.<span class="title function_">splice</span>(i, <span class="number">1</span>);</span><br><span class="line">    i--; <span class="comment">// éœ€è¦å¤„ç†ä¸‹ i--</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ–¹æ³•2: å€’åº</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="string">&quot;a&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;d&quot;</span>, <span class="string">&quot;e&quot;</span>, <span class="string">&quot;f&quot;</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = arr.<span class="property">length</span> - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">  <span class="keyword">if</span> (arr[i] === <span class="string">&quot;a&quot;</span>) &#123;</span><br><span class="line">    arr.<span class="title function_">splice</span>(i, <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// for...in</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="string">&quot;a&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;d&quot;</span>, <span class="string">&quot;e&quot;</span>, <span class="string">&quot;f&quot;</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> index <span class="keyword">in</span> arr) &#123;</span><br><span class="line">  <span class="keyword">if</span> (arr[index] === <span class="string">&quot;a&quot;</span>) &#123;</span><br><span class="line">    arr.<span class="title function_">splice</span>(index, <span class="number">1</span>);</span><br><span class="line">    index--; <span class="comment">// ä»ç„¶ä¼šæœ‰é—®é¢˜</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br></pre></td></tr></table></figure><h2 id="æŒç»­æ›´æ–°ä¸­â€¦"><a href="#æŒç»­æ›´æ–°ä¸­â€¦" class="headerlink" title="æŒç»­æ›´æ–°ä¸­â€¦"></a>æŒç»­æ›´æ–°ä¸­â€¦</h2>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;å¤æ‚åº¦&quot;&gt;&lt;a href=&quot;#å¤æ‚åº¦&quot; class=&quot;headerlink&quot; title=&quot;å¤æ‚åº¦&quot;&gt;&lt;/a&gt;å¤æ‚åº¦&lt;/h2&gt;</summary>
    
    
    
    <category term="javascript" scheme="https://github.com/foolishmax/categories/javascript/"/>
    
    
    <category term="javascript" scheme="https://github.com/foolishmax/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>koa-generatorå¿«é€Ÿæ­å»ºkoaæœåŠ¡</title>
    <link href="https://github.com/foolishmax/2022/03/08/koa-generator%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BAkoa%E6%9C%8D%E5%8A%A1/"/>
    <id>https://github.com/foolishmax/2022/03/08/koa-generator%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BAkoa%E6%9C%8D%E5%8A%A1/</id>
    <published>2022-03-08T02:46:25.000Z</published>
    <updated>2022-07-30T04:11:13.711Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-å…¨å±€å®‰è£…koa-generatorè„šæ‰‹æ¶"><a href="#1-å…¨å±€å®‰è£…koa-generatorè„šæ‰‹æ¶" class="headerlink" title="1.å…¨å±€å®‰è£…koa-generatorè„šæ‰‹æ¶"></a>1.å…¨å±€å®‰è£…<em>koa-generator</em>è„šæ‰‹æ¶</h2><span id="more"></span><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install -g koa-generator</span><br><span class="line"># or</span><br><span class="line">yarn global add koa-generator</span><br></pre></td></tr></table></figure><h2 id="åˆ›å»ºkoaé¡¹ç›®"><a href="#åˆ›å»ºkoaé¡¹ç›®" class="headerlink" title="åˆ›å»ºkoaé¡¹ç›®"></a>åˆ›å»º<em>koa</em>é¡¹ç›®</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">koa2 project-name</span><br><span class="line"></span><br><span class="line">// ä½¿ç”¨ejså¼•æ“</span><br><span class="line">koa2 -e project-name</span><br></pre></td></tr></table></figure><h2 id="è¿›å…¥é¡¹ç›®å®‰è£…ä¾èµ–"><a href="#è¿›å…¥é¡¹ç›®å®‰è£…ä¾èµ–" class="headerlink" title="è¿›å…¥é¡¹ç›®å®‰è£…ä¾èµ–"></a>è¿›å…¥é¡¹ç›®å®‰è£…ä¾èµ–</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd project-name</span><br><span class="line">yarn install</span><br></pre></td></tr></table></figure><h2 id="é¡¹ç›®è¿è¡Œ"><a href="#é¡¹ç›®è¿è¡Œ" class="headerlink" title="é¡¹ç›®è¿è¡Œ"></a>é¡¹ç›®è¿è¡Œ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm start</span><br><span class="line"># or</span><br><span class="line">npm run dev</span><br><span class="line"># or...</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨-pm2-å¯åŠ¨-koa-é¡¹ç›®"><a href="#ä½¿ç”¨-pm2-å¯åŠ¨-koa-é¡¹ç›®" class="headerlink" title="ä½¿ç”¨ pm2 å¯åŠ¨ koa é¡¹ç›®"></a>ä½¿ç”¨ pm2 å¯åŠ¨ koa é¡¹ç›®</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// å…¨å±€å®‰è£…</span><br><span class="line">npm install -g pm2</span><br><span class="line">// å¯åŠ¨é¡¹ç›®</span><br><span class="line">pm2 start ./bin/www</span><br><span class="line">// pm2è‡ªåŠ¨é‡å¯</span><br><span class="line">pm2 start ./bin/www/ --watch</span><br></pre></td></tr></table></figure><h3 id="pm2-ç›¸å…³å‘½ä»¤ï¼ˆwww-æ˜¯é¡¹ç›®åï¼‰"><a href="#pm2-ç›¸å…³å‘½ä»¤ï¼ˆwww-æ˜¯é¡¹ç›®åï¼‰" class="headerlink" title="pm2 ç›¸å…³å‘½ä»¤ï¼ˆwww æ˜¯é¡¹ç›®åï¼‰"></a>pm2 ç›¸å…³å‘½ä»¤ï¼ˆwww æ˜¯é¡¹ç›®åï¼‰</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pm2 list          #æŸ¥çœ‹æ‰€æœ‰å·²å¯åŠ¨é¡¹ç›®</span><br><span class="line">pm2 start         #å¯åŠ¨</span><br><span class="line">pm2 restart www   #é‡å¯</span><br><span class="line">pm2 stop www      #åœæ­¢</span><br><span class="line">pm2 delete www    #åˆ é™¤</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;1-å…¨å±€å®‰è£…koa-generatorè„šæ‰‹æ¶&quot;&gt;&lt;a href=&quot;#1-å…¨å±€å®‰è£…koa-generatorè„šæ‰‹æ¶&quot; class=&quot;headerlink&quot; title=&quot;1.å…¨å±€å®‰è£…koa-generatorè„šæ‰‹æ¶&quot;&gt;&lt;/a&gt;1.å…¨å±€å®‰è£…&lt;em&gt;koa-generator&lt;/em&gt;è„šæ‰‹æ¶&lt;/h2&gt;</summary>
    
    
    
    <category term="node" scheme="https://github.com/foolishmax/categories/node/"/>
    
    
    <category term="node" scheme="https://github.com/foolishmax/tags/node/"/>
    
  </entry>
  
  <entry>
    <title>30-seconds-of-code-study</title>
    <link href="https://github.com/foolishmax/2022/02/07/30-seconds-of-code-study/"/>
    <id>https://github.com/foolishmax/2022/02/07/30-seconds-of-code-study/</id>
    <published>2022-02-07T09:52:54.000Z</published>
    <updated>2022-07-30T04:19:33.780Z</updated>
    
    <content type="html"><![CDATA[<ul><li>å·²ç»è¿ç§»è‡³<a href="https://foolishmax.github.io/mixin/zh-CN/api/30-seconds-of-code/to-safe-integer">mixin</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;ul&gt;
&lt;li&gt;å·²ç»è¿ç§»è‡³&lt;a href=&quot;https://foolishmax.github.io/mixin/zh-CN/api/30-seconds-of-code/to-safe-integer&quot;&gt;mixin&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</summary>
      
    
    
    
    
    <category term="javaScript" scheme="https://github.com/foolishmax/tags/javaScript/"/>
    
  </entry>
  
  <entry>
    <title>TSè¿›é˜¶é¢˜ç›®</title>
    <link href="https://github.com/foolishmax/2022/01/17/TS%E8%BF%9B%E9%98%B6%E9%A2%98%E7%9B%AE/"/>
    <id>https://github.com/foolishmax/2022/01/17/TS%E8%BF%9B%E9%98%B6%E9%A2%98%E7%9B%AE/</id>
    <published>2022-01-17T07:50:20.000Z</published>
    <updated>2023-01-03T06:19:13.211Z</updated>
    
    <content type="html"><![CDATA[<ul><li>åœ¨çº¿ TS åœ°å€ <a href="https://www.typescriptlang.org/">typescript</a></li></ul><span id="more"></span><h2 id="ç¬¬ä¸€é¢˜"><a href="#ç¬¬ä¸€é¢˜" class="headerlink" title="ç¬¬ä¸€é¢˜"></a>ç¬¬ä¸€é¢˜</h2><ul><li>ä»¥ä¸‹ä»£ç ä¸ºä»€ä¹ˆä¼šæç¤ºé”™è¯¯ï¼Œåº”è¯¥å¦‚ä½•è§£å†³ä¸Šè¿°é—®é¢˜ï¼Ÿ</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">User</span> = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">kind</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> createCustomer&lt;T <span class="keyword">extends</span> <span class="title class_">User</span>&gt;(<span class="attr">u</span>: T): T &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">id</span>: u.<span class="property">id</span>,</span><br><span class="line">    <span class="attr">kind</span>: <span class="string">&#x27;customer&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç¬¬ä¸€ç§è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">User</span> = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">kind</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> createCustomer&lt;T <span class="keyword">extends</span> <span class="title class_">User</span>&gt;(<span class="attr">u</span>: T): <span class="title class_">User</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">id</span>: u.<span class="property">id</span>,</span><br><span class="line">    <span class="attr">kind</span>: <span class="string">&#x27;customer&#x27;</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç¬¬äºŒç§è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">User</span> = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">kind</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> createCustomer&lt;t <span class="keyword">extends</span> <span class="title class_">User</span>&gt;(<span class="attr">u</span>: T): T &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    ...u,</span><br><span class="line">    <span class="attr">id</span>: u.<span class="property">id</span>,</span><br><span class="line">    <span class="attr">kind</span>: <span class="string">&#x27;customer&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç¬¬äºŒé¢˜"><a href="#ç¬¬äºŒé¢˜" class="headerlink" title="ç¬¬äºŒé¢˜"></a>ç¬¬äºŒé¢˜</h2><ul><li>ä»¥ä¸‹å‡½æ•°æˆ‘ä»¬å¸Œæœ›å‚æ•°<em>a</em>å’Œ<em>b</em>çš„ç±»å‹éƒ½æ˜¯ä¸€è‡´çš„ï¼Œå³<em>a</em>å’Œ<em>b</em>åŒæ—¶ä¸º<em>number</em>æˆ–<em>string</em>ç±»å‹ï¼Œå½“å®ƒä»¬çš„ç±»å‹ä¸ä¸€è‡´æ—¶ï¼Œts ç±»å‹æ£€æŸ¥å™¨èƒ½è‡ªåŠ¨æç¤ºå¯¹åº”çš„é”™è¯¯ä¿¡æ¯ã€‚</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params">a: <span class="built_in">string</span> | <span class="built_in">number</span>,b: <span class="built_in">string</span> | <span class="built_in">number</span></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> a === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a + <span class="string">&#x27;:&#x27;</span> + b;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">f</span>(<span class="number">1</span>, <span class="number">2</span>); <span class="comment">// OK</span></span><br><span class="line"><span class="title function_">f</span>(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>); <span class="comment">// OK</span></span><br><span class="line"><span class="title function_">f</span>(<span class="string">&#x27;a&#x27;</span>, <span class="number">2</span>); <span class="comment">// Error</span></span><br><span class="line"><span class="title function_">f</span>(<span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>); <span class="comment">//Error</span></span><br></pre></td></tr></table></figure><p><strong>ç¬¬ä¸€ç§è§£å†³æ–¹æ¡ˆ</strong></p><ul><li>å‡½æ•°é‡è½½</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params">a: <span class="built_in">string</span>, b: <span class="built_in">string</span></span>): <span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params">a: <span class="built_in">number</span>, b: <span class="built_in">number</span></span>): <span class="built_in">number</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params">a: <span class="built_in">string</span> | <span class="built_in">number</span>, b: <span class="built_in">string</span> | <span class="built_in">number</span></span>): <span class="built_in">string</span> | <span class="built_in">number</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> a === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a + <span class="string">&#x27;:&#x27;</span> + b;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (a <span class="keyword">as</span> <span class="built_in">number</span>) + (b <span class="keyword">as</span> <span class="built_in">number</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">f</span>(<span class="number">1</span>, <span class="number">2</span>); <span class="comment">// OK</span></span><br><span class="line"><span class="title function_">f</span>(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>); <span class="comment">// OK</span></span><br><span class="line"><span class="title function_">f</span>(<span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>); <span class="comment">// Error</span></span><br><span class="line"><span class="title function_">f</span>(<span class="string">&#x27;a&#x27;</span>, <span class="number">2</span>); <span class="comment">// Error</span></span><br></pre></td></tr></table></figure><p><strong>ç¬¬äºŒç§è§£å†³æ–¹æ¡ˆ</strong></p><ul><li>è‡ªå®šä¹‰è·¯ç”±å®ˆå«</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isStringArray = (<span class="attr">params</span>: <span class="built_in">string</span>[] | <span class="built_in">number</span>[]): params is <span class="built_in">string</span>[] =&gt; <span class="keyword">typeof</span> params[<span class="number">0</span>] === <span class="string">&#x27;string&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params">...args: <span class="built_in">string</span>[] | <span class="built_in">number</span>[]</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="title function_">isStringArray</span>(args)) &#123;</span><br><span class="line">    <span class="keyword">return</span> args[<span class="number">0</span>] + <span class="string">&#x27;:&#x27;</span> + args[<span class="number">1</span>];</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> args[<span class="number">0</span>] + args[<span class="number">1</span>];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">f</span>(<span class="number">1</span>, <span class="number">2</span>); <span class="comment">// OK</span></span><br><span class="line"><span class="title function_">f</span>(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>); <span class="comment">// OK</span></span><br><span class="line"><span class="title function_">f</span>(<span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>); <span class="comment">// Error</span></span><br><span class="line"><span class="title function_">f</span>(<span class="string">&#x27;a&#x27;</span>, <span class="number">2</span>); <span class="comment">// Error</span></span><br></pre></td></tr></table></figure><p><strong>ç¬¬ä¸‰ç§è§£å†³æ–¹æ¡ˆ</strong></p><ul><li>èŒƒå‹</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> f&lt;T <span class="keyword">extends</span> <span class="built_in">string</span> | <span class="built_in">number</span>&gt;(<span class="attr">a</span>: T, <span class="attr">b</span>: T) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> a === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a + <span class="string">&#x27;:&#x27;</span> + b;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (a <span class="keyword">as</span> <span class="built_in">number</span>) + (b <span class="keyword">as</span> <span class="built_in">number</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">f</span>(<span class="number">1</span>, <span class="number">2</span>); <span class="comment">// OK</span></span><br><span class="line"><span class="title function_">f</span>(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>); <span class="comment">// OK</span></span><br><span class="line"><span class="title function_">f</span>(<span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>); <span class="comment">// Error</span></span><br><span class="line"><span class="title function_">f</span>(<span class="string">&#x27;a&#x27;</span>, <span class="number">2</span>); <span class="comment">// Error</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬ä¸‰é¢˜"><a href="#ç¬¬ä¸‰é¢˜" class="headerlink" title="ç¬¬ä¸‰é¢˜"></a>ç¬¬ä¸‰é¢˜</h2><ul><li>å®ç° SetOptional å·¥å…·ç±»å‹ï¼Œæ”¯æŒæŠŠç»™å®šçš„ keys å¯¹åº”çš„å±æ€§å˜ä¸ºå¯é€‰ï¼Œå‚è€ƒ<em>Partial<T></em></li><li>å®ç° SetRequired å·¥å…·ç±»å‹ï¼Œæ”¯æŒæŠŠç»™å®šçš„ keys å¯¹åº”çš„å±æ€§å˜æˆå¿…å¡«ï¼Œå‚è€ƒ <em>Require<T></em></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// SetOptional æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Foo</span> = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="built_in">number</span>;</span><br><span class="line">  b?: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">c</span>: <span class="built_in">boolean</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">SomeOptional</span> = <span class="title class_">SetOptional</span>&lt;<span class="title class_">Foo</span>, <span class="string">&#x27;a&#x27;</span> | <span class="string">&#x27;b&#x27;</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">SomeOptional</span> = &#123;</span><br><span class="line">  a?: <span class="built_in">number</span>; <span class="comment">//è¯¥å±æ€§å˜ä¸ºå¯é€‰çš„</span></span><br><span class="line">  b?: <span class="built_in">string</span>; <span class="comment">//ä¿æŒä¸å˜</span></span><br><span class="line">  <span class="attr">c</span>: <span class="built_in">boolean</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// SetRequired æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Foo</span> = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="built_in">number</span>;</span><br><span class="line">  b?: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">c</span>: <span class="built_in">boolean</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">SomeRequired</span> = <span class="title class_">SetRequired</span>&lt;<span class="title class_">Foo</span>, <span class="string">&#x27;a&#x27;</span> | <span class="string">&#x27;b&#x27;</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">SomeRequired</span> = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="built_in">number</span>; <span class="comment">//ä¿æŒä¸å˜</span></span><br><span class="line">  <span class="attr">b</span>: <span class="built_in">string</span>; <span class="comment">//è¯¥å±æ€§å˜ä¸ºå¿…é€‰çš„</span></span><br><span class="line">  <span class="attr">c</span>: <span class="built_in">boolean</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 1</strong></p><ul><li>SetOptional</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Foo</span> = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="built_in">number</span>;</span><br><span class="line">  b?: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">c</span>: <span class="built_in">boolean</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹äº¤å‰ç±»å‹è¿›è¡Œæ‰å¹³åŒ–å¤„ç†</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Simplify</span>&lt;T&gt; = &#123;</span><br><span class="line">  [P <span class="keyword">in</span> keyof T]: T[P]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">SetOptional</span>&lt;T, K <span class="keyword">extends</span> keyof T&gt; = <span class="title class_">Simplify</span>&lt;<span class="title class_">Partial</span>&lt;<span class="title class_">Pick</span>&lt;T, K&gt;&gt; &amp; <span class="title class_">Pick</span>&lt;T, <span class="title class_">Exclude</span>&lt;keyof T, K&gt;&gt;&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">SomeOptional</span> = <span class="title class_">SetOptional</span>&lt;<span class="title class_">Foo</span>, <span class="string">&#x27;a&#x27;</span> | <span class="string">&#x27;b&#x27;</span>&gt;</span><br></pre></td></tr></table></figure><ul><li>SetRequired</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Foo</span> = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="built_in">number</span>;</span><br><span class="line">  b?: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">c</span>: <span class="built_in">boolean</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Simplify</span>&lt;T&gt; = &#123;</span><br><span class="line">  [P <span class="keyword">in</span> keyof T]: T[P]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">SetRequired</span>&lt;T, K <span class="keyword">extends</span> keyof T&gt; = <span class="title class_">Simplify</span>&lt;<span class="title class_">Pick</span>&lt;T, <span class="title class_">Exclude</span>&lt;keyof T, K&gt;&gt; &amp; <span class="title class_">Required</span>&lt;<span class="title class_">Pick</span>&lt;T, K&gt;&gt;&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">SomeRequired</span> = <span class="title class_">SetRequired</span>&lt;<span class="title class_">Foo</span>, <span class="string">&#x27;b&#x27;</span> | <span class="string">&#x27;c&#x27;</span>&gt;</span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 2</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Foo</span> = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="built_in">number</span>;</span><br><span class="line">  b?: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">c</span>: <span class="built_in">boolean</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Simplely</span>&lt;T&gt; = &#123;</span><br><span class="line">  [P <span class="keyword">in</span> keyof T]: T[P]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">SetOptional</span>&lt;T, K <span class="keyword">extends</span> keyof T&gt; = <span class="title class_">Simplely</span>&lt;&#123; [X <span class="keyword">in</span> keyof <span class="title class_">Omit</span>&lt;T, K&gt;]: T[X]; &#125; &amp; &#123; [P <span class="keyword">in</span> K]?: T[P] &#125;&gt;;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">SetRequired</span>&lt;T, K <span class="keyword">extends</span> keyof T&gt; = <span class="title class_">Simplely</span>&lt;&#123; [X <span class="keyword">in</span> keyof <span class="title class_">Omit</span>&lt;T, K&gt;]: T[X]; &#125; &amp; &#123; [P <span class="keyword">in</span> K]-?: T[P] &#125;&gt;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">SomeOptional</span> = <span class="title class_">SetOptional</span>&lt;<span class="title class_">Foo</span>, <span class="string">&#x27;a&#x27;</span> | <span class="string">&#x27;b&#x27;</span>&gt;;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">SomeRequired</span> = <span class="title class_">SetRequired</span>&lt;<span class="title class_">Foo</span>, <span class="string">&#x27;b&#x27;</span> | <span class="string">&#x27;c&#x27;</span>&gt;;</span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 3</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Simplify</span>&lt;T&gt; = &#123;</span><br><span class="line">    [P <span class="keyword">in</span> keyof T]: T[P]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">SetOptional</span>&lt;T, K <span class="keyword">extends</span> keyof T&gt; = <span class="title class_">Simplify</span>&lt;<span class="title class_">Partial</span>&lt;<span class="title class_">Pick</span>&lt;T, K&gt;&gt; &amp; <span class="title class_">Omit</span>&lt;T, K&gt;&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">SetRequired</span>&lt;T, K <span class="keyword">extends</span> keyof T&gt; = <span class="title class_">Simplify</span>&lt;<span class="title class_">Required</span>&lt;<span class="title class_">Pick</span>&lt;T, K&gt;&gt; &amp; <span class="title class_">Omit</span>&lt;T, K&gt;&gt;</span><br></pre></td></tr></table></figure><h2 id="ç¬¬å››é¢˜"><a href="#ç¬¬å››é¢˜" class="headerlink" title="ç¬¬å››é¢˜"></a>ç¬¬å››é¢˜</h2><ul><li><em>Pick&lt;T, K extends keyof T&gt;</em> çš„ä½œç”¨æ˜¯å°†æŸä¸ªç±»å‹ä¸­çš„å­—å±æ€§æŒ‘å‡ºæ¥ï¼Œå¾—åˆ°åŒ…å«è¿™ä¸ªç±»å‹éƒ¨åˆ†å±æ€§çš„å­—ç±»å‹ã€‚</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Todo</span> &#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">description</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">completed</span>: <span class="built_in">boolean</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">TodoPreview</span> = <span class="title class_">Pick</span>&lt;<span class="title class_">Todo</span>, <span class="string">&quot;title&quot;</span> | <span class="string">&quot;completed&quot;</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">todo</span>: <span class="title class_">TodoPreview</span> = &#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="string">&quot;clean room&quot;</span>,</span><br><span class="line">  <span class="attr">completed</span>: <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>é—®é¢˜ï¼šå¦‚ä½•å®šä¹‰ä¸€ä¸ª<em>ConditionalPick</em>å·¥å…·ç±»å‹ï¼Œæ”¯æŒæ ¹æ®æŒ‡å®šçš„<em>Condition</em>æ¡ä»¶æ¥ç”Ÿæˆæ–°çš„ç±»å‹ï¼Œå¯¹åº”çš„ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Example</span> &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">b</span>: <span class="built_in">string</span> | <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">c</span>: <span class="function">() =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">  <span class="attr">d</span>: &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">StringKeyOnly</span> = <span class="title class_">ConditionalPick</span>&lt;<span class="title class_">Example</span>, <span class="built_in">string</span>&gt;;</span><br><span class="line"><span class="comment">// =&gt; &#123;a: string&#125;</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><ul><li><a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-1.html#key-remapping-in-mapped-types">ç¥å¥‡çš„ as</a></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Example</span> &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">b</span>: <span class="built_in">string</span> | <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">c</span>: <span class="function">() =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">  <span class="attr">d</span>: &#123;&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ConditionalPick</span>&lt;T, K&gt; = &#123;</span><br><span class="line">  [P <span class="keyword">in</span> keyof T <span class="keyword">as</span> (T[P] <span class="keyword">extends</span> K ? P : <span class="built_in">never</span>)]: T[P]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">StringKeysOnly</span> = <span class="title class_">ConditionalPick</span>&lt;<span class="title class_">Example</span>, <span class="built_in">string</span>&gt;;</span><br><span class="line"><span class="comment">// =&gt; &#123;a: string&#125;</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬äº”é¢˜"><a href="#ç¬¬äº”é¢˜" class="headerlink" title="ç¬¬äº”é¢˜"></a>ç¬¬äº”é¢˜</h2><ul><li>å®šä¹‰ä¸€ä¸ªå·¥å…·ç±»å‹<em>AppendArgument</em>,ä¸ºå·²æœ‰å‡½æ•°ç´¯å¿ƒå¢åŠ æŒ‡å®šç±»å‹çš„å‚æ•°ï¼Œæ–°å¢çš„å‚æ•°åæ˜¯<em>x</em>ï¼Œå°†ä½œä¸ºæ–°å‡½æ•°ç±»å‹çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Fn</span> = <span class="function">(<span class="params">a: <span class="built_in">number</span>, b: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">number</span>;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">AppendArgument</span>&lt;F, A&gt; = <span class="comment">// ä½ çš„å®ç°ä»£ç </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">FinalFn</span> = <span class="title class_">AppendArgument</span>&lt;<span class="title class_">Fn</span>, <span class="built_in">boolean</span>&gt;</span><br><span class="line"><span class="comment">// (x: boolean, a: number, b: string) =&gt; number;</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 1</strong></p><ul><li>å»¶ä¼¸é˜…è¯» <a href="https://mp.weixin.qq.com/s/mkvnJh3fBmL86Vnrv9xAyQ">æŒæ¡ TS è¿™äº›å·¥å…·ç±»å‹ï¼Œè®©ä½ å¼€å‘äº‹åŠåŠŸå€</a></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">AppendArgument</span>&lt;F <span class="keyword">extends</span> (...<span class="attr">args</span>: <span class="built_in">any</span>) =&gt; <span class="built_in">any</span>, A&gt; = <span class="function">(<span class="params">x: A, ...args: Parameters&lt;F&gt;</span>) =&gt;</span> <span class="title class_">ReturnType</span>&lt;F&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Fn</span> = <span class="function">(<span class="params">a: <span class="built_in">number</span>, b: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">FinalFn</span> = <span class="title class_">AppendArgument</span>&lt;<span class="title class_">Fn</span>, <span class="built_in">boolean</span>&gt;;</span><br><span class="line"><span class="comment">// (x: boolean, a: number, b: string) =&gt; number;</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 2</strong></p><ul><li>å»¶ä¼¸é˜…è¯» <a href="https://mp.weixin.qq.com/s/JT2N2K5hvQAXN45B2DEbQw">ç”¨ä¸Šè¿™å‡ æ‹›ï¼Œè½»æ¾å®ç° TS ç±»å‹æå–</a></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">AppendArgument</span>&lt;F, T&gt; = F <span class="keyword">extends</span> (...<span class="attr">args</span>: infer <span class="title class_">Args</span>) =&gt; infer <span class="title class_">Return</span> ? <span class="function">(<span class="params">x: T, ...args: Args</span>) =&gt;</span> <span class="title class_">Return</span> : <span class="built_in">never</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Fn</span> = <span class="function">(<span class="params">a: <span class="built_in">number</span>, b: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">FinalFn</span> = <span class="title class_">AppendArgument</span>&lt;<span class="title class_">Fn</span>, <span class="built_in">boolean</span>&gt;;</span><br><span class="line"><span class="comment">// (x: boolean, a: number, b: string) =&gt; number</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬å…­é¢˜"><a href="#ç¬¬å…­é¢˜" class="headerlink" title="ç¬¬å…­é¢˜"></a>ç¬¬å…­é¢˜</h2><ul><li>å®šä¹‰ä¸€ä¸ª NativeFlat å·¥å…·ç±»å‹ï¼Œæ”¯æŒæŠŠæ•°ç»„ç±»å‹æ‹å¹³(æ‰å¹³åŒ–),ç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">NativeFlat</span>&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[]&gt; = <span class="comment">// å®ç°ä»£ç </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">NativeResult</span> = <span class="title class_">NativeFlat</span>&lt;[[<span class="string">&#x27;a&#x27;</span>],[<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>],[<span class="string">&#x27;d&#x27;</span>]]&gt;;</span><br><span class="line"><span class="comment">// =&gt; &quot;a&quot; | &quot;b&quot; | &quot;c&quot; | &quot;d&quot;</span></span><br></pre></td></tr></table></figure><ul><li>åœ¨å®Œæˆ<em>NativeFlat</em>å·¥å…·ç±»å‹ä¹‹åï¼Œç»§ç»­å®ç°<em>DeepFlat</em>å·¥å…·ç±»å‹ï¼Œä»¥æ”¯æŒå¤šç»´æ•°ç»„ç±»å‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">DeepFlat</span>&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[]&gt; = <span class="built_in">unknown</span> <span class="comment">// ä½ çš„å®ç°ä»£ç </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Deep</span> = [[<span class="string">&#x27;a&#x27;</span>], [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>], [[<span class="string">&#x27;d&#x27;</span>]], [[[[<span class="string">&#x27;e&#x27;</span>]]]]];</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">DeepTestResult</span> = <span class="title class_">DeepFlat</span>&lt;<span class="title class_">Deep</span>&gt;</span><br><span class="line"><span class="comment">// DeepTestResult: &quot;a&quot; | &quot;b&quot; | &quot;c&quot; | &quot;d&quot; | &quot;e&quot;</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><ul><li>NativeFlat</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">NaiveFlat</span>&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[]&gt; = &#123;</span><br><span class="line">  [P <span class="keyword">in</span> keyof T]: T[P] <span class="keyword">extends</span> <span class="built_in">any</span>[] ? T[P][<span class="built_in">number</span>] : T[P]</span><br><span class="line">&#125;[<span class="built_in">number</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">NaiveResult</span> = <span class="title class_">NaiveFlat</span>&lt;[[<span class="string">&#x27;a&#x27;</span>], [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>], [<span class="string">&#x27;d&#x27;</span>]]&gt;</span><br><span class="line"><span class="comment">// NaiveResultçš„ç»“æœï¼š &quot;a&quot; | &quot;b&quot; | &quot;c&quot; | &quot;d&quot;</span></span><br></pre></td></tr></table></figure><ul><li>DeepFlat</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Deep</span> = [[<span class="string">&#x27;a&#x27;</span>], [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>], [[<span class="string">&#x27;d&#x27;</span>]], [[[[<span class="string">&#x27;e&#x27;</span>]]]]];</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">DeepFlat</span>&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[]&gt; = &#123;</span><br><span class="line">  [K <span class="keyword">in</span> keyof T]: T[K] <span class="keyword">extends</span> <span class="built_in">any</span>[] ? <span class="title class_">DeepFlat</span>&lt;T[K]&gt; : T[K]</span><br><span class="line">&#125;[<span class="built_in">number</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">DeepTestResult</span> = <span class="title class_">DeepFlat</span>&lt;<span class="title class_">Deep</span>&gt;</span><br><span class="line"><span class="comment">// DeepTestResult: &quot;a&quot; | &quot;b&quot; | &quot;c&quot; | &quot;d&quot; | &quot;e&quot;</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬ä¸ƒé¢˜"><a href="#ç¬¬ä¸ƒé¢˜" class="headerlink" title="ç¬¬ä¸ƒé¢˜"></a>ç¬¬ä¸ƒé¢˜</h2><ul><li>ä½¿ç”¨ç±»å‹åˆ«åå®šä¹‰ä¸€ä¸ª<em>EmptyObject</em>ç±»å‹ï¼Œæ˜¯çš„è¯¥ç±»å‹åªå…è®¸ç©ºå¯¹è±¡èµ‹å€¼ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">EmptyObject</span> = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">shouldPass</span>: <span class="title class_">EmptyObject</span> = &#123;&#125;; <span class="comment">// OK</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">shouldFail</span>: <span class="title class_">EmptyObject</span> = &#123; <span class="comment">// Error</span></span><br><span class="line">  <span class="attr">prop</span>: <span class="string">&quot;TS&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æ›´æ”¹ä»¥ä¸‹<em>takeSomeTypeOnly</em>å‡½æ•°ç±»å‹å®šä¹‰ï¼Œè®©å‚æ•°åªå…è®¸ä¸¥æ ¼ SomeType ç±»å‹çš„å€¼ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">SomeType</span> = &#123;</span><br><span class="line">  <span class="attr">prop</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">takeSomeTypeOnly</span>(<span class="params">x: SomeType</span>) &#123;<span class="keyword">return</span> x&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> x = &#123;<span class="attr">prop</span>: <span class="string">&#x27;a&#x27;</span>&#125;;</span><br><span class="line"><span class="title function_">takeSomeTypeOnly</span>(x); <span class="comment">// OK</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> y = &#123;<span class="attr">prop</span>: <span class="string">&#x27;a&#x27;</span>, <span class="attr">additionalProp</span>: <span class="string">&#x27;x&#x27;</span>&#125;;</span><br><span class="line"><span class="title function_">takeSomeTypeOnly</span>(y); <span class="comment">// Error</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><ul><li>EmptyObject</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// type PropertyKey = string | number | symbol;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">EmptyObject</span> = &#123;</span><br><span class="line">  [K <span class="keyword">in</span> <span class="title class_">PropertyKey</span>]: <span class="built_in">never</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">shouldPass</span>: <span class="title class_">EmptyObject</span> = &#123;&#125;; <span class="comment">// OK</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">shouldFail</span>: <span class="title class_">EmptyObject</span> = &#123; <span class="comment">// Error</span></span><br><span class="line">  <span class="attr">prop</span>: <span class="string">&quot;TS&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>takeSomeTypeOnly</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">SomeType</span> = &#123;</span><br><span class="line">  <span class="attr">prop</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Exclusive</span>&lt;<span class="variable constant_">T1</span>, <span class="variable constant_">T2</span> <span class="keyword">extends</span> <span class="variable constant_">T1</span>&gt; = &#123;</span><br><span class="line">  [K <span class="keyword">in</span> keyof <span class="variable constant_">T2</span>]: K <span class="keyword">extends</span> keyof <span class="variable constant_">T1</span> ? <span class="variable constant_">T2</span>[K] : <span class="built_in">never</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> takeSomeTypeOnly&lt;T <span class="keyword">extends</span> <span class="title class_">SomeType</span>&gt;(<span class="attr">x</span>: <span class="title class_">Exclusive</span>&lt;<span class="title class_">SomeType</span>, T&gt;) &#123;<span class="keyword">return</span> x&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> x = &#123;<span class="attr">prop</span>: <span class="string">&#x27;a&#x27;</span>&#125;;</span><br><span class="line"><span class="title function_">takeSomeTypeOnly</span>(x); <span class="comment">// OK</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> y = &#123;<span class="attr">prop</span>: <span class="string">&#x27;a&#x27;</span>, <span class="attr">additionalProp</span>: <span class="string">&#x27;x&#x27;</span>&#125;;</span><br><span class="line"><span class="title function_">takeSomeTypeOnly</span>(y); <span class="comment">// Error</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬å…«é¢˜"><a href="#ç¬¬å…«é¢˜" class="headerlink" title="ç¬¬å…«é¢˜"></a>ç¬¬å…«é¢˜</h2><ul><li>å®šä¹‰ä¸€ä¸ª<em>NonEmptyArray</em>å·¥å…·ç±»å‹ï¼Œç”¨äºç¡®ä¿æ•°æ®ä¸ºéç©ºæ•°ç»„</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">NonEmptyArray</span>&lt;T&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">err</span>: <span class="title class_">NonEmptyArray</span>&lt;<span class="built_in">string</span>&gt; = []; <span class="comment">// Error</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">succ</span>: <span class="title class_">NonEmptyArray</span>&lt;<span class="built_in">string</span>&gt; = [<span class="string">&#x27;Hello Ts&#x27;</span>]; <span class="comment">//Ok</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 1</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">NonEmptyArray</span>&lt;T&gt; = [T, ...T[]];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">err</span>: <span class="title class_">NonEmptyArray</span>&lt;<span class="built_in">string</span>&gt; = []; <span class="comment">// Error</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">succ</span>: <span class="title class_">NonEmptyArray</span>&lt;<span class="built_in">string</span>&gt; = [<span class="string">&#x27;Hello Ts&#x27;</span>]; <span class="comment">//Ok</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 2</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">NonEmptyArray</span>&lt;T&gt; = T[] &amp; &#123;<span class="number">0</span>: T&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">err</span>: <span class="title class_">NonEmptyArray</span>&lt;<span class="built_in">string</span>&gt; = []; <span class="comment">// Error</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">succ</span>: <span class="title class_">NonEmptyArray</span>&lt;<span class="built_in">string</span>&gt; = [<span class="string">&#x27;Hello Ts&#x27;</span>]; <span class="comment">//Ok</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 3</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">NonEmptyArray</span>&lt;T&gt; = &#123;</span><br><span class="line">  [P <span class="keyword">in</span> <span class="built_in">number</span>]: T;</span><br><span class="line">&#125; &amp; &#123;</span><br><span class="line">  <span class="number">0</span>: T</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">err</span>: <span class="title class_">NonEmptyArray</span>&lt;<span class="built_in">string</span>&gt; = []; <span class="comment">// Error</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">succ</span>: <span class="title class_">NonEmptyArray</span>&lt;<span class="built_in">string</span>&gt; = [<span class="string">&#x27;Hello Ts&#x27;</span>]; <span class="comment">//Ok</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬ä¹é¢˜"><a href="#ç¬¬ä¹é¢˜" class="headerlink" title="ç¬¬ä¹é¢˜"></a>ç¬¬ä¹é¢˜</h2><ul><li>å®šä¹‰ä¸€ä¸ª<em>JoinStrArray</em>å·¥å…·ç±»å‹ï¼Œç”¨äºæ ¹æ®æŒ‡å®šçš„<code>Separator</code>åˆ†éš”ç¬¦ï¼Œå¯¹å­—ç¬¦ä¸²æ•°æ®ç±»å‹è¿›è¡Œæ‹¼æ¥ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">JoinStrArray</span>&lt;<span class="title class_">Arr</span> <span class="keyword">extends</span> <span class="built_in">string</span>[], <span class="title class_">Separator</span> <span class="keyword">extends</span> <span class="built_in">string</span>, <span class="title class_">Result</span> <span class="keyword">extends</span> <span class="built_in">string</span> = <span class="string">&quot;&quot;</span>&gt; = <span class="comment">// ä½ çš„å®ç°ä»£ç </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Names</span> = [<span class="string">&quot;Sem&quot;</span>, <span class="string">&quot;Lolo&quot;</span>, <span class="string">&quot;Kaquko&quot;</span>]</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">NamesComma</span> = <span class="title class_">JoinStrArray</span>&lt;<span class="title class_">Names</span>, <span class="string">&quot;,&quot;</span>&gt; <span class="comment">// &quot;Sem,Lolo,Kaquko&quot;</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">NamesSpace</span> = <span class="title class_">JoinStrArray</span>&lt;<span class="title class_">Names</span>, <span class="string">&quot; &quot;</span>&gt; <span class="comment">// &quot;Sem Lolo Kaquko&quot;</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">NamesStars</span> = <span class="title class_">JoinStrArray</span>&lt;<span class="title class_">Names</span>, <span class="string">&quot;â­ï¸&quot;</span>&gt; <span class="comment">// &quot;Semâ­ï¸Loloâ­ï¸Kaquko&quot;</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">JoinStrArray</span>&lt;</span><br><span class="line">  <span class="title class_">Arr</span> <span class="keyword">extends</span> <span class="built_in">string</span>[],</span><br><span class="line">  <span class="title class_">Separator</span> <span class="keyword">extends</span> <span class="built_in">string</span>,</span><br><span class="line">  <span class="title class_">Result</span> <span class="keyword">extends</span> <span class="built_in">string</span> = <span class="string">&quot;&quot;</span></span><br><span class="line">&gt; =</span><br><span class="line"><span class="title class_">Arr</span> <span class="keyword">extends</span> [infer <span class="title class_">El</span>,...infer <span class="title class_">Rest</span>]</span><br><span class="line">? <span class="title class_">Rest</span> <span class="keyword">extends</span> <span class="built_in">string</span>[]</span><br><span class="line">? <span class="title class_">El</span> <span class="keyword">extends</span> <span class="built_in">string</span></span><br><span class="line">? <span class="title class_">Result</span> <span class="keyword">extends</span> <span class="string">&quot;&quot;</span></span><br><span class="line">? <span class="title class_">JoinStrArray</span>&lt;<span class="title class_">Rest</span>, <span class="title class_">Separator</span>,<span class="string">`<span class="subst">$&#123;El&#125;</span>`</span>&gt;</span><br><span class="line">: <span class="title class_">JoinStrArray</span>&lt;<span class="title class_">Rest</span>, <span class="title class_">Separator</span>,<span class="string">`<span class="subst">$&#123;Result&#125;</span><span class="subst">$&#123;Separator&#125;</span><span class="subst">$&#123;El&#125;</span>`</span>&gt;</span><br><span class="line">: <span class="string">`<span class="subst">$&#123;Result&#125;</span>`</span></span><br><span class="line">: <span class="string">`<span class="subst">$&#123;Result&#125;</span>`</span></span><br><span class="line">: <span class="string">`<span class="subst">$&#123;Result&#125;</span>`</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Names</span> = [<span class="string">&quot;Sem&quot;</span>, <span class="string">&quot;Lolo&quot;</span>, <span class="string">&quot;Kaquko&quot;</span>]</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">NamesComma</span> = <span class="title class_">JoinStrArray</span>&lt;<span class="title class_">Names</span>, <span class="string">&quot;,&quot;</span>&gt; <span class="comment">// &quot;Sem,Lolo,Kaquko&quot;</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">NamesSpace</span> = <span class="title class_">JoinStrArray</span>&lt;<span class="title class_">Names</span>, <span class="string">&quot; &quot;</span>&gt; <span class="comment">// &quot;Sem Lolo Kaquko&quot;</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">NamesStars</span> = <span class="title class_">JoinStrArray</span>&lt;<span class="title class_">Names</span>, <span class="string">&quot;â­ï¸&quot;</span>&gt; <span class="comment">// &quot;Semâ­ï¸Loloâ­ï¸Kaquko&quot;</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬åé¢˜"><a href="#ç¬¬åé¢˜" class="headerlink" title="ç¬¬åé¢˜"></a>ç¬¬åé¢˜</h2><ul><li>å®ç°ä¸€ä¸ª<em>Trim</em>å·¥å…·ç±»å‹ï¼Œç”¨äºå¯¹å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹è¿›è¡Œå»ç©ºæ ¼å¤„ç†ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Trim</span>&lt;V <span class="keyword">extends</span> <span class="built_in">string</span>&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Result</span> = <span class="title class_">Trim</span>&lt;<span class="string">&#x27;  foolishmax  &#x27;</span>&gt;</span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">TrimLeft</span>&lt;V <span class="keyword">extends</span> <span class="built_in">string</span>&gt; = V <span class="keyword">extends</span> <span class="string">` <span class="subst">$&#123;infer R&#125;</span>`</span> ? <span class="title class_">TrimLeft</span>&lt;R&gt; : V;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">TrimRight</span>&lt;V <span class="keyword">extends</span> <span class="built_in">string</span>&gt; = V <span class="keyword">extends</span> <span class="string">`<span class="subst">$&#123;infer R&#125;</span> `</span>? <span class="title class_">TrimRight</span>&lt;R&gt; : V;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Trim</span>&lt;V <span class="keyword">extends</span> <span class="built_in">string</span>&gt; = <span class="title class_">TrimLeft</span>&lt;<span class="title class_">TrimRight</span>&lt;V&gt;&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Result</span> = <span class="title class_">Trim</span>&lt;<span class="string">&#x27;  foolishmax  &#x27;</span>&gt;</span><br></pre></td></tr></table></figure><h2 id="ç¬¬åä¸€é¢˜"><a href="#ç¬¬åä¸€é¢˜" class="headerlink" title="ç¬¬åä¸€é¢˜"></a>ç¬¬åä¸€é¢˜</h2><ul><li>å®ç°ä¸€ä¸ª*IsEqual&lt;A, B&gt;*å·¥å…·ç±»å‹ï¼Œç”¨äºæ¯”è¾ƒä¸¤ä¸ªç±»å‹æ˜¯å¦ç›¸ç­‰ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">IsEqual</span>&lt;A, B&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">E0</span> = <span class="title class_">IsEqual</span>&lt;<span class="number">1</span>, <span class="number">2</span>&gt;; <span class="comment">// false</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">E1</span> = <span class="title class_">IsEqual</span>&lt;&#123;a : <span class="number">1</span>, &#123;<span class="attr">a</span>: <span class="number">1</span>&#125;&#125;&gt;; <span class="comment">// true</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">E2</span> = <span class="title class_">IsEqual</span>&lt;[<span class="number">1</span>], []&gt;; <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆï¼ˆåŸå§‹æ–¹æ¡ˆï¼‰ 1</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">IsEqual</span>&lt;A, B&gt; = A <span class="keyword">extends</span> B ? (B <span class="keyword">extends</span> A ? <span class="literal">true</span> : <span class="literal">false</span>) : <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">E0</span> = <span class="title class_">IsEqual</span>&lt;<span class="number">1</span>, <span class="number">2</span>&gt;; <span class="comment">// false</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">E1</span> = <span class="title class_">IsEqual</span>&lt;&#123;a : <span class="number">1</span>&#125;, &#123;<span class="attr">a</span>: <span class="number">1</span>&#125;&gt;; <span class="comment">// true</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">E2</span> = <span class="title class_">IsEqual</span>&lt;[<span class="number">1</span>], []&gt;; <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// error</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">E3</span> = <span class="title class_">IsEqual</span>&lt;<span class="literal">true</span>, <span class="built_in">boolean</span>&gt; <span class="comment">// boolean</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">E4</span> = <span class="title class_">IsEqual</span>&lt;<span class="number">1</span> | <span class="number">2</span>, <span class="number">1</span>&gt; <span class="comment">// boolean</span></span><br><span class="line"></span><br><span class="line">è¿™æ˜¯å› ä¸ºæ³›å‹å’Œ*<span class="keyword">extends</span>*ä¸¤è€…ç»“åˆæ‰€äº§ç”Ÿçš„*distributive conditionial types*æ•ˆåº”å¯¼è‡´çš„</span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆï¼ˆç¨å¾®ä¼˜åŒ–ï¼‰2</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">IsEqual</span>&lt;A, B&gt; = [A] <span class="keyword">extends</span> [B] ? [B] <span class="keyword">extends</span> [A] ? <span class="literal">true</span> : <span class="literal">false</span> : <span class="literal">false</span></span><br><span class="line">æˆ–</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IsEqual</span>&lt;A, B&gt; = [A, B] <span class="keyword">extends</span> [B, A] ? <span class="literal">true</span> : <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">E0</span> = <span class="title class_">IsEqual</span>&lt;<span class="number">1</span>, <span class="number">2</span>&gt;; <span class="comment">// false</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">E1</span> = <span class="title class_">IsEqual</span>&lt;&#123;a : <span class="number">1</span>&#125;, &#123;<span class="attr">a</span>: <span class="number">1</span>&#125;&gt;; <span class="comment">// true</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">E2</span> = <span class="title class_">IsEqual</span>&lt;[<span class="number">1</span>], []&gt;; <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// error</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">E3</span> = <span class="title class_">IsEqual</span>&lt;<span class="built_in">any</span>, <span class="built_in">string</span>&gt; <span class="comment">// true</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">E4</span> = <span class="title class_">IsEqual</span>&lt; &#123; <span class="attr">name</span>: <span class="built_in">string</span> &#125;, &#123; <span class="keyword">readonly</span> <span class="attr">name</span>: <span class="built_in">string</span> &#125;&gt; <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">è¿™æ˜¯å› ä¸º<span class="title class_">Ts</span>ä¸­<span class="built_in">any</span>å¯ä»¥èµ‹å€¼ä¸ºä»»ä½•ç±»å‹ï¼Œä»»ä½•ç±»å‹ä¹Ÿå¯ä»¥èµ‹å€¼ç»™<span class="built_in">any</span>ï¼Œè¿™å°±æ„å‘³ç€<span class="built_in">any</span>å’Œä»»æ„ç±»å‹ä¹‹é—´éƒ½æ˜¯assignableçš„ï¼Œå¯¹äº<span class="keyword">extends</span>è€Œè¨€å°±æ˜¯éƒ½å¯ä»¥ç›¸äº’<span class="keyword">extends</span>çš„ï¼Œæ‰€ä»¥<span class="variable constant_">E3</span>æ˜¯<span class="literal">true</span>ã€‚</span><br><span class="line"></span><br><span class="line"><span class="keyword">readonly</span>ä¸ä¼šæ”¹å˜assignableã€‚</span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 4</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">IsEqual</span>&lt;A, B&gt; =</span><br><span class="line">(&lt;G&gt;<span class="function">() =&gt;</span> G <span class="keyword">extends</span> A ? <span class="number">1</span> : <span class="number">2</span>) <span class="keyword">extends</span></span><br><span class="line">(&lt;G&gt;<span class="function">() =&gt;</span> G <span class="keyword">extends</span> B ? <span class="number">1</span> : <span class="number">2</span>) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">E0</span> = <span class="title class_">IsEqual</span>&lt;<span class="number">1</span>, <span class="number">2</span>&gt;; <span class="comment">// false</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">E1</span> = <span class="title class_">IsEqual</span>&lt;&#123;a : <span class="number">1</span>&#125;, &#123;<span class="attr">a</span>: <span class="number">1</span>&#125;&gt;; <span class="comment">// true</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">E2</span> = <span class="title class_">IsEqual</span>&lt;[<span class="number">1</span>], []&gt;; <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬åäºŒé¢˜"><a href="#ç¬¬åäºŒé¢˜" class="headerlink" title="ç¬¬åäºŒé¢˜"></a>ç¬¬åäºŒé¢˜</h2><ul><li>å®ç°ä¸€ä¸ª<em>Head</em>å·¥å…·ç±»å‹ï¼Œç”¨äºè·å–æ•°ç»„ç±»å‹çš„ç¬¬ä¸€ä¸ªç±»å‹ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Head</span>&lt;T <span class="keyword">extends</span> <span class="title class_">Array</span>&lt;<span class="built_in">any</span>&gt;&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">H0</span> = <span class="title class_">Head</span>&lt;[]&gt; <span class="comment">// never</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">H1</span> = <span class="title class_">Head</span>&lt;[<span class="number">1</span>]&gt; <span class="comment">// 1</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">H2</span> = <span class="title class_">Head</span>&lt;[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]&gt; <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 1</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Head</span>&lt;T <span class="keyword">extends</span> <span class="title class_">Array</span>&lt;<span class="built_in">any</span>&gt;&gt; = T <span class="keyword">extends</span> [] ? <span class="built_in">never</span> : T[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">H0</span> = <span class="title class_">Head</span>&lt;[]&gt; <span class="comment">// never</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">H1</span> = <span class="title class_">Head</span>&lt;[<span class="number">1</span>]&gt; <span class="comment">// 1</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">H2</span> = <span class="title class_">Head</span>&lt;[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]&gt; <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 2</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Head</span>&lt;T <span class="keyword">extends</span> <span class="title class_">Array</span>&lt;<span class="built_in">any</span>&gt;&gt; = T <span class="keyword">extends</span> [<span class="attr">head</span>: infer H, ...<span class="attr">rest</span>: <span class="built_in">any</span>[]] ? H : <span class="built_in">never</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">H0</span> = <span class="title class_">Head</span>&lt;[]&gt; <span class="comment">// never</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">H1</span> = <span class="title class_">Head</span>&lt;[<span class="number">1</span>]&gt; <span class="comment">// 1</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">H2</span> = <span class="title class_">Head</span>&lt;[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]&gt; <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬åä¸‰é¢˜"><a href="#ç¬¬åä¸‰é¢˜" class="headerlink" title="ç¬¬åä¸‰é¢˜"></a>ç¬¬åä¸‰é¢˜</h2><ul><li>å®ç°ä¸€ä¸ª<em>Tail</em>å·¥å…·ç±»å‹ï¼Œç”¨äºè·å–æ•°ç»„ç±»å‹é™¤äº†ç¬¬ä¸€ä¸ªç±»å‹å¤–ï¼Œå‰©ä½™çš„ç±»å‹ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Tail</span>&lt;T <span class="keyword">extends</span> <span class="title class_">Array</span>&lt;<span class="built_in">any</span>&gt;&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T0</span> = <span class="title class_">Tail</span>&lt;[]&gt; <span class="comment">//[]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T1</span> = <span class="title class_">Tail</span>&lt;[<span class="number">1</span>, <span class="number">2</span>]&gt; <span class="comment">// [2]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T2</span> = <span class="title class_">Tail</span>&lt;[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]&gt; <span class="comment">//[2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Tail</span>&lt;T <span class="keyword">extends</span> <span class="title class_">Array</span>&lt;<span class="built_in">any</span>&gt;&gt; = T <span class="keyword">extends</span> [infer A, ...infer B] ? B : [];</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T0</span> = <span class="title class_">Tail</span>&lt;[]&gt; <span class="comment">//[]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T1</span> = <span class="title class_">Tail</span>&lt;[<span class="number">1</span>, <span class="number">2</span>]&gt; <span class="comment">// [2]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T2</span> = <span class="title class_">Tail</span>&lt;[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]&gt; <span class="comment">//[2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬åå››é¢˜"><a href="#ç¬¬åå››é¢˜" class="headerlink" title="ç¬¬åå››é¢˜"></a>ç¬¬åå››é¢˜</h2><ul><li>å®ç°ä¸€ä¸ª<em>Unshift</em>å·¥å…·ç±»å‹ï¼Œç”¨äºæŠŠæŒ‡å®šç±»å‹ E ä½œä¸ºç¬¬ä¸€ä¸ªå…ƒç´ æ·»åŠ åˆ°<em>T</em>æ•°ç»„ç±»å‹ä¸­ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Unshift</span>&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[], E&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">U0</span> = <span class="title class_">Unshift</span>&lt;[], <span class="number">1</span>&gt;; <span class="comment">// [1]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">U1</span> = <span class="title class_">Unshift</span>&lt;[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">0</span>&gt;; <span class="comment">//[0, 1, 2, 3]</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Unshift</span>&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[], E&gt; = [E, ...T];</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">U0</span> = <span class="title class_">Unshift</span>&lt;[], <span class="number">1</span>&gt;; <span class="comment">// [1]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">U1</span> = <span class="title class_">Unshift</span>&lt;[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">0</span>&gt;; <span class="comment">//[0, 1, 2, 3]</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬åäº”é¢˜"><a href="#ç¬¬åäº”é¢˜" class="headerlink" title="ç¬¬åäº”é¢˜"></a>ç¬¬åäº”é¢˜</h2><ul><li>å®ç°ä¸€ä¸ª<em>Shift</em>å·¥å…·ç±»å‹ï¼Œç”¨äºç§»é™¤<em>T</em>æ•°ç»„ç±»å‹ä¸­çš„ç¬¬ä¸€ä¸ªç±»å‹ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Shift</span>&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[]&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">S0</span> = <span class="title class_">Shift</span>&lt;[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]&gt;</span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">S1</span> = <span class="title class_">Shift</span>&lt;[<span class="built_in">string</span>, <span class="built_in">number</span>, <span class="built_in">boolean</span>]&gt;</span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Shift</span>&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[]&gt; = T <span class="keyword">extends</span> [infer A, ...infer B] ? B : [];</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">S0</span> = <span class="title class_">Shift</span>&lt;[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]&gt;; <span class="comment">// [2, 3]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">S1</span> = <span class="title class_">Shift</span>&lt;[<span class="built_in">string</span>, <span class="built_in">number</span>, <span class="built_in">boolean</span>]&gt;; <span class="comment">// [number, boolean]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">S2</span> = <span class="title class_">Shift</span>&lt;[]&gt;; <span class="comment">// []</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">S3</span> = <span class="title class_">Shift</span>&lt;[<span class="built_in">string</span>]&gt;; <span class="comment">// []</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬åå…­é¢˜"><a href="#ç¬¬åå…­é¢˜" class="headerlink" title="ç¬¬åå…­é¢˜"></a>ç¬¬åå…­é¢˜</h2><ul><li>å®ç°ä¸€ä¸ª<em>Push</em>å·¥å…·ç±»å‹ï¼Œç”¨äºæŠŠæŒ‡å®šç±»å‹<em>E</em>ä½œä¸ºæœ€åä¸€ä¸ªå…ƒç´ æ·»åŠ åˆ°<em>T</em>æ•°ç»„ç±»å‹ä¸­ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Push</span>&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[], E&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">P0</span> = <span class="title class_">Push</span>&lt;[], <span class="number">1</span>&gt;; <span class="comment">// [1]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">P1</span> = <span class="title class_">Push</span>&lt;[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">4</span>&gt;; <span class="comment">// [1, 2, 3, 4]</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 1</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Push</span>&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[], E&gt; = T <span class="keyword">extends</span> [...infer U] ? [...U, E] : <span class="built_in">never</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">P0</span> = <span class="title class_">Push</span>&lt;[], <span class="number">1</span>&gt;; <span class="comment">// [1]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">P1</span> = <span class="title class_">Push</span>&lt;[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">4</span>&gt;; <span class="comment">// [1, 2, 3, 4]</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 2</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Push</span>&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[], E&gt; = [...T, E];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">P0</span> = <span class="title class_">Push</span>&lt;[], <span class="number">1</span>&gt;; <span class="comment">// [1]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">P1</span> = <span class="title class_">Push</span>&lt;[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">4</span>&gt;; <span class="comment">// [1, 2, 3, 4]</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬åä¸ƒé¢˜"><a href="#ç¬¬åä¸ƒé¢˜" class="headerlink" title="ç¬¬åä¸ƒé¢˜"></a>ç¬¬åä¸ƒé¢˜</h2><ul><li>å®ç°ä¸€ä¸ª<em>Includes</em>å·¥å…·ç±»å‹ï¼Œç”¨äºåˆ¤æ–­æŒ‡å®šçš„ç±»å‹<em>E</em>ï¼Œæ˜¯å¦åŒ…å«åœ¨<em>T</em>æ•°ç»„ç±»å‹ä¸­ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Includes</span>&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[], E&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I0</span> = <span class="title class_">Includes</span>&lt;[], <span class="number">1</span>&gt;; <span class="comment">// false</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I1</span> = <span class="title class_">Includes</span>&lt;[<span class="number">2</span>, <span class="number">3</span>], <span class="number">2</span>&gt;; <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 1</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Includes</span>&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[], E&gt; = E <span class="keyword">extends</span> T[<span class="built_in">number</span>] ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I0</span> = <span class="title class_">Includes</span>&lt;[], <span class="number">1</span>&gt;; <span class="comment">// false</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I1</span> = <span class="title class_">Includes</span>&lt;[<span class="number">2</span>, <span class="number">3</span>], <span class="number">2</span>&gt;; <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 2</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Includes</span>&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[], E&gt; = T <span class="keyword">extends</span> [infer A, ...infer R] ? E <span class="keyword">extends</span> A ? <span class="literal">true</span> : <span class="title class_">Includes</span>&lt;R, E&gt; : <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I0</span> = <span class="title class_">Includes</span>&lt;[], <span class="number">1</span>&gt;; <span class="comment">// false</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I1</span> = <span class="title class_">Includes</span>&lt;[<span class="number">2</span>, <span class="number">3</span>], <span class="number">2</span>&gt;; <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬åå…«é¢˜"><a href="#ç¬¬åå…«é¢˜" class="headerlink" title="ç¬¬åå…«é¢˜"></a>ç¬¬åå…«é¢˜</h2><ul><li>å®ç°ä¸€ä¸ª<em>UnionToIntersection</em>å·¥å…·ç±»å‹ï¼Œç”¨äºæŠŠè”åˆç±»å‹è½¬æ¢ä¸ºäº¤å‰ç±»å‹ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">UnionToIntersection</span>&lt;U&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">U0</span> = <span class="title class_">UnionToIntersection</span>&lt;<span class="built_in">string</span> | <span class="built_in">number</span>&gt;; <span class="comment">// never</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">U1</span> = <span class="title class_">UnionToIntersection</span>&lt;&#123;<span class="attr">name</span>: <span class="built_in">string</span>&#125; | &#123;<span class="attr">age</span>: <span class="built_in">number</span>&#125;&gt;; <span class="comment">// &#123;name: string&#125; &amp; &#123;age: number&#125;</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><ul><li><p><a href="https://www.jianshu.com/p/071b948209f3">é€†å˜åå˜</a></p></li><li><p>æ³¨é‡Š</p></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Fun</span>&lt;X&gt; = <span class="function">(<span class="params">...args: X[]</span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">f</span>: <span class="title class_">Fun</span>&lt;<span class="built_in">string</span>&gt;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">g</span>: <span class="title class_">Fun</span>&lt;<span class="built_in">string</span> | <span class="built_in">number</span>&gt;</span><br><span class="line"></span><br><span class="line">g = f <span class="comment">// this cannot be assigned</span></span><br><span class="line"></span><br><span class="line">å½“fèµ‹å€¼ç»™gæ—¶ï¼Œæ–°çš„gä¸èƒ½ä½¿ç”¨<span class="built_in">number</span>ç±»å‹çš„å‚æ•°ï¼Œæˆ‘ä»¬ä¸¢å¤±äº†gçš„ä¸€éƒ¨åˆ†ç±»å‹ï¼Œè¿™å°±å±äº é€†å˜(contra-variance),è¿™ä¸ªå’Œäº¤é›†çš„å·¥ä½œæœºåˆ¶ç±»ä¼¼ã€‚</span><br><span class="line"></span><br><span class="line">å½“æˆ‘ä»¬æŠŠé€†å˜ä½ç½®æ”¾åœ¨æ¡ä»¶ç±»å‹æ—¶ï¼š<span class="title class_">Typescript</span>ä¼šåˆ›å»ºä¸€ä¸ªäº¤é›†ï¼Œæˆ‘ä»¬ä»å‡½æ•°å‚æ•°ä¸­inferäº†ä¸€ä¸ªç±»å‹ï¼Œ<span class="title class_">TypeScript</span>çŸ¥é“æˆ‘ä»¬å¿…é¡»ç¬¦åˆé€†å˜çš„æ¡ä»¶ï¼Œç„¶å<span class="title class_">TypeScript</span>ä¼šè‡ªåŠ¨åˆ›å»ºå¹¶é›†ä¸­æ‰€æœ‰çš„æˆåˆ†çš„äº¤é›†ã€‚</span><br></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">UnionToIntersection</span>&lt;U&gt; = (U <span class="keyword">extends</span> <span class="built_in">any</span> ? <span class="function">(<span class="params">k: U</span>) =&gt;</span> <span class="built_in">void</span> : <span class="built_in">never</span>) <span class="keyword">extends</span> (<span class="attr">k</span>: infer I) =&gt; <span class="built_in">void</span> ? I : <span class="built_in">never</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">U0</span> = <span class="title class_">UnionToIntersection</span>&lt;<span class="built_in">string</span> | <span class="built_in">number</span>&gt; <span class="comment">// never</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">U1</span> = <span class="title class_">UnionToIntersection</span>&lt;&#123; <span class="attr">name</span>: <span class="built_in">string</span> &#125; | &#123; <span class="attr">age</span>: <span class="built_in">number</span> &#125;&gt; <span class="comment">// &#123; name: string; &#125; &amp; &#123; age: number; &#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ç¬¬åä¹é¢˜"><a href="#ç¬¬åä¹é¢˜" class="headerlink" title="ç¬¬åä¹é¢˜"></a>ç¬¬åä¹é¢˜</h2><ul><li>å®ç°ä¸€ä¸ª <em>OptionalKeys</em> å·¥å…·ç±»å‹ï¼Œç”¨æ¥è·å–å¯¹è±¡ç±»å‹ä¸­å£°æ˜çš„å¯é€‰å±æ€§ï¼Œç¤ºä¾‹å¦‚ä¸‹:</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Person</span> = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="keyword">from</span>?: <span class="built_in">string</span>;</span><br><span class="line">  speak?: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">OptionalKeys</span>&lt;T&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">PersonOptionsKeys</span> = <span class="title class_">OptionalKeys</span>&lt;<span class="title class_">Person</span>&gt; <span class="comment">// &quot;from&quot; | &quot;speak&quot;</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 1</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Person</span> = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="keyword">from</span>?: <span class="built_in">string</span>;</span><br><span class="line">  speak?: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">OptionalKeys</span>&lt;T&gt; = <span class="title class_">NonNullable</span>&lt;&#123;</span><br><span class="line">  [P <span class="keyword">in</span> keyof T]: <span class="literal">undefined</span> <span class="keyword">extends</span> T[P] ? P : <span class="built_in">never</span></span><br><span class="line">&#125;[keyof T]&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">PersonOptionsKeys</span> = <span class="title class_">OptionalKeys</span>&lt;<span class="title class_">Person</span>&gt; <span class="comment">// &quot;from&quot; | &quot;speak&quot;</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 2</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Person</span> = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="keyword">from</span>?: <span class="built_in">string</span>;</span><br><span class="line">  speak?: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">OptionalKeys</span>&lt;T&gt; = keyof &#123;</span><br><span class="line">  [P <span class="keyword">in</span> keyof T <span class="keyword">as</span> <span class="literal">undefined</span> <span class="keyword">extends</span> T[P] ? P : <span class="built_in">never</span>]: T[P]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">PersonOptionsKeys</span> = <span class="title class_">OptionalKeys</span>&lt;<span class="title class_">Person</span>&gt; <span class="comment">// &quot;from&quot; | &quot;speak&quot;</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 3</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Person</span> = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="keyword">from</span>?: <span class="built_in">string</span>;</span><br><span class="line">  speak?: <span class="built_in">string</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">OptionalKeys</span>&lt;T&gt; = <span class="title class_">Exclude</span>&lt;&#123;</span><br><span class="line">    [P <span class="keyword">in</span> keyof T]: T <span class="keyword">extends</span> T[P] ? <span class="built_in">never</span> : T[P]</span><br><span class="line">&#125;[keyof T], <span class="literal">undefined</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">PersonOptionalKeys</span> = <span class="title class_">OptionalKeys</span>&lt;<span class="title class_">Person</span>&gt;; <span class="comment">// &quot;from&quot; | &quot;speak</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 4</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Person</span> = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="keyword">from</span>?: <span class="built_in">string</span>;</span><br><span class="line">  speak?: <span class="built_in">string</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">OptionalKeys</span>&lt;T&gt; = &#123;</span><br><span class="line">  [P <span class="keyword">in</span> keyof T]: (<span class="literal">undefined</span> <span class="keyword">extends</span> T[P] ? P : <span class="built_in">never</span>)</span><br><span class="line">&#125;[keyof T] &amp; keyof T</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">PersonOptionalKeys</span> = <span class="title class_">OptionalKeys</span>&lt;<span class="title class_">Person</span>&gt;; <span class="comment">// &quot;from&quot; | &quot;speak</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬äºŒåé¢˜"><a href="#ç¬¬äºŒåé¢˜" class="headerlink" title="ç¬¬äºŒåé¢˜"></a>ç¬¬äºŒåé¢˜</h2><ul><li>å®ç°ä¸€ä¸ª<em>Curry</em>å·¥å…·ç±»å‹ï¼Œç”¨æ¥å®ç°å‡½æ•°ç±»å‹çš„æŸ¯é‡ŒåŒ–å¤„ç†ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Curry</span>&lt;</span><br><span class="line">  F <span class="keyword">extends</span> (...<span class="attr">args</span>: <span class="built_in">any</span>[]) =&gt; <span class="built_in">any</span>,</span><br><span class="line">  P <span class="keyword">extends</span> <span class="built_in">any</span>[] = <span class="title class_">Parameters</span>&lt;F&gt;,</span><br><span class="line">  R = <span class="title class_">ReturnType</span>&lt;F&gt;</span><br><span class="line">&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">C0</span> = <span class="title class_">Curry</span>&lt;<span class="function">() =&gt;</span> <span class="title class_">Date</span>&gt;; <span class="comment">// () =&gt; Date</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">C1</span> = <span class="title class_">Curry</span>&lt;<span class="function">(<span class="params">a:<span class="built_in">number</span></span>) =&gt;</span> <span class="title class_">Date</span>&gt;; <span class="comment">// (arg: number) =&gt; Date</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">C2</span> = <span class="title class_">Curry</span>&lt;<span class="function">(<span class="params">a: <span class="built_in">number</span>, b: <span class="built_in">string</span></span>) =&gt;</span> <span class="title class_">Date</span>&gt;; <span class="comment">// (arg: number)=&gt;(arg: string) =&gt; Date</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Curry</span>&lt;</span><br><span class="line">  F <span class="keyword">extends</span> (...<span class="attr">args</span>: <span class="built_in">any</span>[]) =&gt; <span class="built_in">any</span>,</span><br><span class="line">  P <span class="keyword">extends</span> <span class="built_in">any</span>[] = <span class="title class_">Parameters</span>&lt;F&gt;,</span><br><span class="line">  R = <span class="title class_">ReturnType</span>&lt;F&gt;,</span><br><span class="line">&gt; = P <span class="keyword">extends</span> [infer A, ...infer B]</span><br><span class="line">  ? B <span class="keyword">extends</span> []</span><br><span class="line">  ? <span class="function">(<span class="params">arg: A</span>) =&gt;</span> R</span><br><span class="line">  : <span class="function">(<span class="params">arg: A</span>) =&gt;</span> <span class="title class_">Curry</span>&lt;<span class="function">(<span class="params">...arg: B</span>) =&gt;</span> R&gt;</span><br><span class="line">  : F;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">C0</span> = <span class="title class_">Curry</span>&lt;<span class="function">() =&gt;</span> <span class="title class_">Date</span>&gt;; <span class="comment">// () =&gt; Date</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">C1</span> = <span class="title class_">Curry</span>&lt;<span class="function">(<span class="params">a:<span class="built_in">number</span></span>) =&gt;</span> <span class="title class_">Date</span>&gt;; <span class="comment">// (arg: number) =&gt; Date</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">C2</span> = <span class="title class_">Curry</span>&lt;<span class="function">(<span class="params">a: <span class="built_in">number</span>, b: <span class="built_in">string</span></span>) =&gt;</span> <span class="title class_">Date</span>&gt;; <span class="comment">// (arg: number)=&gt;(arg: string) =&gt; Date</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬äºŒåä¸€é¢˜"><a href="#ç¬¬äºŒåä¸€é¢˜" class="headerlink" title="ç¬¬äºŒåä¸€é¢˜"></a>ç¬¬äºŒåä¸€é¢˜</h2><ul><li>å®ç°ä¸€ä¸ª<em>Merge</em>å·¥å…·ç±»å‹ï¼Œç”¨äºæŠŠä¸¤ä¸ªç±»å‹åˆæˆä¸€ä¸ªæ–°çš„ç±»å‹ï¼Œç¬¬äºŒç±»å‹ï¼ˆSecondTypeï¼‰çš„<em>Keys</em>å°†ä¼šè¦†ç›–ç¬¬ä¸€ç§ç±»å‹ï¼ˆFirstTypeï¼‰çš„<em>Keys</em>ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Foo</span> = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">b</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Bar</span> = &#123;</span><br><span class="line">  <span class="attr">b</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Merge</span>&lt;<span class="title class_">FirstType</span>, <span class="title class_">SecondType</span>&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> M = <span class="title class_">Merge</span>&lt;<span class="title class_">Foo</span>, <span class="title class_">Bar</span>&gt;; <span class="comment">// &#123;a: number, b: number&#125;</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 1</strong></p><ul><li>å°† FirstType å’Œ SecondType åšäº¤å‰ç±»å‹ï¼Œå¹¶éå†æ¯ä¸€ä¸ªå±æ€§ï¼›</li><li>å¦‚æœå½“å‰å±æ€§ååœ¨ SecondType ç±»å‹ä¸­ï¼Œåˆ™ä½¿ç”¨ SecondType ç±»å‹ä¸­çš„å½“å‰å±æ€§å€¼ï¼›</li><li>å¦‚æœå½“å‰å±æ€§ååœ¨ FirstType ç±»å‹ä¸­ï¼Œåˆ™ä½¿ç”¨ FirstType ç±»å‹ä¸­çš„å½“å‰å±æ€§å€¼ï¼›</li><li>å¦åˆ™ä¸º neverï¼›</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Foo</span> = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">b</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Bar</span> = &#123;</span><br><span class="line">  <span class="attr">b</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Merge</span>&lt;<span class="title class_">FirstType</span>, <span class="title class_">SecondType</span>&gt; =&#123;</span><br><span class="line">  [K <span class="keyword">in</span> keyof (<span class="title class_">FirstType</span> &amp; <span class="title class_">SecondType</span>)]</span><br><span class="line">  : K <span class="keyword">extends</span> keyof <span class="title class_">SecondType</span></span><br><span class="line">  ? <span class="title class_">SecondType</span>[K]</span><br><span class="line">  : K <span class="keyword">extends</span> keyof <span class="title class_">FirstType</span></span><br><span class="line">  ? <span class="title class_">FirstType</span>[K]</span><br><span class="line">  : <span class="built_in">never</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> M = <span class="title class_">Merge</span>&lt;<span class="title class_">Foo</span>, <span class="title class_">Bar</span>&gt;; <span class="comment">// &#123;a: number, b: number&#125;</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 2</strong></p><ul><li>å…ˆå°† FirstType ç±»å‹ä¸­å·²ç»æœ‰çš„ï¼Œå’Œ SecondType ç±»å‹ä¸­ç›¸åŒçš„å±æ€§åˆ é™¤ï¼›</li><li>å°†å‰é¢ç»“æœå’Œ SecondType åšäº¤å‰ç±»å‹ï¼Œè·å¾—åˆå¹¶åç»“æœã€‚</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Foo</span> = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">b</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Bar</span> = &#123;</span><br><span class="line">  <span class="attr">b</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Merge</span>&lt;F, S&gt; = <span class="title class_">Omit</span>&lt;F, keyof S&gt; &amp; S;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> M = <span class="title class_">Merge</span>&lt;<span class="title class_">Foo</span>, <span class="title class_">Bar</span>&gt;; <span class="comment">// &#123;a: number, b: number&#125;</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬äºŒåäºŒé¢˜"><a href="#ç¬¬äºŒåäºŒé¢˜" class="headerlink" title="ç¬¬äºŒåäºŒé¢˜"></a>ç¬¬äºŒåäºŒé¢˜</h2><ul><li>å®ç°ä¸€ä¸ª<em>RequireAtLeastOne</em>å·¥å…·ç±»å‹ï¼Œå®ƒå°†åˆ›å»ºä¸€ä¸ªè‡³å°‘å«æœ‰ä¸€ä¸ªç»™å®š<em>keys</em>çš„ç±»å‹ï¼Œå…¶ä½™<em>keys</em>ç±»å‹ä¿æŒåŸæ ·ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Responder</span> = &#123;</span><br><span class="line">  text?: <span class="function">() =&gt;</span> <span class="built_in">string</span>;</span><br><span class="line">  json?: <span class="function">() =&gt;</span> <span class="built_in">string</span>;</span><br><span class="line">  secure?: <span class="built_in">boolean</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">RequireAtLeastOne</span>&lt;</span><br><span class="line">  <span class="title class_">ObjectType</span>,</span><br><span class="line">  <span class="title class_">KeysType</span> <span class="keyword">extends</span> keyof <span class="title class_">ObjectType</span> = keyof <span class="title class_">ObjectType</span>,</span><br><span class="line">&gt; = ä»£ç å®ç°</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">responder</span>: <span class="title class_">RequireAtLeastOne</span>&lt;<span class="title class_">Responder</span>, <span class="string">&#x27;text&#x27;</span>|<span class="string">&#x27;json&#x27;</span>&gt; = &#123;</span><br><span class="line">  <span class="attr">json</span>: <span class="function">() =&gt;</span> <span class="string">&#x27;&#123;&quot;message&quot;: &quot;ok&quot;&#125;&#x27;</span>,</span><br><span class="line">  <span class="attr">secure</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 1</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Responder</span> = &#123;</span><br><span class="line">  text?: <span class="function">() =&gt;</span> <span class="built_in">string</span>;</span><br><span class="line">  json?: <span class="function">() =&gt;</span> <span class="built_in">string</span>;</span><br><span class="line">  secure?: <span class="built_in">boolean</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">RequireAtLeastOne</span>&lt;</span><br><span class="line">  <span class="title class_">ObjectType</span>,</span><br><span class="line">  <span class="title class_">KeysType</span> <span class="keyword">extends</span> keyof <span class="title class_">ObjectType</span> = keyof <span class="title class_">ObjectType</span>,</span><br><span class="line">&gt; = <span class="title class_">KeysType</span> <span class="keyword">extends</span> <span class="built_in">unknown</span> ? <span class="title class_">ObjectType</span> &amp; &#123;</span><br><span class="line">  [K <span class="keyword">in</span> <span class="title class_">KeysType</span>]-?: <span class="title class_">ObjectType</span>[K]</span><br><span class="line">&#125; : <span class="built_in">never</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¡¨ç¤ºå½“å‰ç±»å‹è‡³å°‘åŒ…å« &#x27;text&#x27; æˆ– &#x27;json&#x27; é”®</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">responder</span>: <span class="title class_">RequireAtLeastOne</span>&lt;<span class="title class_">Responder</span>, <span class="string">&#x27;text&#x27;</span> | <span class="string">&#x27;json&#x27;</span>&gt; = &#123;</span><br><span class="line">    <span class="attr">json</span>: <span class="function">() =&gt;</span> <span class="string">&#x27;&#123;&quot;message&quot;: &quot;ok&quot;&#125;&#x27;</span>,</span><br><span class="line">    <span class="attr">secure</span>: <span class="literal">true</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// @ts-expect-error å› ä¸ºæ²¡æœ‰&#x27;text&#x27;å’Œ&#x27;json&#x27;ä¸­çš„ä»»ä½•ä¸€ä¸ªï¼ŒæŠ¥é”™</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">responder2</span>: <span class="title class_">RequireAtLeastOne</span>&lt;<span class="title class_">Responder</span>, <span class="string">&#x27;text&#x27;</span> | <span class="string">&#x27;json&#x27;</span>&gt; = &#123;</span><br><span class="line">    <span class="attr">secure</span>: <span class="literal">true</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 2</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Responder</span> = &#123;</span><br><span class="line">  text?: <span class="function">() =&gt;</span> <span class="built_in">string</span>;</span><br><span class="line">  json?: <span class="function">() =&gt;</span> <span class="built_in">string</span>;</span><br><span class="line">  secure?: <span class="built_in">boolean</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">RequireAtLeastOne</span>&lt;<span class="title class_">ObjectType</span>, <span class="title class_">KeysType</span> <span class="keyword">extends</span> keyof <span class="title class_">ObjectType</span> = keyof <span class="title class_">ObjectType</span>&gt; = &#123;</span><br><span class="line">  [K <span class="keyword">in</span> keyof <span class="title class_">ObjectType</span>]: K <span class="keyword">extends</span> <span class="title class_">KeysType</span> ? <span class="title class_">ObjectType</span> &amp; <span class="title class_">Required</span>&lt;<span class="title class_">Pick</span>&lt;<span class="title class_">ObjectType</span>, K&gt;&gt; : <span class="built_in">never</span>;</span><br><span class="line">&#125;[keyof <span class="title class_">ObjectType</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¡¨ç¤ºå½“å‰ç±»å‹è‡³å°‘åŒ…å« &#x27;text&#x27; æˆ– &#x27;json&#x27; é”®</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">responder</span>: <span class="title class_">RequireAtLeastOne</span>&lt;<span class="title class_">Responder</span>, <span class="string">&quot;text&quot;</span> | <span class="string">&quot;json&quot;</span>&gt; = &#123;</span><br><span class="line">  <span class="attr">json</span>: <span class="function">() =&gt;</span> <span class="string">&#x27;&#123;&quot;message&quot;: &quot;ok&quot;&#125;&#x27;</span>,</span><br><span class="line">  <span class="attr">secure</span>: <span class="literal">true</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 3</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Responder</span> = &#123;</span><br><span class="line">  text?: <span class="function">() =&gt;</span> <span class="built_in">string</span>;</span><br><span class="line">  json?: <span class="function">() =&gt;</span> <span class="built_in">string</span>;</span><br><span class="line">  secure?: <span class="built_in">boolean</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">RequireAtLeastOne</span>&lt;<span class="title class_">ObjectType</span>, <span class="title class_">KeysType</span> <span class="keyword">extends</span> keyof <span class="title class_">ObjectType</span> = <span class="title class_">KeysType</span> <span class="keyword">extends</span> <span class="built_in">unknown</span></span><br><span class="line">? <span class="title class_">Omit</span>&lt;<span class="title class_">ObjectType</span>, <span class="title class_">KeysType</span>&gt; &amp; <span class="title class_">Require</span>&lt;<span class="title class_">Pick</span>&lt;<span class="title class_">ObjectType</span>, <span class="title class_">KeysType</span>&gt;&gt;</span><br><span class="line">: <span class="built_in">never</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¡¨ç¤ºå½“å‰ç±»å‹è‡³å°‘åŒ…å« &#x27;text&#x27; æˆ– &#x27;json&#x27; é”®</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">responder</span>: <span class="title class_">RequireAtLeastOne</span>&lt;<span class="title class_">Responder</span>, <span class="string">&quot;text&quot;</span> | <span class="string">&quot;json&quot;</span>&gt; = &#123;</span><br><span class="line">  <span class="attr">json</span>: <span class="function">() =&gt;</span> <span class="string">&#x27;&#123;&quot;message&quot;: &quot;ok&quot;&#125;&#x27;</span>,</span><br><span class="line">  <span class="attr">secure</span>: <span class="literal">true</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ç¬¬äºŒåä¸‰é¢˜"><a href="#ç¬¬äºŒåä¸‰é¢˜" class="headerlink" title="ç¬¬äºŒåä¸‰é¢˜"></a>ç¬¬äºŒåä¸‰é¢˜</h2><ul><li>å®ç°ä¸€ä¸ª<em>RemoveIndexSignature</em>å·¥å…·ç±»å‹ï¼Œç”¨äºç§»é™¤å·²æœ‰ç±»å‹ä¸­çš„ç´¢å¼•ç­¾åï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Foo</span> &#123;</span><br><span class="line">  [<span class="attr">key</span>: <span class="built_in">string</span>]: <span class="built_in">any</span>;</span><br><span class="line">  [<span class="attr">key</span>: <span class="built_in">number</span>]: <span class="built_in">any</span>;</span><br><span class="line">  [<span class="attr">key</span>: <span class="built_in">symbol</span>]: <span class="built_in">any</span>;</span><br><span class="line">  <span class="title function_">bar</span>(): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">RemoveIndexSignature</span>&lt;T&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> R = <span class="title class_">RemoveIndexSignature</span>&lt;<span class="title class_">Foo</span>&gt;; <span class="comment">// &#123;bar: ()=&gt;void;&#125;</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Foo</span> &#123;</span><br><span class="line">  [<span class="attr">key</span>: <span class="built_in">string</span>]: <span class="built_in">any</span>;</span><br><span class="line">  [<span class="attr">key</span>: <span class="built_in">number</span>]: <span class="built_in">any</span>;</span><br><span class="line">  [<span class="attr">key</span>: <span class="built_in">symbol</span>]: <span class="built_in">any</span>;</span><br><span class="line">  <span class="title function_">bar</span>(): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">RemoveIndexSignature</span>&lt;T&gt; = &#123;</span><br><span class="line">  [K <span class="keyword">in</span> keyof T <span class="keyword">as</span> <span class="built_in">string</span> <span class="keyword">extends</span> K ? <span class="built_in">never</span> : <span class="built_in">number</span> <span class="keyword">extends</span> K ? <span class="built_in">never</span> : <span class="built_in">symbol</span> <span class="keyword">extends</span> K ? <span class="built_in">never</span> : K]: T[K]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> R = <span class="title class_">RemoveIndexSignature</span>&lt;<span class="title class_">Foo</span>&gt;; <span class="comment">// &#123;bar: () =&gt; void;&#125;</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬äºŒåå››é¢˜"><a href="#ç¬¬äºŒåå››é¢˜" class="headerlink" title="ç¬¬äºŒåå››é¢˜"></a>ç¬¬äºŒåå››é¢˜</h2><ul><li>å®ç°ä¸€ä¸ª <code>Mutable</code> å·¥å…·ç±»å‹ï¼Œç”¨äºç§»é™¤å¯¹è±¡ç±»å‹ä¸Šæ‰€æœ‰å±æ€§æˆ–è€…éƒ¨åˆ†å±æ€§çš„ <code>readonly</code> ä¿®é¥°ç¬¦ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Foo</span> = &#123;</span><br><span class="line">  <span class="keyword">readonly</span> <span class="attr">a</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="keyword">readonly</span> <span class="attr">b</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">readonly</span> <span class="attr">c</span>: <span class="built_in">boolean</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Mutable</span>&lt;T, <span class="title class_">Keys</span> <span class="keyword">extends</span> keyof T = keyof T&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">mutableFoo</span>: <span class="title class_">Mutable</span>&lt;<span class="title class_">Foo</span>, <span class="string">&#x27;a&#x27;</span>&gt; = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="string">&#x27;2&#x27;</span>, <span class="attr">c</span>: <span class="literal">true</span> &#125;;</span><br><span class="line"></span><br><span class="line">mutableFoo.<span class="property">a</span> = <span class="number">3</span>; <span class="comment">// ok</span></span><br><span class="line">mutableFoo.<span class="property">b</span> = <span class="string">&#x27;6&#x27;</span>; <span class="comment">// Cannot assign to &#x27;b&#x27; because it is a read-only property.</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 1</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Foo</span> = &#123;</span><br><span class="line">  <span class="keyword">readonly</span> <span class="attr">a</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="keyword">readonly</span> <span class="attr">b</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">readonly</span> <span class="attr">c</span>: <span class="built_in">boolean</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Mutable</span>&lt;T, <span class="title class_">Keys</span> <span class="keyword">extends</span> keyof T = keyof T&gt; =</span><br><span class="line">&#123;-<span class="keyword">readonly</span> [K <span class="keyword">in</span> <span class="title class_">Keys</span>]: T[K] &#125; &amp; <span class="title class_">Pick</span>&lt;T, <span class="title class_">Exclude</span>&lt;keyof T, <span class="title class_">Keys</span>&gt;&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">mutableFoo</span>: <span class="title class_">Mutable</span>&lt;<span class="title class_">Foo</span>, <span class="string">&#x27;a&#x27;</span>&gt; = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="string">&#x27;2&#x27;</span>, <span class="attr">c</span>: <span class="literal">true</span> &#125;;</span><br><span class="line"></span><br><span class="line">mutableFoo.<span class="property">a</span> = <span class="number">3</span>; <span class="comment">// ok</span></span><br><span class="line">mutableFoo.<span class="property">b</span> = <span class="string">&#x27;6&#x27;</span>; <span class="comment">// Cannot assign to &#x27;b&#x27; because it is a read-only property.</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 2</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Foo</span> = &#123;</span><br><span class="line">  <span class="keyword">readonly</span> <span class="attr">a</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="keyword">readonly</span> <span class="attr">b</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">readonly</span> <span class="attr">c</span>: <span class="built_in">boolean</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Mutable</span>&lt;T, <span class="title class_">Keys</span> <span class="keyword">extends</span> keyof T = keyof T&gt; =</span><br><span class="line">&#123;-<span class="keyword">readonly</span> [K <span class="keyword">in</span> <span class="title class_">Keys</span>]: T[K] : T[K]&#125; &amp; <span class="title class_">Omit</span>&lt;T, <span class="title class_">Keys</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">mutableFoo</span>: <span class="title class_">Mutable</span>&lt;<span class="title class_">Foo</span>, <span class="string">&#x27;a&#x27;</span>&gt; = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="string">&#x27;2&#x27;</span>, <span class="attr">c</span>: <span class="literal">true</span> &#125;;</span><br><span class="line"></span><br><span class="line">mutableFoo.<span class="property">a</span> = <span class="number">3</span>; <span class="comment">// ok</span></span><br><span class="line">mutableFoo.<span class="property">b</span> = <span class="string">&#x27;6&#x27;</span>; <span class="comment">// Cannot assign to &#x27;b&#x27; because it is a read-only property.</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬äºŒåäº”é¢˜"><a href="#ç¬¬äºŒåäº”é¢˜" class="headerlink" title="ç¬¬äºŒåäº”é¢˜"></a>ç¬¬äºŒåäº”é¢˜</h2><ul><li>å®ç°ä¸€ä¸ª <code>IsUnion</code> å·¥å…·ç±»å‹ï¼Œåˆ¤æ–­æŒ‡å®šçš„ç±»å‹æ˜¯å¦ä¸ºè”åˆç±»å‹ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">IsUnion</span>&lt;T, U = T&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I0</span> = <span class="title class_">IsUnion</span>&lt;<span class="built_in">string</span>|<span class="built_in">number</span>&gt; <span class="comment">// true</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I1</span> = <span class="title class_">IsUnion</span>&lt;<span class="built_in">string</span>|<span class="built_in">never</span>&gt; <span class="comment">// false</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I2</span> = <span class="title class_">IsUnion</span>&lt;<span class="built_in">string</span>|<span class="built_in">unknown</span>&gt; <span class="comment">//false</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">IsUnion</span>&lt;T, U = T&gt; = T <span class="keyword">extends</span> <span class="built_in">any</span> ? [U] <span class="keyword">extends</span> [T] ? <span class="literal">false</span> : <span class="literal">true</span> : <span class="built_in">never</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I0</span> = <span class="title class_">IsUnion</span>&lt;<span class="built_in">string</span>|<span class="built_in">number</span>&gt; <span class="comment">// true</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I1</span> = <span class="title class_">IsUnion</span>&lt;<span class="built_in">string</span>|<span class="built_in">never</span>&gt; <span class="comment">// false</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I2</span> = <span class="title class_">IsUnion</span>&lt;<span class="built_in">string</span>|<span class="built_in">unknown</span>&gt; <span class="comment">//false</span></span><br></pre></td></tr></table></figure><p>çŸ¥è¯†ç‚¹ï¼š 1.è”åˆç±»å‹ä½œä¸ºæ³›å‹çš„æ—¶å€™ extends ä¼šè§¦å‘åˆ†å‘æ‰§è¡Œ 2.è”åˆç±»å‹ T å†™æˆ[T]å°±å˜æˆäº†æ™®é€šç±»å‹ï¼Œextends çš„æ—¶å€™ä¸ä¼šåˆ†å‘æ‰§è¡Œ</p><p>è¿™é‡Œç¬¬ä¸€æ­¥<code>T extends any</code>è‚¯å®šä¸ºçœŸï¼Œä¸€ä¸ªå…¶å®å°±æ˜¯åˆ©ç”¨å…¶åˆ†å‘çš„ç‰¹æ€§ï¼Œåé¢çš„[T]å°±æ˜¯ä¸€ä¸ªè”åˆç±»å‹æ‹†å¼€åçš„æŸä¸€ä¸ªï¼Œå› æ­¤å¦‚æœæ˜¯è”åˆç±»å‹çš„è¯<code>[U] extends [T]</code>ä¸€å®šä¸ºå¦</p><h2 id="ç¬¬äºŒåå…­é¢˜"><a href="#ç¬¬äºŒåå…­é¢˜" class="headerlink" title="ç¬¬äºŒåå…­é¢˜"></a>ç¬¬äºŒåå…­é¢˜</h2><ul><li>å®ç°ä¸€ä¸ª<code>IsNever</code>å·¥å…·ç±»å‹ï¼Œåˆ¤æ–­æŒ‡å®šçš„ç±»å‹æ˜¯å¦ä¸º<code>never</code>ç±»å‹ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">IsNever</span>&lt;T&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I0</span> = <span class="title class_">IsNever</span>&lt;<span class="built_in">never</span>&gt; <span class="comment">// true</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I1</span> = <span class="title class_">IsNever</span>&lt;<span class="built_in">never</span> | <span class="built_in">string</span>&gt; <span class="comment">// false</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I2</span> = <span class="title class_">IsNever</span>&lt;<span class="literal">null</span>&gt; <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><ul><li>ç”¨<code>[]</code>åŒ…è£¹ Tï¼Œå¦åˆ™æ³›å‹å‚æ•°ä¼šè¢«å½“ä½œä¸€ä¸ªè£¸ç±»å‹å¤„ç†ï¼Œèµ°<code>æ¡ä»¶å¼åˆ†å¸ƒç±»å‹</code>çš„åˆ¤æ–­é€»è¾‘ï¼Œå½“æ³›å‹å‚æ•°æ˜¯ any è¿™ç§ç‰¹æ®Šå€¼æ—¶ï¼Œä¼šå¾—åˆ°åˆ†å¸ƒåçš„ç±»å‹ã€‚</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">IsNever</span>&lt;T&gt; = [T] <span class="keyword">extends</span> [<span class="built_in">never</span>] ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I0</span> = <span class="title class_">IsNever</span>&lt;<span class="built_in">never</span>&gt; <span class="comment">// true</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I1</span> = <span class="title class_">IsNever</span>&lt;<span class="built_in">never</span> | <span class="built_in">string</span>&gt; <span class="comment">// false</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I2</span> = <span class="title class_">IsNever</span>&lt;<span class="literal">null</span>&gt; <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬äºŒåä¸ƒé¢˜"><a href="#ç¬¬äºŒåä¸ƒé¢˜" class="headerlink" title="ç¬¬äºŒåä¸ƒé¢˜"></a>ç¬¬äºŒåä¸ƒé¢˜</h2><ul><li>å®ç°ä¸€ä¸ª<code>Reverse</code>å·¥å…·ç±»å‹ï¼Œç”¨äºå¯¹å…ƒç¥–ç±»å‹ä¸­å…ƒç´ çš„ä½ç½®é¢ å€’ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„ï¼Œå…ƒç¥–çš„ç¬¬ä¸€ä¸ªå…ƒç´ å°±ä¼šå˜æˆæœ€åä¸€ä¸ªï¼Œæœ€åä¸€ä¸ªå…ƒç´ å˜æˆç¬¬ä¸€ä¸ªã€‚</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Reverse</span>&lt;</span><br><span class="line">  T <span class="keyword">extends</span> <span class="built_in">any</span>[],</span><br><span class="line">  R <span class="keyword">extends</span> <span class="built_in">any</span>[] = []</span><br><span class="line">&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">R0</span> = <span class="title class_">Reverse</span>&lt;[]&gt; <span class="comment">// []</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">R1</span> = <span class="title class_">Reverse</span>&lt;[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]&gt; <span class="comment">// [3, 2, 1]</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 1</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Reverse</span>&lt;</span><br><span class="line">  T <span class="keyword">extends</span> <span class="built_in">any</span>[],</span><br><span class="line">  R <span class="keyword">extends</span> <span class="built_in">any</span>[] = []</span><br><span class="line">&gt; = T <span class="keyword">extends</span> [infer A, ...infer B] ? <span class="title class_">Reverse</span>&lt;B, [A, ...R]&gt; : R;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">R0</span> = <span class="title class_">Reverse</span>&lt;[]&gt; <span class="comment">// []</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">R1</span> = <span class="title class_">Reverse</span>&lt;[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]&gt; <span class="comment">// [3, 2, 1]</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 2</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Reverse</span>&lt;</span><br><span class="line">  T <span class="keyword">extends</span> <span class="built_in">any</span>[]</span><br><span class="line">&gt; = T <span class="keyword">extends</span> [infer A, ...infer B] ? [...<span class="title class_">Reverse</span>&lt;B&gt;, A] : [];</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">R0</span> = <span class="title class_">Reverse</span>&lt;[]&gt; <span class="comment">// []</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">R1</span> = <span class="title class_">Reverse</span>&lt;[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]&gt; <span class="comment">// [3, 2, 1]</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬äºŒåå…«é¢˜"><a href="#ç¬¬äºŒåå…«é¢˜" class="headerlink" title="ç¬¬äºŒåå…«é¢˜"></a>ç¬¬äºŒåå…«é¢˜</h2><ul><li>å®ç°ä¸€ä¸ª<code>Split</code>å·¥å…·ç±»å‹ï¼Œæ ¹æ®ç»™å®šçš„åˆ†å‰²ç¬¦(Delimiter)å¯¹åŒ…å«åˆ†å‰²ç¬¦çš„å­—ç¬¦ä¸²è¿›è¡Œåˆ‡å‰²ï¼Œå¯ç”¨äºå®šä¹‰<code>String.prototype.split</code>æ–¹æ³•çš„è¿”å›å€¼ç±»å‹ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Item</span> = <span class="string">`zs, ls, ww`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Split</span>&lt;</span><br><span class="line">  S <span class="keyword">extends</span> <span class="built_in">string</span>,</span><br><span class="line">  <span class="title class_">Delimiter</span> <span class="keyword">extends</span> <span class="built_in">string</span></span><br><span class="line">&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ElementType</span> = <span class="title class_">Split</span>&lt;<span class="title class_">Item</span>, <span class="string">&#x27;,&#x27;</span>&gt;; <span class="comment">// [&quot;zs&quot;, &quot;ls&quot;,&quot;ww&quot;]</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Item</span> = <span class="string">`zs, ls, ww`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Split</span>&lt;</span><br><span class="line">  S <span class="keyword">extends</span> <span class="built_in">string</span>,</span><br><span class="line">  <span class="title class_">Delimiter</span> <span class="keyword">extends</span> <span class="built_in">string</span>,</span><br><span class="line">&gt; = S <span class="keyword">extends</span> <span class="string">`<span class="subst">$&#123;infer Key&#125;</span><span class="subst">$&#123;Delimiter&#125;</span><span class="subst">$&#123;infer Rest&#125;</span>`</span></span><br><span class="line">? [<span class="title class_">Key</span>, ...<span class="title class_">Split</span>&lt;<span class="title class_">Rest</span>, <span class="title class_">Delimiter</span>&gt;]</span><br><span class="line">: S <span class="keyword">extends</span> <span class="string">&#x27;&#x27;</span> <span class="comment">/* å¤„ç†ç©ºå­—ç¬¦ä¸² */</span></span><br><span class="line">? []</span><br><span class="line">: [S]</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ElementType</span> = <span class="title class_">Split</span>&lt;<span class="title class_">Item</span>, <span class="string">&#x27;,&#x27;</span>&gt;; <span class="comment">// [&quot;zs&quot;, &quot;ls&quot;,&quot;ww&quot;]</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ElementType2</span> = <span class="title class_">Split</span>&lt;<span class="string">&#x27;a|b|c||d&#x27;</span>, <span class="string">&#x27;|&#x27;</span>&gt;; <span class="comment">// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;&quot;, &quot;d&quot;]</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ElementType3</span> = <span class="title class_">Split</span>&lt;<span class="string">&#x27;abcdef&#x27;</span>, <span class="string">&#x27;&#x27;</span>&gt;; <span class="comment">// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;]</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬äºŒåä¹é¢˜"><a href="#ç¬¬äºŒåä¹é¢˜" class="headerlink" title="ç¬¬äºŒåä¹é¢˜"></a>ç¬¬äºŒåä¹é¢˜</h2><ul><li>å®ç°ä¸€ä¸ª<code>ToPath</code>å·¥å…·ç±»å‹ï¼Œç”¨äºæŠŠå±æ€§è®¿é—®<code>(.æˆ–[])</code>è·¯å¾„è½¬æ¢ä¸ºå…ƒç¥–çš„å½¢å¼ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">ToPath</span>&lt;S <span class="keyword">extends</span> <span class="built_in">string</span>&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">ToPath</span>&lt;<span class="string">&#x27;foo.bar.baz&#x27;</span>&gt; <span class="comment">// [&#x27;foo&#x27;, &#x27;bar&#x27;, &#x27;baz&#x27;]</span></span><br><span class="line"><span class="title class_">ToPath</span>&lt;<span class="string">&#x27;foo[0].bar.baz&#x27;</span>&gt; <span class="comment">// [&#x27;foo&#x27;, &#x27;0&#x27;, &#x27;bar&#x27;, &#x27;baz&#x27;]</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">ToPath</span>&lt;S <span class="keyword">extends</span> <span class="built_in">string</span>&gt; = S <span class="keyword">extends</span> <span class="string">`<span class="subst">$&#123;infer F&#125;</span><span class="subst">$&#123;<span class="string">`[<span class="subst">$&#123;infer D&#125;</span>]`</span>&#125;</span><span class="subst">$&#123;infer R&#125;</span>`</span></span><br><span class="line">? [...<span class="title class_">ToPath</span>&lt;F&gt;, ...([D] <span class="keyword">extends</span> [<span class="built_in">never</span>] ? [] : [D]), ...<span class="title class_">ToPath</span>&lt;R&gt;]</span><br><span class="line">: S <span class="keyword">extends</span> <span class="string">`<span class="subst">$&#123;infer F&#125;</span>.<span class="subst">$&#123;infer R&#125;</span>`</span></span><br><span class="line">? [...<span class="title class_">ToPath</span>&lt;F&gt;, ...<span class="title class_">ToPath</span>&lt;R&gt;]</span><br><span class="line">: S <span class="keyword">extends</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">? []</span><br><span class="line">: [S]</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T0</span> = <span class="title class_">ToPath</span>&lt;<span class="string">&#x27;foo.bar.baz&#x27;</span>&gt; <span class="comment">// [&#x27;foo&#x27;, &#x27;bar&#x27;, &#x27;baz&#x27;]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T1</span> = <span class="title class_">ToPath</span>&lt;<span class="string">&#x27;foo[0].bar.baz&#x27;</span>&gt; <span class="comment">// [&#x27;foo&#x27;, &#x27;0&#x27;, &#x27;bar&#x27;, &#x27;baz&#x27;]</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬ä¸‰åé¢˜"><a href="#ç¬¬ä¸‰åé¢˜" class="headerlink" title="ç¬¬ä¸‰åé¢˜"></a>ç¬¬ä¸‰åé¢˜</h2><ul><li>å®Œå–„<code>Chainable</code>ç±»å‹çš„å®šä¹‰ï¼Œæ˜¯çš„ TS èƒ½æˆåŠŸæ¨æ–­å‡º<code>result</code>å˜é‡çš„ç±»å‹ï¼Œè°ƒç”¨<code>option</code>æ–¹æ³•ä¹‹åä¼šä¸æ–­æ‰©å±•å½“å‰å¯¹è±¡çš„ç±»å‹ï¼Œä½¿å¾—è°ƒç”¨<code>get</code>æ–¹æ³•åèƒ½è·å–æ­£ç¡®çš„ç±»å‹ã€‚</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">const</span> <span class="attr">config</span>: <span class="title class_">Chainable</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Chainable</span> = &#123;</span><br><span class="line">  <span class="title function_">option</span>(<span class="attr">key</span>: <span class="built_in">string</span>, <span class="attr">value</span>: <span class="built_in">any</span>): <span class="built_in">any</span></span><br><span class="line">  <span class="title function_">get</span>(): <span class="built_in">any</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = config</span><br><span class="line">  .<span class="title function_">option</span>(<span class="string">&#x27;age&#x27;</span>, <span class="number">7</span>)</span><br><span class="line">  .<span class="title function_">option</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;lolo&#x27;</span>)</span><br><span class="line">  .<span class="title function_">option</span>(<span class="string">&#x27;address&#x27;</span>, &#123; <span class="attr">value</span>: <span class="string">&#x27;XiaMen&#x27;</span> &#125;)</span><br><span class="line">  .<span class="title function_">get</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ResultType</span> = <span class="keyword">typeof</span> result</span><br><span class="line"><span class="comment">// æœŸæœ› ResultType çš„ç±»å‹æ˜¯ï¼š</span></span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//   age: number</span></span><br><span class="line"><span class="comment">//   name: string</span></span><br><span class="line"><span class="comment">//   address: &#123;</span></span><br><span class="line"><span class="comment">//     value: string</span></span><br><span class="line"><span class="comment">//   &#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">const</span> <span class="attr">config</span>: <span class="title class_">Chainable</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Chainable</span>&lt;T = &#123;&#125;&gt; = &#123;</span><br><span class="line">  option&lt;K <span class="keyword">extends</span> <span class="built_in">string</span>, V <span class="keyword">extends</span> <span class="built_in">any</span>&gt;(<span class="attr">key</span>: K, <span class="attr">value</span>: V): <span class="title class_">Chainable</span>&lt;&#123; [P <span class="keyword">in</span> K]: V &#125; &amp; T&gt;;</span><br><span class="line">  <span class="title function_">get</span>(): T;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = config.<span class="title function_">option</span>(<span class="string">&quot;age&quot;</span>, <span class="number">7</span>).<span class="title function_">option</span>(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;lolo&quot;</span>).<span class="title function_">option</span>(<span class="string">&quot;address&quot;</span>, &#123; <span class="attr">value</span>: <span class="string">&quot;XiaMen&quot;</span> &#125;).<span class="title function_">get</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ResultType</span> = <span class="keyword">typeof</span> result;</span><br></pre></td></tr></table></figure><h2 id="ç¬¬ä¸‰åä¸€é¢˜"><a href="#ç¬¬ä¸‰åä¸€é¢˜" class="headerlink" title="ç¬¬ä¸‰åä¸€é¢˜"></a>ç¬¬ä¸‰åä¸€é¢˜</h2><ul><li>å®ç°ä¸€ä¸ª<code>Repeat</code>å·¥å…·ç±»å‹ï¼Œç”¨äºæ ¹æ®ç±»å‹å˜é‡<code>C</code>çš„å€¼ï¼Œé‡å¤<code>T</code>ç±»å‹å¹¶ä»¥å…ƒç¥–çš„å½¢å¼è¿”å›æ–°çš„ç±»å‹ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Repeat</span>&lt;T, C <span class="keyword">extends</span> <span class="built_in">number</span>&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">R0</span> = <span class="title class_">Repeat</span>&lt;<span class="number">0</span>, <span class="number">0</span>&gt;; <span class="comment">// []</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">R1</span> = <span class="title class_">Repeat</span>&lt;<span class="number">1</span>, <span class="number">3</span>&gt;; <span class="comment">// [1, 1, 1]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">R2</span> = <span class="title class_">Repeat</span>&lt;<span class="built_in">number</span>, <span class="number">2</span>&gt;; <span class="comment">// [number, number]</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Repeat</span>&lt;T, C <span class="keyword">extends</span> <span class="built_in">number</span>, A <span class="keyword">extends</span> <span class="built_in">any</span>[]&gt; = A[<span class="string">&quot;length&quot;</span>] <span class="keyword">extends</span> C ? A : <span class="title class_">Repeat</span>&lt;T, C, [...A, T]&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">R0</span> = <span class="title class_">Repeat</span>&lt;<span class="number">0</span>, <span class="number">0</span>&gt;; <span class="comment">// []</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">R1</span> = <span class="title class_">Repeat</span>&lt;<span class="number">1</span>, <span class="number">3</span>&gt;; <span class="comment">// [1, 1, 1]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">R2</span> = <span class="title class_">Repeat</span>&lt;<span class="built_in">number</span>, <span class="number">2</span>&gt;; <span class="comment">// [number, number]</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬ä¸‰åäºŒé¢˜"><a href="#ç¬¬ä¸‰åäºŒé¢˜" class="headerlink" title="ç¬¬ä¸‰åäºŒé¢˜"></a>ç¬¬ä¸‰åäºŒé¢˜</h2><ul><li>å®ç°ä¸€ä¸ª<code>RepeatString</code>å·¥å…·ç±»å‹ï¼Œç”¨äºæ ¹æ®ç±»å‹å˜é‡<code>C</code>çš„å€¼ï¼Œé‡å¤ T ç±»å‹å¹¶ä»¥<code>å­—ç¬¦ä¸²</code>çš„å½¢å¼è¿”å›æ–°çš„ç±»å‹ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">RepeatString</span>&lt;</span><br><span class="line">  T <span class="keyword">extends</span> <span class="built_in">string</span>,</span><br><span class="line">  C <span class="keyword">extends</span> <span class="built_in">number</span>,</span><br><span class="line">&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">S0</span> = <span class="title class_">RepeatString</span>&lt;<span class="string">&quot;a&quot;</span>, <span class="number">0</span>&gt;; <span class="comment">// &#x27;&#x27;</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">S1</span> = <span class="title class_">RepeatString</span>&lt;<span class="string">&quot;ab&quot;</span>, <span class="number">2</span>&gt;; <span class="comment">// &#x27;abab&#x27;</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">RepeatString</span>&lt;</span><br><span class="line">  T <span class="keyword">extends</span> <span class="built_in">string</span>,</span><br><span class="line">  C <span class="keyword">extends</span> <span class="built_in">number</span>,</span><br><span class="line">  S <span class="keyword">extends</span> <span class="built_in">string</span> = <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  A <span class="keyword">extends</span> <span class="built_in">any</span>[] = []</span><br><span class="line">&gt; = A[<span class="string">&quot;length&quot;</span>] <span class="keyword">extends</span> C</span><br><span class="line">? S</span><br><span class="line">: <span class="title class_">RepeatString</span>&lt;T, C, <span class="string">`<span class="subst">$&#123;S&#125;</span><span class="subst">$&#123;T&#125;</span>`</span>, [...A, T]&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">S0</span> = <span class="title class_">RepeatString</span>&lt;<span class="string">&quot;a&quot;</span>, <span class="number">0</span>&gt;; <span class="comment">// &#x27;&#x27;</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">S1</span> = <span class="title class_">RepeatString</span>&lt;<span class="string">&quot;ab&quot;</span>, <span class="number">2</span>&gt;; <span class="comment">// &#x27;abab&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬ä¸‰åä¸‰é¢˜"><a href="#ç¬¬ä¸‰åä¸‰é¢˜" class="headerlink" title="ç¬¬ä¸‰åä¸‰é¢˜"></a>ç¬¬ä¸‰åä¸‰é¢˜</h2><ul><li>å®ç°ä¸€ä¸ª<code>ToNumber</code>å·¥å…·ç±»å‹ï¼Œç”¨äºå®ç°æŠŠæ•°å€¼å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å€¼ç±»å‹ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">ToNumber</span>&lt;T <span class="keyword">extends</span> <span class="built_in">string</span>&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T0</span> = <span class="title class_">ToNumber</span>&lt;<span class="string">&quot;0&quot;</span>&gt;; <span class="comment">// 0</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T1</span> = <span class="title class_">ToNumber</span>&lt;<span class="string">&quot;10&quot;</span>&gt;; <span class="comment">// 10</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T2</span> = <span class="title class_">ToNumber</span>&lt;<span class="string">&quot;20&quot;</span>&gt;; <span class="comment">// 20</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">ToNumber</span>&lt;T <span class="keyword">extends</span> <span class="built_in">string</span>, S <span class="keyword">extends</span> <span class="built_in">any</span>[] = [], L <span class="keyword">extends</span> <span class="built_in">number</span> = S[<span class="string">&quot;length&quot;</span>]&gt; =</span><br><span class="line"><span class="string">`<span class="subst">$&#123;L&#125;</span>`</span> <span class="keyword">extends</span> T ? L : <span class="title class_">ToNumber</span>&lt;T, [...S, <span class="number">1</span>]&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T0</span> = <span class="title class_">ToNumber</span>&lt;<span class="string">&quot;0&quot;</span>&gt;; <span class="comment">// 0</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T1</span> = <span class="title class_">ToNumber</span>&lt;<span class="string">&quot;10&quot;</span>&gt;; <span class="comment">// 10</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T2</span> = <span class="title class_">ToNumber</span>&lt;<span class="string">&quot;20&quot;</span>&gt;; <span class="comment">// 20</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬ä¸‰åå››é¢˜"><a href="#ç¬¬ä¸‰åå››é¢˜" class="headerlink" title="ç¬¬ä¸‰åå››é¢˜"></a>ç¬¬ä¸‰åå››é¢˜</h2><ul><li>å®ç°ä¸€ä¸ª<code>SmallerThan</code>å·¥å…·ç±»å‹ï¼Œç”¨äºæ¯”è¾ƒæ•°å€¼ç±»å‹çš„å¤§å°ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">SmallerThan</span>&lt;</span><br><span class="line">  N <span class="keyword">extends</span> <span class="built_in">number</span>,</span><br><span class="line">  M <span class="keyword">extends</span> <span class="built_in">number</span>,</span><br><span class="line">&gt; = <span class="comment">//ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">S0</span> = <span class="title class_">SmallerThan</span>&lt;<span class="number">0</span>, <span class="number">1</span>&gt;; <span class="comment">// true</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">S1</span> = <span class="title class_">SmallerThan</span>&lt;<span class="number">2</span>, <span class="number">0</span>&gt;; <span class="comment">// false</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">S2</span> = <span class="title class_">SmallerThan</span>&lt;<span class="number">8</span>, <span class="number">10</span>&gt;; <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">SmallerThan</span>&lt;</span><br><span class="line">  N <span class="keyword">extends</span> <span class="built_in">number</span>,</span><br><span class="line">  M <span class="keyword">extends</span> <span class="built_in">number</span>,</span><br><span class="line">  S <span class="keyword">extends</span> <span class="built_in">any</span>[] = [],</span><br><span class="line">  L <span class="keyword">extends</span> <span class="built_in">number</span> = S[<span class="string">&quot;length&quot;</span>]</span><br><span class="line">&gt; = L <span class="keyword">extends</span> N</span><br><span class="line">? L <span class="keyword">extends</span> M ? <span class="literal">false</span> : <span class="literal">true</span></span><br><span class="line">: L <span class="keyword">extends</span> M ? <span class="literal">false</span> : <span class="title class_">SmallerThan</span>&lt;N, M, [...S, <span class="number">1</span>]&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">S0</span> = <span class="title class_">SmallerThan</span>&lt;<span class="number">0</span>, <span class="number">1</span>&gt;; <span class="comment">// true</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">S1</span> = <span class="title class_">SmallerThan</span>&lt;<span class="number">2</span>, <span class="number">0</span>&gt;; <span class="comment">// false</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">S2</span> = <span class="title class_">SmallerThan</span>&lt;<span class="number">8</span>, <span class="number">10</span>&gt;; <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬ä¸‰åäº”é¢˜"><a href="#ç¬¬ä¸‰åäº”é¢˜" class="headerlink" title="ç¬¬ä¸‰åäº”é¢˜"></a>ç¬¬ä¸‰åäº”é¢˜</h2><ul><li>å®ç°ä¸€ä¸ª<code>Add</code>å·¥å…·ç±»å‹ï¼Œç”¨äºå®ç°å¯¹æ•°ç»„å¯¹åº”çš„æ•°å€¼è¿›è¡ŒåŠ æ³•è¿ç®—ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Add</span>&lt;T, R&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">A0</span> = <span class="title class_">Add</span>&lt;<span class="number">5</span>, <span class="number">5</span>&gt;; <span class="comment">// 10</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">A1</span> = <span class="title class_">Add</span>&lt;<span class="number">8</span>, <span class="number">20</span>&gt;; <span class="comment">// 28</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">A2</span> = <span class="title class_">Add</span>&lt;<span class="number">10</span>, <span class="number">20</span>&gt;; <span class="comment">// 30</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Push</span>&lt;T <span class="keyword">extends</span> <span class="built_in">number</span>[], V&gt; = [...T, V];</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">CreateTuple</span>&lt;</span><br><span class="line">  T <span class="keyword">extends</span> <span class="built_in">number</span>,</span><br><span class="line">  A <span class="keyword">extends</span> <span class="built_in">number</span>[] = []</span><br><span class="line">&gt; = A[<span class="string">&quot;length&quot;</span>] <span class="keyword">extends</span> T ? A : <span class="title class_">CreateTuple</span>&lt;T, <span class="title class_">Push</span>&lt;A, <span class="number">1</span>&gt;&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Add</span>&lt;T <span class="keyword">extends</span> <span class="built_in">number</span>, R <span class="keyword">extends</span> <span class="built_in">number</span>&gt; = [...<span class="title class_">CreateTuple</span>&lt;T&gt;, ...<span class="title class_">CreateTuple</span>&lt;R&gt;][<span class="string">&quot;length&quot;</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">A0</span> = <span class="title class_">Add</span>&lt;<span class="number">5</span>, <span class="number">5</span>&gt;; <span class="comment">// 10</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">A1</span> = <span class="title class_">Add</span>&lt;<span class="number">8</span>, <span class="number">20</span>&gt;; <span class="comment">// 28</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">A2</span> = <span class="title class_">Add</span>&lt;<span class="number">10</span>, <span class="number">20</span>&gt;; <span class="comment">// 30</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬ä¸‰åå…­é¢˜"><a href="#ç¬¬ä¸‰åå…­é¢˜" class="headerlink" title="ç¬¬ä¸‰åå…­é¢˜"></a>ç¬¬ä¸‰åå…­é¢˜</h2><ul><li>å®ç°ä¸€ä¸ª<code>Filter</code>å·¥å…·ç±»å‹ï¼Œç”¨äºæ ¹æ®ç±»å‹å˜é‡<code>F</code>çš„å€¼è¿›è¡Œç±»å‹è¿‡æ»¤ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Filter</span>&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[], F&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">F0</span> = <span class="title class_">Filter</span>&lt;[<span class="number">6</span>, <span class="string">&quot;lolo&quot;</span>, <span class="number">7</span>, <span class="string">&quot;semlinker&quot;</span>, <span class="literal">false</span>], <span class="built_in">number</span>&gt;; <span class="comment">// [6, 7]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">F1</span> = <span class="title class_">Filter</span>&lt;[<span class="string">&quot;kakuqo&quot;</span>, <span class="number">2</span>, [<span class="string">&quot;ts&quot;</span>], <span class="string">&quot;lolo&quot;</span>], <span class="built_in">string</span>&gt;; <span class="comment">// [&quot;kakuqo&quot;, &quot;lolo&quot;]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">F2</span> = <span class="title class_">Filter</span>&lt;[<span class="number">0</span>, <span class="literal">true</span>, <span class="built_in">any</span>, <span class="string">&quot;abao&quot;</span>], <span class="built_in">string</span>&gt;; <span class="comment">// [any, &quot;abao&quot;]</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æœ¬é¢˜å…³é”®ç‚¹å°±æ˜¯å¯¹`any`ç±»å‹çš„å¤„ç†ï¼š</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">A0</span> = <span class="built_in">any</span> &amp; <span class="number">1</span>; <span class="comment">// any</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">A1</span> = <span class="built_in">any</span> &amp; <span class="built_in">boolean</span>; <span class="comment">// any</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">A2</span> = <span class="built_in">any</span> &amp; <span class="built_in">never</span>; <span class="comment">// never</span></span><br></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">IsAny</span>&lt;T&gt; = <span class="number">0</span> <span class="keyword">extends</span> (<span class="number">1</span> &amp; T) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Filter</span>&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[], F&gt; = T <span class="keyword">extends</span> [infer <span class="variable constant_">R1</span>, ...infer <span class="variable constant_">R2</span>]</span><br><span class="line">? <span class="title class_">IsAny</span>&lt;<span class="variable constant_">R1</span>&gt; <span class="keyword">extends</span> <span class="literal">true</span></span><br><span class="line">? [<span class="variable constant_">R1</span>, ...<span class="title class_">Filter</span>&lt;<span class="variable constant_">R2</span>, F&gt;]</span><br><span class="line">: [...<span class="variable constant_">R1</span> <span class="keyword">extends</span> F ? [<span class="variable constant_">R1</span>] : [], ...<span class="title class_">Filter</span>&lt;<span class="variable constant_">R2</span>, F&gt;]</span><br><span class="line">:[]</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">F0</span> = <span class="title class_">Filter</span>&lt;[<span class="number">6</span>, <span class="string">&quot;lolo&quot;</span>, <span class="number">7</span>, <span class="string">&quot;semlinker&quot;</span>, <span class="literal">false</span>], <span class="built_in">number</span>&gt;; <span class="comment">// [6, 7]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">F1</span> = <span class="title class_">Filter</span>&lt;[<span class="string">&quot;kakuqo&quot;</span>, <span class="number">2</span>, [<span class="string">&quot;ts&quot;</span>], <span class="string">&quot;lolo&quot;</span>], <span class="built_in">string</span>&gt;; <span class="comment">// [&quot;kakuqo&quot;, &quot;lolo&quot;]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">F2</span> = <span class="title class_">Filter</span>&lt;[<span class="number">0</span>, <span class="literal">true</span>, <span class="built_in">any</span>, <span class="string">&quot;abao&quot;</span>], <span class="built_in">string</span>&gt;; <span class="comment">// [any, &quot;abao&quot;]</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬ä¸‰åä¸ƒé¢˜"><a href="#ç¬¬ä¸‰åä¸ƒé¢˜" class="headerlink" title="ç¬¬ä¸‰åä¸ƒé¢˜"></a>ç¬¬ä¸‰åä¸ƒé¢˜</h2><ul><li>å®ç°ä¸€ä¸ª<code>Flat</code>å·¥å…·ç±»å‹ï¼Œæ”¯æŒæŠŠæ•°ç»„ç±»å‹æ‹å¹³ï¼ˆæ‰å¹³åŒ–ï¼‰,ç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Flat</span>&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[]&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">F0</span> = <span class="title class_">Flat</span>&lt;[]&gt;; <span class="comment">// []</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">F1</span> = <span class="title class_">Flat</span>&lt;[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]&gt;; <span class="comment">// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">F2</span> = <span class="title class_">Flat</span>&lt;[<span class="string">&#x27;a&#x27;</span>, [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>], [<span class="string">&#x27;d&#x27;</span>, [<span class="string">&#x27;e&#x27;</span>, [<span class="string">&#x27;f&#x27;</span>]]]]&gt;; <span class="comment">// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;]</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 1</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Flat</span>&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[]&gt; = T <span class="keyword">extends</span> [infer <span class="title class_">First</span>, ...infer <span class="title class_">Rest</span>]</span><br><span class="line">? <span class="title class_">First</span> <span class="keyword">extends</span> <span class="built_in">any</span>[]</span><br><span class="line">? [...<span class="title class_">Flat</span>&lt;<span class="title class_">First</span>&gt;, ...<span class="title class_">Flat</span>&lt;<span class="title class_">Rest</span>&gt;]</span><br><span class="line">: [<span class="title class_">First</span>, ...<span class="title class_">Flat</span>&lt;<span class="title class_">Rest</span>&gt;]</span><br><span class="line">: [];</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">F0</span> = <span class="title class_">Flat</span>&lt;[]&gt;; <span class="comment">// []</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">F1</span> = <span class="title class_">Flat</span>&lt;[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]&gt;; <span class="comment">// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">F2</span> = <span class="title class_">Flat</span>&lt;[<span class="string">&#x27;a&#x27;</span>, [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>], [<span class="string">&#x27;d&#x27;</span>, [<span class="string">&#x27;e&#x27;</span>, [<span class="string">&#x27;f&#x27;</span>]]]]&gt;; <span class="comment">// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;]</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 2</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Flat</span>&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[], S <span class="keyword">extends</span> <span class="built_in">any</span>[] = []&gt; = T <span class="keyword">extends</span> [infer R, ...infer <span class="title class_">Rest</span>]</span><br><span class="line">? R <span class="keyword">extends</span> <span class="built_in">any</span>[]</span><br><span class="line">? <span class="title class_">Flat</span>&lt;<span class="title class_">Rest</span>, <span class="title class_">Flat</span>&lt;R, S&gt;&gt;</span><br><span class="line">: <span class="title class_">Flat</span>&lt;<span class="title class_">Rest</span>, [...S, R]&gt;</span><br><span class="line">: S</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">F0</span> = <span class="title class_">Flat</span>&lt;[]&gt;; <span class="comment">// []</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">F1</span> = <span class="title class_">Flat</span>&lt;[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]&gt;; <span class="comment">// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">F2</span> = <span class="title class_">Flat</span>&lt;[<span class="string">&#x27;a&#x27;</span>, [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>], [<span class="string">&#x27;d&#x27;</span>, [<span class="string">&#x27;e&#x27;</span>, [<span class="string">&#x27;f&#x27;</span>]]]]&gt;; <span class="comment">// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;]</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬ä¸‰åå…«é¢˜"><a href="#ç¬¬ä¸‰åå…«é¢˜" class="headerlink" title="ç¬¬ä¸‰åå…«é¢˜"></a>ç¬¬ä¸‰åå…«é¢˜</h2><ul><li>å®ç°<code>StartsWith</code>å·¥å…·ç±»å‹ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹<code>T</code>æ˜¯å¦ä»¥ç»™å®šçš„å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹<code>U</code>å¼€å¤´ï¼Œå¹¶æ ¹æ®åˆ¤æ–­ç»“æœè¿”å›å¸ƒå°”å€¼ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">StartsWith</span>&lt;T <span class="keyword">extends</span> <span class="built_in">string</span>, U <span class="keyword">extends</span> <span class="built_in">string</span>&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">S0</span> = <span class="title class_">StartsWith</span>&lt;<span class="string">&#x27;123&#x27;</span>, <span class="string">&#x27;12&#x27;</span>&gt;; <span class="comment">// true</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">S1</span> = <span class="title class_">StartsWith</span>&lt;<span class="string">&#x27;123&#x27;</span>, <span class="string">&#x27;13&#x27;</span>&gt;; <span class="comment">// false</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">S2</span> = <span class="title class_">StartsWith</span>&lt;<span class="string">&#x27;123&#x27;</span>, <span class="string">&#x27;1234&#x27;</span>&gt;; <span class="comment">// false</span></span><br></pre></td></tr></table></figure><ul><li>ä¹‹åï¼Œç»§ç»­å®ç°<code>EndsWith</code>å·¥å…·ç±»å‹ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹<code>T</code>æ˜¯å¦ä»¥ç»™å®šçš„å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹<code>U</code>ç»“å°¾ï¼Œå¹¶æ ¹æ®åˆ¤æ–­ç»“æœè¿”å›å¸ƒå°”å€¼ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">EndsWith</span>&lt;T <span class="keyword">extends</span> <span class="built_in">string</span>, U <span class="keyword">extends</span> <span class="built_in">string</span>&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">E0</span> = <span class="title class_">EndsWith</span>&lt;<span class="string">&#x27;123&#x27;</span>, <span class="string">&#x27;23&#x27;</span>&gt;; <span class="comment">// true</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">E1</span> = <span class="title class_">EndsWith</span>&lt;<span class="string">&#x27;123&#x27;</span>, <span class="string">&#x27;13&#x27;</span>&gt;; <span class="comment">//false</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">E2</span> = <span class="title class_">EndsWith</span>&lt;<span class="string">&#x27;123&#x27;</span>, <span class="string">&#x27;123&#x27;</span>&gt;; <span class="comment">//true</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// StartWith</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">StartsWith</span>&lt;T <span class="keyword">extends</span> <span class="built_in">string</span>, U <span class="keyword">extends</span> <span class="built_in">string</span>&gt; = T <span class="keyword">extends</span> <span class="string">`<span class="subst">$&#123;U&#125;</span><span class="subst">$&#123;infer R&#125;</span>`</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">S0</span> = <span class="title class_">StartsWith</span>&lt;<span class="string">&#x27;123&#x27;</span>, <span class="string">&#x27;12&#x27;</span>&gt;; <span class="comment">// true</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">S1</span> = <span class="title class_">StartsWith</span>&lt;<span class="string">&#x27;123&#x27;</span>, <span class="string">&#x27;13&#x27;</span>&gt;; <span class="comment">// false</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">S2</span> = <span class="title class_">StartsWith</span>&lt;<span class="string">&#x27;123&#x27;</span>, <span class="string">&#x27;1234&#x27;</span>&gt;; <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// EndsWith</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">EndsWith</span>&lt;T <span class="keyword">extends</span> <span class="built_in">string</span>, U <span class="keyword">extends</span> <span class="built_in">string</span>&gt; = T <span class="keyword">extends</span> <span class="string">`<span class="subst">$&#123;infer Head&#125;</span><span class="subst">$&#123;U&#125;</span>`</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">E0</span> = <span class="title class_">EndsWith</span>&lt;<span class="string">&#x27;123&#x27;</span>, <span class="string">&#x27;23&#x27;</span>&gt;; <span class="comment">// true</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">E1</span> = <span class="title class_">EndsWith</span>&lt;<span class="string">&#x27;123&#x27;</span>, <span class="string">&#x27;13&#x27;</span>&gt;; <span class="comment">//false</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">E2</span> = <span class="title class_">EndsWith</span>&lt;<span class="string">&#x27;123&#x27;</span>, <span class="string">&#x27;123&#x27;</span>&gt;; <span class="comment">//true</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬ä¸‰åä¹é¢˜"><a href="#ç¬¬ä¸‰åä¹é¢˜" class="headerlink" title="ç¬¬ä¸‰åä¹é¢˜"></a>ç¬¬ä¸‰åä¹é¢˜</h2><ul><li>å®ç°<code>IsAny</code>å·¥å…·ç±»å‹ï¼Œç”¨äºåˆ¤æ–­ç±»å‹<code>T</code>æ˜¯å¦ä¸º<code>any</code>ç±»å‹ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">IsAny</span>&lt;T&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I0</span> = <span class="title class_">IsAny</span>&lt;<span class="built_in">never</span>&gt;; <span class="comment">// false</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I1</span> = <span class="title class_">IsAny</span>&lt;<span class="built_in">unknown</span>&gt;; <span class="comment">// false</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I2</span> = <span class="title class_">IsAny</span>&lt;<span class="built_in">any</span>&gt;; <span class="comment">// tue</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 1</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ€è·¯ï¼š åˆ©ç”¨ä»»ä½•ç±»å‹å’Œanyäº¤å‰éƒ½ç­‰äºanyæ¥å®ç°</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IsAny</span>&lt;T&gt; = <span class="number">0</span> <span class="keyword">extends</span> <span class="number">1</span> &amp; T ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I0</span> = <span class="title class_">IsAny</span>&lt;<span class="built_in">never</span>&gt;; <span class="comment">// false</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I1</span> = <span class="title class_">IsAny</span>&lt;<span class="built_in">unknown</span>&gt;; <span class="comment">// false</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I2</span> = <span class="title class_">IsAny</span>&lt;<span class="built_in">any</span>&gt;; <span class="comment">// tue</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 2</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// unknown åªèƒ½èµ‹ç»™ unknown æˆ–è€… any</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IsAny</span>&lt;T&gt; = [<span class="built_in">unknown</span>] <span class="keyword">extends</span> [T] ? ([T] <span class="keyword">extends</span> [<span class="built_in">string</span>] ? <span class="literal">true</span> : <span class="literal">false</span>) : <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I0</span> = <span class="title class_">IsAny</span>&lt;<span class="built_in">never</span>&gt;; <span class="comment">// false</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I1</span> = <span class="title class_">IsAny</span>&lt;<span class="built_in">unknown</span>&gt;; <span class="comment">// false</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I2</span> = <span class="title class_">IsAny</span>&lt;<span class="built_in">any</span>&gt;; <span class="comment">// tue</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬å››åé¢˜"><a href="#ç¬¬å››åé¢˜" class="headerlink" title="ç¬¬å››åé¢˜"></a>ç¬¬å››åé¢˜</h2><ul><li>å®ç°<code>AnyOf</code>å·¥å…·ç±»å‹ï¼Œåªè¦æ•°ç»„ä¸­ä»»æ„å…ƒç´ çš„ç±»å‹é<code>Falsy</code>ç±»å‹ã€<code>&#123;&#125;</code>ç±»å‹æˆ–<code>[]</code>ç±»å‹ï¼Œåˆ™è¿”å›<code>true</code>ï¼Œå¦åˆ™è¿”å›<code>false</code>,å¦‚æœæ•°ç»„ä¸ºç©ºçš„è¯ï¼Œåˆ™è¿”å›<code>false</code>ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">AnyOf</span>&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[]&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">A0</span> = <span class="title class_">AnyOf</span>&lt;[]&gt;; <span class="comment">//false</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">A1</span> = <span class="title class_">AnyOf</span>&lt;[<span class="number">0</span>,<span class="string">&#x27;&#x27;</span>,<span class="literal">false</span>,[],&#123;&#125;]&gt;; <span class="comment">//false</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">A2</span> = <span class="title class_">AnyOf</span>&lt;[<span class="number">1</span>, <span class="string">&quot;&quot;</span>,<span class="literal">false</span>,[],&#123;&#125;]&gt;; <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Falsy</span> = &#123;</span><br><span class="line">  [p <span class="keyword">in</span> <span class="title class_">PropertyKey</span>]: <span class="built_in">never</span></span><br><span class="line">&#125; | [] | <span class="string">&#x27;&#x27;</span> | <span class="string">&quot;&quot;</span> | <span class="literal">false</span> | <span class="number">0</span> | <span class="literal">undefined</span> | <span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">AnyOf</span>&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[]&gt; = T <span class="keyword">extends</span> [infer A, ...infer <span class="title class_">Rest</span>]</span><br><span class="line">? (A <span class="keyword">extends</span> <span class="title class_">Falsy</span> ? <span class="title class_">AnyOf</span>&lt;<span class="title class_">Rest</span>&gt; : <span class="literal">true</span>)</span><br><span class="line">: <span class="literal">false</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬å››åä¸€é¢˜"><a href="#ç¬¬å››åä¸€é¢˜" class="headerlink" title="ç¬¬å››åä¸€é¢˜"></a>ç¬¬å››åä¸€é¢˜</h2><ul><li>å®ç°<code>Replace</code>å·¥å…·ç±»å‹ï¼Œç”¨äºå®ç°å­—ç¬¦ä¸²ç±»å‹çš„æ›¿æ¢æ“ä½œï¼Œå…·ä½“çš„ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Replace</span>&lt;</span><br><span class="line">  S <span class="keyword">extends</span> <span class="built_in">string</span>,</span><br><span class="line">  <span class="title class_">From</span> <span class="keyword">extends</span> <span class="built_in">string</span>,</span><br><span class="line">  <span class="title class_">To</span> <span class="keyword">extends</span> <span class="built_in">string</span></span><br><span class="line">&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">R0</span> = <span class="title class_">Replace</span>&lt;<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>&gt;; <span class="comment">// &#x27;&#x27;</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">R1</span> = <span class="title class_">Replace</span>&lt;<span class="string">&#x27;foobar&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>&gt;; <span class="comment">// &#x27;foofoo&#x27;</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">R2</span> = <span class="title class_">Replace</span>&lt;<span class="string">&#x27;foobarbar&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>&gt;; <span class="comment">// &#x27;foofoobar&#x27;</span></span><br></pre></td></tr></table></figure><ul><li>æ­¤å¤–ï¼Œç»§ç»­å®ç°<code>ReplaceAll</code>å·¥å…·ç±»å‹ï¼Œç”¨äºå®ç°æ›¿æ¢æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„å­—ä¸²ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">ReplaceAll</span>&lt;</span><br><span class="line">  S <span class="keyword">extends</span> <span class="built_in">string</span>,</span><br><span class="line">  <span class="title class_">From</span> <span class="keyword">extends</span> <span class="built_in">string</span>,</span><br><span class="line">  <span class="title class_">To</span> <span class="keyword">extends</span> <span class="built_in">string</span></span><br><span class="line">&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">R0</span> = <span class="title class_">ReplaceAll</span>&lt;<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>&gt;; <span class="comment">// &#x27;&#x27;</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">R1</span> = <span class="title class_">ReplaceAll</span>&lt;<span class="string">&#x27;barfoo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>&gt;; <span class="comment">// &#x27;foofoo&#x27;</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">R2</span> = <span class="title class_">ReplaceAll</span>&lt;<span class="string">&#x27;foobarbar&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>&gt;; <span class="comment">// &#x27;foofoofoo&#x27;</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">R3</span> = <span class="title class_">ReplaceAll</span>&lt;<span class="string">&#x27;foobarfoobar&#x27;</span>, <span class="string">&#x27;ob&#x27;</span>, <span class="string">&#x27;b&#x27;</span>&gt;; <span class="comment">// &#x27;fobarfobar&#x27;</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Replace</span>&lt;</span><br><span class="line">  S <span class="keyword">extends</span> <span class="built_in">string</span>,</span><br><span class="line">  <span class="title class_">From</span> <span class="keyword">extends</span> <span class="built_in">string</span>,</span><br><span class="line">  <span class="title class_">To</span> <span class="keyword">extends</span> <span class="built_in">string</span>,</span><br><span class="line">&gt; = S <span class="keyword">extends</span> <span class="string">`<span class="subst">$&#123;infer H&#125;</span><span class="subst">$&#123;From&#125;</span><span class="subst">$&#123;infer R&#125;</span>`</span></span><br><span class="line">? <span class="string">`<span class="subst">$&#123;H&#125;</span><span class="subst">$&#123;To&#125;</span><span class="subst">$&#123;R&#125;</span>`</span></span><br><span class="line">: S;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">R0</span> = <span class="title class_">Replace</span>&lt;<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>&gt;; <span class="comment">// &#x27;&#x27;</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">R1</span> = <span class="title class_">Replace</span>&lt;<span class="string">&#x27;foobar&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>&gt;; <span class="comment">// &#x27;foofoo&#x27;</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">R2</span> = <span class="title class_">Replace</span>&lt;<span class="string">&#x27;foobarbar&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>&gt;; <span class="comment">// &#x27;foofoobar&#x27;</span></span><br></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">ReplaceAll</span>&lt;</span><br><span class="line">  S <span class="keyword">extends</span> <span class="built_in">string</span>,</span><br><span class="line">  <span class="title class_">From</span> <span class="keyword">extends</span> <span class="built_in">string</span>,</span><br><span class="line">  <span class="title class_">To</span> <span class="keyword">extends</span> <span class="built_in">string</span>,</span><br><span class="line">&gt; = S <span class="keyword">extends</span> <span class="string">`<span class="subst">$&#123;infer H&#125;</span><span class="subst">$&#123;From&#125;</span><span class="subst">$&#123;infer R&#125;</span>`</span></span><br><span class="line">? <span class="string">`<span class="subst">$&#123;H&#125;</span><span class="subst">$&#123;To&#125;</span><span class="subst">$&#123;ReplaceAll&lt;R, From, To&gt;&#125;</span>`</span></span><br><span class="line">: S;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">R0</span> = <span class="title class_">ReplaceAll</span>&lt;<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>&gt;; <span class="comment">// &#x27;&#x27;</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">R1</span> = <span class="title class_">ReplaceAll</span>&lt;<span class="string">&#x27;barfoo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>&gt;; <span class="comment">// &#x27;foofoo&#x27;</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">R2</span> = <span class="title class_">ReplaceAll</span>&lt;<span class="string">&#x27;foobarbar&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>&gt;; <span class="comment">// &#x27;foofoofoo&#x27;</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">R3</span> = <span class="title class_">ReplaceAll</span>&lt;<span class="string">&#x27;foobarfoobar&#x27;</span>, <span class="string">&#x27;ob&#x27;</span>, <span class="string">&#x27;b&#x27;</span>&gt;; <span class="comment">// &#x27;fobarfobar&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬å››åäºŒé¢˜"><a href="#ç¬¬å››åäºŒé¢˜" class="headerlink" title="ç¬¬å››åäºŒé¢˜"></a>ç¬¬å››åäºŒé¢˜</h2><ul><li>å®ç°<code>IndexOf</code>å·¥å…·ç±»å‹ï¼Œç”¨äºè·å–æ•°ç»„ç±»å‹ä¸­æŒ‡å®šé¡¹çš„ç´¢å¼•å€¼ï¼Œè‹¥ä¸å­˜åœ¨çš„è¯ï¼Œåˆ™è¿”å›<code>-1</code>å­—é¢é‡ç±»å‹ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">IndexOf</span>&lt;A <span class="keyword">extends</span> <span class="built_in">any</span>[], <span class="title class_">Item</span>&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Arr</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I0</span> = <span class="title class_">IndexOf</span>&lt;<span class="title class_">Arr</span>, <span class="number">0</span>&gt;; <span class="comment">// -1</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I1</span> = <span class="title class_">IndexOf</span>&lt;<span class="title class_">Arr</span>, <span class="number">1</span>&gt;; <span class="comment">// 0</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I2</span> = <span class="title class_">IndexOf</span>&lt;<span class="title class_">Arr</span>, <span class="number">3</span>&gt;; <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">IndexOf</span>&lt;A <span class="keyword">extends</span> <span class="built_in">any</span>[], <span class="title class_">Item</span>, R <span class="keyword">extends</span> <span class="built_in">any</span>[] = []&gt; = A <span class="keyword">extends</span> [infer H, ...infer <span class="title class_">Rest</span>]</span><br><span class="line">? <span class="title class_">Item</span> <span class="keyword">extends</span> H</span><br><span class="line">? R[<span class="string">&quot;length&quot;</span>]</span><br><span class="line">: <span class="title class_">IndexOf</span>&lt;<span class="title class_">Rest</span>, <span class="title class_">Item</span>, [...R, H]&gt;</span><br><span class="line">: -<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Arr</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I0</span> = <span class="title class_">IndexOf</span>&lt;<span class="title class_">Arr</span>, <span class="number">0</span>&gt;; <span class="comment">// -1</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I1</span> = <span class="title class_">IndexOf</span>&lt;<span class="title class_">Arr</span>, <span class="number">1</span>&gt;; <span class="comment">// 0</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">I2</span> = <span class="title class_">IndexOf</span>&lt;<span class="title class_">Arr</span>, <span class="number">3</span>&gt;; <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬å››åä¸‰é¢˜"><a href="#ç¬¬å››åä¸‰é¢˜" class="headerlink" title="ç¬¬å››åä¸‰é¢˜"></a>ç¬¬å››åä¸‰é¢˜</h2><ul><li>å®ç°ä¸€ä¸ª<code>Permutation</code>å·¥å…·ç±»å‹ï¼Œå½“è¾“å…¥ä¸€ä¸ªè”åˆç±»å‹æ—¶ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«è¯¥è”åˆç±»å‹çš„å…¨æ’åˆ—ç±»å‹æ•°ç»„ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Permutation</span>&lt;T, K = T&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">P0</span> = <span class="title class_">Permutation</span>&lt;<span class="string">&#x27;a&#x27;</span> | <span class="string">&#x27;b&#x27;</span>&gt;; <span class="comment">// [&#x27;a&#x27;, &#x27;b&#x27;] | [&#x27;b&#x27; , &#x27;a&#x27;]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">P1</span> = <span class="title class_">Permutation</span>&lt;<span class="string">&#x27;a&#x27;</span> | <span class="string">&#x27;b&#x27;</span> | <span class="string">&#x27;c&#x27;</span>&gt;; <span class="comment">//[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;] | [&quot;a&quot;, &quot;c&quot;, &quot;b&quot;] | [&quot;b&quot;, &quot;a&quot;, &quot;c&quot;] | [&quot;b&quot;, &quot;c&quot;, &quot;a&quot;] | [&quot;c&quot;, &quot;a&quot;, &quot;b&quot;] | [&quot;c&quot;, &quot;b&quot;, &quot;a&quot;]</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Permutation</span>&lt;T, K = T&gt; = [T] <span class="keyword">extends</span> [<span class="built_in">never</span>]</span><br><span class="line">? []</span><br><span class="line">: K <span class="keyword">extends</span> K</span><br><span class="line">? [K, ...<span class="title class_">Permutation</span>&lt;<span class="title class_">Exclude</span>&lt;T, K&gt;&gt;]</span><br><span class="line">: <span class="built_in">never</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">P0</span> = <span class="title class_">Permutation</span>&lt;<span class="string">&#x27;a&#x27;</span> | <span class="string">&#x27;b&#x27;</span>&gt;; <span class="comment">// [&#x27;a&#x27;, &#x27;b&#x27;] | [&#x27;b&#x27; , &#x27;a&#x27;]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">P1</span> = <span class="title class_">Permutation</span>&lt;<span class="string">&#x27;a&#x27;</span> | <span class="string">&#x27;b&#x27;</span> | <span class="string">&#x27;c&#x27;</span>&gt;; <span class="comment">//[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;] | [&quot;a&quot;, &quot;c&quot;, &quot;b&quot;] | [&quot;b&quot;, &quot;a&quot;, &quot;c&quot;] | [&quot;b&quot;, &quot;c&quot;, &quot;a&quot;] | [&quot;c&quot;, &quot;a&quot;, &quot;b&quot;] | [&quot;c&quot;, &quot;b&quot;, &quot;a&quot;]</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬å››åå››é¢˜"><a href="#ç¬¬å››åå››é¢˜" class="headerlink" title="ç¬¬å››åå››é¢˜"></a>ç¬¬å››åå››é¢˜</h2><ul><li>å®ç°<code>Unpacked</code>å·¥å…·ç±»å‹ï¼Œç”¨äºå¯¹ç±»å‹æ‰§è¡Œâ€œæ‹†ç®±â€æ“ä½œï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Unpacked</span>&lt;T&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T00</span> = <span class="title class_">Unpacked</span>&lt;<span class="built_in">string</span>&gt;;  <span class="comment">// string</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T01</span> = <span class="title class_">Unpacked</span>&lt;<span class="built_in">string</span>[]&gt;;  <span class="comment">// string</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T02</span> = <span class="title class_">Unpacked</span>&lt;<span class="function">() =&gt;</span> <span class="built_in">string</span>&gt;;  <span class="comment">// string</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T03</span> = <span class="title class_">Unpacked</span>&lt;<span class="title class_">Promise</span>&lt;<span class="built_in">string</span>&gt;&gt;;  <span class="comment">// string</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T04</span> = <span class="title class_">Unpacked</span>&lt;<span class="title class_">Unpacked</span>&lt;<span class="title class_">Promise</span>&lt;<span class="built_in">string</span>&gt;[]&gt;&gt;;  <span class="comment">// string</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T05</span> = <span class="title class_">Unpacked</span>&lt;<span class="built_in">any</span>&gt;;  <span class="comment">// any</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T06</span> = <span class="title class_">Unpacked</span>&lt;<span class="built_in">never</span>&gt;;  <span class="comment">// never</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Unpacked</span>&lt;T&gt; = T <span class="keyword">extends</span> (...<span class="attr">args</span>: <span class="built_in">any</span>) =&gt; infer A</span><br><span class="line">? A</span><br><span class="line">: T <span class="keyword">extends</span> <span class="title class_">Promise</span>&lt;infer B&gt;</span><br><span class="line">? B</span><br><span class="line">: T <span class="keyword">extends</span> (infer A)[]</span><br><span class="line">? A</span><br><span class="line">: T</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T00</span> = <span class="title class_">Unpacked</span>&lt;<span class="built_in">string</span>&gt;;  <span class="comment">// string</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T01</span> = <span class="title class_">Unpacked</span>&lt;<span class="built_in">string</span>[]&gt;;  <span class="comment">// string</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T02</span> = <span class="title class_">Unpacked</span>&lt;<span class="function">() =&gt;</span> <span class="built_in">string</span>&gt;;  <span class="comment">// string</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T03</span> = <span class="title class_">Unpacked</span>&lt;<span class="title class_">Promise</span>&lt;<span class="built_in">string</span>&gt;&gt;;  <span class="comment">// string</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T04</span> = <span class="title class_">Unpacked</span>&lt;<span class="title class_">Unpacked</span>&lt;<span class="title class_">Promise</span>&lt;<span class="built_in">string</span>&gt;[]&gt;&gt;;  <span class="comment">// string</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T05</span> = <span class="title class_">Unpacked</span>&lt;<span class="built_in">any</span>&gt;;  <span class="comment">// any</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T06</span> = <span class="title class_">Unpacked</span>&lt;<span class="built_in">never</span>&gt;;  <span class="comment">// never</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬å››åäº”é¢˜"><a href="#ç¬¬å››åäº”é¢˜" class="headerlink" title="ç¬¬å››åäº”é¢˜"></a>ç¬¬å››åäº”é¢˜</h2><ul><li>å®ç°<code>JsonifiedObject</code>å·¥å…·ç±»å‹ï¼Œç”¨äºå¯¹<code>Object</code>å¯¹è±¡ç±»å‹è¿›è¡Œåºåˆ—è¯æ“ä½œï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">class</span> <span class="title class_">MyClass</span> &#123;</span><br><span class="line">  <span class="title function_">toJSON</span>(): <span class="string">&quot;MyClass&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Jsonified</span>&lt;T <span class="keyword">extends</span> <span class="built_in">object</span>&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">MyObject</span> = &#123;</span><br><span class="line">  <span class="attr">str</span>: <span class="string">&quot;literalstring&quot;</span>;</span><br><span class="line">  <span class="attr">fn</span>: <span class="function">() =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">  <span class="attr">date</span>: <span class="title class_">Date</span>;</span><br><span class="line">  <span class="attr">customClass</span>: <span class="title class_">MyClass</span>;</span><br><span class="line">  <span class="attr">obj</span>: &#123;</span><br><span class="line">    <span class="attr">prop</span>: <span class="string">&quot;property&quot;</span>;</span><br><span class="line">    <span class="attr">clz</span>: <span class="title class_">MyClass</span>;</span><br><span class="line">    <span class="attr">nested</span>: &#123; <span class="attr">attr</span>: <span class="title class_">Date</span> &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">JsonifiedMyObject</span> = <span class="title class_">Jsonified</span>&lt;<span class="title class_">MyObject</span>&gt;;</span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">let</span> <span class="attr">ex</span>: <span class="title class_">JsonifiedMyObject</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">z1</span>: <span class="string">&quot;MyClass&quot;</span> = ex.<span class="property">customClass</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">z2</span>: <span class="built_in">string</span> = ex.<span class="property">obj</span>.<span class="property">nested</span>.<span class="property">attr</span>;</span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">class</span> <span class="title class_">MyClass</span> &#123;</span><br><span class="line">  <span class="title function_">toJSON</span>(): <span class="string">&quot;MyClass&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Jsonified</span>&lt;T <span class="keyword">extends</span> <span class="built_in">object</span>&gt; = &#123;</span><br><span class="line">  [K <span class="keyword">in</span> keyof T]: T[K] <span class="keyword">extends</span> &#123; <span class="title function_">toJSON</span>(): infer <span class="title class_">Return</span> &#125;</span><br><span class="line">    ? <span class="title class_">ReturnType</span>&lt;T[K][<span class="string">&quot;toJSON&quot;</span>]&gt;</span><br><span class="line">    : T[K] <span class="keyword">extends</span> (...<span class="attr">arg</span>: <span class="built_in">any</span>[]) =&gt; <span class="built_in">any</span></span><br><span class="line">    ? <span class="built_in">never</span></span><br><span class="line">    : T[K] <span class="keyword">extends</span> <span class="built_in">object</span></span><br><span class="line">    ? <span class="title class_">Jsonified</span>&lt;T[K]&gt;</span><br><span class="line">    : T[K];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">MyObject</span> = &#123;</span><br><span class="line">  <span class="attr">str</span>: <span class="string">&quot;literalstring&quot;</span>;</span><br><span class="line">  <span class="attr">fn</span>: <span class="function">() =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">  <span class="attr">date</span>: <span class="title class_">Date</span>;</span><br><span class="line">  <span class="attr">customClass</span>: <span class="title class_">MyClass</span>;</span><br><span class="line">  <span class="attr">obj</span>: &#123;</span><br><span class="line">    <span class="attr">prop</span>: <span class="string">&quot;property&quot;</span>;</span><br><span class="line">    <span class="attr">clz</span>: <span class="title class_">MyClass</span>;</span><br><span class="line">    <span class="attr">nested</span>: &#123; <span class="attr">attr</span>: <span class="title class_">Date</span> &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">JsonifiedMyObject</span> = <span class="title class_">Jsonified</span>&lt;<span class="title class_">MyObject</span>&gt;;</span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">let</span> <span class="attr">ex</span>: <span class="title class_">JsonifiedMyObject</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">z1</span>: <span class="string">&quot;MyClass&quot;</span> = ex.<span class="property">customClass</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">z2</span>: <span class="built_in">string</span> = ex.<span class="property">obj</span>.<span class="property">nested</span>.<span class="property">attr</span>;</span><br></pre></td></tr></table></figure><h2 id="ç¬¬å››åå…­é¢˜"><a href="#ç¬¬å››åå…­é¢˜" class="headerlink" title="ç¬¬å››åå…­é¢˜"></a>ç¬¬å››åå…­é¢˜</h2><ul><li>å®ç°<code>RequireAllOrNone</code>å·¥å…·ç±»å‹ï¼Œç”¨äºæ»¡è¶³ä»¥ä¸‹åŠŸèƒ½ï¼Œå½“è®¾ç½®<code>age</code>å±æ€§æ—¶ï¼Œ<code>gender</code>å±æ€§ä¹Ÿä¼šå˜æˆå¿…å¡«ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  age?: <span class="built_in">number</span>;</span><br><span class="line">  gender?: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">RequireAllOrNone</span>&lt;T, K <span class="keyword">extends</span> keyof T&gt; = <span class="comment">// ä½ çš„å®ç°ä»£ç </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">p1</span>: <span class="title class_">RequireAllOrNone</span>&lt;<span class="title class_">Person</span>, <span class="string">&#x27;age&#x27;</span> | <span class="string">&#x27;gender&#x27;</span>&gt; = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;lolo&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">p2</span>: <span class="title class_">RequireAllOrNone</span>&lt;<span class="title class_">Person</span>, <span class="string">&#x27;age&#x27;</span> | <span class="string">&#x27;gender&#x27;</span>&gt; = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;lolo&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">7</span>,</span><br><span class="line">  <span class="attr">gender</span>: <span class="number">1</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  age?: <span class="built_in">number</span>;</span><br><span class="line">  gender?: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">RequireAllOrNone</span>&lt;T, K <span class="keyword">extends</span> keyof T&gt; = <span class="title class_">Omit</span>&lt;T, K&gt; &amp; (</span><br><span class="line">  &#123;[P <span class="keyword">in</span> K]-?: T[P]&#125; | &#123;[P <span class="keyword">in</span> K]?: <span class="built_in">never</span>&#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">p1</span>: <span class="title class_">RequireAllOrNone</span>&lt;<span class="title class_">Person</span>, <span class="string">&#x27;age&#x27;</span> | <span class="string">&#x27;gender&#x27;</span>&gt; = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;lolo&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">p2</span>: <span class="title class_">RequireAllOrNone</span>&lt;<span class="title class_">Person</span>, <span class="string">&#x27;age&#x27;</span> | <span class="string">&#x27;gender&#x27;</span>&gt; = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;lolo&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">7</span>,</span><br><span class="line">  <span class="attr">gender</span>: <span class="number">1</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">p3</span>: <span class="title class_">RequireAllOrNone</span>&lt;<span class="title class_">Person</span>, <span class="string">&#x27;age&#x27;</span> | <span class="string">&#x27;gender&#x27;</span>&gt; = &#123; <span class="comment">// error</span></span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;lolo&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">7</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="ç¬¬å››åä¸ƒé¢˜"><a href="#ç¬¬å››åä¸ƒé¢˜" class="headerlink" title="ç¬¬å››åä¸ƒé¢˜"></a>ç¬¬å››åä¸ƒé¢˜</h2><ul><li>å®ç°<code>RequireExactlyOne</code>å·¥å…·ç±»å‹ï¼Œç”¨äºæ»¡è¶³ä»¥ä¸‹åŠŸèƒ½ï¼Œå³åªèƒ½åŒ…å«<code>age</code>æˆ–<code>gender</code>å±æ€§ï¼Œä¸èƒ½åŒ…å«ç€ä¸¤ä¸ªå±æ€§ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  age?: <span class="built_in">number</span>;</span><br><span class="line">  gender?: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åªèƒ½åŒ…å«Keysä¸­å”¯ä¸€çš„ä¸€ä¸ªKey</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">RequireExactlyOne</span>&lt;T, <span class="title class_">Keys</span> <span class="keyword">extends</span> keyof T&gt; = <span class="comment">// ä½ çš„å®ç°ä»£ç </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">p1</span>: <span class="title class_">RequireExactlyOne</span>&lt;<span class="title class_">Person</span>, <span class="string">&#x27;age&#x27;</span> | <span class="string">&#x27;gender&#x27;</span>&gt; = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;lolo&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">7</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">p2</span>: <span class="title class_">RequireExactlyOne</span>&lt;<span class="title class_">Person</span>, <span class="string">&#x27;age&#x27;</span> | <span class="string">&#x27;gender&#x27;</span>&gt; = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;lolo&quot;</span>,</span><br><span class="line">  <span class="attr">gender</span>: <span class="number">1</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Error</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">p3</span>: <span class="title class_">RequireExactlyOne</span>&lt;<span class="title class_">Person</span>, <span class="string">&#x27;age&#x27;</span> | <span class="string">&#x27;gender&#x27;</span>&gt; = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;lolo&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">7</span>,</span><br><span class="line">  <span class="attr">gender</span>: <span class="number">1</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  age?: <span class="built_in">number</span>;</span><br><span class="line">  gender?: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åªèƒ½åŒ…å«Keysä¸­å”¯ä¸€çš„ä¸€ä¸ªKey</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">RequireExactlyOne</span>&lt;T, <span class="title class_">Keys</span> <span class="keyword">extends</span> keyof T, K <span class="keyword">extends</span> keyof T = <span class="title class_">Keys</span>&gt; =</span><br><span class="line"><span class="title class_">Keys</span> <span class="keyword">extends</span> <span class="built_in">any</span></span><br><span class="line">? <span class="title class_">Omit</span>&lt;T, K&gt; &amp; <span class="title class_">Required</span>&lt;<span class="title class_">Pick</span>&lt;T, <span class="title class_">Keys</span>&gt;&gt; &amp; <span class="title class_">Partial</span>&lt;<span class="title class_">Record</span>&lt;<span class="title class_">Exclude</span>&lt;K, <span class="title class_">Keys</span>&gt;, <span class="built_in">never</span>&gt;&gt;</span><br><span class="line">: <span class="built_in">never</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">p1</span>: <span class="title class_">RequireExactlyOne</span>&lt;<span class="title class_">Person</span>, <span class="string">&#x27;age&#x27;</span> | <span class="string">&#x27;gender&#x27;</span>&gt; = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;lolo&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">7</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">p2</span>: <span class="title class_">RequireExactlyOne</span>&lt;<span class="title class_">Person</span>, <span class="string">&#x27;age&#x27;</span> | <span class="string">&#x27;gender&#x27;</span>&gt; = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;lolo&quot;</span>,</span><br><span class="line">  <span class="attr">gender</span>: <span class="number">1</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Error</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">p3</span>: <span class="title class_">RequireExactlyOne</span>&lt;<span class="title class_">Person</span>, <span class="string">&#x27;age&#x27;</span> | <span class="string">&#x27;gender&#x27;</span>&gt; = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;lolo&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">7</span>,</span><br><span class="line">  <span class="attr">gender</span>: <span class="number">1</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="ç¬¬å››åå…«é¢˜"><a href="#ç¬¬å››åå…«é¢˜" class="headerlink" title="ç¬¬å››åå…«é¢˜"></a>ç¬¬å››åå…«é¢˜</h2><ul><li>å®ç°<code>ConsistsOnlyOf</code>å·¥å…·ç±»å‹ï¼Œç”¨äºåˆ¤æ–­<code>LongString</code>å­—ç¬¦ä¸²ç±»å‹æ˜¯å¦ç”± 0 ä¸ªæˆ–å¤šä¸ª<code>Substring</code>å­—ç¬¦ä¸²ç±»å‹ç»„æˆï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">ConsistsOnlyOf</span>&lt;<span class="title class_">LongString</span> <span class="keyword">extends</span> <span class="built_in">string</span>, <span class="title class_">SubString</span> <span class="keyword">extends</span> <span class="built_in">string</span>&gt; = <span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">C0</span> = <span class="title class_">ConsistsOnlyOf</span>&lt;<span class="string">&#x27;aaa&#x27;</span>, <span class="string">&#x27;a&#x27;</span>&gt;; <span class="comment">// true</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">C1</span> = <span class="title class_">ConsistsOnlyOf</span>&lt;<span class="string">&#x27;ababab&#x27;</span>, <span class="string">&#x27;ab&#x27;</span>&gt;; <span class="comment">// true</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">C2</span> = <span class="title class_">ConsistsOnlyOf</span>&lt;<span class="string">&#x27;aBa&#x27;</span>, <span class="string">&#x27;a&#x27;</span>&gt;; <span class="comment">// false</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">C3</span> = <span class="title class_">ConsistsOnlyOf</span>&lt;<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;a&#x27;</span>&gt;; <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">ConsistsOnlyOf</span>&lt;<span class="title class_">LongString</span> <span class="keyword">extends</span> <span class="built_in">string</span>, <span class="title class_">SubString</span> <span class="keyword">extends</span> <span class="built_in">string</span>&gt; =</span><br><span class="line"><span class="title class_">LongString</span> <span class="keyword">extends</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">? <span class="literal">true</span></span><br><span class="line">: <span class="title class_">LongString</span> <span class="keyword">extends</span> <span class="string">`<span class="subst">$&#123;SubString&#125;</span><span class="subst">$&#123;infer R&#125;</span>`</span></span><br><span class="line">? <span class="title class_">ConsistsOnlyOf</span>&lt;R, <span class="title class_">SubString</span>&gt;</span><br><span class="line">: <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">C0</span> = <span class="title class_">ConsistsOnlyOf</span>&lt;<span class="string">&#x27;aaa&#x27;</span>, <span class="string">&#x27;a&#x27;</span>&gt;; <span class="comment">// true</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">C1</span> = <span class="title class_">ConsistsOnlyOf</span>&lt;<span class="string">&#x27;ababab&#x27;</span>, <span class="string">&#x27;ab&#x27;</span>&gt;; <span class="comment">// true</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">C2</span> = <span class="title class_">ConsistsOnlyOf</span>&lt;<span class="string">&#x27;aBa&#x27;</span>, <span class="string">&#x27;a&#x27;</span>&gt;; <span class="comment">// false</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">C3</span> = <span class="title class_">ConsistsOnlyOf</span>&lt;<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;a&#x27;</span>&gt;; <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬å››åä¹é¢˜"><a href="#ç¬¬å››åä¹é¢˜" class="headerlink" title="ç¬¬å››åä¹é¢˜"></a>ç¬¬å››åä¹é¢˜</h2><ul><li>é¡¹ç›®ä¸­å®šä¹‰äº†æ¥å£è¿”å›çš„æ•°æ®çš„ç±»å‹ï¼Œæ¯å±‚éƒ½èƒ½çµæ´»æ‰©å±•ä¸€äº›å±æ€§ï¼Œæ€ä¹ˆåšå‘¢ï¼Ÿ</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ¥å£è¿”å›æ•°æ®ç»“æ„</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Data</span> = &#123;</span><br><span class="line">  aaa?: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">bbb</span>: &#123;</span><br><span class="line">    <span class="attr">ccc</span>: <span class="built_in">number</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">DeepRecord</span>&lt;<span class="title class_">Obj</span> <span class="keyword">extends</span> <span class="title class_">Record</span>&lt;keyof <span class="built_in">any</span>, <span class="built_in">unknown</span>&gt;&gt; = &#123;</span><br><span class="line">  [key <span class="keyword">in</span> keyof <span class="title class_">Obj</span>]: <span class="title class_">Obj</span>[key] <span class="keyword">extends</span> <span class="title class_">Record</span>&lt;keyof <span class="built_in">any</span>, <span class="built_in">unknown</span>&gt;</span><br><span class="line">    ? <span class="title class_">DeepRecord</span>&lt;<span class="title class_">Obj</span>[key]&gt; &amp; <span class="title class_">Record</span>&lt;keyof <span class="built_in">any</span>, <span class="built_in">unknown</span>&gt;</span><br><span class="line">    : <span class="title class_">Obj</span>[key];</span><br><span class="line">&#125; &amp; <span class="title class_">Record</span>&lt;keyof <span class="built_in">any</span>, <span class="built_in">unknown</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IData</span> = <span class="title class_">DeepRecord</span>&lt;<span class="title class_">Data</span>&gt;;</span><br></pre></td></tr></table></figure><h2 id="ç¬¬äº”åé¢˜"><a href="#ç¬¬äº”åé¢˜" class="headerlink" title="ç¬¬äº”åé¢˜"></a>ç¬¬äº”åé¢˜</h2><ul><li>å½“ä¸€ä¸ªç´¢å¼•ä¸º â€˜descâ€™ | â€˜ascâ€™ çš„æ—¶å€™ï¼Œå…¶ä»–ç´¢å¼•éƒ½æ˜¯ false</li></ul><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">GenerateType</span>&lt;keys <span class="keyword">extends</span> keyof <span class="built_in">any</span>, <span class="variable constant_">V1</span>, <span class="variable constant_">V2</span>&gt; = &#123;</span><br><span class="line">  [key <span class="keyword">in</span> keys]: &#123;</span><br><span class="line">    [key1 <span class="keyword">in</span> key]: <span class="variable constant_">V1</span>;</span><br><span class="line">  &#125; &amp; &#123;</span><br><span class="line">    [key2 <span class="keyword">in</span> <span class="title class_">Exclude</span>&lt;keys, key&gt;]: <span class="variable constant_">V2</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;[keys];</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> R = <span class="title class_">GenerateType</span>&lt;<span class="string">&quot;a&quot;</span> | <span class="string">&quot;b&quot;</span> | <span class="string">&quot;c&quot;</span> | <span class="string">&quot;d&quot;</span>, <span class="string">&quot;desc&quot;</span> | <span class="string">&quot;asc&quot;</span>, <span class="literal">false</span>&gt;;</span><br></pre></td></tr></table></figure><h2 id="ç¬¬äº”åä¸€é¢˜"><a href="#ç¬¬äº”åä¸€é¢˜" class="headerlink" title="ç¬¬äº”åä¸€é¢˜"></a>ç¬¬äº”åä¸€é¢˜</h2><ul><li>å–å‡º<strong>interface</strong>ä¸­<strong>userInfo</strong>çš„ç±»å‹</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Result</span> &#123;</span><br><span class="line">  data?: &#123;</span><br><span class="line">    userInfo?: &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 1</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç®€å•ç‰ˆ Required</span></span><br><span class="line"><span class="comment">// ç¼ºç‚¹ å±‚çº§æ·±äº†éœ€è¦å†™å¤šä¸ªRequired</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">UserInfo</span> = <span class="title class_">Required</span>&lt;<span class="title class_">Required</span>&lt;<span class="title class_">Result</span>&gt;[<span class="string">&quot;data&quot;</span>]&gt;[<span class="string">&quot;userInfo&quot;</span>];</span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆ 2</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€’å½’Required</span></span><br><span class="line"><span class="comment">// ç¼ºç‚¹æ•°æ®ç±»å‹éƒ½ä¼šå˜æˆRequired</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IsOptional</span>&lt;<span class="title class_">Key</span> <span class="keyword">extends</span> keyof <span class="title class_">Obj</span>, <span class="title class_">Obj</span>&gt; = &#123;&#125; <span class="keyword">extends</span> <span class="title class_">Pick</span>&lt;<span class="title class_">Obj</span>, <span class="title class_">Key</span>&gt;</span><br><span class="line">  ? <span class="title class_">Key</span></span><br><span class="line">  : <span class="built_in">never</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">DeepRequired</span>&lt;T&gt; = &#123;</span><br><span class="line">  [K <span class="keyword">in</span> keyof T]-?: <span class="title class_">IsOptional</span>&lt;K, T&gt; <span class="keyword">extends</span> <span class="built_in">never</span> ? T[K] : <span class="title class_">DeepRequired</span>&lt;T[K]&gt;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">UserInfo</span> = <span class="title class_">DeepRequired</span>&lt;<span class="title class_">Result</span>&gt;[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;userInfo&quot;</span>];</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;ul&gt;
&lt;li&gt;åœ¨çº¿ TS åœ°å€ &lt;a href=&quot;https://www.typescriptlang.org/&quot;&gt;typescript&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="typescript" scheme="https://github.com/foolishmax/categories/typescript/"/>
    
    
    <category term="typescript" scheme="https://github.com/foolishmax/tags/typescript/"/>
    
  </entry>
  
  <entry>
    <title>è·å–å”¯ä¸€idçš„ä¸‰ç§æ–¹æ³•</title>
    <link href="https://github.com/foolishmax/2022/01/04/%E8%8E%B7%E5%8F%96%E5%94%AF%E4%B8%80id%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E6%B3%95/"/>
    <id>https://github.com/foolishmax/2022/01/04/%E8%8E%B7%E5%8F%96%E5%94%AF%E4%B8%80id%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E6%B3%95/</id>
    <published>2022-01-04T03:19:53.000Z</published>
    <updated>2022-07-30T04:14:35.340Z</updated>
    
    <content type="html"><![CDATA[<h2 id="uuid"><a href="#uuid" class="headerlink" title="uuid"></a>uuid</h2><span id="more"></span><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const UUID = (len = 32) =&gt; &#123;</span><br><span class="line">  return &quot;xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx&quot;</span><br><span class="line">    .replace(/[xy]/g, function replace(c) &#123;</span><br><span class="line">      /* eslint-disable no-bitwise */</span><br><span class="line">      const r = (Math.random() * 16) | 0;</span><br><span class="line">      const v = c === &quot;x&quot; ? r : (r &amp; 0x3) | 0x8;</span><br><span class="line"></span><br><span class="line">      return v.toString(16);</span><br><span class="line">    &#125;)</span><br><span class="line">    .substring(0, len);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="nanoid"><a href="#nanoid" class="headerlink" title="nanoid"></a>nanoid</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">const nanoid = (t = 21) =&gt; &#123;</span><br><span class="line">  let e = &quot;&quot;,</span><br><span class="line">    r = crypto.getRandomValues(new Uint8Array(t));</span><br><span class="line">  for (; t--; ) &#123;</span><br><span class="line">    let n = 63 &amp; r[t];</span><br><span class="line">    e +=</span><br><span class="line">      n &lt; 36</span><br><span class="line">        ? n.toString(36)</span><br><span class="line">        : n &lt; 62</span><br><span class="line">        ? (n - 26).toString(36).toUpperCase()</span><br><span class="line">        : n &lt; 63</span><br><span class="line">        ? &quot;_&quot;</span><br><span class="line">        : &quot;-&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">  return e;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="åŸç”Ÿæ–¹æ³•"><a href="#åŸç”Ÿæ–¹æ³•" class="headerlink" title="åŸç”Ÿæ–¹æ³•"></a>åŸç”Ÿæ–¹æ³•</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const id = URL.createObjectURL(new Blob()).substr(-36)</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;uuid&quot;&gt;&lt;a href=&quot;#uuid&quot; class=&quot;headerlink&quot; title=&quot;uuid&quot;&gt;&lt;/a&gt;uuid&lt;/h2&gt;</summary>
    
    
    
    <category term="javascript" scheme="https://github.com/foolishmax/categories/javascript/"/>
    
    
    <category term="javascript" scheme="https://github.com/foolishmax/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>vue3æºç è°ƒè¯•</title>
    <link href="https://github.com/foolishmax/2022/01/02/vue3%E6%BA%90%E7%A0%81%E8%B0%83%E8%AF%95/"/>
    <id>https://github.com/foolishmax/2022/01/02/vue3%E6%BA%90%E7%A0%81%E8%B0%83%E8%AF%95/</id>
    <published>2022-01-02T07:11:11.000Z</published>
    <updated>2022-08-07T03:53:17.466Z</updated>
    
    <content type="html"><![CDATA[<h2 id="vue3-æºç è°ƒè¯•æ­¥éª¤"><a href="#vue3-æºç è°ƒè¯•æ­¥éª¤" class="headerlink" title="vue3 æºç è°ƒè¯•æ­¥éª¤"></a>vue3 æºç è°ƒè¯•æ­¥éª¤</h2><span id="more"></span><h3 id="clone-é¡¹ç›®"><a href="#clone-é¡¹ç›®" class="headerlink" title="clone é¡¹ç›®"></a>clone é¡¹ç›®</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/vuejs/vue-next.git</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn --ignore-scripts</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹é…ç½®"><a href="#ä¿®æ”¹é…ç½®" class="headerlink" title="ä¿®æ”¹é…ç½®"></a>ä¿®æ”¹é…ç½®</h3><p>ä¿®æ”¹<strong>package.json</strong>ä¸­çš„ scripts ä¸‹ dev çš„é…ç½®ï¼Œåé¢æ·»åŠ  <em>â€“sourcemap</em></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;dev&quot;: &quot;node scripts/dev.js&quot;</span><br><span class="line">// â¬‡</span><br><span class="line">&quot;dev&quot;: &quot;node scripts/dev.js --sourcemap&quot;</span><br></pre></td></tr></table></figure><h4 id="ç¼–è¯‘"><a href="#ç¼–è¯‘" class="headerlink" title="ç¼–è¯‘"></a>ç¼–è¯‘</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn run dev</span><br></pre></td></tr></table></figure><p>å½“ç»ˆç«¯å‡ºç°<strong>waiting for changesâ€¦<strong>è¡¨ç¤ºç¼–è¯‘æˆåŠŸï¼Œå¯ä»¥</strong>ctrl+c</strong>ç»“æŸè¿›ç¨‹æŸ¥çœ‹æºç äº†</p><p>æ‰“åŒ…å®Œæˆä¹‹åï¼Œexamples ä¸‹é¢çš„æ–‡ä»¶ä¼šå¼•ç”¨ dist æ–‡ä»¶ä¸‹çš„æ–‡ä»¶ï¼ˆdist æ–‡ä»¶æ˜¯æˆ‘ä»¬åˆšæ‰ç¼–è¯‘åç”Ÿæˆçš„æ–‡ä»¶ï¼‰<br><img src="../images/md_img/vue3-dist.jpg" alt="vue3-dist"></p><h3 id="debugger"><a href="#debugger" class="headerlink" title="debugger"></a>debugger</h3><p>æˆ‘ä»¬ç›´æ¥åœ¨<strong>package/vue/examples</strong>ç›®å½•ä¸‹æ·»åŠ <strong>demo/test.html</strong>æ–‡ä»¶ï¼Œå¹¶å¼•ç”¨**../../dist/vue.global.js**æ–‡ä»¶å°±å¯ä»¥ä½¿ç”¨ vue3 äº†ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot; /&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line"></span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;script src=&quot;../../dist/vue.global.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">    &lt;template id=&quot;foo&quot;&gt;</span><br><span class="line">      &lt;h2&gt;&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script&gt;</span><br><span class="line">      const App = &#123;</span><br><span class="line">        template: &#x27;#foo&#x27;,</span><br><span class="line">        data: function () &#123;</span><br><span class="line">          return &#123;</span><br><span class="line">            name: &#x27;foolishmax&#x27;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      Vue.createApp(App).mount(&#x27;#app&#x27;)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€å°±å¯ä»¥è¿›è¡Œ vue3 çš„ä»£ç è°ƒè¯•äº†ã€‚</p><p><img src="../images/md_img/vue3-debugger.jpg" alt="vue3-debugger"></p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;vue3-æºç è°ƒè¯•æ­¥éª¤&quot;&gt;&lt;a href=&quot;#vue3-æºç è°ƒè¯•æ­¥éª¤&quot; class=&quot;headerlink&quot; title=&quot;vue3 æºç è°ƒè¯•æ­¥éª¤&quot;&gt;&lt;/a&gt;vue3 æºç è°ƒè¯•æ­¥éª¤&lt;/h2&gt;</summary>
    
    
    
    <category term="vue3" scheme="https://github.com/foolishmax/categories/vue3/"/>
    
    
    <category term="vue3" scheme="https://github.com/foolishmax/tags/vue3/"/>
    
  </entry>
  
  <entry>
    <title>lernaå¼€å‘</title>
    <link href="https://github.com/foolishmax/2021/11/01/lerna%E5%BC%80%E5%8F%91/"/>
    <id>https://github.com/foolishmax/2021/11/01/lerna%E5%BC%80%E5%8F%91/</id>
    <published>2021-11-01T10:19:30.000Z</published>
    <updated>2022-07-30T04:11:18.929Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åˆ›å»º-npm-ç§æœ"><a href="#åˆ›å»º-npm-ç§æœ" class="headerlink" title="åˆ›å»º npm ç§æœ"></a>åˆ›å»º npm ç§æœ</h2><span id="more"></span><ul><li>verdaccio æ˜¯ä¸€ä¸ªç®€å•ã€é›¶é…ç½®çš„æœ¬åœ°ç§æœ‰åŒ– npm ä»“åº“</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cnpm install verdaccio -g</span><br><span class="line"></span><br><span class="line">verdaccio</span><br><span class="line">http://localhost:4873</span><br><span class="line">npm adduser --registry http://localhost:4873/</span><br><span class="line">npm publish --registry http://localhost: 4873/</span><br></pre></td></tr></table></figure><h2 id="lerna-å¸¸ç”¨å‘½ä»¤"><a href="#lerna-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="lerna å¸¸ç”¨å‘½ä»¤"></a>lerna å¸¸ç”¨å‘½ä»¤</h2><p>é¡¹ç›®åˆå§‹åŒ–<br>| å‘½ä»¤ | è¯´æ˜ |<br>| â€” | â€” |<br>| lerna init â€“independent | åˆå§‹åŒ–é¡¹ç›® |</p><p>åˆ›å»ºåŒ…<br>| å‘½ä»¤ | è¯´æ˜ |<br>| â€” | â€” |<br>| lerna create module-1 | åˆ›å»º package |<br>| lerna add | å®‰è£…ä¾èµ– |<br>| lerna link | é“¾æ¥ä¾èµ– |</p><p>å¼€å‘å’Œæµ‹è¯•<br>| å‘½ä»¤ | è¯´æ˜ |<br>| â€” | â€” |<br>| lerna exec | æ‰§è¡Œ shell è„šæœ¬ |<br>| lerna run | æ‰§è¡Œ npm å‘½ä»¤ |<br>| lerna clean | æ¸…ç©ºä¾èµ–|<br>| lerna bootstrap | é‡æ–°å®‰è£…ä¾èµ– |</p><p>package ä¾èµ–</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1.ç»™æŒ‡å®špackageå®‰è£…ä¾èµ–</span><br><span class="line">$ lerna add lodash packages/module-1</span><br><span class="line">$ lerna add lodash --scope=module-1</span><br><span class="line">$ lerna add lodash **/module-1</span><br><span class="line">$yarn workspace module-1 add lodash</span><br><span class="line"></span><br><span class="line">2.ç»™æ‰€æœ‰packageå®‰è£…ä¾èµ–</span><br><span class="line">$ lerna add lodash</span><br><span class="line"></span><br><span class="line">3.workspaceä¹‹é—´çš„ä¾èµ–</span><br><span class="line">$ lerna add module-2 packages/module-1</span><br><span class="line">$ lerna add module-2 --scope module-1</span><br></pre></td></tr></table></figure><p>å‘å¸ƒ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ lerna publish</span><br></pre></td></tr></table></figure><h2 id="lerna-json"><a href="#lerna-json" class="headerlink" title="lerna.json"></a>lerna.json</h2><ul><li>version: å½“å‰ä»“åº“çš„ç‰ˆæœ¬ï¼Œindependent mode è¯·è®¾ç½®ä¸º <strong>independent</strong>.<ul><li>lerna å¯¹äºåŒ…çš„ç®¡ç†æœ‰ä¸¤ç§æ¨¡å¼ï¼šå›ºå®šæ¨¡å¼ fixedã€ç‹¬ç«‹æ¨¡å¼ independentã€‚</li><li>å›ºå®šæ¨¡å¼æ‰€æœ‰åŒ…æ˜¯ç»Ÿä¸€çš„ç‰ˆæœ¬å·ï¼Œæ¯æ¬¡å‡çº§æ‰€æœ‰åŒ…ç»Ÿä¸€æ›´æ–°ï¼Œæ— è®ºè¿™ä¸ªåŒ…å†…å®¹æ˜¯å¦æ”¹å˜ã€‚ *å…·ä½“ä½“ç°åœ¨ lerna çš„é…ç½®æ–‡ä»¶ä¸­ lerna.json ä¸­æ°¸è¿œä¼šå­˜åœ¨ä¸€ä¸ªç¡®å®šç‰ˆæœ¬å·ï¼š{â€œversionâ€: â€œ0.0.1â€}</li><li>ç‹¬ç«‹æ¨¡å¼ï¼Œæ¯ä¸ªåŒ…éƒ½æ˜¯å•ç‹¬çš„ç‰ˆæœ¬å·ï¼Œæ¯æ¬¡ lerna è§¦å‘å‘å¸ƒå‘½ä»¤ï¼Œæ¯ä¸ªåŒ…çš„ç‰ˆæœ¬éƒ½ä¼šå•ç‹¬å˜åŒ–ï¼Œå…·ä½“ä½“ç°åœ¨ lerna çš„é…ç½®æ–‡ä»¶ lerna.json ä¸­æ²¡æœ‰ä¸€ä¸ªç¡®å®šçš„ç‰ˆæœ¬å·ï¼Œè€Œæ˜¯{â€œversionâ€:â€independentâ€}</li></ul></li><li>npmClient: æŒ‡å®šè¿è¡Œçš„å®¢æˆ·ç«¯ç¨‹åº é»˜è®¤ä¸º npm</li><li>ignoreChanges: ä¸€ä¸ªä¸åŒ…å«åœ¨<strong>lerna changed/publish</strong>çš„ glob æ•°ç»„ï¼Œä½¿ç”¨è¿™ä¸ªé˜»æ­¢å‘å¸ƒä¸å¿…è¦çš„æ›´æ–°ï¼Œæ¯”å¦‚ä¿®å¤<strong>README.md</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;useWorkspaces&quot;: true, // ä½¿ç”¨ workspaces é…ç½®ã€‚æ­¤é¡¹ä¸º true çš„è¯ï¼Œå°†ä½¿ç”¨ package.json çš„ &quot;workspaces&quot;ï¼Œä¸‹é¢çš„ &quot;packages&quot; å­—æ®µå°†ä¸ç”Ÿæ•ˆ</span><br><span class="line">    &quot;version&quot;: &quot;0.1.0&quot;, // æ‰€æœ‰åŒ…ç‰ˆæœ¬å·ï¼Œç‹¬ç«‹æ¨¡å¼-&quot;independent&quot;</span><br><span class="line">    &quot;npmClient&quot;: &quot;cnpm&quot;, // npm clientï¼Œå¯è®¾ç½®ä¸º cnpmã€yarn ç­‰</span><br><span class="line">    &quot;packages&quot;: [ // åŒ…æ‰€åœ¨ç›®å½•ï¼Œå¯æŒ‡å®šå¤šä¸ª</span><br><span class="line">        &quot;packages/*&quot;</span><br><span class="line">    ],</span><br><span class="line">    &quot;command&quot;: &#123; // lerna å‘½ä»¤ç›¸å…³é…ç½®</span><br><span class="line">        &quot;publish&quot;: &#123; // å‘å¸ƒç›¸å…³</span><br><span class="line">            &quot;ignoreChanges&quot;: [ // æŒ‡å®šæ–‡ä»¶æˆ–ç›®å½•çš„å˜æ›´ï¼Œä¸è§¦å‘ publish</span><br><span class="line">                &quot;.gitignore&quot;,</span><br><span class="line">                &quot;*.log&quot;,</span><br><span class="line">                &quot;*.md&quot;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;bootstrap&quot;: &#123; // bootstrap ç›¸å…³</span><br><span class="line">            &quot;ignore&quot;: &quot;npm-*&quot;,  // ä¸å— bootstrap å½±å“çš„åŒ…</span><br><span class="line">            &quot;npmClientArgs&quot;: [ // bootstr æ‰§è¡Œå‚æ•°</span><br><span class="line">                &quot;--no-package-lock&quot;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="CRA-lerna-react-typescript-é¡¹ç›®æ­å»º"><a href="#CRA-lerna-react-typescript-é¡¹ç›®æ­å»º" class="headerlink" title="CRA + lerna + react + typescript é¡¹ç›®æ­å»º"></a>CRA + lerna + react + typescript é¡¹ç›®æ­å»º</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1.create-react-app demo --template typescript</span><br><span class="line"></span><br><span class="line">2.cd demo</span><br><span class="line"></span><br><span class="line">3.npm run eject</span><br><span class="line"></span><br><span class="line">4.lerna init</span><br><span class="line"></span><br><span class="line">5.lerna create builder-script</span><br><span class="line"></span><br><span class="line">6.è‡ªå®šä¹‰builder-scriptsè„šæœ¬å‘½ä»¤</span><br><span class="line"></span><br><span class="line">7.è‡ªå®šä¹‰ eslintrcã€tsconfigã€webpackç­‰é…ç½®é¡¹</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;åˆ›å»º-npm-ç§æœ&quot;&gt;&lt;a href=&quot;#åˆ›å»º-npm-ç§æœ&quot; class=&quot;headerlink&quot; title=&quot;åˆ›å»º npm ç§æœ&quot;&gt;&lt;/a&gt;åˆ›å»º npm ç§æœ&lt;/h2&gt;</summary>
    
    
    
    <category term="lerna" scheme="https://github.com/foolishmax/categories/lerna/"/>
    
    
    <category term="lerna" scheme="https://github.com/foolishmax/tags/lerna/"/>
    
  </entry>
  
  <entry>
    <title>webpacké…ç½®å·¥ç¨‹å¸ˆ</title>
    <link href="https://github.com/foolishmax/2021/10/27/webpack%E9%85%8D%E7%BD%AE%E5%B7%A5%E7%A8%8B%E5%B8%88/"/>
    <id>https://github.com/foolishmax/2021/10/27/webpack%E9%85%8D%E7%BD%AE%E5%B7%A5%E7%A8%8B%E5%B8%88/</id>
    <published>2021-10-27T02:48:00.000Z</published>
    <updated>2022-08-27T02:54:24.713Z</updated>
    
    <content type="html"><![CDATA[<p>æ„å»º webpack çŸ¥è¯†ä½“ç³»åˆ†ä¸ºä¸‹é¢ä¸‰ä¸ªå±‚çº§ï¼š 1.åŸºç¡€â€“ä¼šé…ç½® 2.è¿›é˜¶â€“èƒ½ä¼˜åŒ– 3.æ·±å…¥â€“æ‡‚åŸç†</p><h2 id="ä¸€ã€åŸºç¡€ç¯‡"><a href="#ä¸€ã€åŸºç¡€ç¯‡" class="headerlink" title="ä¸€ã€åŸºç¡€ç¯‡"></a>ä¸€ã€åŸºç¡€ç¯‡</h2><span id="more"></span><h3 id="1-ç®€å•é…ç½®"><a href="#1-ç®€å•é…ç½®" class="headerlink" title="1.ç®€å•é…ç½®"></a>1.ç®€å•é…ç½®</h3><p>è¯¥éƒ¨åˆ†éœ€æŒæ¡ï¼š<br>1.Webpack å¸¸è§„é…ç½®é¡¹æœ‰å“ªäº›ï¼Ÿ 2.å¸¸ç”¨ loader æœ‰å“ªäº›ï¼Ÿå¦‚ä½•é…ç½®ï¼Ÿ 3.å¸¸ç”¨æ’ä»¶ plugin æœ‰å“ªäº›ï¼Ÿå¦‚ä½•é…ç½®ï¼Ÿ<br>4.Babel å¦‚ä½•é…ç½®ï¼ŸBabel æ’ä»¶å¦‚ä½•ä½¿ç”¨ï¼Ÿ</p><h4 id="1-1-å®‰è£…ä¾èµ–"><a href="#1-1-å®‰è£…ä¾èµ–" class="headerlink" title="1.1 å®‰è£…ä¾èµ–"></a>1.1 å®‰è£…ä¾èµ–</h4><p>éœ€è¦ç°åœ¨æœ¬åœ°å®‰è£…<strong>webpack</strong>åŠ<strong>webpack-cli</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install webpack webpack-cli -D</span><br></pre></td></tr></table></figure><h4 id="1-2-å¼€å§‹å·¥ä½œ"><a href="#1-2-å¼€å§‹å·¥ä½œ" class="headerlink" title="1.2 å¼€å§‹å·¥ä½œ"></a>1.2 å¼€å§‹å·¥ä½œ</h4><p>webpack åœ¨ 4 ä»¥åå°±æ”¯æŒ 0 é…ç½®æ‰“åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥æµ‹è¯•ä¸€ä¸‹ 1.æ–°å»º webpack-work é¡¹ç›®ï¼Œæ–°å»º <code>./src/index.js</code>æ–‡ä»¶ï¼Œå†™ä¸€æ®µç®€å•çš„ä»£ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const a = &#x27;hello foolishmax&#x27;;</span><br><span class="line">console.log(a);</span><br><span class="line">module.exports = a;</span><br></pre></td></tr></table></figure><p>2.ç›´æ¥è¿è¡Œ<code>npx webpack</code>ï¼Œå¯åŠ¨æ‰“åŒ…<br><img src="../images/md_img/webpack-mode-error.png" alt="webpack-mode-error">)</p><p>æ‰“åŒ…å®Œæˆï¼Œä¼šæœ‰ä¸€ä¸ªæç¤ºï¼š<code>The &#39;mode&#39; option has not been set,...</code></p><p>æ„æ€å°±æ˜¯æˆ‘ä»¬æ²¡æœ‰é…ç½® modeï¼ˆå‘ŠçŸ¥ webpack ä½¿ç”¨ç›¸åº”æ¨¡å¼çš„å†…ç½®ä¼˜åŒ–ï¼Œé»˜è®¤ä¸º<code>production</code>ï¼Œå¦å¤–è¿˜æœ‰<code>development</code>ã€<code>none</code>ï¼‰</p><table><thead><tr><th>é€‰é¡¹</th><th>æè¿°</th></tr></thead><tbody><tr><td>development</td><td>å¼€å‘æ¨¡å¼ï¼Œæ‰“åŒ…æ›´åŠ å¿«é€Ÿï¼Œçœäº†ä»£ç ä¼˜åŒ–æ­¥éª¤</td></tr><tr><td>production</td><td>ç”Ÿäº§æ¨¡å¼ï¼Œæ‰“åŒ…æ¯”è¾ƒæ…¢ï¼Œå¼€å¯ tree-shaking å’Œå‹ç¼©ä»£ç </td></tr><tr><td>none</td><td>ä¸ä½¿ç”¨ä»»ä½•é»˜è®¤ä¼˜åŒ–é€‰é¡¹</td></tr></tbody></table><p>webpack.config.js ä¸­é…ç½®ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  mode: &#x27;development&#x27;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-3-é…ç½®æ–‡ä»¶"><a href="#1-3-é…ç½®æ–‡ä»¶" class="headerlink" title="1.3 é…ç½®æ–‡ä»¶"></a>1.3 é…ç½®æ–‡ä»¶</h4><p>è™½ç„¶å¯ä»¥é›¶é…ç½®æ‰“åŒ…ï¼Œä½†æ˜¯å®é™…å·¥ä½œä¸­ï¼Œè¿˜æ˜¯éœ€è¦ä½¿ç”¨é…ç½®æ–‡ä»¶çš„æ–¹å¼æ¥æ»¡è¶³ä¸åŒé¡¹ç›®çš„éœ€æ±‚ã€‚ 1.è·Ÿè·¯å¾„ä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶<code>webpack.config.js</code> 2.æ–°å¢åŸºæœ¬é…ç½®ä¿¡æ¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const path = require(&#x27;path&#x27;);</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  mode: &#x27;development&#x27;, // æ¨¡å¼</span><br><span class="line">  entry: &#x27;./src/index.js&#x27;, // æ‰“åŒ…å…¥å£åœ°å€</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: &#x27;bundle.js&#x27;, // è¾“å‡ºæ–‡ä»¶å</span><br><span class="line">    path: path.join(__dirname, &#x27;dist&#x27;) // è¾“å‡ºæ–‡ä»¶ç›®å½•</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="1-4-loader"><a href="#1-4-loader" class="headerlink" title="1.4 loader"></a>1.4 loader</h4><p>è¿™é‡Œæˆ‘ä»¬æŠŠå…¥å£æ–‡ä»¶æ”¹æˆ css æ–‡ä»¶ï¼Œçœ‹ä¸‹æ‰“åŒ…ç»“æœå¦‚ä½• 1.æ–°å¢<code>./src/main.css</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">body &#123;</span><br><span class="line">  margin: 0 auto;</span><br><span class="line">  padding: 0 20px;</span><br><span class="line">  max-width: 800px;</span><br><span class="line">  background: #f4f8fb;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>2.ä¿®æ”¹ entry é…ç½®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const path = require(&#x27;path&#x27;);</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  mode: &#x27;development&#x27;,</span><br><span class="line">  entry: &#x27;./src/main.css&#x27;,</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: &#x27;bundle.js&#x27;,</span><br><span class="line">    path: path.join(__dirname, &#x27;dist&#x27;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>3.è¿è¡Œæ‰“åŒ…å‘½ä»¤ï¼š <code>npx webpack</code><br><img src="../images/md_img/webpack-loader.png" alt="loader"><br>è¿™é‡Œçš„æŠ¥é”™ä¿¡æ¯æ˜¯å› ä¸ºï¼šwebpack é»˜è®¤æ”¯æŒå¤„ç† js æ–‡ä»¶ï¼Œå…¶ä»–ç±»å‹éƒ½å¤„ç†ä¸äº†ï¼Œéœ€è¦å€ŸåŠ© loader æ¥å¯¹ä¸åŒç±»å‹çš„æ–‡ä»¶è¿›è¡Œå¤„ç†ã€‚</p><p>4.å®‰è£…<code>css-loader</code>æ¥å¤„ç† CSS</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install css-loader -D</span><br></pre></td></tr></table></figure><p>5.é…ç½®èµ„æºåŠ è½½æ¨¡å—</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">const path = require(&#x27;path&#x27;);</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  mode: &#x27;development&#x27;,</span><br><span class="line">  entry: &#x27;./src/main.css&#x27;,</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: &#x27;bundle.css&#x27;,</span><br><span class="line">    path: path.join(__dirname, &#x27;dist&#x27;)</span><br><span class="line">  &#125;,</span><br><span class="line">  module: &#123;</span><br><span class="line">    rules: [ // è½¬æ¢è§„åˆ™</span><br><span class="line">      &#123;</span><br><span class="line">        test: /.css$/, // åŒ¹é…æ‰€æœ‰cssæ–‡ä»¶</span><br><span class="line">        use: &#x27;css-loader&#x27;, //å¯¹åº”çš„loaderåç§°</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>6.é‡æ–°è¿è¡Œæ‰“åŒ…å‘½ä»¤<code>npx webpack</code>,å°±å¯ä»¥æ‰“åŒ…æˆåŠŸäº†</p><p>æ€»ç»“ï¼šloader å°±æ˜¯å°† webpack ä¸è®¤è¯†çš„å†…å®¹è½¬åŒ–ä¸ºè®¤è¯†çš„å†…å®¹</p><h4 id="æ’ä»¶ï¼ˆpluginï¼‰"><a href="#æ’ä»¶ï¼ˆpluginï¼‰" class="headerlink" title="æ’ä»¶ï¼ˆpluginï¼‰"></a>æ’ä»¶ï¼ˆpluginï¼‰</h4><p>æ’ä»¶å¯ä»¥è´¯ç©¿ webpack æ‰“åŒ…çš„ç”Ÿå‘½å‘¨æœŸï¼Œæ‰§è¡Œä¸åŒçš„ä»»åŠ¡</p><p>1.æ–°å»º<code>./src/index.html</code>æ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">  &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³è¦æ‰“åŒ…åçš„èµ„æºæ–‡ä»¶ï¼Œä¾‹å¦‚ js æˆ–è€… css æ–‡ä»¶å¯ä»¥è‡ªåŠ¨å¼•å…¥åˆ° html ä¸­ï¼Œå°±éœ€è¦ä½¿ç”¨æ’ä»¶<code>html-webpack-plugin</code>æ¥åšè¿™ä»¶äº‹æƒ…ã€‚</p><p>2.æœ¬åœ°å®‰è£… <code>html-webpack-plugin</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install html-webpack-plugin -D</span><br></pre></td></tr></table></figure><p>3.é…ç½®æ’ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">const HtmlWebpackPlugin = require(&#x27;html-webpack-plugin&#x27;);</span><br><span class="line">const path = require(&#x27;path&#x27;);</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  mode: &#x27;development&#x27;,</span><br><span class="line">  entry: &#x27;./src/main.js&#x27;,</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: &#x27;bundle.js&#x27;,</span><br><span class="line">    path: path.join(__dirname, &#x27;dist&#x27;)</span><br><span class="line">  &#125;,</span><br><span class="line">  module: &#123;</span><br><span class="line">    rules: [ // è½¬æ¢è§„åˆ™</span><br><span class="line">      &#123;</span><br><span class="line">        test: /.css$/, // åŒ¹é…æ‰€æœ‰cssæ–‡ä»¶</span><br><span class="line">        use: &#x27;css-loader&#x27;, //å¯¹åº”çš„loaderåç§°</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    new HtmlWebpackPlugin(&#123;</span><br><span class="line">      template: &#x27;./src/index.html&#x27;,</span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿è¡Œä¸€ä¸‹æ‰“åŒ…ï¼Œæ‰“å¼€ dist ç›®å½•ä¸‹çš„ index.html æ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot; /&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot; /&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">  &lt;script defer src=&quot;bundle.js&quot;&gt;&lt;/script&gt;&lt;/head&gt;</span><br><span class="line">  &lt;body&gt;&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°å®ƒè‡ªåŠ¨å¼•å…¥æ‰“åŒ…å¥½çš„ bundle.js</p><h4 id="1-6-è‡ªåŠ¨æ¸…ç©ºæ‰“åŒ…ç›®å½•"><a href="#1-6-è‡ªåŠ¨æ¸…ç©ºæ‰“åŒ…ç›®å½•" class="headerlink" title="1.6 è‡ªåŠ¨æ¸…ç©ºæ‰“åŒ…ç›®å½•"></a>1.6 è‡ªåŠ¨æ¸…ç©ºæ‰“åŒ…ç›®å½•</h4><p>æ¯æ¬¡æ‰“åŒ…çš„æ—¶å€™ï¼Œæ‰“åŒ…ç›®å½•éƒ½ä¼šé—ç•™ä¸Šæ¬¡æ‰“åŒ…çš„æ–‡ä»¶ï¼Œä¸ºäº†ä¿æŒæ‰“åŒ…ç›®å½•çš„çº¯å‡€ï¼Œæ‰“åŒ…å‰éœ€å°†ä¸Šæ¬¡æ‰“åŒ…ç›®å½•æ¸…ç©ºã€‚</p><p>1.å®‰è£… <code>clean-webpack-plugin</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install clean-webpack-plugin -D</span><br></pre></td></tr></table></figure><p>2.é…ç½®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">const HtmlWebpackPlugin = require(&#x27;html-webpack-plugin&#x27;);</span><br><span class="line">const &#123;CleanWebpackPlugin&#125; = require(&#x27;clean-webpack-plugin&#x27;);</span><br><span class="line">const path = require(&#x27;path&#x27;);</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    new HtmlWebpackPlugin(&#123;</span><br><span class="line">      template: &#x27;./src/index.html&#x27;,</span><br><span class="line">    &#125;),</span><br><span class="line">    new CleanWebpackPlugin()</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-7-åŒºåˆ†ç¯å¢ƒ"><a href="#1-7-åŒºåˆ†ç¯å¢ƒ" class="headerlink" title="1.7 åŒºåˆ†ç¯å¢ƒ"></a>1.7 åŒºåˆ†ç¯å¢ƒ</h4><p>æœ¬åœ°ç¯å¢ƒ</p><ul><li>éœ€è¦æ›´å¿«çš„æ„å»ºé€Ÿåº¦</li><li>éœ€è¦æ‰“å° debug ä¿¡æ¯</li><li>éœ€è¦ live reload æˆ–è€… hot reload åŠŸèƒ½</li><li>éœ€è¦ sourcemap æ–¹ä¾¿å®šä½é—®é¢˜</li><li>â€¦</li></ul><p>ç”Ÿäº§ç¯å¢ƒï¼š</p><ul><li>éœ€è¦æ›´å°çš„åŒ…ä½“ç§¯ï¼Œä»£ç å‹ç¼©+tree-shaking</li><li>éœ€è¦è¿›è¡Œä»£ç åˆ†å‰²</li><li>éœ€è¦å‹ç¼©å›¾ç‰‡ä½“ç§¯</li><li>â€¦</li></ul><p><a href="https://juejin.cn/post/7023242274876162084#heading-6">æ˜é‡‘</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;æ„å»º webpack çŸ¥è¯†ä½“ç³»åˆ†ä¸ºä¸‹é¢ä¸‰ä¸ªå±‚çº§ï¼š 1.åŸºç¡€â€“ä¼šé…ç½® 2.è¿›é˜¶â€“èƒ½ä¼˜åŒ– 3.æ·±å…¥â€“æ‡‚åŸç†&lt;/p&gt;
&lt;h2 id=&quot;ä¸€ã€åŸºç¡€ç¯‡&quot;&gt;&lt;a href=&quot;#ä¸€ã€åŸºç¡€ç¯‡&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€åŸºç¡€ç¯‡&quot;&gt;&lt;/a&gt;ä¸€ã€åŸºç¡€ç¯‡&lt;/h2&gt;</summary>
    
    
    
    <category term="Webpack" scheme="https://github.com/foolishmax/categories/Webpack/"/>
    
    
    <category term="Webpack" scheme="https://github.com/foolishmax/tags/Webpack/"/>
    
  </entry>
  
  <entry>
    <title>Reactæ·±å…¥æµ…å‡ºçŸ¥è¯†é“¾è·¯</title>
    <link href="https://github.com/foolishmax/2021/10/05/React%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA%E7%9F%A5%E8%AF%86%E9%93%BE%E8%B7%AF/"/>
    <id>https://github.com/foolishmax/2021/10/05/React%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA%E7%9F%A5%E8%AF%86%E9%93%BE%E8%B7%AF/</id>
    <published>2021-10-05T03:07:11.000Z</published>
    <updated>2022-08-27T02:55:34.367Z</updated>
    
    <content type="html"><![CDATA[<h2 id="React-çš„åŸºæœ¬è®¤è¯†"><a href="#React-çš„åŸºæœ¬è®¤è¯†" class="headerlink" title="React çš„åŸºæœ¬è®¤è¯†"></a>React çš„åŸºæœ¬è®¤è¯†</h2><span id="more"></span><ul><li>Fecebook å¼€æºçš„ä¸€ä¸ª js åº“</li><li>ä¸€ä¸ªç”¨æ¥åŠ¨æ€æ„å»ºç”¨æˆ·ç•Œé¢çš„ js åº“</li><li>React çš„ç‰¹ç‚¹ï¼š<ul><li>å£°æ˜å¼ç¼–ç¨‹</li><li>ç»„ä»¶åŒ–ç¼–ç¨‹</li><li>é«˜æ•ˆ</li><li>å•å‘æ•°æ®æµ</li><li>æ”¯æŒå®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯æ¸²æŸ“</li></ul></li><li>React é«˜æ•ˆçš„åŸå› <ul><li>è™šæ‹Ÿ DOMï¼Œä¸ç›´æ¥æ“ä½œ DOM(æ‰¹é‡æ›´æ–°ï¼Œå‡å°‘æ›´æ–°çš„æ¬¡æ•°)</li><li>é«˜æ•ˆçš„ DOM Diff ç®—æ³•ï¼Œæœ€å°åŒ–é¡µé¢é‡ç»˜(å‡å°é¡µé¢æ›´æ–°çš„åŒºåŸŸ)</li></ul></li></ul><h2 id="React-ä¸­çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°"><a href="#React-ä¸­çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°" class="headerlink" title="React ä¸­çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°"></a>React ä¸­çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°</h2><p>ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ˜¯æŒ‡ç»„ä»¶åœ¨æŸä¸€æ—¶åˆ»è‡ªåŠ¨æ‰§è¡Œçš„å‡½æ•°</p><!--more--><img src="https://raw.githubusercontent.com/foolishmax/static/master/images/react%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0.png"/><h3 id="åˆå§‹åŒ–è¿‡ç¨‹ï¼ˆInitializationï¼‰"><a href="#åˆå§‹åŒ–è¿‡ç¨‹ï¼ˆInitializationï¼‰" class="headerlink" title="åˆå§‹åŒ–è¿‡ç¨‹ï¼ˆInitializationï¼‰"></a>åˆå§‹åŒ–è¿‡ç¨‹ï¼ˆInitializationï¼‰</h3><ul><li>åœ¨ constructor()é‡Œé¢åˆå§‹åŒ– Props å’Œ State å±æ€§ã€‚</li><li>getDefaultProps()å¯ä»¥è®¾ç½®ç»„ä»¶çš„é»˜è®¤å±æ€§å€¼ã€‚</li></ul><h3 id="æŒ‚è½½è¿‡ç¨‹ï¼ˆMountingï¼‰"><a href="#æŒ‚è½½è¿‡ç¨‹ï¼ˆMountingï¼‰" class="headerlink" title="æŒ‚è½½è¿‡ç¨‹ï¼ˆMountingï¼‰"></a>æŒ‚è½½è¿‡ç¨‹ï¼ˆMountingï¼‰</h3><ul><li>componentWillMount(): åœ¨ç»„ä»¶å³å°†è¢«æŒ‚è½½åˆ°é¡µé¢çš„æ—¶åˆ»è‡ªåŠ¨æ‰§è¡Œã€‚</li><li>render(): å°†ç»„ä»¶æŒ‚è½½åˆ°é¡µé¢ã€‚</li><li>componentDidMount(): ç»„ä»¶è¢«æŒ‚è½½åˆ°é¡µé¢ä¹‹åç«‹å³æ‰§è¡Œã€‚</li></ul><h3 id="æ›´æ–°è¿‡ç¨‹ï¼ˆUpdationï¼‰"><a href="#æ›´æ–°è¿‡ç¨‹ï¼ˆUpdationï¼‰" class="headerlink" title="æ›´æ–°è¿‡ç¨‹ï¼ˆUpdationï¼‰"></a>æ›´æ–°è¿‡ç¨‹ï¼ˆUpdationï¼‰</h3><ul><li>componentWillReceiveProps()ï¼ˆåœ¨ 16.4 ç‰ˆæœ¬ä¸­åºŸå¼ƒï¼Œä¸æ¨èä½¿ç”¨ï¼‰ï¼š<br>ä¸€ä¸ªç»„ä»¶ä»çˆ¶ç»„ä»¶æ¥å—å‚æ•°ï¼Œå¦‚æœè¿™ä¸ªç»„ä»¶ç¬¬ä¸€æ¬¡å­˜åœ¨çˆ¶ç»„ä»¶ä¸­ä¸ä¼šæ‰§è¡Œï¼Œå·²ç»å­˜åœ¨æ‰ä¼šæ‰§è¡Œï¼Œ<br>å¦‚æœæ²¡æœ‰ Props å±æ€§åˆ™ç›´æ¥è·³è¿‡ã€‚</li><li>shouldComponentUpdate():<br>ç»„ä»¶æ›´æ–°å‰æ£€æŸ¥æ˜¯å¦éœ€è¦æ›´æ–°ç»„ä»¶ï¼Œè¿”å›å¸ƒå°”ç±»å‹ã€‚æ­¤ç”Ÿå‘½å‘¨æœŸå‡½æ•°å¯ä»¥å¼ºåˆ¶å…³é—­ä¸éœ€è¦æ›´æ–°çš„å­ç»„ä»¶<br>æ¥æé«˜æ¸²æŸ“æ€§èƒ½ã€‚</li><li>componentWillUpdate():<br>ç»„ä»¶æ›´æ–°ä¹‹å‰è‡ªåŠ¨æ‰§è¡Œã€‚å‰ææ˜¯ shouldComponentUpdate()æ‰§è¡Œå¹¶è¿”å› true<br>-render():<br>å°†ç»„ä»¶æ›´æ–°åˆ°é¡µé¢<br>-componentDidUpdate():<br>ç»„ä»¶æ›´æ–°å®Œæˆä¹‹åç«‹å³æ‰§è¡Œã€‚</li></ul><h3 id="ç§»é™¤è¿‡ç¨‹ï¼ˆUnmountingï¼‰"><a href="#ç§»é™¤è¿‡ç¨‹ï¼ˆUnmountingï¼‰" class="headerlink" title="ç§»é™¤è¿‡ç¨‹ï¼ˆUnmountingï¼‰"></a>ç§»é™¤è¿‡ç¨‹ï¼ˆUnmountingï¼‰</h3><ul><li>componentWillUnmount():<br>å½“ç»„ä»¶å³å°†ä»é¡µé¢ä¸­ç§»é™¤æ—¶æ‰§è¡Œã€‚</li></ul><h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><ul><li>React ä¸­çš„ render() ä¹Ÿæ˜¯ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œè€Œ constructor()å¹¶ä¸æ˜¯ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚</li><li>æ‰€æœ‰çš„ç»„ä»¶éƒ½æœ‰ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚</li><li>é™¤äº† render()å‡½æ•°ï¼Œå…¶ä»–å‡½æ•°éƒ½å¯ä»¥ä¸å†™ï¼Œå› ä¸ºé™¤äº† render()å‡½æ•°å…¶ä»–å‡½æ•°éƒ½æ˜¯ç»§æ‰¿è‡ª<br>React ä¸­å†…ç½®çš„ã€‚</li><li>AJAX è¯·æ±‚ä¸€èˆ¬éƒ½æ˜¯æ”¾åœ¨ componentDidMount()é‡Œé¢ã€‚</li></ul><h2 id="React-çŠ¶æ€æå‡"><a href="#React-çŠ¶æ€æå‡" class="headerlink" title="React çŠ¶æ€æå‡"></a>React çŠ¶æ€æå‡</h2><ul><li><p>æ‰€è°“çŠ¶æ€æå‡ï¼Œå°±æ˜¯å°† å„ä¸ªå­ç»„ä»¶çš„å…¬å…± state æå‡åˆ°å®ƒä»¬çš„çˆ¶ç»„ä»¶è¿›è¡Œç»Ÿä¸€å­˜å‚¨ã€å¤„ç†<br>(å•ä¸€æ•°æ®æº)ï¼Œç„¶åå°†çˆ¶ç»„ä»¶å¤„ç†åçš„æ•°æ®æˆ–è€…å‡½æ•° props åˆ°å„ä¸ªå­ç»„ä»¶ä¸­ã€‚</p></li><li><p>å¦‚æœå­ç»„ä»¶è¦ä¿®æ”¹çˆ¶ç»„ä»¶ä¸­ state è¯¥æ€ä¹ˆåŠï¼Ÿ</p><ul><li>åšæ³•å°±æ˜¯å°†çˆ¶ç»„ä»¶ä¸­è´Ÿè´£ setState çš„å‡½æ•°ï¼Œä»¥ props çš„å½¢å¼ä¼ ç»™å­ç»„ä»¶ï¼Œç„¶åå­ç»„ä»¶<br>éœ€è¦æ”¹å˜ state æ—¶è°ƒç”¨å³å¯ã€‚</li></ul></li></ul><h2 id="React-Router"><a href="#React-Router" class="headerlink" title="React Router"></a>React Router</h2><ul><li>React Router åŒ…è£…äº† BrowserRouter å’Œ HashRouter ä¸¤ä¸ªç»„ä»¶ã€‚<ul><li>BrowserRouter ä½¿ç”¨ HTML5 çš„ history API(pushStateã€replaceState ç­‰)å®ç°<br>UI å’Œ URL çš„åŒæ­¥</li><li>HashRouter ä½¿ç”¨ URL çš„ hash å®ç°åº”ç”¨çš„ UI å’Œ URL åŒæ­¥</li></ul></li></ul><h2 id="React-Hooks"><a href="#React-Hooks" class="headerlink" title="React Hooks"></a>React Hooks</h2><ul><li>useState</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">//ç”¨æ³•ï¼š</span><br><span class="line"></span><br><span class="line">//useStateå”¯ä¸€çš„å‚æ•°å°±æ˜¯åˆå§‹state</span><br><span class="line">//è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œç¬¬ä¸€é¡¹stateï¼Œç¬¬äºŒé¡¹æ›´æ–°stateçš„å‡½æ•°</span><br><span class="line">const [number, setNumber] = useState(0);</span><br><span class="line"></span><br><span class="line">//å‡½æ•°å¼æ›´æ–°</span><br><span class="line">//å¦‚æœæ–°çš„stateéœ€è¦é€šè¿‡ä½¿ç”¨ä»¥å‰çš„stateè®¡ç®—å¾—å‡ºï¼Œå¯ä»¥å°†å‡½æ•°ä¼ é€’ç»™setStateã€‚</span><br><span class="line">//ä¾‹å¦‚ï¼š</span><br><span class="line">setCount((count) =&gt; &#123;</span><br><span class="line">    return count + 1</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//æƒ°æ€§åˆå§‹åŒ–stateï¼Œå¯¹å¤æ‚åˆå§‹æ•°æ®ï¼ŒinitialStateå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°</span><br><span class="line">//å‡½æ•°æˆ–initialStateå‚æ•°åªä¼šåœ¨ç»„ä»¶çš„åˆå§‹æ¸²æŸ“ä¸­èµ·ä½œç”¨</span><br><span class="line">function Counter() &#123;</span><br><span class="line">    const [&#123;name, number&#125;,setValue] = useState(() =&gt; &#123;</span><br><span class="line">        return &#123;name:&#x27;è®¡æ•°å™¨&#x27;,number:0&#125;;</span><br><span class="line">    &#125;)</span><br><span class="line">    return (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;p&gt;&#123;name&#125;:&#123;number&#125;&lt;/p&gt;</span><br><span class="line">            &lt;button onClick=&#123;() =&gt; setValue(&#123;number: number + 1&#125;)&#125;&gt;+&lt;/button&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line">--------------</span><br><span class="line">//å®˜ç½‘ä¾‹å­</span><br><span class="line">const [state, setState] = useState(() =&gt; &#123;</span><br><span class="line">    const initialState = someExpensiveComputation(props);</span><br><span class="line">    return initialState;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//useStateçš„åˆå§‹å€¼ï¼Œåªåœ¨ç¬¬ä¸€æ¬¡æœ‰æ•ˆ</span><br><span class="line">//æŒ‰ç…§æœ‰åºçš„æ–¹å¼ä½¿ç”¨useStateä¸å¾—åœ¨å¾ªç¯åˆ¤æ–­ç­‰æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨</span><br><span class="line">//useStateä¸ä¼šè‡ªåŠ¨åˆå¹¶æ›´æ–°å¯¹è±¡ï¼Œéœ€ä½¿ç”¨æ‰©å±•ç¬¦&#123;...obj,name:&#x27;lisi&#x27;&#125;</span><br></pre></td></tr></table></figure><ul><li>useEffect</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">//åŸºæœ¬ä½¿ç”¨</span><br><span class="line">//useEffectæœ‰ä¸¤ä¸ªå‚æ•°ï¼šfunction(æ‰§è¡Œé¡¹)ï¼Œarray(ä¾èµ–é¡¹)</span><br><span class="line">useEffect(() =&gt; &#123;&#125;,[name]);</span><br><span class="line"></span><br><span class="line">//å¦‚æœä¾èµ–é¡¹ä¸ºç©ºæ•°ç»„ï¼Œåªä¼šåœ¨ç¬¬ä¸€æ¬¡æŒ‚è½½åæ‰§è¡Œï¼Œç±»ä¼¼componentDidMount</span><br><span class="line">useEffect(() =&gt; &#123;&#125;,[]);</span><br><span class="line"></span><br><span class="line">//æ¸…é™¤å‰¯ä½œç”¨ï¼Œæ¨¡æ‹ŸcomponentUnMount</span><br><span class="line">//é€šè¿‡è¿”å›ä¸€ä¸ªå‡½æ•°æ¥æŒ‡å®šå¦‚ä½•æ¸…é™¤å‰¯ä½œç”¨ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼ï¼Œå‡½æ•°ä¼šåœ¨ç»„ä»¶å¸è½½å‰æ‰§è¡Œ</span><br><span class="line">useEffect(() =&gt; &#123;</span><br><span class="line">    let timer = setInterVal(() =&gt; &#123;</span><br><span class="line">        console.log(&quot;å®šæ—¶å™¨&quot;);</span><br><span class="line">    &#125;,1000)</span><br><span class="line">    return () =&gt; &#123;</span><br><span class="line">        clearInterval(timer)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,[name])</span><br><span class="line"></span><br><span class="line">//æ³¨æ„ï¼šå¯ä»¥åœ¨ç»„ä»¶ä¸­å¤šæ¬¡ä½¿ç”¨useEffect</span><br><span class="line">//Hook å…è®¸æˆ‘ä»¬æŒ‰ç…§ä»£ç çš„ç”¨é€”åˆ†ç¦»ä»–ä»¬ï¼Œreactå°†æŒ‰ç…§effectå£°æ˜çš„é¡ºåºä¾æ¬¡è°ƒç”¨ç»„ä»¶ä¸­çš„æ¯ä¸€ä¸ªeffect</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>useContext</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//çˆ¶ç»„ä»¶åˆ›å»ºä¸Šä¸‹æ–‡</span><br><span class="line">const Context = createContext();</span><br><span class="line">//å¹¶å°†æ•°æ®ä¼ é€’ç»™å­ç»„ä»¶</span><br><span class="line">const [num, setNum] = useState(0);</span><br><span class="line">&lt;Context.Provider value=&#123;&#123;num, setNum&#125;&#125;&gt;</span><br><span class="line">    &lt;Children /&gt;</span><br><span class="line">&lt;/Context.Provider&gt;</span><br><span class="line"></span><br><span class="line">//å­ç»„ä»¶æ¥æ”¶</span><br><span class="line">const &#123;num, setNum&#125; = useContext(Context);</span><br><span class="line">useEffect(() =&gt; &#123;</span><br><span class="line">    setNum(num + 1);</span><br><span class="line">&#125;,[])</span><br><span class="line">&lt;p&gt;&#123;num&#125;&lt;/p&gt;</span><br></pre></td></tr></table></figure><ul><li>useReducer</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">//åŸºç¡€ä½¿ç”¨</span><br><span class="line">const initialState = &#123; count: 0 &#125;;</span><br><span class="line"></span><br><span class="line">function reducer(state, action)&#123;</span><br><span class="line">    switch(action.type) &#123;</span><br><span class="line">        case &#x27;increment&#x27;:</span><br><span class="line">            return &#123;count:state.count + 1&#125;;</span><br><span class="line">        case &#x27;decrement&#x27;:</span><br><span class="line">            return &#123;count:state.count - 1&#125;;</span><br><span class="line">        default:</span><br><span class="line">            throw new Error();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function MyUseReducer() &#123;</span><br><span class="line">    const [state, dispatch] = useReducer(reducer, initialState);</span><br><span class="line">    return (</span><br><span class="line">        &lt;&gt;</span><br><span class="line">            count: &#123;state.count&#125;</span><br><span class="line">            &lt;button onClick=&#123;() =&gt; dispatch(&#123;type:&#x27;decrement&#x27;&#125;)&#125;&gt;+&lt;/button&gt;</span><br><span class="line">            &lt;button onClick=&#123;() =&gt; dispatch(&#123;type:&#x27;increment&#x27;&#125;)&#125;&gt;+&lt;/button&gt;</span><br><span class="line">        &lt;/&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//æƒ°æ€§åˆå§‹åŒ–</span><br><span class="line">//ç¨åŠ æ”¹é€ </span><br><span class="line">const initialCount = 0;</span><br><span class="line"></span><br><span class="line">function init(initialCount) &#123;</span><br><span class="line">  return &#123;count: initialCount&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function reducer(state, action) &#123;</span><br><span class="line">  switch (action.type) &#123;</span><br><span class="line">    case &#x27;increment&#x27;:</span><br><span class="line">      return &#123;count: state.count + 1&#125;;</span><br><span class="line">    case &#x27;decrement&#x27;:</span><br><span class="line">      return &#123;count: state.count - 1&#125;;</span><br><span class="line">    case &#x27;reset&#x27;:</span><br><span class="line">      return init(action.payload);</span><br><span class="line">    default:</span><br><span class="line">      throw new Error();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function MyUseReducer() &#123;</span><br><span class="line">  const [state, dispatch] = useReducer(reducer, initialCount , init);</span><br><span class="line">  return (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      Count: &#123;state.count&#125;</span><br><span class="line">      &lt;button</span><br><span class="line">        onClick=&#123;() =&gt; dispatch(&#123;type: &#x27;reset&#x27;, payload: initialCount&#125;)&#125;&gt;</span><br><span class="line">        Reset</span><br><span class="line">      &lt;/button&gt;</span><br><span class="line">      &lt;button onClick=&#123;() =&gt; dispatch(&#123;type: &#x27;decrement&#x27;&#125;)&#125;&gt;-&lt;/button&gt;</span><br><span class="line">      &lt;button onClick=&#123;() =&gt; dispatch(&#123;type: &#x27;increment&#x27;&#125;)&#125;&gt;+&lt;/button&gt;</span><br><span class="line">    &lt;/&gt;ã€‹ã€‹</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="React-æ¡†æ¶çš„å…³é”®è®¾è®¡æ€æƒ³ï¼šâ€œç»„ä»¶â€ã€â€œè™šæ‹Ÿ-DOMâ€"><a href="#React-æ¡†æ¶çš„å…³é”®è®¾è®¡æ€æƒ³ï¼šâ€œç»„ä»¶â€ã€â€œè™šæ‹Ÿ-DOMâ€" class="headerlink" title="React æ¡†æ¶çš„å…³é”®è®¾è®¡æ€æƒ³ï¼šâ€œç»„ä»¶â€ã€â€œè™šæ‹Ÿ DOMâ€"></a>React æ¡†æ¶çš„å…³é”®è®¾è®¡æ€æƒ³ï¼šâ€œç»„ä»¶â€ã€â€œè™šæ‹Ÿ DOMâ€</h3><!--more--><h3 id="ç»„ä»¶åŒ–-å·¥ç¨‹åŒ–æ€æƒ³åœ¨æ¡†æ¶ä¸­çš„è½åœ°"><a href="#ç»„ä»¶åŒ–-å·¥ç¨‹åŒ–æ€æƒ³åœ¨æ¡†æ¶ä¸­çš„è½åœ°" class="headerlink" title="ç»„ä»¶åŒ–: å·¥ç¨‹åŒ–æ€æƒ³åœ¨æ¡†æ¶ä¸­çš„è½åœ°"></a>ç»„ä»¶åŒ–: å·¥ç¨‹åŒ–æ€æƒ³åœ¨æ¡†æ¶ä¸­çš„è½åœ°</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">â€œå°é—­â€ï¼šåœ¨ç»„ä»¶è‡ªèº«çš„æ¸²æŸ“å·¥ä½œæµä¸­ï¼Œæ¯ä¸ªç»„ä»¶éƒ½åªå¤„ç†å®ƒçš„å†…éƒ¨çš„æ¸²æŸ“é€»è¾‘ã€‚</span><br><span class="line">â€œå¼€æ”¾â€ï¼šé’ˆå¯¹ç»„ä»¶é—´é€šä¿¡æ¥è¯´ï¼ŒReactåŸºäºâ€œå•å‘æ•°æ®æµâ€çš„åŸåˆ™å®Œæˆç»„ä»¶é—´çš„é€šä¿¡ã€‚</span><br></pre></td></tr></table></figure><!--more--><h3 id="è™šæ‹Ÿ-DOMï¼šæ ¸å¿ƒç®—æ³•çš„åŸºçŸ³ï¼š"><a href="#è™šæ‹Ÿ-DOMï¼šæ ¸å¿ƒç®—æ³•çš„åŸºçŸ³ï¼š" class="headerlink" title="è™šæ‹Ÿ DOMï¼šæ ¸å¿ƒç®—æ³•çš„åŸºçŸ³ï¼š"></a>è™šæ‹Ÿ DOMï¼šæ ¸å¿ƒç®—æ³•çš„åŸºçŸ³ï¼š</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ç»„ä»¶åˆå§‹åŒ–-&gt;renderæ–¹æ³•-&gt;ç”Ÿæˆè™šæ‹ŸDOM-&gt;ReactDOM.renderæ–¹æ³•-&gt;ç”ŸæˆçœŸå®DOM</span><br><span class="line"></span><br><span class="line">ç»„ä»¶æ›´æ–°-&gt;renderæ–¹æ³•-&gt;ç”Ÿæˆæ–°çš„è™šæ‹ŸDOM-&gt;diffç®—æ³•-&gt;å®šä½ä¸¤æ¬¡è™šæ‹ŸDOMçš„å·®å¼‚-&gt;æ‰¹é‡æ›´æ–°</span><br></pre></td></tr></table></figure><h3 id="componentWillReceiveProps-nextProps"><a href="#componentWillReceiveProps-nextProps" class="headerlink" title="componentWillReceiveProps(nextProps)"></a>componentWillReceiveProps(nextProps)</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¦‚æœçˆ¶ç»„ä»¶å¯¼è‡´å­ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œå³ä½¿propsæ²¡æœ‰æ›´æ”¹ï¼Œä¹Ÿä¼šè°ƒç”¨æ­¤æ–¹æ³•ï¼Œå¦‚æœåªæƒ³å¤„ç†æ›´æ”¹ï¼Œè¯·ç¡®ä¿å½“å‰å€¼å’Œå˜æ›´å€¼çš„æ¯”è¾ƒã€‚---Reactå®˜æ–¹</span><br></pre></td></tr></table></figure><h3 id="shouldComponentUpdate"><a href="#shouldComponentUpdate" class="headerlink" title="shouldComponentUpdate"></a>shouldComponentUpdate</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Reactç»„ä»¶ä¼šæ ¹æ®shouldComponentUpdateçš„è¿”å›å€¼æ¥å†³å®šæ˜¯å¦æ‰§è¡Œåé¢çš„ç”Ÿå‘½å‘¨æœŸè¿›è€Œå†³å®šæ˜¯å¦å¯¹ç»„ä»¶è¿›è¡Œre-render(é‡æ¸²æŸ“)</span><br></pre></td></tr></table></figure><h3 id="getDerivedStateFromProps-æ–°å¢-ä¸æ˜¯-componentWillMount-åºŸå¼ƒ-çš„æ›¿ä»£å“"><a href="#getDerivedStateFromProps-æ–°å¢-ä¸æ˜¯-componentWillMount-åºŸå¼ƒ-çš„æ›¿ä»£å“" class="headerlink" title="getDerivedStateFromProps(æ–°å¢)ä¸æ˜¯ componentWillMount(åºŸå¼ƒ)çš„æ›¿ä»£å“"></a>getDerivedStateFromProps(æ–°å¢)ä¸æ˜¯ componentWillMount(åºŸå¼ƒ)çš„æ›¿ä»£å“</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">getDerivedStateFromPropsæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªç”¨é€”ï¼šä½¿ç”¨propsæ¥æ´¾ç”Ÿ/æ›´æ–°state</span><br><span class="line"></span><br><span class="line">static getDerivedStateFromProps(props, state)</span><br><span class="line">1.é™æ€æ–¹æ³•ï¼Œè®¿é—®ä¸åˆ°this</span><br><span class="line">2.å‚æ•° props(çˆ¶ç»„ä»¶)å’Œstate(è‡ªèº«)</span><br><span class="line">3.å¯¹è±¡æ ¼å¼çš„è¿”å›å€¼ï¼Œç”¨æ¥æ›´æ–°è‡ªèº«stateï¼ˆæ›´æ–°å¹¶éè¦†ç›–å¼ï¼Œè€Œæ˜¯æ›¿æ¢å¼æ›´æ–°ï¼‰</span><br><span class="line">4.æŒ‚è½½å’Œæ›´æ–°éƒ½ä¼šè§¦å‘æ­¤é’©å­</span><br><span class="line"></span><br><span class="line">å…¶ä»–ï¼š</span><br><span class="line">getDerivedStateFromPropsæ˜¯ä½œä¸ºä¸€ä¸ªè¯•å›¾ä»£æ›¿componentWillReceivePropsçš„APIå‡ºç°çš„ã€‚</span><br><span class="line">getDerivedStateFromPropsä¸èƒ½å®Œå…¨å’ŒcomponentWillReceivePropsç”»ç­‰å·</span><br><span class="line"></span><br><span class="line">åŸå› ï¼šgetDerivedStateFromPropsä»…å¯ä»¥ä»£æ›¿componentWillReceivePropsæ¥å®ç°åŸºäºpropsæ´¾ç”Ÿstateï¼ŒåŸåˆ™æ¥è¯´èƒ½ä¸”åªèƒ½åšè¿™ä¸€ä»¶äº‹ã€‚</span><br></pre></td></tr></table></figure><h3 id="getSnapshotBeforeUpdate-æ–°å¢-ä¸-componentWillUpdate-åºŸå¼ƒ"><a href="#getSnapshotBeforeUpdate-æ–°å¢-ä¸-componentWillUpdate-åºŸå¼ƒ" class="headerlink" title="getSnapshotBeforeUpdate(æ–°å¢)ä¸ componentWillUpdate(åºŸå¼ƒ)"></a>getSnapshotBeforeUpdate(æ–°å¢)ä¸ componentWillUpdate(åºŸå¼ƒ)</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">getSnapshotBeforeUpdate(prevProps, prevState)&#123;&#125;</span><br><span class="line">1. æ‰§è¡Œæ—¶æœºåœ¨renderæ–¹æ³•ä¹‹åï¼ŒçœŸå®DOMæ›´æ–°ä¹‹å‰</span><br><span class="line">2.è¿”å›å€¼ä¼šä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°ä¼ é€’ç»™componentDidUpdate</span><br></pre></td></tr></table></figure><h3 id="Fiber-æ¶æ„ï¼ˆæ ¸å¿ƒï¼šå¯ä¸­æ–­ã€å¯æ¢å¤ã€ä¼˜å…ˆçº§ï¼‰"><a href="#Fiber-æ¶æ„ï¼ˆæ ¸å¿ƒï¼šå¯ä¸­æ–­ã€å¯æ¢å¤ã€ä¼˜å…ˆçº§ï¼‰" class="headerlink" title="Fiber æ¶æ„ï¼ˆæ ¸å¿ƒï¼šå¯ä¸­æ–­ã€å¯æ¢å¤ã€ä¼˜å…ˆçº§ï¼‰"></a>Fiber æ¶æ„ï¼ˆæ ¸å¿ƒï¼šå¯ä¸­æ–­ã€å¯æ¢å¤ã€ä¼˜å…ˆçº§ï¼‰</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1.Fiberæ˜¯React16å¯¹Reactæ ¸å¿ƒç®—æ³•çš„ä¸€æ¬¡é‡å†™</span><br><span class="line">2.Fiberä¼šä½¿åŸæœ¬åŒæ­¥çš„æ¸²æŸ“è¿‡ç¨‹å˜æˆå¼‚æ­¥çš„</span><br><span class="line">3.Fiberä¼šå°†ä¸€ä¸ªå¤§çš„æ›´æ–°ä»»åŠ¡æ‹†è§£ä¸ºè®¸å¤šä¸ªå°ä»»åŠ¡(å·¥ä½œå•å…ƒ)ï¼Œè¿™äº›å·¥ä½œå•å…ƒæœ‰ç€ä¸åŒçš„ä¼˜å…ˆçº§ï¼Œreactå¯ä»¥æ ¹æ®ä¼˜å…ˆçº§çš„é«˜ä½å»å®ç°å·¥ä½œå•å…ƒçš„æ‰“æ–­å’Œæ¢å¤</span><br><span class="line"></span><br><span class="line">Fiberæ¶æ„çš„é‡è¦ç‰¹å¾å°±æ˜¯å¯ä»¥è¢«æ‰“æ–­çš„å¼‚æ­¥æ¸²æŸ“æ¨¡å¼ï¼Œæ ¹æ®èƒ½å¦è¢«æ‰“æ–­è¿™ä¸€æ ‡å‡†ï¼ŒReact16çš„ç”Ÿå‘½å‘¨æœŸè¢«åˆ’åˆ†ä¸ºrenderå’Œcommitä¸¤ä¸ªé˜¶æ®µ</span><br><span class="line">renderé˜¶æ®µåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å…è®¸è¢«æ‰“æ–­ï¼ˆå› ä¸ºæ­¤é˜¶æ®µç”¨æˆ·ä¸å¯è§ï¼Œæ‰“æ–­ä¹Ÿæ— å½±å“ï¼‰</span><br><span class="line">commité˜¶æ®µæ€»æ˜¯åŒæ­¥æ‰§è¡Œï¼ˆæ¶‰åŠåˆ°åŒæ­¥æ¸²æŸ“ï¼Œä¼šå½±å“ç”¨æˆ·ç›´è§‚ä½“éªŒï¼‰</span><br><span class="line"></span><br><span class="line">renderé˜¶æ®µæ˜¯å…è®¸æš‚åœã€ç»ˆæ­¢å’Œé‡å¯çš„ï¼Œè¿™å°±å¯¼è‡´renderé˜¶æ®µçš„ç”Ÿå‘½å‘¨æœŸéƒ½æ˜¯æœ‰å¯èƒ½è¢«é‡å¤æ‰§è¡Œï¼Œæ‰€ä»¥è¦åºŸå¼ƒå¤„äºrenderé˜¶æ®µçš„ä¸€äº›ç”Ÿå‘½å‘¨æœŸï¼šcomponentWillMountã€componenntUpdateã€componentWillReceivePropsã€shouldComponentUpdate(ä¸€èˆ¬ä¸ä¼šåœ¨è¿™ä¸ªç”Ÿå‘½å‘¨æœŸä¸­è¿›è¡Œå‰¯ä½œç”¨æ“ä½œï¼Œæ‰€ä»¥ç›¸å¯¹é£é™©ä¸å¤§ï¼Œæ²¡æœ‰è¢«åºŸå¼ƒ)</span><br><span class="line"></span><br><span class="line">æ¯ä¸ªæ›´æ–°ä»»åŠ¡éƒ½ä¼šè¢«èµ‹äºˆä¸€ä¸ªä¼˜å…ˆçº§</span><br><span class="line">è‹¥Bä»»åŠ¡çš„ä¼˜å…ˆçº§é«˜äºå½“å‰ä»»åŠ¡Aï¼Œé‚£ä¹ˆå½“å‰å¤„äºReconcilerå±‚çš„Aä»»åŠ¡å°±ä¼šè¢«ä¸­æ–­ï¼Œå½“Bä»»åŠ¡å®Œæˆåï¼ŒAä»»åŠ¡å°±ä¼šè¢«é‡æ–°æ¨å…¥Reconcilerå±‚ï¼Œç»§ç»­å®ƒçš„æ¸²æŸ“ï¼Œè¿™ä¾¿æ˜¯æ‰€è°“çš„â€œå¯æ¢å¤â€</span><br><span class="line"></span><br><span class="line">Fiberæ¶æ„å¯¹ç”Ÿå‘½å‘¨æœŸçš„å½±å“</span><br><span class="line">react15: renderå¼€å§‹-&gt;åœä¸ä¸‹æ¥çš„é€’å½’è®¡ç®—(åŒæ­¥)-&gt;commitæäº¤æ¸²æŸ“</span><br><span class="line">react16: renderå¼€å§‹-&gt;å·¥ä½œå•å…ƒï½œå·¥ä½œå•å…ƒï½œå·¥ä½œå•å…ƒ...(å¼‚æ­¥)-&gt;commitæäº¤æ¸²æŸ“</span><br></pre></td></tr></table></figure><h3 id="ç»„ä»¶é—´é€šä¿¡"><a href="#ç»„ä»¶é—´é€šä¿¡" class="headerlink" title="ç»„ä»¶é—´é€šä¿¡"></a>ç»„ä»¶é—´é€šä¿¡</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">UI = render(data) æˆ– UI = f(data)</span><br><span class="line">Reactçš„è§†å›¾ä¼šéšç€æ•°æ®çš„å˜åŒ–è€Œå˜åŒ–</span><br></pre></td></tr></table></figure><h3 id="React-Hooks-çš„ä½¿ç”¨åŸåˆ™"><a href="#React-Hooks-çš„ä½¿ç”¨åŸåˆ™" class="headerlink" title="React-Hooks çš„ä½¿ç”¨åŸåˆ™"></a>React-Hooks çš„ä½¿ç”¨åŸåˆ™</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.åªåœ¨Reactå‡½æ•°ä¸­è°ƒç”¨Hook</span><br><span class="line">2.ä¸è¦åœ¨å¾ªç¯ã€æ¡ä»¶å’ŒåµŒå¥—å‡½æ•°ä¸­è°ƒç”¨Hook(è¦ç¡®ä¿hooksåœ¨æ¯æ¬¡æ¸²æŸ“æ—¶éƒ½ä¿æŒåŒæ ·çš„æ‰§è¡Œé¡ºåº)</span><br><span class="line"></span><br><span class="line">ä»æºç è°ƒç”¨æµç¨‹çœ‹åŸç†ï¼šHooksçš„æ­£å¸¸è¿ä½œï¼Œåœ¨åº•å±‚ä¾èµ–äºé¡ºåºé“¾è¡¨ã€‚</span><br><span class="line">mountStateé¦–æ¬¡æ¸²æŸ“æ„å»ºé“¾è¡¨å¹¶æ¸²æŸ“ï¼ŒupdateStateä¾æ¬¡éå†é“¾è¡¨å¹¶æ¸²æŸ“</span><br><span class="line"></span><br><span class="line">hooksçš„æ¸²æŸ“å°±æ˜¯é€šè¿‡ä¾æ¬¡éå†æ¥å®šä½æ¯ä¸ªhooksçš„å†…å®¹ï¼Œå¦‚æœå‰åä¸¤æ¬¡è¯»åˆ°çš„é“¾è¡¨åœ¨é¡ºåºä¸Šå‡ºç°å·®å¼‚ï¼Œé‚£ä¹ˆæ¸²æŸ“çš„ç»“æœè‡ªç„¶å°±æ˜¯ä¸å¯æ§çš„</span><br></pre></td></tr></table></figure><h3 id="è™šæ‹Ÿ-DOM"><a href="#è™šæ‹Ÿ-DOM" class="headerlink" title="è™šæ‹Ÿ DOM"></a>è™šæ‹Ÿ DOM</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è™šæ‹ŸDOMæœ¬è´¨ä¸Šæ˜¯JSå’ŒDOMä¹‹é—´çš„ä¸€ä¸ªæ˜ å°„ç¼“å­˜ï¼Œåœ¨å½¢æ€ä¸Šè¡¨ç°ä¸ºä¸€ä¸ªèƒ½å¤Ÿæè¿°DOMç»“æ„åŠå…¶å±æ€§ä¿¡æ¯çš„JSå¯¹è±¡ã€‚</span><br></pre></td></tr></table></figure><h3 id="Diff-é€»è¾‘çš„æ‹†åˆ†ä¸è§£è¯»"><a href="#Diff-é€»è¾‘çš„æ‹†åˆ†ä¸è§£è¯»" class="headerlink" title="Diff é€»è¾‘çš„æ‹†åˆ†ä¸è§£è¯»"></a>Diff é€»è¾‘çš„æ‹†åˆ†ä¸è§£è¯»</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.Diffç®—æ³•æ€§èƒ½çªç ´çš„å…³é”®ç‚¹åœ¨äº åˆ†å±‚å¯¹æ¯”</span><br><span class="line">2.ç±»å‹ä¸€è‡´çš„èŠ‚ç‚¹æ‰æœ‰ç»§ç»­Diffçš„å¿…è¦æ€§</span><br><span class="line">3.keyå±æ€§çš„è®¾ç½®ï¼Œå¯ä»¥å¸®æˆ‘ä»¬å°½å¯èƒ½é‡ç”¨åŒä¸€å±‚çº§å†…çš„èŠ‚ç‚¹</span><br></pre></td></tr></table></figure><h3 id="setState-å¼‚æ­¥"><a href="#setState-å¼‚æ­¥" class="headerlink" title="setState å¼‚æ­¥"></a>setState å¼‚æ­¥</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">setState-&gt;shouldComponentUpdate-&gt;componentWillUpdate-&gt;render-&gt;componentDidUpdate</span><br><span class="line"></span><br><span class="line">æ‰¹é‡æ›´æ–°ï¼šæ¯æ¥ä¸€ä¸ªsetStateï¼Œå°±æŠŠå®ƒå¡è¿›ä¸€ä¸ªé˜Ÿåˆ—é‡Œé¢å­˜èµ·æ¥ï¼Œç­‰æ—¶æœºæˆç†Ÿï¼Œå†æŠŠå­˜èµ·æ¥çš„stateç»“æœåšåˆå¹¶ï¼Œæœ€ååªé’ˆå¯¹æœ€åä¸€æ¬¡æœ€æ–°çš„stateå€¼èµ°ä¸€æ¬¡æ›´æ–°æµç¨‹</span><br><span class="line"></span><br><span class="line">setStateçš„è¡¨ç°ä¼šå› ä¸ºè°ƒç”¨çš„åœºæ™¯ä¸åŒè€Œä¸åŒï¼š</span><br><span class="line">1.åœ¨Reacté’©å­å‡½æ•°åŠåˆæˆäº‹ä»¶ä¸­ï¼Œè¡¨ç°ä¸ºå¼‚æ­¥</span><br><span class="line">2.åœ¨setTimeoutã€setIntervalç­‰å‡½æ•°ä¸­ï¼ŒåŒ…æ‹¬DOMåŸç”Ÿäº‹ä»¶ä¸­ï¼Œè¡¨ç°ä¸ºåŒæ­¥ã€‚</span><br></pre></td></tr></table></figure><h3 id="ReactDOM-render-è°ƒç”¨æ ˆçš„é€»è¾‘åˆ†å±‚"><a href="#ReactDOM-render-è°ƒç”¨æ ˆçš„é€»è¾‘åˆ†å±‚" class="headerlink" title="ReactDOM.render è°ƒç”¨æ ˆçš„é€»è¾‘åˆ†å±‚"></a>ReactDOM.render è°ƒç”¨æ ˆçš„é€»è¾‘åˆ†å±‚</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¾…è¡¥å……</span><br></pre></td></tr></table></figure><h3 id="React-äº‹ä»¶ç³»ç»Ÿ"><a href="#React-äº‹ä»¶ç³»ç»Ÿ" class="headerlink" title="React äº‹ä»¶ç³»ç»Ÿ"></a>React äº‹ä»¶ç³»ç»Ÿ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å½“äº‹ä»¶åœ¨å…·ä½“çš„DOMèŠ‚ç‚¹ä¸Šè¢«è§¦å‘åï¼Œæœ€ç»ˆéƒ½ä¼šå†’æ³¡åˆ°documentä¸Šï¼Œdocumentä¸Šæ‰€ç»‘å®šçš„ç»Ÿä¸€äº‹ä»¶å¤„ç†ç¨‹åºä¼šå°†äº‹ä»¶åˆ†å‘åˆ°å…·ä½“çš„ç»„ä»¶å®ä¾‹</span><br><span class="line"></span><br><span class="line">reactåˆæˆäº‹ä»¶ï¼šåœ¨åº•å±‚æŠ¹å¹³äº†ä¸åŒæµè§ˆå™¨çš„å·®å¼‚ï¼Œåœ¨ä¸Šå±‚é¢å‘å¼€å‘è€…æš´æ¼ç»Ÿä¸€çš„ã€ç¨³å®šçš„ã€ä¸DOMåŸç”Ÿäº‹ä»¶ç›¸åŒçš„äº‹ä»¶æ¥å£ï¼ˆåŸç”ŸDOMäº‹ä»¶å¯ä»¥é€šè¿‡e.nativeEventæŸ¥çœ‹ï¼‰</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;React-çš„åŸºæœ¬è®¤è¯†&quot;&gt;&lt;a href=&quot;#React-çš„åŸºæœ¬è®¤è¯†&quot; class=&quot;headerlink&quot; title=&quot;React çš„åŸºæœ¬è®¤è¯†&quot;&gt;&lt;/a&gt;React çš„åŸºæœ¬è®¤è¯†&lt;/h2&gt;</summary>
    
    
    
    <category term="React" scheme="https://github.com/foolishmax/categories/React/"/>
    
    
    <category term="React" scheme="https://github.com/foolishmax/tags/React/"/>
    
  </entry>
  
  <entry>
    <title>é¢è¯•é¢˜ç›®æ€»ç»“</title>
    <link href="https://github.com/foolishmax/2021/10/04/%E9%9D%A2%E8%AF%95%E9%A2%98%E7%9B%AE%E6%80%BB%E7%BB%93/"/>
    <id>https://github.com/foolishmax/2021/10/04/%E9%9D%A2%E8%AF%95%E9%A2%98%E7%9B%AE%E6%80%BB%E7%BB%93/</id>
    <published>2021-10-04T13:54:55.000Z</published>
    <updated>2023-03-09T09:57:28.687Z</updated>
    
    <content type="html"><![CDATA[<p>[toc]</p><h2 id="ä»æµè§ˆå™¨åœ°å€æ è¾“å…¥-url-åˆ°æ˜¾ç¤ºé¡µé¢çš„æ­¥éª¤"><a href="#ä»æµè§ˆå™¨åœ°å€æ è¾“å…¥-url-åˆ°æ˜¾ç¤ºé¡µé¢çš„æ­¥éª¤" class="headerlink" title="ä»æµè§ˆå™¨åœ°å€æ è¾“å…¥ url åˆ°æ˜¾ç¤ºé¡µé¢çš„æ­¥éª¤"></a>ä»æµè§ˆå™¨åœ°å€æ è¾“å…¥ url åˆ°æ˜¾ç¤ºé¡µé¢çš„æ­¥éª¤</h2><span id="more"></span><pre><code>1. æµè§ˆå™¨æŸ¥çœ‹ç¼“å­˜(æµè§ˆå™¨å¯¹åº”çš„éƒ½ä¼šæœ‰cacheæ–‡ä»¶)ã€‚è‹¥è¯·æ±‚æœ‰ç¼“å­˜ä¸”æœªè¿‡æœŸï¼Œåˆ™å–ç¼“å­˜èµ„æºæä¾›ç»™å®¢æˆ·ç«¯ï¼Œå¦åˆ™å‘èµ·è¯·æ±‚ä¸æœåŠ¡å™¨è¿›è¡ŒéªŒè¯ã€‚æ£€éªŒæ˜¯å¦è¿‡æœŸé€šå¸¸æœ‰ä¸¤ä¸ªHTTPå¤´ï¼šExpiresã€Cache-control2.æµè§ˆå™¨éœ€è¦è·å–åŸŸåå¯¹åº”çš„ipåœ°å€ï¼Œè¿‡ç¨‹å¦‚ä¸‹ï¼š1.æœ¬åœ°hostæ–‡ä»¶æŸ¥æ‰¾- æµè§ˆå™¨è§£æURLè·å–åè®®ã€åŸŸåã€ç«¯å£ã€pathè·¯å¾„ï¼Œç„¶åæŸ¥çœ‹æœ¬åœ°ç¡¬ç›˜ä¸­hostsæ–‡ä»¶ï¼Œçœ‹æ˜¯å¦å­˜åœ¨ä¸è¿™ä¸ªåŸŸåå¯¹åº”çš„è§„åˆ™ï¼Œå¦‚æœæœ‰å°±ç›´æ¥ä½¿ç”¨hostsæ–‡ä»¶é‡Œé¢çš„ipåœ°å€ã€‚2.è·¯ç”±å™¨ç¼“å­˜3.ISP DNS(Domain Name SystemåŸŸåç³»ç»Ÿ)(æƒ…æŠ¥å±€)ç¼“å­˜ï¼ˆäº’è”ç½‘æä¾›æœåŠ¡å•†ï¼‰-æœ¬åœ°DNSæœåŠ¡å™¨ä»¥é€’å½’æ–¹å¼è¿›è¡ŒæŸ¥è¯¢ç¼“å­˜è®°å½•ï¼Œè‹¥æ²¡æœ‰å°±å‘è·ŸDNSæœåŠ¡å™¨æŸ¥è¯¢ã€‚æ ¹DNSæœåŠ¡å™¨æŸ¥è¯¢åˆ°ç»“æœåä¼šæŠŠåŸŸåå’ŒIPåœ°å€å‘Šè¯‰æœ¬åœ°DNSæœåŠ¡å™¨ï¼Œæœ¬åœ°DNSæœåŠ¡å™¨æŠŠå¯¹åº”å…³ç³»è‰å­˜åœ¨ç¼“å­˜ä¸­ï¼ˆä¸€è¾¹ä¸‹æ¬¡ç”¨æˆ·æŸ¥è¯¢ï¼ŒåŠ å¿«ç½‘ç»œè®¿é—®ï¼‰ï¼Œç„¶åå†å‘ç»™æµè§ˆå™¨å®¢æˆ·ç«¯çš„è§£ææœåŠ¡å™¨ã€‚3.å®¢æˆ·ç«¯å‘é€HTTPè¯·æ±‚ã€‚4.TCPä¼ è¾“æŠ¥æ–‡ï¼ˆä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹ï¼‰5.å‘å®¢æˆ·ç«¯è¿”å›èµ„æº6.è§£æHTMLæ–‡æ¡£ï¼Œæ„å»ºDOMæ ‘ï¼ŒCSSOMæ ‘ï¼Œä¸‹è½½èµ„æºï¼Œæ‰§è¡Œjsè„šæœ¬ç­‰ã€‚</code></pre><p>æ‰©å±•ï¼š<br><a href="https://mp.weixin.qq.com/s?__biz=Mzg3NDY4NDgyOQ==&mid=2247491757&idx=1&sn=a956c6c62c98e2d5ee71c8ed8d3a3eb8&chksm=cecfa85ff9b82149a3e50e81789b29cc0923745cf8a8f7713619aa2499753a3de760f24e6f93&scene=132#wechat_redirect">æ”¶åˆ°çš„ HTML å¦‚æœåŒ…å«å‡ åä¸ªå›¾ç‰‡æ ‡ç­¾ï¼Œè¿™äº›å›¾ç‰‡æ˜¯ä»¥ä»€ä¹ˆæ–¹å¼ã€ä»€ä¹ˆé¡ºåºã€å»ºç«‹äº†å¤šå°‘è¿æ¥ã€ä½¿ç”¨ä»€ä¹ˆåè®®è¢«ä¸‹è½½ä¸‹æ¥çš„å‘¢ï¼Ÿ</a></p><h2 id="DNS-è´Ÿè½½å‡è¡¡"><a href="#DNS-è´Ÿè½½å‡è¡¡" class="headerlink" title="DNS è´Ÿè½½å‡è¡¡"></a>DNS è´Ÿè½½å‡è¡¡</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å½“ä¸€ä¸ªç½‘ç«™æœ‰è¶³å¤Ÿå¤šçš„ç”¨æˆ·çš„æ—¶å€™ï¼Œå‡å¦‚æ¯æ¬¡è¯·æ±‚çš„èµ„æºéƒ½ä½äºåŒä¸€å°æœºå™¨ä¸Šé¢ï¼Œé‚£ä¹ˆè¿™å°æœºå™¨éšæ—¶å¯èƒ½ä¼šè¹¦æ‰ã€‚å¤„ç†åŠæ³•å°±æ˜¯ç”¨DNSè´Ÿè½½å‡è¡¡æŠ€æœ¯ï¼Œå®ƒçš„åŸç†æ˜¯åœ¨DNSæœåŠ¡å™¨ä¸­ä¸ºåŒä¸€ä¸ªåŸŸåé…ç½®å¤šä¸ªIPåœ°å€,åœ¨åº”ç­”DNSæŸ¥è¯¢æ—¶,DNSæœåŠ¡å™¨å¯¹æ¯ä¸ªæŸ¥è¯¢å°†ä»¥DNSæ–‡ä»¶ä¸­ä¸»æœºè®°å½•çš„IPåœ°å€æŒ‰é¡ºåºè¿”å›ä¸åŒçš„è§£æç»“æœ,å°†å®¢æˆ·ç«¯çš„è®¿é—®å¼•å¯¼åˆ°ä¸åŒçš„æœºå™¨ä¸Šå»,ä½¿å¾—ä¸åŒçš„å®¢æˆ·ç«¯è®¿é—®ä¸åŒçš„æœåŠ¡å™¨,ä»è€Œè¾¾åˆ°è´Ÿè½½å‡è¡¡çš„ç›®çš„ï½¡ä¾‹å¦‚å¯ä»¥æ ¹æ®æ¯å°æœºå™¨çš„è´Ÿè½½é‡ï¼Œè¯¥æœºå™¨ç¦»ç”¨æˆ·åœ°ç†ä½ç½®çš„è·ç¦»ç­‰ç­‰ã€‚</span><br></pre></td></tr></table></figure><h2 id="å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜"><a href="#å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜" class="headerlink" title="å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜"></a>å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å¼ºç¼“å­˜ï¼šï¼ˆexpiresã€Cache-Controlï¼‰åœ¨è¿‡æœŸæ—¶é—´å†…ï¼Œæµè§ˆå™¨å†æ¬¡åŠ è½½èµ„æºæ—¶ï¼Œä¸ä¼šå‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œç›´æ¥ä»ç¼“å­˜ä¸­è¯»å–èµ„æº</span><br><span class="line"></span><br><span class="line">åå•†ç¼“å­˜ï¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨ä¼šæ ¹æ®è¯·æ±‚å¤´ï¼ˆrequest headerï¼‰çš„ä¸€äº›å‚æ•°ï¼ˆEtagã€last-modifiedï¼‰æ¥åˆ¤æ–­æ˜¯å¦å‘½ä¸­åå•†ç¼“å­˜ï¼Œé¦–å…ˆæ ¹æ®Etagçš„å€¼åˆ¤æ–­è¯·æ±‚çš„æ–‡ä»¶æœ‰æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œå¦‚æœEtagä¸€è‡´åˆ™æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œå‘½ä¸­åå•†ç¼“å­˜è¿”å›304ï¼Œå¦‚æœä¸ä¸€è‡´åˆ™è¿”å›æ–°çš„èµ„æºå¹¶å¸¦ä¸Šæ–°çš„Etagè¿”å›200çŠ¶æ€ç ã€‚å¦‚æœæ²¡æœ‰Etagå€¼ï¼Œåˆ™å¯¹æ¯”If-Modified-Sinceå’Œè¯·æ±‚æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´ï¼Œä¸€è‡´åˆ™å‘½ä¸­åå•†ç¼“å­˜è¿”å›304ï¼Œä¸ä¸€è‡´åˆ™è¿”å›æ–°çš„last-modifiedå’Œ200çŠ¶æ€ç </span><br></pre></td></tr></table></figure><h2 id="http-åè®®çš„ç‰¹ç‚¹"><a href="#http-åè®®çš„ç‰¹ç‚¹" class="headerlink" title="http åè®®çš„ç‰¹ç‚¹"></a>http åè®®çš„ç‰¹ç‚¹</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">1.æ”¯æŒå®¢æˆ·/æœåŠ¡å™¨æ¨¡å¼</span><br><span class="line">2.ç®€å•å¿«é€Ÿï¼šå®¢æˆ·å‘æœåŠ¡å™¨å‘é€è¯·æ±‚æ—¶ï¼Œåªéœ€ä¼ é€è¯·æ±‚æ–¹æ³•å’Œè·¯å¾„ã€‚</span><br><span class="line">3.çµæ´»ï¼šhttpå…è®¸ä¼ è¾“ä»»æ„ç±»å‹çš„æ•°æ®å¯¹è±¡ï¼ˆContent-Typeå†…å®¹ç¼–ç ç±»å‹ï¼‰</span><br><span class="line"></span><br><span class="line">application/x-www-form-urlencoded å¸¸è§postæäº¤æ•°æ®æ ¼å¼ï¼ˆkey-valueæ ¼å¼ï¼‰</span><br><span class="line">application/json</span><br><span class="line"></span><br><span class="line">4.æ— è¿æ¥ï¼šé™åˆ¶æ¯æ¬¡è¿æ¥åªå¤„ç†ä¸€ä¸ªè¯·æ±‚ï¼ŒæœåŠ¡å™¨å¤„ç†å®Œå®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œå¹¶æ”¶åˆ°å®¢æˆ·ç«¯çš„åº”ç­”åï¼Œå³æ–­å¼€è¿æ¥ã€‚ï¼ˆåŸå› æ˜¯æ—©æœŸæœåŠ¡å™¨éœ€è¦åŒæ—¶é¢å¯¹å…¨ä¸–ç•Œæ•°åä¸‡ã€ä¸Šç™¾ä¸‡çš„å®¢æˆ·ç«¯çš„ç½‘é¡µè®¿é—®ï¼Œä½†æ˜¯æ¯æ¬¡å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯ä¼ è¾“çš„æ•°æ®å…³è”æ€§å¾ˆä½ï¼Œå°±ä¼šå¯¼è‡´å¤§éƒ¨åˆ†é€šè¿‡ä¼šå¾ˆç©ºé—²ï¼Œæ— ç«¯å ç”¨èµ„æºï¼‰</span><br><span class="line"></span><br><span class="line">ï¼ˆè§£å†³æ— è¿æ¥ï¼‰Keep-Aliveï¼šä½¿å®¢æˆ·ç«¯åˆ°æœåŠ¡ç«¯ä¹‹é—´çš„Httpè¿æ¥ä¿æŒï¼Œä¸ä¼šæ–­å¼€ï¼Œå½“å†æ¬¡å¯¹æœåŠ¡å™¨å‘é€è¯·æ±‚æ—¶ï¼Œkeep-AliveåŠŸèƒ½é¿å…äº†é‡æ–°å»ºç«‹è¿æ¥</span><br><span class="line"></span><br><span class="line">5.æ— çŠ¶æ€ï¼šHttpæ˜¯ä¸€ä¸ªæ— çŠ¶æ€åè®®ï¼Œå°±æ˜¯æ¯ä¸ªè¯·æ±‚éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œæ•°æ®ä¼ è¾“å®Œæ¯•ä¸ä¼šè®°å½•ä»»ä½•ä¿¡æ¯ã€‚ç¼ºç‚¹å°±æ˜¯å¦‚æœåç»­å¤„ç†éœ€è¦å‰é¢çš„ä¿¡æ¯ï¼Œå°±å¿…é¡»é‡ä¼ ï¼Œå°±ä¼šå¯¼è‡´æ¯æ¬¡è¿æ¥ä¼ é€çš„æ•°æ®é‡å¢åŠ ï¼Œå¦‚æœæœåŠ¡å™¨ä¸éœ€è¦å‰é¢ä¿¡æ¯çš„æ—¶å€™åº”ç­”å°±ä¼šå¾ˆå¿«ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆè§£å†³æ— çŠ¶æ€ï¼‰æ€æ ·ä¿æŒhttpè¿æ¥çŠ¶æ€å‘¢</span><br><span class="line">Cookieï¼ˆæ¯æ¬¡httpè¯·æ±‚çš„æ—¶å€™ï¼Œå®¢æˆ·ç«¯éƒ½éœ€è¦å‘é€å“åº”çš„cookieä¿¡æ¯åˆ°æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯æ ¹æ®cookieåˆ¤æ–­æ¥è‡ªå“ªä¸ªå®¢æˆ·ç«¯ï¼‰</span><br><span class="line">æœåŠ¡ç«¯ç”Ÿæˆcookieï¼Œå®¢æˆ·ç«¯ä¿å­˜</span><br><span class="line"></span><br><span class="line">Session</span><br><span class="line">æœåŠ¡ç«¯ç”Ÿæˆä¸€ä¸ªsessionidï¼Œåœ¨å®¢æˆ·ç«¯ä¸‹æ¬¡è¯·æ±‚çš„æ—¶å€™åœ¨cookieé‡Œé¢è®°å½•è¿™ä¸ªsessionidï¼Œç„¶åå‘é€ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯å†æ ¹æ®cookieä¸­çš„sessionidæ¥è¯†åˆ«å®¢æˆ·ç«¯è¿”å›èµ„æºæ•°æ®ã€‚</span><br><span class="line"></span><br><span class="line">ç¦ç”¨cookieæ€ä¹ˆåŠï¼Ÿ</span><br><span class="line">urlé‡å†™ï¼Œæ¯æ¬¡httpè¯·æ±‚çš„æ—¶å€™ï¼Œåœ¨urlåé¢æ‹¼æ¥sid=**å‚æ•°</span><br><span class="line"></span><br><span class="line">withCredentials:æŒ‡å®šåœ¨æ¶‰åŠåˆ°è·¨åŸŸè¯·æ±‚æ—¶ï¼Œæ˜¯å¦æºå¸¦cookieä¿¡æ¯ï¼Œé»˜è®¤ä¸ºfalse</span><br><span class="line">Access-Control-Allow-Credentials: true</span><br></pre></td></tr></table></figure><h2 id="cookie-å’Œ-session-çš„åŒºåˆ«"><a href="#cookie-å’Œ-session-çš„åŒºåˆ«" class="headerlink" title="cookie å’Œ session çš„åŒºåˆ«"></a>cookie å’Œ session çš„åŒºåˆ«</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.å­˜å–æ–¹å¼ä¸åŒï¼š cookieåªèƒ½ä¿å­˜ASCIIå­—ç¬¦ä¸²ï¼Œsessionèƒ½å¤Ÿå­˜å‚¨ä»»æ„ç±»å‹çš„æ•°æ®</span><br><span class="line">2.éšç§ç­–ç•¥ä¸åŒ</span><br><span class="line">3.cookieæ˜¯å­˜åœ¨å®¢æˆ·ç«¯ï¼Œsessionæ˜¯å­˜åœ¨æœåŠ¡å™¨çš„</span><br><span class="line">4.æµè§ˆå™¨çš„æ”¯æŒä¸åŒï¼Œæµè§ˆå™¨å¯ä»¥ç¦ç”¨cookie</span><br></pre></td></tr></table></figure><h2 id="æƒé™èº«ä»½éªŒè¯"><a href="#æƒé™èº«ä»½éªŒè¯" class="headerlink" title="æƒé™èº«ä»½éªŒè¯"></a>æƒé™èº«ä»½éªŒè¯</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ä¸€èˆ¬éƒ½æ˜¯é€šè¿‡sessionidæ¥è¿›è¡Œç”¨æˆ·èº«ä»½éªŒè¯ï¼Œsessionidä¸€èˆ¬ä¼šå­˜æ”¾åœ¨redisä¸­ã€‚</span><br><span class="line">1.ç”¨æˆ·å‘æœåŠ¡ç«¯å‘é€ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œç™»é™†</span><br><span class="line">2.æœåŠ¡å™¨éªŒè¯é€šè¿‡åï¼ŒæœåŠ¡å™¨ä¸ºç”¨æˆ·åˆ›å»ºä¸€ä¸ªsessionï¼Œå¹¶å°†sessionä¿¡æ¯å­˜å‚¨èµ·æ¥</span><br><span class="line">3.æœåŠ¡å™¨å‘ç”¨æˆ·è¿”å›ä¸€ä¸ªsessionidï¼Œå†™å…¥ç”¨æˆ·çš„cookie</span><br><span class="line">4.å½“ç”¨æˆ·ä¿æŒç™»é™†çŠ¶æ€æ—¶ï¼Œæ¯æ¬¡åç»­è¯·æ±‚éƒ½ä¼šä¸€èµ·å‘é€ç»™åç«¯</span><br><span class="line">5.æœåŠ¡å™¨å°†å­˜å‚¨åœ¨cookieä¸­çš„sessionidå’Œå­˜å‚¨åœ¨å†…å­˜æˆ–è€…æ•°æ®åº“ä¸­çš„sessinä¿¡æ¯è¿›è¡Œä¸€ä¸ªæ¯”è¾ƒï¼ŒéªŒè¯ç”¨æˆ·èº«ä»½ï¼Œç„¶åè¿”å›å“åº”ä¿¡æ¯</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æ³¨æ„ï¼š</span><br><span class="line">1.ä¾èµ–sessionçš„å…³é”®ä¸šåŠ¡ä¸€å®šè¦ç¡®ä¿å®¢æˆ·ç«¯å¼€å¯äº†cookie</span><br><span class="line">2.æ³¨æ„sessionçš„è¿‡æœŸæ—¶é—´</span><br><span class="line"></span><br><span class="line">ä¸€èˆ¬åœ¨http headerçš„Authorizationå­—æ®µä¸­æ·»åŠ token</span><br></pre></td></tr></table></figure><h2 id="ç¦ç”¨-cookie-ä¹‹å-session-è¿˜èƒ½ç”¨å—ï¼Ÿ"><a href="#ç¦ç”¨-cookie-ä¹‹å-session-è¿˜èƒ½ç”¨å—ï¼Ÿ" class="headerlink" title="ç¦ç”¨ cookie ä¹‹å session è¿˜èƒ½ç”¨å—ï¼Ÿ"></a>ç¦ç”¨ cookie ä¹‹å session è¿˜èƒ½ç”¨å—ï¼Ÿ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">urlé‡å†™ï¼Œä¾‹å¦‚ https://javascript.cn/?session_id=xxx</span><br><span class="line">ç¼ºç‚¹æ˜¯å®‰å…¨æ€§é™ä½ï¼Œå¯ä»¥å¯¹sessionidè¿›è¡Œä¸€æ¬¡åŠ å¯†åä¼ è¾“</span><br></pre></td></tr></table></figure><h2 id="get-å’Œ-post-çš„åŒºåˆ«"><a href="#get-å’Œ-post-çš„åŒºåˆ«" class="headerlink" title="get å’Œ post çš„åŒºåˆ«"></a>get å’Œ post çš„åŒºåˆ«</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.urlå¯è§æ€§ï¼šgetå‚æ•°urlå¯è§ï¼Œpostå‚æ•°urlä¸å¯è§</span><br><span class="line">2.æ•°æ®ä¼ è¾“ï¼šgeté€šè¿‡æ‹¼æ¥urlè¿›è¡Œä¼ é€’å‚æ•°ï¼Œposté€šè¿‡bodyä½“ä¼ è¾“å‚æ•°</span><br><span class="line">3.ç¼“å­˜æ€§ï¼šgetè¯·æ±‚å¯ä»¥ç¼“å­˜ï¼Œpostè¯·æ±‚ä¸å¯ä»¥ç¼“å­˜</span><br><span class="line">4.getè¯·æ±‚ç½‘é¡µå›é€€æ—¶ï¼Œä¸äº§ç”Ÿå½±å“ï¼Œpostè¯·æ±‚ç½‘é¡µå›é€€ä¼šé‡æ–°å‘è¯·æ±‚</span><br><span class="line">5.ä¼ è¾“æ•°æ®ï¼šgetä¸€èˆ¬ä¼ è¾“æ•°æ®å¤§å°ä¸è¶…è¿‡4kï¼Œpostå¯ä»¥ä¼ è¾“å¤§é‡æ•°æ®</span><br><span class="line">6.postè¾ƒgetå®‰å…¨æ€§è¾ƒé«˜ï¼Œgetæ˜¯ä¸å®‰å…¨çš„å› ä¸ºurlå¯è§ï¼Œå¯èƒ½ä¼šæ³„æ¼ç§å¯†ä¿¡æ¯</span><br></pre></td></tr></table></figure><h2 id="http-å¸¸è§çš„è¯·æ±‚å¤´å­—æ®µ"><a href="#http-å¸¸è§çš„è¯·æ±‚å¤´å­—æ®µ" class="headerlink" title="http å¸¸è§çš„è¯·æ±‚å¤´å­—æ®µ"></a>http å¸¸è§çš„è¯·æ±‚å¤´å­—æ®µ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Accept: æµè§ˆå™¨å¯æ¥å—çš„æ•°æ®ç±»å‹</span><br><span class="line">Accept-Charset: æµè§ˆå™¨å¯æ¥å—çš„å­—ç¬¦é›†</span><br><span class="line">Accept-Encodingï¼šæµè§ˆå™¨èƒ½å¤Ÿè¿›è¡Œè§£ç çš„æ•°æ®ç¼–ç æ–¹å¼</span><br><span class="line">Accept-Languageï¼š æµè§ˆå™¨æ‰€å¸Œæœ›çš„è¯­è¨€ç§ç±»</span><br><span class="line">Connectionï¼šæ˜¯å¦éœ€è¦æŒä¹…è¿æ¥ï¼Œå€¼â€œKeep-Aliveâ€ï¼ŒHTTP1.1é»˜è®¤è¿›è¡ŒæŒä¹…è¿æ¥</span><br><span class="line">Cookieï¼šcookieä¿¡æ¯</span><br><span class="line">content-type</span><br><span class="line">If-Modified-Sinceï¼šå†…å®¹è¢«ä¿®æ”¹æ‰ä¼šè¿”å›</span><br><span class="line">User-Agentï¼šæµè§ˆå™¨ç±»å‹</span><br><span class="line"></span><br><span class="line">å“åº”å¤´ï¼š</span><br><span class="line">content-Length: è¡¨ç¤ºå†…å®¹é•¿åº¦</span><br><span class="line">content-typeï¼šæ–‡æ¡£ç±»å‹</span><br><span class="line">Dateï¼šå½“å‰æ—¶é—´</span><br><span class="line">Expiresï¼šæŒ‡å®šç¼“å­˜è¿‡æœŸæ—¶é—´</span><br><span class="line">Last-Modifiedï¼šæ–‡æ¡£è¿‡æœŸæ—¶é—´</span><br></pre></td></tr></table></figure><h2 id="http-å’Œ-https-çš„åŒºåˆ«"><a href="#http-å’Œ-https-çš„åŒºåˆ«" class="headerlink" title="http å’Œ https çš„åŒºåˆ«"></a>http å’Œ https çš„åŒºåˆ«</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">httpæ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œä¿¡æ¯æ˜¯æ˜æ–‡ä¼ è¾“ï¼Œhttpsæ˜¯æ›´åŠ å®‰å…¨çš„sslåŠ å¯†ä¼ è¾“åè®®</span><br><span class="line">httpé»˜è®¤æ˜¯80ç«¯å£ï¼Œhttpsé»˜è®¤æ˜¯443ç«¯å£</span><br><span class="line">httpséœ€è¦ç”³è¯·CAè¯ä¹¦</span><br><span class="line">httpsæ˜¯http + ssl/tlsï¼ˆæ•°å­—è¯ä¹¦ï¼‰è¿›è¡Œç»„åˆçš„æ›´åŠ å®‰å…¨çš„ä¼ è¾“åè®®</span><br><span class="line"></span><br><span class="line">httpså·¥ä½œåŸç†ï¼ˆéå¯¹ç§°åŠ å¯†ï¼‰</span><br><span class="line">1.æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯ä¼ é€’è¯ä¹¦ä½œä¸ºå…¬é’¥</span><br><span class="line">2.å®¢æˆ·ç«¯å¯¹è¯ä¹¦è¿›è¡Œè§£æï¼Œåˆ¤æ–­è¯ä¹¦çš„åŠæ³•æœºæ„å’Œè¿‡æœŸæ—¶é—´ç­‰ï¼Œå¦‚æœéƒ½æ²¡æœ‰é—®é¢˜ï¼Œç”Ÿæˆä¸€ä¸ªéšæœºå€¼ä½œä¸ºç§é’¥ï¼Œç„¶åä½¿ç”¨è¯ä¹¦è¿›è¡ŒåŠ å¯†å‘é€ç»™æœåŠ¡ç«¯</span><br><span class="line">3.æœåŠ¡ç«¯è§£å¯†å¾—åˆ°å®¢æˆ·ç«¯ç§é’¥</span><br><span class="line">4.ä¹‹ååŒæ–¹åˆ©ç”¨ç§é’¥è¿›è¡ŒåŠ å¯†è§£å¯†ï¼Œå®Œæˆä¿¡æ¯çš„é€šä¿¡</span><br></pre></td></tr></table></figure><h2 id="xssï¼ˆè·¨åŸŸè„šæœ¬æ”»å‡»ï¼‰csrfï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰"><a href="#xssï¼ˆè·¨åŸŸè„šæœ¬æ”»å‡»ï¼‰csrfï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰" class="headerlink" title="xssï¼ˆè·¨åŸŸè„šæœ¬æ”»å‡»ï¼‰csrfï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰"></a>xssï¼ˆè·¨åŸŸè„šæœ¬æ”»å‡»ï¼‰csrfï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">csrf: éœ€è¦ç”¨æˆ·å…ˆç™»é™†ç½‘ç«™Aï¼Œè·å–cookieï¼Œåˆ©ç”¨çš„æ˜¯ç½‘ç«™Aæœ¬èº«çš„æ¼æ´ï¼Œå»è¯·æ±‚ç½‘ç«™Açš„apiï¼Œ---è¿›è¡ŒtokenéªŒè¯ï¼ŒrefereréªŒè¯ï¼Œåªæ¥æ”¶æœ¬ç«™çš„è¯·æ±‚</span><br><span class="line"></span><br><span class="line">xssï¼šå‘ç½‘ç«™Aæ³¨å…¥jsä»£ç ï¼Œç„¶åæ‰§è¡Œjsä»£ç ï¼Œç¯¡æ”¹ç½‘ç«™Açš„å†…å®¹ï¼Œç ´åé¡µé¢æ­£å¸¸ç»“æ„ï¼Œæ’å…¥æ¶æ„å¹¿å‘Šã€‚---ç¼–ç è½¬æ¢</span><br></pre></td></tr></table></figure><h2 id="ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿè§£å†³è·¨åŸŸçš„æ–¹æ³•æœ‰å“ªäº›"><a href="#ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿè§£å†³è·¨åŸŸçš„æ–¹æ³•æœ‰å“ªäº›" class="headerlink" title="ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿè§£å†³è·¨åŸŸçš„æ–¹æ³•æœ‰å“ªäº›?"></a>ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿè§£å†³è·¨åŸŸçš„æ–¹æ³•æœ‰å“ªäº›?</h2><!--more--><ul><li><p>åŒæºç­–ç•¥</p><ul><li>æ˜¯ä¸€ç§æµè§ˆå™¨çš„å®‰å…¨ç­–ç•¥</li><li>åè®®ã€åŸŸåã€ç«¯å£å·å¿…é¡»å®Œå…¨ä¸€è‡´</li><li>ä¸åŒæºçš„å®¢æˆ·ç«¯è„šæœ¬åœ¨æ²¡æœ‰æ˜ç¡®çš„æˆæƒçš„æƒ…å†µä¸‹ï¼Œä¸èƒ½è¯»å–å¯¹æ–¹çš„èµ„æº</li></ul></li><li><p>è·¨åŸŸ</p><ul><li>æŒ‡ä¸€ä¸ªåŸŸä¸‹çš„æ–‡æ¡£æˆ–è„šæœ¬å°è¯•å»è¯·æ±‚å¦ä¸€ä¸ªåŸŸä¸‹çš„èµ„æºã€‚</li></ul></li></ul><!-- more --><ul><li><p>è§£å†³è·¨åŸŸ</p><ul><li><p>jsonp</p></li><li><p>postMessage è·¨åŸŸ</p></li><li><p>WebSocket åè®®è·¨åŸŸ</p></li><li><p>CORSï¼ˆè·¨åŸŸèµ„æºå…±äº«ï¼ŒæœåŠ¡ç«¯è®¾ç½® Access-Control-Allow-Originï¼Œå‰ç«¯æ— éœ€è®¾ç½®ï¼Œ<br>è‹¥è¦å¸¦ cookie è¯·æ±‚ï¼Œå‰åç«¯éƒ½è¦è®¾ç½®ï¼‰</p></li><li><p>nginx åå‘ä»£ç†æ¥å£è·¨åŸŸ</p></li><li><p>document.domain(ä¸¤ä¸ªé¡µé¢é€šè¿‡ js å¼ºåˆ¶è®¾ç½® document.domain ä¸ºåŸºç¡€ä¸»åŸŸï¼Œé’ˆå¯¹åŸºç¡€åŸŸåç›¸åŒçš„æƒ…å†µ)</p></li><li><p>window.name + iframe</p></li><li><p>location.hash + iframe</p></li><li><p>â€¦</p></li></ul></li><li><p>å®ç° jsonp è·¨åŸŸ</p><ul><li>é€šå¸¸ä¸ºäº†å‡è½» web æœåŠ¡å™¨çš„è´Ÿè½½ï¼Œæˆ‘ä»¬æŠŠ jsã€cssã€img ç­‰é™æ€èµ„æºåˆ†ç¦»åˆ°å¦ä¸€å°ç‹¬ç«‹åŸŸå<br>çš„æœåŠ¡å™¨ä¸Šï¼Œåœ¨ html é¡µé¢ä¸­å†é€šè¿‡å“åº”çš„æ ‡ç­¾ä»ä¸åŒåŸŸååŠ è½½é™æ€èµ„æºã€‚jsonp å°±æ˜¯åˆ©ç”¨æ­¤<br>åŸç†ï¼ŒåŠ¨æ€åˆ›å»º scriptï¼Œå†è¯·æ±‚ä¸€ä¸ªå¸¦å‚ç½‘å€å®ç°è·¨åŸŸé€šä¿¡</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    var script = document.createElement(&#x27;script&#x27;)</span><br><span class="line">    script.type = &#x27;text/javascript&#x27;</span><br><span class="line"></span><br><span class="line">    //ä¼ å‚ä¸€ä¸ªå›è°ƒå‡½æ•°åç»™åç«¯ï¼Œæ–¹ä¾¿åç«¯è¿”å›æ—¶æ‰§è¡Œè¿™ä¸ªå‰ç«¯å®šä¹‰çš„å›è°ƒå‡½æ•°</span><br><span class="line">    script.src = &#x27;http://www.xxx.com:8080/login?user=admin&amp;callback=handleCallback&#x27;</span><br><span class="line">    document.body.appendChild(script)</span><br><span class="line"></span><br><span class="line">    //å›è°ƒæ‰§è¡Œå‡½æ•°</span><br><span class="line">    function handleCallbak(res) &#123;</span><br><span class="line">        alert(JSOn.stringify(res))</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="http1-0ã€http1-1-å’Œ-http2-0-çš„åŒºåˆ«"><a href="#http1-0ã€http1-1-å’Œ-http2-0-çš„åŒºåˆ«" class="headerlink" title="http1.0ã€http1.1 å’Œ http2.0 çš„åŒºåˆ«"></a>http1.0ã€http1.1 å’Œ http2.0 çš„åŒºåˆ«</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http/1.0 æ¯ä¸ªè¯·æ±‚éƒ½è¦å»ºç«‹ä¸€ä¸ªè¿æ¥</span><br><span class="line">http/1.1 å¤šäº†é•¿è¿æ¥keep-aliveï¼Œè‹¥å¹²ä¸ªè¯·æ±‚éœ€è¦æ’é˜Ÿä¸²è¡ŒåŒ–å•çº¿ç¨‹å¤„ç†ï¼Œä¼šå‘ç”Ÿç½‘ç»œè¯·æ±‚é˜»å¡é—®é¢˜ã€‚</span><br><span class="line">http/2.0 åŒä¸€ä¸ªè¿æ¥å¯ä»¥æœ‰å¤šä¸ªè¯·æ±‚ï¼Œå„ä¸ªè¯·æ±‚ç›´æ¥äº’ä¸å½±å“ï¼ˆè¿›è¡Œäº†å¤´éƒ¨å‹ç¼©å’Œå¤šè·¯å¤ç”¨çš„ä¼˜åŒ–ï¼‰</span><br></pre></td></tr></table></figure><h2 id="è®¾è®¡æ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼"></a>è®¾è®¡æ¨¡å¼</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">å•ä¾‹æ¨¡å¼ ï¼ˆclassç»„ä»¶ä¸­new storeåˆ›å»ºstoreå®ä¾‹ï¼‰</span><br><span class="line">å·¥å‚æ¨¡å¼ ï¼ˆmobx storeä¸­creatLayoutStoreï¼‰</span><br><span class="line">è§‚å¯Ÿè€…æ¨¡å¼</span><br><span class="line">å‘å¸ƒè®¢é˜…æ¨¡å¼</span><br><span class="line">è£…é¥°å™¨æ¨¡å¼ ï¼ˆç§»åŠ¨ã€pcé…ç½®åŒæ­¥@syncï¼‰</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="TCP-ä¸-UDP-åŒºåˆ«"><a href="#TCP-ä¸-UDP-åŒºåˆ«" class="headerlink" title="TCP ä¸ UDP åŒºåˆ«"></a>TCP ä¸ UDP åŒºåˆ«</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* TCPæ˜¯é¢å‘è¿æ¥çš„åè®®ï¼Œå‘é€æ•°æ®å‰å…ˆè¦å»ºç«‹è¿æ¥ï¼ŒTCPæä¾›å¯é çš„æœåŠ¡ï¼Œé€šè¿‡TCPå»ºç«‹è¿æ¥ä¼ è¾“çš„æ•°æ®ä¸ä¼šä¸¢å¤±ï¼Œæ²¡æœ‰é‡å¤ï¼Œå¹¶ä¸”æŒ‰ç…§é¡ºåºåˆ°è¾¾ã€‚</span><br><span class="line">* UDPæ˜¯æ— è¿æ¥çš„åè®®ï¼Œå‘é€æ•°æ®å‰ä¸éœ€è¦å»ºç«‹è¿æ¥ï¼Œæ˜¯ä¸å¯é çš„</span><br><span class="line">* TCPåªæ”¯æŒç‚¹å¯¹ç‚¹é€šä¿¡ï¼Œè€ŒUDPæ”¯æŒä¸€å¯¹ä¸€ï¼Œå¤šå¯¹å¤š</span><br><span class="line">* TCPæ˜¯é¢å‘å­—èŠ‚æµçš„ï¼ŒUDPæ˜¯é¢å‘æŠ¥æ–‡çš„</span><br><span class="line">* TCPé€šä¿¡ç±»ä¼¼æ‰“ç”µè¯ï¼Œæ¥é€šåéœ€è¦ç¡®è®¤èº«ä»½ï¼Œæ‰å¯ä»¥å¼€å§‹é€šä¿¡</span><br><span class="line">* UDPç±»ä¼¼å¹¿æ’­ç›´æ¥è¿›è¡Œé€šä¿¡</span><br></pre></td></tr></table></figure><h2 id="TCP-IP-æ¨¡å‹"><a href="#TCP-IP-æ¨¡å‹" class="headerlink" title="TCP/IP æ¨¡å‹"></a>TCP/IP æ¨¡å‹</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">åº”ç”¨å±‚ï¼ˆåº”ç”¨å±‚å°±æ˜¯å‘ç”¨æˆ·æä¾›é€šä¿¡æœåŠ¡çš„æ´»åŠ¨ï¼Œæä¾›ç”¨æˆ·ç¨‹åºæ¥å£HTTPã€DNSï¼‰</span><br><span class="line">ä¼ è¾“å±‚ï¼ˆä¼ è¾“å±‚ä¸ºä¸¤å°ä¸»æœºä¸Šçš„åº”ç”¨ç¨‹åºæä¾›ç«¯åˆ°ç«¯çš„é€šä¿¡TCPï¼ŒUDPï¼‰</span><br><span class="line">ç½‘ç»œå±‚ï¼ˆç½‘ç»œå±‚å®ç°æ•°æ®åŒ…çš„é€‰è·¯å’Œè½¬å‘ï¼‰</span><br><span class="line">æ•°æ®é“¾è·¯å±‚ï¼ˆARPåœ°å€è§£æåè®®ã€RARPé€†åœ°å€è§£æåè®®ï¼Œä½¿ç”¨ç‰©ç†åœ°å€å¯»æ‰¾ä¸€å°æœºå™¨ï¼‰</span><br></pre></td></tr></table></figure><h2 id="æ­£å‘ä»£ç†å’Œåå‘ä»£ç†"><a href="#æ­£å‘ä»£ç†å’Œåå‘ä»£ç†" class="headerlink" title="æ­£å‘ä»£ç†å’Œåå‘ä»£ç†"></a>æ­£å‘ä»£ç†å’Œåå‘ä»£ç†</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">æ­£å‘ä»£ç†æ˜¯å®¢æˆ·ç«¯ä»£ç†ï¼ŒæœåŠ¡ç«¯ä¸çŸ¥é“æ˜¯å“ªä¸ªå®¢æˆ·ç«¯å‘èµ·çš„è¯·æ±‚</span><br><span class="line">åå‘ä»£ç†æ˜¯æœåŠ¡ç«¯ä»£ç†ï¼Œå®¢æˆ·ç«¯ä¸çŸ¥é“æ˜¯å“ªä¸ªæœåŠ¡ç«¯æä¾›çš„èµ„æº</span><br></pre></td></tr></table></figure><h2 id="OSI-æ¨¡å‹"><a href="#OSI-æ¨¡å‹" class="headerlink" title="OSI æ¨¡å‹"></a>OSI æ¨¡å‹</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">åº”ç”¨å±‚</span><br><span class="line">è¡¨ç¤ºå±‚</span><br><span class="line">ä¼šè¯å±‚</span><br><span class="line"></span><br><span class="line">ä¼ è¾“å±‚</span><br><span class="line"></span><br><span class="line">ç½‘ç»œå±‚</span><br><span class="line"></span><br><span class="line">æ•°æ®é“¾è·¯å±‚</span><br><span class="line">ç‰©ç†å±‚</span><br></pre></td></tr></table></figure><h2 id="ä¸‰æ¬¡æ¡æ‰‹"><a href="#ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="ä¸‰æ¬¡æ¡æ‰‹"></a>ä¸‰æ¬¡æ¡æ‰‹</h2><p>ä¸ºä»€ä¹ˆéœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿ<br>ä¸¤æ¬¡æ¡æ‰‹ç¬¬äºŒæ¬¡ç»“æŸåï¼ŒæœåŠ¡ç«¯å¹¶ä¸èƒ½ä¿è¯å®¢æˆ·ç«¯å·²ç»æ¥æ”¶åˆ°äº†ç¬¬äºŒæ¬¡çš„åº”ç­”ä¿¡æ¯ï¼Œå¦‚æ­¤ä¸€æ¥æœåŠ¡å™¨ä¼šä¸€ç›´ä¿æŒé€šä¿¡è¿‡ç¨‹ï¼Œå› ä¸º TCP é€šä¿¡ä¼šå ç”¨ç«¯å£ï¼Œé€ æˆèµ„æºæµªè´¹ã€‚</p><p>é˜²æ­¢å·²å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µçªç„¶åˆä¼ é€åˆ°æœåŠ¡ç«¯ï¼Œäº§ç”Ÿé”™è¯¯ã€‚<br>å¦‚ä¸Šè¿°æƒ…å†µï¼Œå¦‚æœ client æ²¡æœ‰å†æ¬¡å‘ server å‘å‡ºç¡®è®¤ï¼Œserver æ”¶ä¸åˆ°ç¡®è®¤å°±ä¸ä¼šå»ºç«‹è¿æ¥ï¼Œå¯ä»¥é¿å… server ç«¯ä¸€ç›´ç­‰å¾…æµªè´¹èµ„æºã€‚</p><h2 id="å››æ¬¡æŒ¥æ‰‹"><a href="#å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="å››æ¬¡æŒ¥æ‰‹"></a>å››æ¬¡æŒ¥æ‰‹</h2><ul><li><a href="https://blog.csdn.net/rememberyf/article/details/80309148">https://blog.csdn.net/rememberyf/article/details/80309148</a></li></ul><h2 id="301-å’Œ-302-çš„åŒºåˆ«"><a href="#301-å’Œ-302-çš„åŒºåˆ«" class="headerlink" title="301 å’Œ 302 çš„åŒºåˆ«"></a>301 å’Œ 302 çš„åŒºåˆ«</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">301 è¡¨ç¤ºèµ„æºè¢«æ°¸ä¹…ç§»é™¤ï¼Œæµè§ˆå™¨åœ¨æ‹¿åˆ°çŠ¶æ€ç åè·³è½¬åˆ°ä¸€ä¸ªæ–°çš„URLåœ°å€ï¼Œå¯ä»ç›¸åº”å¤´çš„locationé¦–éƒ¨ä¸­è·å–ï¼Œæœç´¢å¼•æ“åœ¨æŠ“å–æ–°å†…å®¹çš„åŒæ—¶ä¹Ÿå°†å°±åœ°å€äº¤æ¢ä¸ºé‡å®šå‘ä¹‹åçš„ç½‘å€ã€‚</span><br><span class="line"></span><br><span class="line">302 è¡¨ç¤ºåœ°å€èµ„æºè¿˜åœ¨ï¼Œä»å¯ä»¥è®¿é—®ï¼Œæœç´¢å¼•æ“ä¼šæŠ“å–æ–°çš„å†…å®¹è€Œä¿å­˜æ—§çš„åœ°å€ï¼Œseo 302 ä¼˜äº301.</span><br><span class="line"></span><br><span class="line">é‡å®šå‘çš„åŸå› ï¼š</span><br><span class="line">ç½‘ç«™è°ƒæ•´ï¼ˆæ”¹å˜ç½‘é¡µç›®å½•ç»“æ„ï¼‰</span><br><span class="line">é¡µé¢è¢«ç§»åˆ°ä¸€ä¸ªæ–°åœ°å€</span><br><span class="line">é¡µé¢æ‰©å±•åæ”¹å˜ .php -&gt;.html</span><br><span class="line">å¦‚æœä¸åšé‡å®šå‘ä¼šè¿”å›404é¡µé¢ï¼Œä¼šç™½ç™½æµå¤±ç”¨æˆ·è®¿é—®é‡ã€‚</span><br><span class="line"></span><br><span class="line">1XX ä¿¡æ¯æ€§çŠ¶æ€ç ï¼Œè¡¨ç¤ºæ¥å—çš„è¯·æ±‚æ­£åœ¨å¤„ç†</span><br><span class="line">2XX æˆåŠŸçŠ¶æ€ç ï¼Œè¡¨ç¤ºè¯·æ±‚è¢«æ­£å¸¸å¤„ç†å®Œæ¯•</span><br><span class="line">3XX é‡å®šå‘çŠ¶æ€ç ï¼Œè¡¨ç¤ºéœ€è¦è¿›è¡Œé™„åŠ æ“ä½œä»¥å®Œæˆè¯·æ±‚</span><br><span class="line">4XX å®¢æˆ·ç«¯é”™è¯¯çŠ¶æ€ç ï¼Œè¡¨ç¤ºæœåŠ¡å™¨æ— æ³•å¤„ç†è¯·æ±‚</span><br><span class="line">    400 Bad Requestè¯·æ±‚å‡ºç°è¯­æ³•é”™è¯¯</span><br><span class="line">    401 è¢«è¯·æ±‚çš„é¡µé¢éœ€è¦ç”¨æˆ·åå’Œå¯†ç </span><br><span class="line">    403 forbidden è¯·æ±‚é¡µé¢çš„è®¿é—®è¢«ç¦æ­¢</span><br><span class="line">    404 èµ„æºæœªæ‰¾åˆ°</span><br><span class="line">5XX æœåŠ¡å™¨é”™è¯¯çŠ¶æ€ç ï¼Œè¡¨ç¤ºæœåŠ¡å™¨å¤„ç†è¯·æ±‚å‡ºé”™</span><br><span class="line">    502 ç½‘å…³é”™è¯¯</span><br><span class="line">    503 æœåŠ¡å™¨è¶…è´Ÿè½½æˆ–è€…åœæœºç»´æŠ¤ï¼Œæ— æ³•å¤„ç†è¯·æ±‚</span><br><span class="line">    504 ç½‘å…³è¶…æ—¶</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h2><ul><li>cookie å¯ç”¨äºä¼ é€’å°‘é‡æ•°æ®ï¼Œæ˜¯ä¸€ä¸ªå†æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¹‹é—´æ¥å›ä¼ é€æ–‡æœ¬å€¼çš„å†…ç½®æœºåˆ¶ï¼ŒæœåŠ¡å™¨å¯ä»¥æ ¹æ® cookie è¿½è¸ªç”¨æˆ·åœ¨ä¸åŒé¡µé¢çš„è®¿é—®ä¿¡æ¯ã€‚</li><li>cookie ç‰¹ç‚¹<ul><li>1.å¤§å°é™åˆ¶ï¼Œcookie å¤§å°é™åˆ¶åœ¨ 4KB ä»¥å†…</li><li>2.å®½å¸¦é™åˆ¶ï¼Œcookie æ•°æ®ä¼šåœ¨æœåŠ¡å™¨å’Œæµè§ˆå™¨ä¹‹é—´æ¥å›ä¼ é€ï¼Œæ‰€ä»¥è®¿é—®é¡µé¢ä¼šæ¶ˆè€—å®½å¸¦ã€‚</li><li>3.å®‰å…¨é£é™©ï¼Œcookie ä¼šé¢‘ç¹çš„åœ¨ç½‘ç»œä¸­ä¼ é€ï¼Œä¸åŠ å¯†çš„æƒ…å†µä¸‹æ˜¯æœ‰å®‰å…¨é£é™©çš„ã€‚</li><li>4.æ“ä½œå¤æ‚<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function setCookie(name: string, value: string) &#123;</span><br><span class="line">    const exp = new Date();</span><br><span class="line">    //è¿‡æœŸæ—¶é—´è®¾ç½®ä¸ºä¸€å¤©</span><br><span class="line">    exp.setTime(exp.getTime() + 24 * 60 * 60 * 1000);</span><br><span class="line">    document.cookie = `$&#123;name&#125;=$&#123;escape(value);expires=$&#123;exp.toString()&#125;&#125;`;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><h2 id="localStorage-ä¼šè¯å­˜å‚¨-å’Œ-sessionStorage-æœ¬åœ°å­˜å‚¨"><a href="#localStorage-ä¼šè¯å­˜å‚¨-å’Œ-sessionStorage-æœ¬åœ°å­˜å‚¨" class="headerlink" title="localStorage ä¼šè¯å­˜å‚¨ å’Œ sessionStorage æœ¬åœ°å­˜å‚¨"></a>localStorage ä¼šè¯å­˜å‚¨ å’Œ sessionStorage æœ¬åœ°å­˜å‚¨</h2><ul><li>1.å­˜å‚¨å®¹é‡å¤§</li><li>2.é›¶å®½å¸¦ï¼Œä»…å­˜å‚¨åœ¨æœ¬åœ°ï¼Œä¸ä¼šå’ŒæœåŠ¡å™¨å‘ç”Ÿä»»ä½•äº¤äº’è¡Œä¸ºï¼Œä¸å­˜åœ¨ç½‘ç»œå®½å¸¦å ç”¨é—®é¢˜ã€‚</li><li>3.ç¼–ç¨‹æ¥å£ï¼Œæä¾›ä¸€å¥—ä¸°å¯Œçš„æ¥å£ï¼Œæ“ä½œæ•°æ®æ›´åŠ æ–¹ä¾¿ã€‚</li><li>4.ç‹¬ç«‹çš„å­˜å‚¨ç©ºé—´ï¼Œä¸ä¼šé€ æˆæ•°æ®çš„æ··ä¹±ã€‚</li></ul><ul><li><p>ä¸»è¦åŒºåˆ«åœ¨äºæ•°æ®å­˜å‚¨çš„ <code>æ—¶é—´èŒƒå›´</code>å’Œ<code>é¡µé¢èŒƒå›´</code></p><ul><li>sessionStorage: æ•°æ®åªå­˜å‚¨åˆ°çª—å£æˆ–æ ‡ç­¾å…³é—­æ—¶ï¼Œåªåœ¨å½“å‰çª—å£çš„å½“å‰æ ‡ç­¾å†…å¯è§,5M å·¦å³ï¼Œä¸åŒæµè§ˆå™¨ä¸åŒå¤§å°ã€‚</li><li>localStorage: æ•°æ®ä¼šä¸€ç›´å­˜åœ¨é™¤éæ‰‹åŠ¨æ¸…é™¤ï¼Œæ•°æ®å¯è¢«åŒæº(åè®®ã€åŸŸåã€ç«¯å£å·ä¸€è‡´)çš„æ¯ä¸ªçª—å£æˆ–æ ‡ç­¾å…±äº«,5M å·¦å³ï¼Œä¸åŒæµè§ˆå™¨ä¸åŒå¤§å°ã€‚</li></ul></li><li><p>ç›‘æµ‹æ˜¯å¦æ”¯æŒ web Storage</p><ul><li>1.é€šè¿‡ window.sessionStorage,window.localStorage åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒ</li><li>2.é€šè¿‡ try{}catch{} æ‰§è¡Œä¸€ä¸‹ storage.setItem(â€˜keyâ€™, value);storage.removeItem(â€˜keyâ€™),åˆ¤æ–­æ¥å£æ–¹æ³•æ˜¯å¦å¯ç”¨ã€‚</li></ul></li></ul><h2 id="html5-çš„å‡ ç§å­˜å‚¨å½¢å¼"><a href="#html5-çš„å‡ ç§å­˜å‚¨å½¢å¼" class="headerlink" title="html5 çš„å‡ ç§å­˜å‚¨å½¢å¼"></a>html5 çš„å‡ ç§å­˜å‚¨å½¢å¼</h2><ul><li>1.æœ¬åœ°å­˜å‚¨ localStorage,sessionStorage</li><li>2.ç¦»çº¿ç¼“å­˜ application cache</li><li><ol start="3"><li>indexedDb,webSQL</li></ol></li></ul><h2 id="æ€§èƒ½ä¼˜åŒ–"><a href="#æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="æ€§èƒ½ä¼˜åŒ–"></a>æ€§èƒ½ä¼˜åŒ–</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1.è´Ÿè½½å‡è¡¡ã€CDNåŠ é€Ÿã€è®¾ç½®ç¼“å­˜ã€</span><br><span class="line">2.ä¸šåŠ¡é€»è¾‘ä¼˜åŒ–</span><br><span class="line">3.ä»£ç ç¨‹åºä¼˜åŒ–ï¼ˆç»„ä»¶æŒ‰éœ€åŠ è½½ã€å›¾ç‰‡æ‡’åŠ è½½ï¼Œä»£ç å‹ç¼©ï¼‰</span><br><span class="line">4.é¿å…é‡ç»˜å›æµ</span><br><span class="line">é‡ç»˜ï¼šé¡µé¢å…ƒç´ çš„æ ·å¼æ”¹å˜ä¸ä¼šå½±å“å®ƒåœ¨æ–‡æ¡£æµä¸­çš„ä½ç½®æ—¶å‘ç”Ÿé‡ç»˜</span><br><span class="line">å›æµï¼šDOMå°ºå¯¸å¤§å°ç»“æ„å‘ç”Ÿå˜åŒ–æ—¶</span><br><span class="line">å›æµä¸€å®šä¼šå¯¼è‡´é‡ç»˜</span><br><span class="line">å¦‚ä½•é¿å…ï¼š</span><br><span class="line">1.é¿å…é¢‘ç¹æ“ä½œdomï¼Œé€šè¿‡åˆ›å»ºdocument.createDocumentFragment()ä¸€æ¬¡æ€§æ’å…¥éœ€è¦æ“ä½œçš„dom</span><br><span class="line">2.å…·æœ‰å¤æ‚åŠ¨ç”»çš„Domå…ƒç´ ä½¿ç”¨ç»å¯¹å®šä½ï¼Œä½¿å…¶è„±ç¦»æ–‡æ¡£æµ</span><br><span class="line">3.åˆå¹¶å¯¹äºDomä¸­styleæ ·å¼çš„æ“ä½œ</span><br><span class="line">4.é¿å…ä½¿ç”¨cssè¡¨è¾¾å¼ calc()</span><br></pre></td></tr></table></figure><h2 id="fetch-å’Œ-axios"><a href="#fetch-å’Œ-axios" class="headerlink" title="fetch å’Œ axios"></a>fetch å’Œ axios</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fetchå–æ¶ˆå‘é€</span><br><span class="line">1.åˆ›å»ºä¸€ä¸ªAbortControllerå®ä¾‹</span><br><span class="line">2.è¯¥å®ä¾‹å…·æœ‰signalå±æ€§</span><br><span class="line">3.å°†signalä¼ é€’ç»™fetch option</span><br><span class="line">4.è°ƒç”¨AbortControllerçš„abortå±æ€§æ¥å–æ¶ˆæ‰€æœ‰ä½¿ç”¨è¯¥ä¿¡å·çš„fetch</span><br><span class="line"></span><br><span class="line">axioså–æ¶ˆå‘é€</span><br><span class="line">1.const cancelToken = axios.CancelToken</span><br><span class="line">2.const source = CancelToken.source()</span><br><span class="line">3.axios.get(&#x27;/xxx&#x27;,&#123;cancelToken: source.token&#125;)</span><br></pre></td></tr></table></figure><h2 id="flex-å¸¸ç”¨å±æ€§ï¼Œgrid-å¸ƒå±€"><a href="#flex-å¸¸ç”¨å±æ€§ï¼Œgrid-å¸ƒå±€" class="headerlink" title="flex å¸¸ç”¨å±æ€§ï¼Œgrid å¸ƒå±€"></a>flex å¸¸ç”¨å±æ€§ï¼Œgrid å¸ƒå±€</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">flexå±æ€§ï¼š</span><br><span class="line">1.flex-directionå±æ€§ï¼Œå†³å®šä¸»è½´æ–¹å‘</span><br><span class="line">2.flex-wrapå±æ€§ï¼Œæ§åˆ¶æ¢è¡Œ</span><br><span class="line">3.flex-flowå±æ€§ï¼Œflex-directionå’Œflex-wrapçš„ç®€å†™å½¢å¼ï¼Œé»˜è®¤å€¼flex-flow: row  nowrap;</span><br><span class="line">4.justify-contentå±æ€§ï¼Œé¡¹ç›®ä¸»è½´ä¸Šçš„å¯¹é½æ–¹å¼</span><br><span class="line">5.align-itemå±æ€§ï¼Œé¡¹ç›®åœ¨äº¤å‰è½´ä¸Šçš„å¯¹é½æ–¹å¼</span><br><span class="line">6.align-contentå±æ€§ï¼Œå¤šä¸ªè½´çº¿çš„æ—¶å€™åœ¨å…ƒç´ åœ¨äº¤å‰è½´çš„å¯¹é½æ–¹å¼ï¼Œåªæœ‰ä¸€æ ¹è½´çº¿æ—¶ä¸èµ·ä½œç”¨</span><br><span class="line">flexï¼ˆå­å…ƒç´ çš„å±æ€§ï¼‰ï¼š</span><br><span class="line">1.orderå±æ€§,å®šä¹‰é¡¹ç›®çš„æ’åˆ—é¡ºåºï¼Œæ•°å€¼è¶Šå°ï¼Œæ’åˆ—è¶Šé å‰ï¼Œé»˜è®¤ä¸º0.</span><br><span class="line">2.align-selfå±æ€§ï¼Œå…è®¸å•ä¸ªé¡¹ç›®ä¸å…¶ä»–é¡¹ç›®ä¸ä¸€æ ·çš„å¯¹é½æ–¹å¼ï¼Œä¼šè¦†ç›–align-itemså±æ€§.</span><br><span class="line">3.flexå±æ€§ï¼Œflex-growã€flex-shrinkã€flex-basisç®€å†™ï¼Œé»˜è®¤ä¸º0 1 auto</span><br><span class="line">    auto(1 1 auto)       none(0 0 auto)</span><br><span class="line">4.flex-growå±æ€§ï¼Œå®šä¹‰é¡¹ç›®çš„æ”¾å¤§æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º0ï¼Œå³å¦‚æœå­˜åœ¨å‰©ä½™ç©ºé—´ä¹Ÿä¸æ”¾å¤§ï¼Œ1ç­‰åˆ†ï¼Œä¸€ä¸ªé¡¹ç›®ä¸º2ï¼Œå…¶ä»–ä¸º1ï¼Œåˆ™å‰è€…å æ®ç©ºé—´æ˜¯å…¶ä»–çš„ä¸¤å€ã€‚</span><br><span class="line">5.flex-shrinkå±æ€§ï¼Œå®šä¹‰é¡¹ç›®çš„ç¼©å°æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º1ï¼Œç©ºé—´ä¸è¶³åˆ™ç¼©å°ï¼Œå¦‚æœæ‰€æœ‰é¡¹ç›®éƒ½ä¸º1ï¼Œåˆ™ç­‰æ¯”ä¾‹ç¼©å°ï¼Œå¦‚æœæœ‰çš„é¡¹ç›®ä¸º0ï¼Œåˆ™ç©ºé—´ä¸è¶³æ—¶ä¸º0çš„ä¸ç¼©å°ï¼Œè´Ÿå€¼æ— æ•ˆ</span><br><span class="line">6.flex-basiså±æ€§ï¼Œé¡¹ç›®å æ®çš„å›ºå®šç©ºé—´</span><br></pre></td></tr></table></figure><h2 id="padding-bottom-å®ç°å­å…ƒç´ é«˜åº¦ç­‰äºçˆ¶å…ƒç´ å®½åº¦é—®é¢˜"><a href="#padding-bottom-å®ç°å­å…ƒç´ é«˜åº¦ç­‰äºçˆ¶å…ƒç´ å®½åº¦é—®é¢˜" class="headerlink" title="padding-bottom å®ç°å­å…ƒç´ é«˜åº¦ç­‰äºçˆ¶å…ƒç´ å®½åº¦é—®é¢˜"></a>padding-bottom å®ç°å­å…ƒç´ é«˜åº¦ç­‰äºçˆ¶å…ƒç´ å®½åº¦é—®é¢˜</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å½“marginæˆ–è€…paddingå–å€¼æ˜¯ç™¾åˆ†æ¯”çš„æ—¶å€™ï¼Œæ— è®ºæ˜¯leftï¼Œrightæˆ–è€…topï¼Œbottomï¼Œéƒ½æ˜¯ä»¥çˆ¶å…ƒç´ çš„widthä¸ºå‚è€ƒç‰©ï¼Œè¿›è¡Œæå‰å ä½</span><br></pre></td></tr></table></figure><h2 id="é¢„ç¼–è¯‘"><a href="#é¢„ç¼–è¯‘" class="headerlink" title="é¢„ç¼–è¯‘"></a>é¢„ç¼–è¯‘</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">åœ¨ä½œç”¨åŸŸçš„åˆ›å»ºé˜¶æ®µï¼ˆé¢„ç¼–è¯‘é˜¶æ®µï¼‰ï¼Œä¼šç”Ÿæˆjsçš„å˜é‡å¯¹è±¡ï¼ˆVOå¯¹è±¡ï¼‰ä¾›jså¼•æ“å»è®¿é—®ã€‚</span><br><span class="line">1.åˆ›å»ºaoå¯¹è±¡</span><br><span class="line">2.æ‰¾å½¢å‚å’Œå˜é‡å£°æ˜ï¼Œä½œä¸ºaoå¯¹è±¡çš„å±æ€§åï¼Œå€¼ä¸ºundefined</span><br><span class="line">3.å®å‚å’Œå½¢å‚ç›¸ç»Ÿä¸€</span><br><span class="line">4.æ‰¾å‡½æ•°å£°æ˜ï¼Œå¦‚æœåå­—å’Œå˜é‡ç›¸åŒåˆ™è¦†ç›–å˜é‡å£°æ˜</span><br><span class="line">5.è§£é‡Šæ‰§è¡Œ</span><br></pre></td></tr></table></figure><h2 id="ç®­å¤´å‡½æ•°ä¸­çš„-this"><a href="#ç®­å¤´å‡½æ•°ä¸­çš„-this" class="headerlink" title="ç®­å¤´å‡½æ•°ä¸­çš„ this"></a>ç®­å¤´å‡½æ•°ä¸­çš„ this</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.ç®­å¤´å‡½æ•°ä¸­çš„thisæ˜¯åœ¨å®šä¹‰å‡½æ•°çš„æ—¶å€™ç»‘å®šçš„ï¼ˆç»§æ‰¿è‡ªçˆ¶æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„thisï¼‰ï¼Œè€Œä¸æ˜¯æ‰§è¡Œå‡½æ•°æ—¶ç»‘å®šã€‚</span><br><span class="line">2.ç®­å¤´å‡½æ•°æ²¡æœ‰thisï¼Œæ‰€ä»¥ä¸èƒ½ç”¨ä½œæ„é€ å‡½æ•°ã€‚</span><br></pre></td></tr></table></figure><h2 id="Map-å’Œ-Set-ä¸¤ç§æ–°çš„æ•°æ®ç»“æ„çš„åŒºåˆ«ï¼Ÿ"><a href="#Map-å’Œ-Set-ä¸¤ç§æ–°çš„æ•°æ®ç»“æ„çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="Map å’Œ Set ä¸¤ç§æ–°çš„æ•°æ®ç»“æ„çš„åŒºåˆ«ï¼Ÿ"></a>Map å’Œ Set ä¸¤ç§æ–°çš„æ•°æ®ç»“æ„çš„åŒºåˆ«ï¼Ÿ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. Mapç±»ä¼¼Objectæ˜¯ä¸€ç§é”®å€¼å¯¹é›†åˆï¼ŒåŒºåˆ«åœ¨äºMapçš„é”®ä¸ä»…é™äºå­—ç¬¦ä¸²ï¼Œå…¶ä»–å„ç§ç±»å‹çš„å€¼éƒ½å¯ä»¥ä½œä¸ºMapçš„é”®</span><br><span class="line"></span><br><span class="line">2.Setæ˜¯ç±»ä¼¼æ•°ç»„çš„ä¸€ç§æ•°æ®ç»“æ„ï¼Œä¸ç‚¹åœ¨äºSetä¸­æ²¡æœ‰é‡å¤çš„å€¼</span><br></pre></td></tr></table></figure><h2 id="ä½ å¯¹é—­åŒ…äº†è§£å¤šå°‘ï¼Ÿ"><a href="#ä½ å¯¹é—­åŒ…äº†è§£å¤šå°‘ï¼Ÿ" class="headerlink" title="ä½ å¯¹é—­åŒ…äº†è§£å¤šå°‘ï¼Ÿ"></a>ä½ å¯¹é—­åŒ…äº†è§£å¤šå°‘ï¼Ÿ</h2><pre><code>è§£é‡Šä¸€ä¸‹ä½œç”¨åŸŸé“¾æ˜¯å¦‚ä½•äº§ç”Ÿçš„è§£é‡Šä¸€ä¸‹jsæ‰§è¡Œå±±ä¸‹æ–‡çš„åˆ›å»ºã€æ‰§è¡Œè¿‡ç¨‹è§£é‡Šä¸€ä¸‹é—­åŒ…æ‰€äº§ç”Ÿçš„å˜é‡æ”¾åœ¨å“ªé‡Œ</code></pre><ul><li>é—­åŒ…çš„å®šä¹‰ï¼šé—­åŒ…å°±æ˜¯èƒ½å¤Ÿè¯»å–å…¶ä»–å‡½æ•°å†…éƒ¨å˜é‡çš„å‡½æ•°ã€‚</li><li>é—­åŒ…çš„åº•å±‚å®ç°åŸç†</li><li>js æ‰§è¡Œä¸Šä¸‹æ–‡ï¼š</li><li><img src="https://img-blog.csdnimg.cn/20190527213618675.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMzMTg4NDIx,size_16,color_FFFFFF,t_70" alt="image"></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">jsè¿è¡Œä¸‰éƒ¨æ›²</span><br><span class="line">1.è¯­æ³•åˆ†æ</span><br><span class="line">2.é¢„ç¼–è¯‘</span><br><span class="line">3.è§£é‡Šæ‰§è¡Œ</span><br><span class="line"></span><br><span class="line">jsä»£ç éœ€è¦ç»è¿‡æµè§ˆå™¨V8å¼•æ“è¿›è¡Œé¢„ç¼–è¯‘ï¼Œé‡Œé¢æ¶‰åŠåˆ°å˜é‡æå‡ã€å‡½æ•°æå‡ã€‚</span><br><span class="line">é¢„ç¼–è¯‘çš„ç¯å¢ƒéœ€è¦ä¸ªç¯å¢ƒï¼Œè¿™ä¸ªç¯å¢ƒå°±æ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</span><br><span class="line"></span><br><span class="line">jsæ‰§è¡Œä¸Šä¸‹æ–‡åˆ†ä¸ºä¸‰ç§ï¼š</span><br><span class="line">1.å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼šä»£ç å¼€å§‹æ‰§è¡Œæ—¶é¦–å…ˆè¿›å…¥çš„ç¯å¢ƒ</span><br><span class="line">2.å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼šå‡½æ•°è°ƒç”¨æ—¶ï¼Œä¼šå¼€å§‹æ‰§è¡Œå‡½æ•°ä¸­çš„ä»£ç </span><br><span class="line">3.evalæ‰§è¡Œä¸Šä¸‹æ–‡ï¼šä¸å»ºè®®ä½¿ç”¨</span><br><span class="line"></span><br><span class="line">æ‰§è¡Œä¸Šä¸‹æ–‡çš„å‘¨æœŸï¼Œåˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µ</span><br><span class="line">1.åˆ›å»ºé˜¶æ®µ</span><br><span class="line">    åˆ›å»ºè¯æ³•ç¯å¢ƒ</span><br><span class="line">    ç”Ÿæˆå˜é‡å¯¹è±¡VOï¼Œå»ºç«‹ä½œç”¨åŸŸé“¾</span><br><span class="line">    ç¡®è®¤thisæŒ‡å‘ï¼Œå¹¶ç»‘å®šthis</span><br><span class="line">2.æ‰§è¡Œé˜¶æ®µ</span><br><span class="line">    è¿›è¡Œå˜é‡èµ‹å€¼ï¼Œå‡½æ•°å¼•ç”¨ä»¥åŠæ‰§è¡Œä»£ç </span><br><span class="line"></span><br><span class="line">é¢„ç¼–è¯‘å‘ç”Ÿåœ¨å‡½æ•°æ‰§è¡Œå‰ï¼Œé¢„ç¼–è¯‘å››éƒ¨æ›²ï¼š</span><br><span class="line">1.åˆ›å»ºAOå¯¹è±¡</span><br><span class="line">2.æ‰¾å½¢å‚å’Œå˜é‡å£°æ˜ï¼Œå°†å˜é‡å’Œå½¢å‚ä½œä¸ºAOçš„å±æ€§åï¼Œå€¼ä¸ºundefined</span><br><span class="line">3.å°†å½¢å‚å’Œå®å‚ç›¸ç»Ÿä¸€</span><br><span class="line">4.åœ¨å‡½æ•°ä½“ä¸­æ‰¾åˆ°å‡½æ•°å£°æ˜ï¼Œå€¼èµ‹äºˆå‡½æ•°ä½“ï¼ˆå‡½æ•°åç›¸åŒï¼Œåè€…è¦†ç›–å‰è€…ï¼‰</span><br><span class="line">5.æœ€åç¨‹åºè¾“å‡ºå˜é‡å€¼çš„æ—¶å€™ï¼Œå°±æ˜¯ä»AOå¯¹è±¡ä¸­æ‹¿</span><br><span class="line">ï¼ˆæ­¤æ—¶å°±äº§ç”Ÿäº†å¤–éƒ¨ä½œç”¨åŸŸçš„å¼•ç”¨ï¼ŒjsæŸ¥æ‰¾å˜é‡çš„è§„åˆ™å°±æ˜¯å¦‚æœåœ¨å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­æ‰¾ä¸åˆ°å˜é‡ï¼Œ</span><br><span class="line">å°±åœ¨è°ƒç”¨ä¸Šä¸‹æ–‡ä¸­å¯»æ‰¾ä»–ï¼Œå¦‚æœè¿˜æ²¡æœ‰å°±ä¸€ç›´å¾€ä¸Šä¸€çº§ï¼Œç›´åˆ°å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå¦‚æœè¿˜æ²¡æœ‰ï¼Œå°±æ˜¯undefinedï¼Œjså½¢æˆé—­åŒ…ï¼‰</span><br></pre></td></tr></table></figure><h2 id="åŸå‹"><a href="#åŸå‹" class="headerlink" title="åŸå‹"></a>åŸå‹</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">student.__proto__ === Student.prototype</span><br><span class="line">1.æ¯ä¸ªå‡½æ•°functionéƒ½ç”±ä¸€ä¸ªprototypeï¼Œå³æ˜¾å¼åŸå‹ã€‚æ˜¯åœ¨å®šä¹‰å‡½æ•°çš„æ—¶å€™è‡ªåŠ¨æ·»åŠ çš„ï¼Œé»˜è®¤æ˜¯ä¸€ä¸ªç©ºçš„Objectå¯¹è±¡</span><br><span class="line">2.æ¯ä¸ªå¼•ç”¨ç±»å‹éƒ½æœ‰ä¸€ä¸ª__proto__,å³éšå¼åŸå‹ã€‚æ˜¯åˆ›å»ºå¯¹è±¡æ—¶è‡ªåŠ¨æ·»åŠ çš„ï¼Œé»˜è®¤å€¼ä¸ºæ„é€ å‡½æ•°çš„prototypeå±æ€§å€¼</span><br><span class="line">å®ä¾‹å¯¹è±¡çš„éšå¼åŸå‹ ç­‰äº å¯¹åº”æ„é€ å‡½æ•°æˆ–ç±»çš„æ˜¾å¼åŸå‹</span><br><span class="line">èƒ½ç›´æ¥æ“ä½œæ˜¾å¼åŸå‹ï¼Œä¸èƒ½ç›´æ¥æ“ä½œéšå¼åŸå‹</span><br></pre></td></tr></table></figure><h2 id="ç®€å•è¯´ä¸‹åŸå‹é“¾"><a href="#ç®€å•è¯´ä¸‹åŸå‹é“¾" class="headerlink" title="ç®€å•è¯´ä¸‹åŸå‹é“¾"></a>ç®€å•è¯´ä¸‹åŸå‹é“¾</h2><ul><li><p>åŸå‹é“¾æ˜¯ç”±åŸå‹å¯¹è±¡ç»„æˆçš„ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰<strong>proto</strong>å±æ€§ï¼ŒæŒ‡å‘äº†åˆ›å»ºè¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°çš„<br>åŸå‹ï¼Œ<strong>proto</strong>å°†å¯¹è±¡è¿æ¥èµ·æ¥ç»„æˆäº†åŸå‹é“¾ã€‚</p></li><li><p>åŸå‹é“¾ï¼šç”¨æ¥å®ç°ç»§æ‰¿å’Œå…±äº«å±æ€§çš„æœ‰é™å¯¹è±¡é“¾ã€‚</p></li><li><p>æ¯ä¸ªå¯¹è±¡éƒ½æœ‰<strong>proto</strong>ï¼ˆéšå¼åŸå‹ï¼‰å±æ€§ï¼ŒæŒ‡å‘åˆ›å»ºè¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°çš„åŸå‹ã€‚å…¶å®<br>è¿™ä¸ªå±æ€§æŒ‡å‘äº† [[prototype]]ï¼Œä½†æ˜¯ [[prototype]] æ˜¯å†…éƒ¨å±æ€§ï¼Œæˆ‘ä»¬å¹¶ä¸èƒ½<br>è®¿é—®åˆ°ï¼Œæ‰€ä»¥ä½¿ç”¨ <em>proto</em> æ¥è®¿é—®ã€‚</p></li><li><p>å¯¹è±¡çš„éšå¼åŸå‹ç­‰äºå¯¹è±¡çš„æ„é€ å‡½æ•°çš„æ˜¾å¼åŸå‹ï¼šobj.<strong>proto</strong> === Object.prototype</p></li><li><p>è®¿é—®å±æ€§çš„æ—¶å€™ï¼Œjs å¼•æ“ä¼šè°ƒç”¨å†…éƒ¨çš„é»˜è®¤ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚[[Get]]æ“ä½œï¼Œ[[Get]]æ“ä½œé¦–å…ˆä¼šæ£€æŸ¥å¯¹è±¡æœ¬èº«æ˜¯å¦åŒ…å«è¿™ä¸ªå±æ€§<br>å¦‚æœå¯¹è±¡æ²¡æœ‰è¿™ä¸ªå±æ€§ï¼Œåˆ™å¯¹è±¡å¯ä»¥é€šè¿‡<strong>proto</strong>æ¥å¯»æ‰¾ä¸å±äºè¯¥å¯¹è±¡çš„å±æ€§ï¼Œ<strong>proto</strong><br>å°†å¯¹è±¡å’ŒåŸå‹è¿æ¥èµ·æ¥å½¢æˆåŸå‹é“¾</p></li><li><p>Function.prototype å’Œ Object.prototype æ˜¯ä¸¤ä¸ªç‰¹æ®Šçš„å¯¹è±¡ï¼Œä»–ä»¬ç”±å¼•æ“åˆ›å»ºã€‚</p></li></ul><h2 id="js-çš„-new-æ“ä½œç¬¦éƒ½åšäº†äº›ä»€ä¹ˆï¼Ÿ"><a href="#js-çš„-new-æ“ä½œç¬¦éƒ½åšäº†äº›ä»€ä¹ˆï¼Ÿ" class="headerlink" title="js çš„ new æ“ä½œç¬¦éƒ½åšäº†äº›ä»€ä¹ˆï¼Ÿ"></a>js çš„ new æ“ä½œç¬¦éƒ½åšäº†äº›ä»€ä¹ˆï¼Ÿ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">1. åˆ›å»ºä¸€ä¸ªç©ºçš„jså¯¹è±¡&#123;&#125;</span><br><span class="line">2. å°†ç©ºå¯¹è±¡çš„éšå¼åŸå‹__proto__æŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹</span><br><span class="line">3. å°†ç©ºå¯¹è±¡ä½œä¸ºæ„é€ å‡½æ•°çš„ä¸Šä¸‹æ–‡ï¼ˆæ”¹å˜thisæŒ‡å‘ï¼‰</span><br><span class="line">4. å¯¹æ„é€ å‡½æ•°è¿”å›å€¼åšåˆ¤æ–­</span><br><span class="line"></span><br><span class="line">å®ç°ï¼š</span><br><span class="line">function create(fn, ...args) &#123;</span><br><span class="line">    let obj = Object.create(&#123;&#125;);</span><br><span class="line"></span><br><span class="line">    // obj.__proto__ = fn.prototype;</span><br><span class="line">    Object.setPrototypeOf(obj, fn.prototype);</span><br><span class="line"></span><br><span class="line">    let result = fn.apply(obj, args);</span><br><span class="line"></span><br><span class="line">    return result instanceof Object ? result : obj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">è¡¥å……ï¼š</span><br><span class="line">åœ¨newçš„æ—¶å€™ï¼Œä¼šå¯¹æ„é€ å‡½æ•°çš„è¿”å›å€¼åšä¸€äº›åˆ¤æ–­</span><br><span class="line">1. å¦‚æœè¿”å›å€¼æ˜¯åŸºç¡€ç±»å‹æ•°æ®ï¼Œåˆ™å¿½ç•¥è¿”å›å€¼</span><br><span class="line">2. å¦‚æœè¿”å›å€¼æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ï¼Œåˆ™ä½¿ç”¨returnçš„è¿”å›ï¼Œä¹Ÿå°±æ˜¯newæ“ä½œç¬¦æ— æ•ˆ</span><br></pre></td></tr></table></figure><h2 id="calc-support-media-å„è‡ªçš„å«ä¹‰åŠç”¨æ³•ï¼Ÿ"><a href="#calc-support-media-å„è‡ªçš„å«ä¹‰åŠç”¨æ³•ï¼Ÿ" class="headerlink" title="calc, support, media å„è‡ªçš„å«ä¹‰åŠç”¨æ³•ï¼Ÿ"></a>calc, support, media å„è‡ªçš„å«ä¹‰åŠç”¨æ³•ï¼Ÿ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">@support ä¸»è¦ç”¨äºæ£€æµ‹æµè§ˆå™¨æ˜¯å¦æ”¯æŒcssçš„æŸä¸ªå±æ€§ï¼Œç›¸å½“äºæ¡ä»¶è¯­å¥ï¼Œæ”¯æŒçš„è¯å†™ä¸€å¥—æ ·å¼ï¼Œ</span><br><span class="line">ä¸æ”¯æŒå†™å¦å¤–ä¸€å¥—æ ·å¼ï¼Œä¾‹å¦‚</span><br><span class="line">    @supports (display: grid) &#123;</span><br><span class="line">      div &#123;</span><br><span class="line">        display: grid;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @supports not (display: grid) &#123;</span><br><span class="line">      div &#123;</span><br><span class="line">        float: right;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">calc(): ç”¨äºåŠ¨æ€è®¡ç®—å€¼ï¼Œæ”¯æŒ + - * / è¿ç®—ã€‚</span><br><span class="line"></span><br><span class="line">@mediaæŸ¥è¯¢ï¼šå¯ä»¥é’ˆå¯¹ä¸åŒçš„åª’ä½“ç±»å‹å®šä¹‰ä¸åŒçš„æ ·å¼ã€‚</span><br></pre></td></tr></table></figure><h2 id="ä»€ä¹ˆæ˜¯ä¼šè¯-cookie-ä»€ä¹ˆæ˜¯æŒä¹…-cookie"><a href="#ä»€ä¹ˆæ˜¯ä¼šè¯-cookie-ä»€ä¹ˆæ˜¯æŒä¹…-cookie" class="headerlink" title="ä»€ä¹ˆæ˜¯ä¼šè¯ cookie,ä»€ä¹ˆæ˜¯æŒä¹… cookie?"></a>ä»€ä¹ˆæ˜¯ä¼šè¯ cookie,ä»€ä¹ˆæ˜¯æŒä¹… cookie?</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cookieæ˜¯æœåŠ¡å™¨è¿”å›çš„ï¼ŒæŒ‡å®šäº†expireï¼ˆæœ‰æ•ˆæœŸï¼‰çš„æ˜¯æŒä¹…cookie,æ²¡æœ‰æŒ‡å®šçš„æ˜¯ä¼šè¯cookie</span><br></pre></td></tr></table></figure><h2 id="img-æ ‡ç­¾-title-å’Œ-alt-å±æ€§"><a href="#img-æ ‡ç­¾-title-å’Œ-alt-å±æ€§" class="headerlink" title="img æ ‡ç­¾ title å’Œ alt å±æ€§"></a>img æ ‡ç­¾ title å’Œ alt å±æ€§</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">alt: å›¾ç‰‡åŠ è½½å¤±è´¥æ—¶ï¼Œæ˜¾ç¤ºåœ¨ç½‘é¡µä¸Šçš„æ›¿ä»£æ–‡å­—</span><br><span class="line">title: é¼ æ ‡æ”¾åœ¨å›¾ç‰‡ä¸Šçš„æç¤ºæ–‡å­—</span><br><span class="line"></span><br><span class="line">altæ˜¯å¿…é¡»å±æ€§ï¼Œå¯ä»¥ä¸ºç©ºï¼›titleä¸ºéå¿…é¡»</span><br></pre></td></tr></table></figure><h2 id="es6-æ–°ç‰¹æ€§"><a href="#es6-æ–°ç‰¹æ€§" class="headerlink" title="es6 æ–°ç‰¹æ€§"></a>es6 æ–°ç‰¹æ€§</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.letå’Œconst</span><br><span class="line">2.æ¨¡ç‰ˆå­—ç¬¦ä¸²</span><br><span class="line">3.ç®­å¤´å‡½æ•°</span><br><span class="line">4.å‡½æ•°å¯ä»¥è®¾ç½®é»˜è®¤å‚æ•°å€¼</span><br><span class="line">5.æ‰©å±•è¿ç®—ç¬¦</span><br><span class="line">6.å¯¹è±¡å’Œæ•°ç»„çš„è§£æ„</span><br><span class="line">7.class</span><br></pre></td></tr></table></figure><h2 id="å›¾ç‰‡æ‡’åŠ è½½åŸç†"><a href="#å›¾ç‰‡æ‡’åŠ è½½åŸç†" class="headerlink" title="å›¾ç‰‡æ‡’åŠ è½½åŸç†"></a>å›¾ç‰‡æ‡’åŠ è½½åŸç†</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1. æµè§ˆå™¨æ˜¯å¦å‘èµ·è¯·æ±‚æ˜¯æ ¹æ®&lt;img /&gt;æ ‡ç­¾çš„srcå±æ€§</span><br><span class="line">2. æ‰€ä»¥æ‡’åŠ è½½çš„å…³é”®æ˜¯ï¼šåœ¨å›¾ç‰‡æ²¡æœ‰è¿›å…¥å¯è§†åŒºåŸŸæ—¶ï¼Œ</span><br><span class="line">å…ˆä¸ç»™&lt;img /&gt;çš„srcå±æ€§èµ‹å€¼ï¼Œç­‰åˆ°å›¾ç‰‡è¿›å…¥å¯æ˜¯åŒºåŸŸå†ç»™data-src -&gt; srcèµ‹å€¼ã€‚</span><br><span class="line"></span><br><span class="line">å½“å›¾ç‰‡åº•è¾¹è·ç¦»é¡µé¢çš„åç§»ï¼ˆå›¾ç‰‡é«˜åº¦+å›¾ç‰‡è·ç¦»é¡¶éƒ¨åç§»é«˜åº¦ï¼‰</span><br><span class="line">å°äºç­‰äº</span><br><span class="line">æµè§ˆå™¨åº•è¾¹è·ç¦»é¡µé¢é¡¶éƒ¨é«˜åº¦ï¼ˆæµè§ˆå™¨ä¸€å±é«˜åº¦ + æ»šåŠ¨åŒºåŸŸï¼‰</span><br></pre></td></tr></table></figure><h2 id=""><a href="#" class="headerlink" title=""></a></h2><h2 id="H5-æ–°å¢äº†å“ªäº›æ ‡ç­¾ï¼Ÿ"><a href="#H5-æ–°å¢äº†å“ªäº›æ ‡ç­¾ï¼Ÿ" class="headerlink" title="H5 æ–°å¢äº†å“ªäº›æ ‡ç­¾ï¼Ÿ"></a>H5 æ–°å¢äº†å“ªäº›æ ‡ç­¾ï¼Ÿ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">articleã€asideã€audioã€videoã€footerã€headerã€navã€section</span><br></pre></td></tr></table></figure><h2 id="SVG-å’Œ-Canvas-çš„åŒºåˆ«ï¼Ÿ"><a href="#SVG-å’Œ-Canvas-çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="SVG å’Œ Canvas çš„åŒºåˆ«ï¼Ÿ"></a>SVG å’Œ Canvas çš„åŒºåˆ«ï¼Ÿ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.svg:è¡¨ç¤ºä»¥XMLæ ¼å¼å®šä¹‰å›¾åƒçš„å¯ä¼¸ç¼©çŸ¢é‡å›¾å½¢ã€‚</span><br><span class="line">2.canvasï¼šé€šè¿‡jsæ¥ç»˜åˆ¶2Då›¾å½¢</span><br><span class="line"></span><br><span class="line">svgé€šè¿‡æ ‡ç­¾fillå±æ€§å¯ä»¥è°ƒæ•´é¢œè‰²</span><br></pre></td></tr></table></figure><h2 id="AMD-å’Œ-CMD-çš„åŒºåˆ«"><a href="#AMD-å’Œ-CMD-çš„åŒºåˆ«" class="headerlink" title="AMD å’Œ CMD çš„åŒºåˆ«"></a>AMD å’Œ CMD çš„åŒºåˆ«</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">å…±åŒç‚¹ï¼š</span><br><span class="line">1.ä¸¤è€…éƒ½æ˜¯æ¡†æ¶åœ¨æ¨å¹¿è¿‡ç¨‹ä¸­å¯¹æ¨¡å—å®šä¹‰çš„è§„èŒƒäº§å‡º</span><br><span class="line">2.éƒ½æ˜¯å¼‚æ­¥åŠ è½½æ¨¡å—</span><br><span class="line">ä¸åŒç‚¹ï¼š</span><br><span class="line">1.AMDæ˜¯RequireJsåœ¨æ¨å¹¿è¿‡ç¨‹ä¸­å¯¹æ¨¡å—å®šä¹‰çš„è§„èŒƒäº§å‡ºï¼ŒCMDæ˜¯SeaJsåœ¨æ¨å¹¿è¿‡ç¨‹ä¸­å¯¹æ¨¡å—å®šä¹‰çš„è§„èŒƒåŒ–äº§å‡º</span><br><span class="line">2.AMDæ¨å´‡ä¾èµ–å‰ç½®ï¼ŒCMDæ¨å´‡ä¾èµ–å°±è¿‘</span><br><span class="line">3.AMDçš„åº”ç”¨ä½“éªŒå¥½ï¼Œå› ä¸ºæ¨¡å—æå‰æ‰§è¡Œäº†ï¼ŒCMDæ€§èƒ½å¥½ï¼Œå› ä¸ºåªæœ‰ç”¨æˆ·éœ€è¦çš„æ—¶å€™æ‰æ‰§è¡Œ</span><br></pre></td></tr></table></figure><h2 id="å¦‚ä½•å®ç°-js-å€’è®¡æ—¶çš„çº åï¼Ÿ"><a href="#å¦‚ä½•å®ç°-js-å€’è®¡æ—¶çš„çº åï¼Ÿ" class="headerlink" title="å¦‚ä½•å®ç° js å€’è®¡æ—¶çš„çº åï¼Ÿ"></a>å¦‚ä½•å®ç° js å€’è®¡æ—¶çš„çº åï¼Ÿ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1. ç¬¬ä¸€ç§é€šè¿‡å‰ç«¯å®šæ—¶å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚è·å–æœ€æ–°çš„æ—¶é—´å·®ï¼Œä»¥æ­¤æ¥æ ¡å‡†å€’è®¡æ—¶æ—¶é—´ã€‚</span><br><span class="line">2. é€šè¿‡å‰ç«¯æ ¹æ®åå·®æ—¶é—´æ¥è‡ªåŠ¨è°ƒæ•´ä¸‹æ¬¡é—´éš”çš„æ—¶é—´æ¥å®ç°ï¼Œé¦–å…ˆä»¥setTimeouté€’å½’çš„æ–¹å¼æ¥å®ç°å€’è®¡æ—¶ï¼Œ</span><br><span class="line">é€šè¿‡ä¸€ä¸ªå˜é‡è®°å½•å€’è®¡æ—¶çš„ç§’æ•°ï¼Œæ ¹æ®ç§’æ•°å’Œé—´éš”æ—¶é—´è®¡ç®—å‡ºæ­¤æ—¶æ— åå·®æ—¶åº”è¯¥æ˜¾ç¤ºçš„æ—¶é—´ï¼Œ</span><br><span class="line">ç„¶åæ‹¿å½“å‰çœŸå®æ—¶é—´ä¸è¿™ä¸ªæ—¶é—´ç›¸å‡ï¼Œå°±å¯ä»¥å¾—åˆ°æ—¶é—´çš„åå·®å¤§å°ï¼Œå› æ­¤åœ¨è®¾ç½®ä¸‹ä¸€ä¸ªå®šæ—¶å™¨çš„æ—¶å€™ï¼Œ</span><br><span class="line">é—´éš”æ—¶é—´å‡å»è¿™ä¸ªåå·®å¤§å°å°±å¯ä»¥çº æ­£æ—¶é—´è¯¯å·®ã€‚</span><br></pre></td></tr></table></figure><h2 id="js-çš„æ‰§è¡Œæœºåˆ¶"><a href="#js-çš„æ‰§è¡Œæœºåˆ¶" class="headerlink" title="js çš„æ‰§è¡Œæœºåˆ¶"></a>js çš„æ‰§è¡Œæœºåˆ¶</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">jsæ˜¯å•çº¿ç¨‹çš„ï¼Œå¤„ç†jsä»»åŠ¡åªèƒ½ä¸€ä¸ªä¸€ä¸ªé¡ºåºæ‰§è¡Œï¼Œjsä¸­æŠŠä»»åŠ¡åˆ†ä¸ºäº†åŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡ï¼Œ</span><br><span class="line">åŒæ­¥ä»»åŠ¡è¿›å…¥ä¸»çº¿ç¨‹å…ˆæ‰§è¡Œï¼Œå¼‚æ­¥ä»»åŠ¡è¿›å…¥Event Tableå¹¶æ³¨å†Œå‡½æ•°ï¼ŒæŒ‡å®šäº‹æƒ…å®Œæˆåï¼ŒEvent Tableå°±ä¼šå°†å‡½æ•°ç§»å…¥åˆ°äº‹ä»¶é˜Ÿåˆ—Event Quequeä¸­ï¼Œç­‰å¾…ä¸»çº¿ç¨‹ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œ</span><br><span class="line">å°±ä¼šä»äº‹ä»¶é˜Ÿåˆ—ä¸­å–å‡ºå¯¹åº”äº‹ä»¶è¿›å…¥ä¸»çº¿ç¨‹æ‰§è¡Œã€‚</span><br><span class="line"></span><br><span class="line">macro-taskï¼ˆå®ä»»åŠ¡ï¼‰ï¼šåŒ…æ‹¬æ•´ä½“ä»£ç scriptã€setTimeoutã€setInterval</span><br><span class="line">micro-taskï¼ˆå¾®ä»»åŠ¡ï¼‰ï¼šPromise.thenã€process.nextTick</span><br><span class="line">å¾®ä»»åŠ¡å…ˆäºå®ä»»åŠ¡å…ˆæ‰§è¡Œï¼ˆé™¤äº†scriptï¼‰æ‰§è¡Œè¿‡ç¨‹ä¸åŒä»»åŠ¡è¿›å…¥ä¸åŒçš„event quue</span><br><span class="line"></span><br><span class="line">jså…ˆæ‰§è¡Œæ•´ä½“çš„åŒæ­¥ä»»åŠ¡ä»£ç ï¼Œé‡åˆ°å¾®ä»»åŠ¡å°±ä¼šå°†å…¶æ”¾å…¥åˆ°å¾®ä»»åŠ¡äº‹ä»¶é˜Ÿåˆ—ï¼Œ</span><br><span class="line">é‡åˆ°å®ä»»åŠ¡æ”¾åˆ°å®ä»»åŠ¡äº‹ä»¶é˜Ÿåˆ—ä¸­ã€‚</span><br><span class="line"></span><br><span class="line">ç„¶åæ•´ä½“çš„åŒæ­¥ä»»åŠ¡ä»£ç æ‰§è¡Œå®Œä¹‹åï¼Œå°±ä¼šå…ˆæ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œ</span><br><span class="line">ç­‰å¾…å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„æ‰€æœ‰ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œå†å»ä»å®ä»»åŠ¡é˜Ÿåˆ—ä¸­æ‰¾åˆ°ç¬¬ä¸€ä¸ªä»»åŠ¡è¿›è¡Œæ‰§è¡Œï¼Œ</span><br><span class="line">æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¦‚æœé‡åˆ°å¾®ä»»åŠ¡å°±ä¼šæ”¾åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œç­‰åˆ°è¯¥å®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œ</span><br><span class="line">å°±ä¼šæŸ¥çœ‹å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­æœ‰æ²¡æœ‰å¾®ä»»åŠ¡ï¼Œå¦‚æœæœ‰å°±å…ˆæ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œå¦åˆ™æ‰§è¡Œç¬¬äºŒä¸ªå®ä»»åŠ¡ï¼Œ</span><br><span class="line">ä»¥æ­¤ç±»æ¨ã€‚</span><br></pre></td></tr></table></figure><h1 id="React"><a href="#React" class="headerlink" title="React"></a>React</h1><h2 id="è¯·è¯´ä¸€ä¸‹ä½ å¯¹-React-çš„ç†è§£ï¼Ÿ"><a href="#è¯·è¯´ä¸€ä¸‹ä½ å¯¹-React-çš„ç†è§£ï¼Ÿ" class="headerlink" title="è¯·è¯´ä¸€ä¸‹ä½ å¯¹ React çš„ç†è§£ï¼Ÿ"></a>è¯·è¯´ä¸€ä¸‹ä½ å¯¹ React çš„ç†è§£ï¼Ÿ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">1. reactæ˜¯ä¸€ä¸ªç½‘é¡µçš„UIæ¡†æ¶ï¼Œé€šè¿‡ç»„ä»¶åŒ–çš„æ–¹å¼è§£å†³è§†å›¾å±‚å¼€å‘å¤ç”¨çš„é—®é¢˜ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªç»„ä»¶åŒ–æ¡†æ¶ã€‚</span><br><span class="line">2. reactçš„æ ¸å¿ƒè®¾è®¡æ€è·¯æœ‰ä¸‰ä¸ªï¼š</span><br><span class="line">å£°æ˜å¼</span><br><span class="line">    å‘½ä»¤å¼ï¼šå‘½ä»¤ç¨‹åºä¸€æ­¥ä¸€æ­¥çš„æ‰§è¡Œæ“ä½œ</span><br><span class="line">    å£°æ˜å¼ï¼šåªéœ€å‘Šè¯‰ç¨‹åºæˆ‘ä»¬æƒ³è¦çš„ç»“æœï¼Œå…¶ä»–çš„äº¤ç»™ç¨‹åºå»åšã€‚</span><br><span class="line">ç»„ä»¶åŒ–</span><br><span class="line">    å°†è§†å›¾æ‹†åˆ†å’Œæ¨¡å—å¤ç”¨ï¼Œåšåˆ°é«˜å†…èšä½è€¦åˆ</span><br><span class="line"></span><br><span class="line">é€šç”¨æ€§</span><br><span class="line">    ä¸€æ¬¡å­¦ä¹ ï¼Œéšå¤„ç¼–å†™ã€‚RNï¼Œreact360ç­‰ï¼Œè·¨å¹³å°åº•å±‚é è™šæ‹ŸDOMå®ç°</span><br><span class="line"></span><br><span class="line">3. ç¼ºç‚¹</span><br><span class="line">1.æ²¡æœ‰å®˜æ–¹ç³»ç»Ÿè§£å†³æ–¹æ¡ˆï¼Œåœ¨å¼€å‘å¤§å‹åº”ç”¨æ—¶éœ€è¦å‘ç¤¾åŒºå¯»æ‰¾å¹¶æ•´åˆè§£å†³æ–¹æ¡ˆã€‚</span><br><span class="line">2.è¿‡äºçµæ´»ï¼Œéœ€è¦æ³¨æ„ä»£ç è§„èŒƒ</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="React-lazy-æ‡’åŠ è½½"><a href="#React-lazy-æ‡’åŠ è½½" class="headerlink" title="React.lazy æ‡’åŠ è½½"></a>React.lazy æ‡’åŠ è½½</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// React.lazyæ–¹æ³•å¯ä»¥å¼‚æ­¥åŠ è½½ç»„ä»¶</span><br><span class="line">const Foo = React.lazy(() =&gt; import(&#x27;../components/Foo&#x27;)</span><br><span class="line"></span><br><span class="line">// React.lazyä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œéœ€è¦é…åˆReact.suspense,ç”¨æ¥åŒ…è£¹å¼‚æ­¥ç»„ä»¶ï¼Œæ·»åŠ loadingæ•ˆæœç­‰ã€‚</span><br><span class="line">&lt;React.Suspense fallback=&#123;&lt;div&gt;loading...&lt;/div&gt;&#125;&gt;</span><br><span class="line">    &lt;Foo /&gt;</span><br><span class="line">&lt;/React.Suspense&gt;</span><br><span class="line"></span><br><span class="line">React.lazyåŸç†</span><br><span class="line">React.lazyä½¿ç”¨importæ¥æ‡’åŠ è½½ç»„ä»¶ï¼Œimportåœ¨webpackä¸­æœ€ç»ˆä¼šè°ƒç”¨requireEnsureæ–¹æ³•ï¼ŒåŠ¨æ€æ’å…¥scriptæ¥è¯·æ±‚jsæ–‡ä»¶ï¼Œç±»ä¼¼jsonpçš„å½¢å¼ã€‚</span><br></pre></td></tr></table></figure><h2 id="ç±»ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶ä¹‹é—´çš„åŒºåˆ«ï¼Ÿ"><a href="#ç±»ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶ä¹‹é—´çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="ç±»ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶ä¹‹é—´çš„åŒºåˆ«ï¼Ÿ"></a>ç±»ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶ä¹‹é—´çš„åŒºåˆ«ï¼Ÿ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ç›¸åŒç‚¹ï¼š</span><br><span class="line">æ¥å—å±æ€§è¿”å›Reactå…ƒç´ </span><br><span class="line"></span><br><span class="line">ä¸åŒç‚¹ï¼š</span><br><span class="line">    1.ç¼–ç¨‹æ€æƒ³ä¸åŒï¼šç±»ç»„ä»¶éœ€è¦åˆ›å»ºå®ä¾‹ï¼ŒåŸºäºé¢å‘å¯¹è±¡çš„æ–¹å¼ç¼–ç¨‹ã€‚å‡½æ•°å¼ç»„ä»¶æ¥å—è¾“å…¥è¿”å›è¾“å‡ºï¼Œå±äºå‡½æ•°å¼ç¼–ç¨‹çš„æ€æƒ³ã€‚</span><br><span class="line">    2.å†…å­˜å ç”¨ï¼šç±»ç»„ä»¶éœ€è¦åˆ›å»ºå®ä¾‹ï¼Œä¼šå ç”¨å†…å­˜ï¼Œå‡½æ•°ç»„ä»¶ä¸éœ€è¦åˆ›å»ºå®ä¾‹ï¼Œå¯ä»¥èŠ‚çº¦å†…å­˜</span><br><span class="line">    3.æ•è·ç‰¹æ€§ï¼šå‡½æ•°ç»„ä»¶å…·æœ‰æ•è·ç‰¹æ€§</span><br><span class="line">    4.å¯æµ‹è¯•æ€§ï¼šå‡½æ•°ç»„ä»¶æ›´æ–¹ä¾¿ç¼–å†™å•å…ƒæµ‹è¯•</span><br><span class="line">    5.çŠ¶æ€ï¼šç±»ç»„ä»¶æœ‰å®ä¾‹å¯ä»¥ç»´æŠ¤è‡ªå·±çš„çŠ¶æ€ï¼Œå‡½æ•°ç»„ä»¶å¯ä»¥ä½¿ç”¨useStateç»´æŠ¤è‡ªå·±çš„çŠ¶æ€</span><br><span class="line">    6.å£°æ˜å‘¨æœŸï¼šç±»ç»„ä»¶æœ‰ç”Ÿå‘½å‘¨æœŸï¼Œå¯ä»¥åœ¨ç”Ÿå‘½å‘¨æœŸå†…å†™é€»è¾‘ï¼Œå‡½æ•°ç»„ä»¶å¯ä»¥åœ¨useEffectä¸­</span><br><span class="line">    7.é€»è¾‘å¤ç”¨ï¼šå‡½æ•°ç»„ä»¶é€šè¿‡ç»§æ‰¿å®ç°é€»è¾‘å¤ç”¨ï¼Œå‡½æ•°ç»„ä»¶å¯ä»¥é€šè¿‡è‡ªå®šä¹‰hookså®ç°é€»è¾‘å¤ç”¨</span><br><span class="line">    8.æ€§èƒ½ä¼˜åŒ–ï¼šç±»ç»„ä»¶é€šè¿‡shouldComponentUpdateå’ŒPureComponentæ¥è·³è¿‡æ›´æ–°ï¼Œå‡½æ•°ç»„ä»¶é€šè¿‡React.memo</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å½“è°ƒç”¨-setState-çš„æ—¶å€™ï¼Œå‘ç”Ÿäº†ä»€ä¹ˆäº‹ï¼Ÿ"><a href="#å½“è°ƒç”¨-setState-çš„æ—¶å€™ï¼Œå‘ç”Ÿäº†ä»€ä¹ˆäº‹ï¼Ÿ" class="headerlink" title="å½“è°ƒç”¨ setState çš„æ—¶å€™ï¼Œå‘ç”Ÿäº†ä»€ä¹ˆäº‹ï¼Ÿ"></a>å½“è°ƒç”¨ setState çš„æ—¶å€™ï¼Œå‘ç”Ÿäº†ä»€ä¹ˆäº‹ï¼Ÿ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å°†ä¼ é€’ç»™setStateçš„å‚æ•°å¯¹è±¡åˆå¹¶åˆ°ç»„ä»¶çš„å½“å‰çš„çŠ¶æ€ï¼Œreactéå†domèŠ‚ç‚¹ï¼Œè®¡ç®—å·®å¼‚ï¼Œæ›´æ–°UIã€‚</span><br><span class="line">https://segmentfault.com/a/1190000018250127</span><br></pre></td></tr></table></figure><h2 id="ä¸ºä»€ä¹ˆ-setState-çš„å‚æ•°æ˜¯ä¸€ä¸ª-callback-è€Œä¸æ˜¯ä¸€ä¸ªå¯¹è±¡"><a href="#ä¸ºä»€ä¹ˆ-setState-çš„å‚æ•°æ˜¯ä¸€ä¸ª-callback-è€Œä¸æ˜¯ä¸€ä¸ªå¯¹è±¡" class="headerlink" title="ä¸ºä»€ä¹ˆ setState çš„å‚æ•°æ˜¯ä¸€ä¸ª callback è€Œä¸æ˜¯ä¸€ä¸ªå¯¹è±¡"></a>ä¸ºä»€ä¹ˆ setState çš„å‚æ•°æ˜¯ä¸€ä¸ª callback è€Œä¸æ˜¯ä¸€ä¸ªå¯¹è±¡</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">å› ä¸ºthis.propså’Œthis.stateçš„æ›´æ–°å¯èƒ½æ˜¯å¼‚æ­¥çš„ï¼Œä¸èƒ½ä¾èµ–å®ƒä»¬çš„å€¼å»è®¡ç®—ä¸‹ä¸€ä¸ªstate</span><br><span class="line">(æ›´æ–°çŠ¶æ€ä¸è¦ç›´æ¥ä¿®æ”¹this.stateï¼Œè™½ç„¶çŠ¶æ€å¯ä»¥æ”¹å˜ï¼Œä½†ä¸ä¼šè§¦å‘ç»„ä»¶çš„æ›´æ–°)</span><br><span class="line"></span><br><span class="line">setStateä½•æ—¶åŒæ­¥ä½•æ—¶å¼‚æ­¥ï¼Ÿ</span><br><span class="line">å¼‚æ­¥ï¼šç”±Reactæ§åˆ¶çš„äº‹ä»¶å¤„ç†ç¨‹åºä»¥åŠç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­è°ƒç”¨setStateä¸ºå¼‚æ­¥</span><br><span class="line">åŒæ­¥ï¼šReactæ§åˆ¶ä¹‹å¤–çš„åŸç”Ÿjsç»‘å®šçš„äº‹ä»¶ã€setTimeout/setIntervalç­‰ã€‚</span><br></pre></td></tr></table></figure><h2 id="setState-ä»€ä¹ˆæ—¶å€™åŒæ­¥ä»€ä¹ˆæ—¶å€™å¼‚æ­¥ï¼Ÿ"><a href="#setState-ä»€ä¹ˆæ—¶å€™åŒæ­¥ä»€ä¹ˆæ—¶å€™å¼‚æ­¥ï¼Ÿ" class="headerlink" title="setState ä»€ä¹ˆæ—¶å€™åŒæ­¥ä»€ä¹ˆæ—¶å€™å¼‚æ­¥ï¼Ÿ"></a>setState ä»€ä¹ˆæ—¶å€™åŒæ­¥ä»€ä¹ˆæ—¶å€™å¼‚æ­¥ï¼Ÿ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">reactä¸‰ä¸ªæ¨¡å¼ï¼š</span><br><span class="line">1.legacyæ¨¡å¼ï¼š é€šè¿‡ReactDOM.render(&lt;App /&gt;, rootNode)åˆ›å»ºçš„ï¼Œå½“å‰reactçš„ä½¿ç”¨æ–¹å¼</span><br><span class="line">2.blockingæ¨¡å¼ï¼šé€šè¿‡ReactDOM.createBlockingRoot(rootNode).render(&lt;App /&gt;),å®éªŒé˜¶æ®µï¼Œä½œä¸ºè¿ç§»åˆ°concurrentæ¨¡å¼çš„ç¬¬ä¸€ä¸ªæ­¥éª¤</span><br><span class="line">3.concurrentæ¨¡å¼ï¼Œé€šè¿‡ReactDOM.createRoot(rootNode).render(&lt;App /&gt;),å®éªŒé˜¶æ®µï¼Œæœªæ¥reactçš„é»˜è®¤å¼€å‘æ¨¡å¼</span><br><span class="line"></span><br><span class="line">setState åªåœ¨åˆæˆäº‹ä»¶ï¼ˆreactä¸ºäº†è§£å†³è·¨å¹³å°ï¼Œå…¼å®¹æ€§é—®é¢˜ï¼Œè‡ªå·±å°è£…äº†ä¸€å¥—äº‹ä»¶æœºåˆ¶ï¼Œä»£ç†äº†åŸç”Ÿçš„äº‹ä»¶ï¼‰å’Œé’©å­å‡½æ•°ï¼ˆç”Ÿå‘½å‘¨æœŸä¸­ï¼‰æ˜¯å¼‚æ­¥çš„ï¼Œåœ¨åŸç”Ÿäº‹ä»¶å’ŒsetTimeoutä¸­éƒ½æ˜¯åŒæ­¥çš„ã€‚</span><br><span class="line"></span><br><span class="line">ä¸åŒæ¨¡å¼æ‰§è¡Œç»“æœä¸åŒï¼Œlegacyæ¨¡å¼å‘½ä¸­batchedUpadatesï¼ˆæ‰¹å¤„ç†ï¼‰æ—¶å¼‚æ­¥ï¼Œä¸ºå‘½ä¸­æ—¶åŒæ­¥</span><br><span class="line">concurrentæ¨¡å¼éƒ½æ˜¯å¼‚æ­¥çš„</span><br><span class="line"></span><br><span class="line">setStateå¼‚æ­¥å¹¶ä¸æ˜¯è¯´å†…éƒ¨ç”±å¼‚æ­¥ä»£ç å®ç°ï¼Œå…¶æœ¬èº«æ‰§è¡Œè¿‡ç¨‹å’Œä»£ç éƒ½æ˜¯åŒæ­¥çš„ï¼Œåªæ˜¯åˆæˆäº‹ä»¶å’Œé’©å­å‡½æ•°çš„è°ƒç”¨é¡ºåºåœ¨æ›´æ–°ä¹‹å‰ï¼Œå¯¼è‡´åœ¨åˆæˆäº‹ä»¶å’Œé’©å­å‡½æ•°ä¸­æ²¡æ³•ç«‹é©¬æ‹¿åˆ°æ›´æ–°åçš„å€¼ï¼Œå½¢æˆäº†â€œå¼‚æ­¥â€</span><br><span class="line"></span><br><span class="line">å¯ä»¥é€šè¿‡ç¬¬äºŒä¸ªå‚æ•°çš„callbackå›è°ƒå‡½æ•°ä¸­æ‹¿åˆ°æœ€æ–°çš„å€¼ï¼Œåœ¨å¼‚æ­¥ä¸­å¦‚æœå¯¹åŒä¸€ä¸ªå€¼è¿›è¡Œå¤šæ¬¡setStateï¼Œé‚£ä¹ˆsetStateçš„æ‰¹é‡æ›´æ–°ç­–ç•¥ä¼šå°†å…¶è¦†ç›–ï¼Œå»æœ€åä¸€æ¬¡çš„æ‰§è¡Œï¼Œå¦‚æœåŒæ—¶setStateå¤šä¸ªå€¼ï¼Œä¼šåœ¨æ›´æ–°æ—¶å¯¹å…¶è¿›è¡Œåˆå¹¶æ‰¹é‡æ›´æ–°ã€‚</span><br></pre></td></tr></table></figure><h2 id="react-æ¸²æŸ“æœºåˆ¶"><a href="#react-æ¸²æŸ“æœºåˆ¶" class="headerlink" title="react æ¸²æŸ“æœºåˆ¶"></a>react æ¸²æŸ“æœºåˆ¶</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">é¦–å…ˆæ‰“å¼€é¡µé¢ä¼šæ¸²æŸ“å‡ºä¸€é¢—DOMæ ‘ï¼Œæ›´æ–°æ•°æ®ä¼šç”Ÿæˆä¸€é¢—è™šæ‹ŸDOMæ ‘ï¼Œé€šè¿‡diffç®—æ³•ï¼Œ</span><br><span class="line">æ¯”è¾ƒä¸¤é¢—DOMæ ‘çš„å·®å¼‚ï¼Œæ‰¾åˆ°æ›´æ–°çš„åœ°æ–¹è¿›è¡Œæ‰¹é‡æ”¹åŠ¨ã€‚</span><br><span class="line"></span><br><span class="line">diffï¼šè®¡ç®—ä¸€æ£µæ ‘å½¢ç»“æ„åˆ°å¦ä¸€é¢—æ ‘å½¢ç»“æ„çš„æœ€å°‘æ“ä½œã€‚</span><br><span class="line"></span><br><span class="line">1.æŠŠæ ‘å½¢ç»“æ„æŒ‰ç…§å±‚çº§åˆ†è§£ï¼Œåªæ¯”è¾ƒåŒçº§å…ƒç´ </span><br><span class="line">2.ç»™åˆ—è¡¨ç»“æ„çš„æ¯ä¸ªå•å…ƒæ·»åŠ å”¯ä¸€çš„ key å±æ€§ï¼Œæ–¹ä¾¿æ¯”è¾ƒ</span><br><span class="line">3.diffåªç®€å•è€ƒè™‘åŒå±‚çº§çš„èŠ‚ç‚¹ä½ç½®å˜æ¢ï¼Œå¦‚æœæ˜¯è·¨å±‚çº§çš„è¯ï¼Œåªæœ‰åˆ›å»ºèŠ‚ç‚¹å’Œåˆ é™¤èŠ‚ç‚¹çš„æ“ä½œã€‚ï¼ˆå®˜æ–¹ä¹Ÿä¸æ¨èï¼‰</span><br></pre></td></tr></table></figure><h2 id="React-StrictMode-ç›®å‰æœ‰åŠ©äºï¼š"><a href="#React-StrictMode-ç›®å‰æœ‰åŠ©äºï¼š" class="headerlink" title="React.StrictMode ç›®å‰æœ‰åŠ©äºï¼š"></a>React.StrictMode ç›®å‰æœ‰åŠ©äºï¼š</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¯†åˆ«ä¸å®‰å…¨çš„ç”Ÿå‘½å‘¨æœŸ</span><br><span class="line">å…³äºä½¿ç”¨è¿‡æ—¶å­—ç¬¦ä¸² ref API çš„è­¦å‘Š</span><br><span class="line">å…³äºä½¿ç”¨åºŸå¼ƒçš„ findDOMNode æ–¹æ³•çš„è­¦å‘Š</span><br><span class="line">æ£€æµ‹æ„å¤–çš„å‰¯ä½œç”¨</span><br><span class="line">æ£€æµ‹è¿‡æ—¶çš„ context API</span><br></pre></td></tr></table></figure><h2 id="è™šæ‹Ÿ-DOM-ä¼˜ç‚¹"><a href="#è™šæ‹Ÿ-DOM-ä¼˜ç‚¹" class="headerlink" title="è™šæ‹Ÿ DOM ä¼˜ç‚¹"></a>è™šæ‹Ÿ DOM ä¼˜ç‚¹</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">1. å‡å°‘ä¸å¿…è¦çš„DOMæ“ä½œ</span><br><span class="line">    1.1è™šæ‹Ÿdomå¯ä»¥å°†å¤šæ¬¡æ“ä½œåˆå¹¶ä¸ºä¸€æ¬¡æ“ä½œï¼Œæ¯”å¦‚æ·»åŠ 100ä¸ªèŠ‚ç‚¹ï¼Œç¡®æ˜¯ä¸€ä¸ªä¸€ä¸ªæ“ä½œçš„</span><br><span class="line">    1.2è™šæ‹Ÿdomå€ŸåŠ©dom diffå¯ä»¥å°†å¤šä½™çš„æ“ä½œçœç•¥æ‰ï¼Œæ¯”å¦‚æ·»åŠ 100ä¸ªèŠ‚ç‚¹ï¼Œå…¶ä¸­10ä¸ªæ˜¯æ–°å¢çš„</span><br><span class="line"></span><br><span class="line">2. è·¨å¹³å°æ¸²æŸ“</span><br><span class="line">    1.å› ä¸ºè™šæ‹Ÿdomæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªjså¯¹è±¡</span><br><span class="line"></span><br><span class="line">reactè™šæ‹Ÿdomç»“æ„:</span><br><span class="line"></span><br><span class="line">const vNode = &#123;</span><br><span class="line">    key: null,</span><br><span class="line">    props:&#123;</span><br><span class="line">        children: [</span><br><span class="line">            &#123;type: &#x27;span&#x27;, ....&#125;,</span><br><span class="line">        ],</span><br><span class="line">        className: &#x27;red&#x27;,</span><br><span class="line">        onClick: () =&gt; &#123;&#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    ref: null,</span><br><span class="line">    type: &#x27;div&#x27;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">åˆ›å»ºè™šæ‹Ÿdomï¼šReact.createElement</span><br></pre></td></tr></table></figure><h2 id="diff-ç­–ç•¥"><a href="#diff-ç­–ç•¥" class="headerlink" title="diff ç­–ç•¥"></a>diff ç­–ç•¥</h2><p>`<br>ç­–ç•¥ä¸€ï¼š tree diff<br>1.React å¯¹æ ‘è¿›è¡Œåˆ†å±‚æ¯”è¾ƒï¼Œä¸¤é¢—è™šæ‹Ÿ DOM æ ‘åªä¼šå¯¹åŒä¸€å±‚çº§çš„ DOM èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒã€‚<br>å¦‚æœå­˜åœ¨è·¨å±‚çº§çš„æ“ä½œï¼Œåªä¼šè¿›è¡Œåˆ›å»ºå’Œåˆ é™¤ 2.å¦‚æœèŠ‚ç‚¹æ˜¯ç»„ä»¶å°±è¿›è¡Œ Component diff 3.å¦‚æœèŠ‚ç‚¹æ˜¯æ ‡ç­¾å°±è¿›è¡Œ Element diff</p><p>ç­–ç•¥äºŒï¼šcomponent diff<br>å¦‚æœä¸ºéåŒç±»å‹ç»„ä»¶çš„è¯æ ‡è®°ç»„ä»¶ä¸º dirty componentï¼Œæ›¿æ¢ç»„ä»¶ä¸‹æ‰€æœ‰å­èŠ‚ç‚¹ï¼Œ<br>ç±»å‹ç›¸åŒæ›´æ–°å±æ€§ï¼Œç„¶åæ·±å…¥ç»„ä»¶è¿›è¡Œ Tree diffï¼ˆé€’å½’éå†å¯¹æ¯”ï¼‰</p><p>ç­–ç•¥ä¸‰ï¼šelement diff<br>å¦‚æœèŠ‚ç‚¹æ˜¯åŸç”Ÿæ ‡ç­¾ï¼Œåˆ™çœ‹æ ‡ç­¾å<br>æ ‡ç­¾åä¸åŒç›´æ¥æ›¿æ¢ï¼Œç›¸åŒæ›´æ–°å±æ€§ï¼Œç„¶åè¿›å…¥æ ‡ç­¾è¿›è¡Œ Tree diffï¼ˆé€’å½’éå†å¯¹æ¯”ï¼‰<br>`</p><h2 id="shouldComponentUpdate-nextProps-nextState-æ˜¯åšä»€ä¹ˆçš„ï¼Œï¼ˆreact-æ€§èƒ½ä¼˜åŒ–æ˜¯å“ªä¸ªå‘¨æœŸå‡½æ•°ï¼Ÿï¼‰"><a href="#shouldComponentUpdate-nextProps-nextState-æ˜¯åšä»€ä¹ˆçš„ï¼Œï¼ˆreact-æ€§èƒ½ä¼˜åŒ–æ˜¯å“ªä¸ªå‘¨æœŸå‡½æ•°ï¼Ÿï¼‰" class="headerlink" title="shouldComponentUpdate(nextProps, nextState)æ˜¯åšä»€ä¹ˆçš„ï¼Œï¼ˆreact æ€§èƒ½ä¼˜åŒ–æ˜¯å“ªä¸ªå‘¨æœŸå‡½æ•°ï¼Ÿï¼‰"></a>shouldComponentUpdate(nextProps, nextState)æ˜¯åšä»€ä¹ˆçš„ï¼Œï¼ˆreact æ€§èƒ½ä¼˜åŒ–æ˜¯å“ªä¸ªå‘¨æœŸå‡½æ•°ï¼Ÿï¼‰</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">shouldComponentUpdate è¿™ä¸ªæ–¹æ³•ç”¨æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦è°ƒç”¨renderæ–¹æ³•é‡æ–°ç»˜åˆ¶dom,</span><br><span class="line">ç”±äºæ¸²æŸ“doméå¸¸æ¶ˆè€—æ€§èƒ½ï¼Œåˆç†çš„è°ƒç”¨shouldComponentUpdateæ–¹æ³•å¯ä»¥æå¤§çš„æé«˜æ€§èƒ½ã€‚</span><br></pre></td></tr></table></figure><h2 id="createElement-å’Œ-cloneElement-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#createElement-å’Œ-cloneElement-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="createElement å’Œ cloneElement æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>createElement å’Œ cloneElement æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">React.createElement()æ„å»ºReactå…ƒç´ ã€‚</span><br><span class="line">æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ ‡ç­¾åï¼Œå¦‚divã€spanç­‰ï¼Œæˆ–è€…reactç»„ä»¶ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºä¼ å…¥çš„å±æ€§ï¼Œç¬¬ä¸‰ä¸ªä¸ºç»„ä»¶çš„å­ç»„ä»¶ã€‚</span><br><span class="line">React.createElement(</span><br><span class="line">    type,</span><br><span class="line">    [props],</span><br><span class="line">    [...children]</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">React.cloneElement(),ç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥reactå…ƒç´ ä¸æ˜¯æ ‡ç­¾åï¼Œç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥å±æ€§ï¼Œæ–°æ·»åŠ çš„å±æ€§ä¼šå¹¶å…¥åŸæœ‰çš„å±æ€§ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºå­ç»„ä»¶</span><br><span class="line">React.cloneElement(</span><br><span class="line">    element,</span><br><span class="line">    [props],</span><br><span class="line">    [...children]</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h2 id="è™šæ‹Ÿ-DOM-çš„ä¼˜ç¼ºç‚¹ï¼Ÿ"><a href="#è™šæ‹Ÿ-DOM-çš„ä¼˜ç¼ºç‚¹ï¼Ÿ" class="headerlink" title="è™šæ‹Ÿ DOM çš„ä¼˜ç¼ºç‚¹ï¼Ÿ"></a>è™šæ‹Ÿ DOM çš„ä¼˜ç¼ºç‚¹ï¼Ÿ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ä¼˜ç‚¹ï¼š</span><br><span class="line">1. å¤„ç†äº†æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜ï¼Œé¿å…äº†ç”¨æˆ·æ“ä½œçœŸå®DOM</span><br><span class="line">2.å†…å®¹ç»è¿‡xsså¤„ç†ï¼Œå¯ä»¥é˜²èŒƒxssæ”»å‡»</span><br><span class="line">3.è·¨å¹³å°å¼€å‘</span><br><span class="line">4.æ›´æ–°çš„æ—¶å€™å¯ä»¥å®ç°å·®å¼‚åŒ–æ›´æ–°ï¼Œå‡å°‘æ›´æ–°DOMçš„æ“ä½œ</span><br><span class="line"></span><br><span class="line">ç¼ºç‚¹ï¼š</span><br><span class="line">1.è™šæ‹ŸDOMéœ€è¦æ¶ˆè€—é¢å¤–çš„å†…å­˜</span><br><span class="line">2.é¦–æ¬¡æ¸²æŸ“ä¸ä¸€å®šä¼šæ›´å¿«</span><br></pre></td></tr></table></figure><h2 id="React-ä¸­åˆ›å»ºç»„ä»¶çš„æ–¹å¼"><a href="#React-ä¸­åˆ›å»ºç»„ä»¶çš„æ–¹å¼" class="headerlink" title="React ä¸­åˆ›å»ºç»„ä»¶çš„æ–¹å¼"></a>React ä¸­åˆ›å»ºç»„ä»¶çš„æ–¹å¼</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">React.createClass()ã€ES6 classç»„ä»¶ æ— æ— çŠ¶æ€å‡½æ•°å¼ç»„ä»¶</span><br></pre></td></tr></table></figure><h2 id="-1"><a href="#-1" class="headerlink" title=""></a></h2><h2 id="react-ä¸­-key-çš„ä½œç”¨"><a href="#react-ä¸­-key-çš„ä½œç”¨" class="headerlink" title="react ä¸­ key çš„ä½œç”¨"></a>react ä¸­ key çš„ä½œç”¨</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">keyåœ¨reactä¸­ç”¨äºè¿½è¸ªå“ªäº›åˆ—è¡¨ä¸­å…ƒç´ è¢«ä¿®æ”¹ã€æ·»åŠ æˆ–è€…ç§»é™¤çš„è¾…åŠ©æ ‡è¯†ã€‚</span><br><span class="line"></span><br><span class="line">åœ¨å¼€å‘ä¸­ï¼Œéœ€è¦ä¿è¯æŸä¸ªå…ƒç´ çš„keyåœ¨åŒçº§å…ƒç´ ä¸­å…·æœ‰å”¯ä¸€æ€§ã€‚</span><br><span class="line"></span><br><span class="line">diffç®—æ³•ä¼šå€ŸåŠ©å…ƒç´ çš„keyå€¼æ¥åˆ¤æ–­å…ƒç´ æ˜¯æ–°åˆ›å»ºçš„è¿˜æ˜¯è¢«ç§»åŠ¨è€Œæ¥çš„å…ƒç´ ï¼Œä»è€Œå‡å°‘ä¸å¿…è¦çš„å…ƒç´ é‡æ¸²æŸ“</span><br></pre></td></tr></table></figure><h2 id="react-ä¼˜åŠ¿"><a href="#react-ä¼˜åŠ¿" class="headerlink" title="react ä¼˜åŠ¿"></a>react ä¼˜åŠ¿</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. é€Ÿåº¦å¿«ï¼šä¸ç›´æ¥æ“ä½œdomï¼Œé‡‡ç”¨è™šæ‹Ÿdomçš„æ¦‚å¿µ</span><br><span class="line">2.è·¨æµè§ˆå™¨å…¼å®¹ï¼Œå…¼å®¹æ€§å¥½</span><br><span class="line">3.ä¸€åˆ‡éƒ½æ˜¯componentï¼Œä»£ç æ›´åŠ æ¨¡å—åŒ–ï¼Œå¯ç»´æŠ¤æ€§é«˜</span><br><span class="line">4.å•å‘æ•°æ®æµï¼Œé‡‡ç”¨Fluxå•å‘æ•°æ®å±‚æ¶æ„</span><br></pre></td></tr></table></figure><h2 id="react-äº‹ä»¶æœºåˆ¶"><a href="#react-äº‹ä»¶æœºåˆ¶" class="headerlink" title="react äº‹ä»¶æœºåˆ¶"></a>react äº‹ä»¶æœºåˆ¶</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">reactçš„äº‹ä»¶æœºåˆ¶åˆ©ç”¨äº†äº‹ä»¶å§”æ‰˜æœºåˆ¶ï¼Œäº‹ä»¶å¹¶æ²¡æœ‰çœŸæ­£çš„ç»‘å®šåœ¨çœŸå®çš„domèŠ‚ç‚¹ä¸Šï¼Œ</span><br><span class="line">è€Œæ˜¯æŠŠäº‹ä»¶ç»‘å®šåœ¨ç»“æ„çš„æœ€å¤–å±‚documentï¼Œä½¿ç”¨ç»Ÿä¸€çš„äº‹ä»¶ç›‘å¬å™¨ï¼Œæ‰€æœ‰äº‹ä»¶éƒ½ç”±è¿™ä¸ªç›‘å¬å™¨ç»Ÿä¸€åˆ†å‘ã€‚</span><br><span class="line"></span><br><span class="line">ç»„ä»¶æŒ‚è½½å’Œæ›´æ–°æ—¶ï¼Œä¼šå°†ç»‘å®šçš„äº‹ä»¶åˆ†é—¨åˆ«ç±»çš„æ”¾è¿›ä¸€ä¸ªå«EvnentPluginHubçš„äº‹ä»¶æ± ä¸­ã€‚</span><br><span class="line"></span><br><span class="line">äº‹ä»¶è§¦å‘æ—¶ï¼Œæ ¹æ®äº‹ä»¶äº§ç”Ÿçš„Eventå¯¹è±¡æ‰¾åˆ°è§¦å‘äº‹ä»¶çš„ç»„ä»¶ï¼Œå†é€šè¿‡ç»„ä»¶æ ‡è¯†å’Œäº‹ä»¶ç±»å‹</span><br><span class="line">ä»äº‹ä»¶æ± ä¸­æ‰¾åˆ°å¯¹åº”çš„äº‹ä»¶ç›‘å¬å›è°ƒï¼Œç„¶åæ‰§è¡Œç›¸å…³çš„ç›‘å¬å‡½æ•°ã€‚</span><br></pre></td></tr></table></figure><h2 id="å¼‚æ­¥å›è°ƒä¸­æ€ä¹ˆä½¿ç”¨-syntheticEventï¼Ÿ"><a href="#å¼‚æ­¥å›è°ƒä¸­æ€ä¹ˆä½¿ç”¨-syntheticEventï¼Ÿ" class="headerlink" title="å¼‚æ­¥å›è°ƒä¸­æ€ä¹ˆä½¿ç”¨ syntheticEventï¼Ÿ"></a>å¼‚æ­¥å›è°ƒä¸­æ€ä¹ˆä½¿ç”¨ syntheticEventï¼Ÿ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">åœ¨åˆæˆäº‹ä»¶æœºåˆ¶é‡Œï¼Œä¸€æ—¦äº‹ä»¶ç›‘å¬å›è°ƒæ‰§è¡Œï¼Œåˆæˆäº‹ä»¶å¯¹è±¡å°±ä¼šè¢«é”€æ¯ï¼Œå¼‚æ­¥å›è°ƒæ‰§è¡Œçš„æ—¶å€™</span><br><span class="line">åˆæˆäº‹ä»¶å¯¹è±¡æ—©å°±è¢«é”€æ¯äº†ã€‚</span><br><span class="line">è§£å†³æ–¹æ³•ï¼šæ‰§è¡Œevent.persist(),é€šçŸ¥reactä¸éœ€è¦å›æ”¶ã€‚</span><br></pre></td></tr></table></figure><h2 id="React-ç”Ÿå‘½å‘¨æœŸ"><a href="#React-ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="React ç”Ÿå‘½å‘¨æœŸ"></a>React ç”Ÿå‘½å‘¨æœŸ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">React 16æ¨å‡ºFiberä¹‹åï¼Œå¦‚æœè¦å¼€å¯async renderingï¼Œé‚£ä¹ˆåœ¨renderå‡½æ•°ä¹‹å‰çš„æ‰€æœ‰å‡½æ•°éƒ½æœ‰å¯èƒ½è¢«æ‰§è¡Œå¤šæ¬¡</span><br><span class="line"></span><br><span class="line">åºŸå¼ƒï¼š</span><br><span class="line">componentWillMount</span><br><span class="line">componentWillReceiveProps(nextProps)</span><br><span class="line">componentWillUpdate(nextProps, nextState)</span><br><span class="line">ä»£æ›¿ï¼š</span><br><span class="line">é™æ€å‡½æ•°ï¼šstatic getDerivedStateFromProps(nextProps, prevState)</span><br><span class="line"></span><br><span class="line">é™æ€å‡½æ•°ï¼šstatic getDerivedStateFromError(error) // æ¸²æŸ“å¤‡ç”¨UI</span><br><span class="line">æ­¤ç”Ÿå‘½å‘¨æœŸreturnçš„å€¼ä¼šè‡ªåŠ¨è°ƒç”¨setStateï¼Œå°†å€¼å’Œstateåˆå¹¶</span><br><span class="line">è¿è¡Œäº‹ä»¶èŠ‚ç‚¹ï¼šå­ç»„ä»¶è¢«æ¸²æŸ“å‘ç”Ÿé”™è¯¯åä¸”åœ¨é¡µé¢æ›´æ–°å‰</span><br><span class="line"></span><br><span class="line">getSnapshotBeforeUpdate(prevProps, prevState) æ­¤ç”Ÿå‘½å‘¨æœŸçš„è¿”å›å€¼å°†ä½œä¸ºå‚æ•°ä¼ é€’ç»™componentDidUpdate()</span><br><span class="line"></span><br><span class="line">componentDidCatch(error, info) // æ‰“å°é”™è¯¯ä¿¡æ¯</span><br><span class="line"></span><br><span class="line">é”™è¯¯è¾¹ç•Œæ— æ³•æ•è·çš„é”™è¯¯ï¼š</span><br><span class="line">1.ç»„ä»¶è‡ªèº«çš„é”™è¯¯</span><br><span class="line">2.å¼‚æ­¥é”™è¯¯ï¼ŒsetTimeout</span><br><span class="line">3.äº‹ä»¶ä¸­çš„é”™è¯¯ï¼Œæ¯”å¦‚clickäº‹ä»¶ä¸­å‘ç”Ÿé”™è¯¯</span><br></pre></td></tr></table></figure><h2 id="Redux"><a href="#Redux" class="headerlink" title="Redux"></a>Redux</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1. æ„å»ºactionï¼Œé€šè¿‡åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œéœ€è¦æºå¸¦typeå±æ€§</span><br><span class="line"></span><br><span class="line">2. æ„å»ºreducerï¼Œç”¨æ¥å“åº”actionï¼Œç„¶åé€šè¿‡returnæŠŠæ•°æ®ä¼ å›store</span><br><span class="line"></span><br><span class="line">3. åˆ©ç”¨createStoreæ¥æ„å»ºstoreï¼ŒæŠŠreducerä½œä¸ºå‚æ•°ä¼ å…¥</span><br><span class="line"></span><br><span class="line">4. åˆ©ç”¨store.subscribe()æ³¨å†Œç›‘å¬</span><br><span class="line"></span><br><span class="line">5. åˆ©ç”¨store.dispatch()å‘é€action</span><br><span class="line"></span><br><span class="line">6. åˆ©ç”¨store.getState()æ‹¿åˆ°å€¼</span><br></pre></td></tr></table></figure><h1 id="Typescript"><a href="#Typescript" class="headerlink" title="Typescript"></a>Typescript</h1><h2 id="ts-ä¸­-type-å’Œ-interface-çš„åŒºåˆ«"><a href="#ts-ä¸­-type-å’Œ-interface-çš„åŒºåˆ«" class="headerlink" title="ts ä¸­ type å’Œ interface çš„åŒºåˆ«"></a>ts ä¸­ type å’Œ interface çš„åŒºåˆ«</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">ç›¸åŒç‚¹ï¼š</span><br><span class="line">1.éƒ½å¯ä»¥æè¿°ä¸€ä¸ªå¯¹è±¡å’Œå‡½æ•°</span><br><span class="line">interface User &#123;</span><br><span class="line">    name: string;</span><br><span class="line">&#125;</span><br><span class="line">interface SetUser &#123;</span><br><span class="line">    (name: string): void;</span><br><span class="line">&#125;</span><br><span class="line">type User = &#123;</span><br><span class="line">    name: string;</span><br><span class="line">&#125;</span><br><span class="line">type SetUser = (name: string): void;</span><br><span class="line"></span><br><span class="line">2.æ‰©å±•ä¸äº¤å‰ç±»å‹</span><br><span class="line">interfaceå¯ä»¥extendsè¿›è¡Œç±»å‹æ‰©å±•ï¼Œtypeå¯ä»¥é€šè¿‡äº¤å‰ç±»å‹å®ç°interfaceçš„extendè¡Œä¸ºã€‚</span><br><span class="line">interfaceå¯ä»¥exteds  typeï¼Œtypeä¹Ÿå¯ä»¥ä¸interfaceç±»å‹äº¤å‰ï¼ˆ&amp;ç¬¦å·ï¼‰</span><br><span class="line">ä¸åŒç‚¹ï¼š</span><br><span class="line">1.typeå¯ä»¥å£°æ˜åŸºæœ¬ç±»å‹åˆ«åï¼Œè”åˆç±»å‹ï¼Œå…ƒç¥–ç­‰ç±»å‹</span><br><span class="line">åŸºæœ¬ç±»å‹åˆ«å</span><br><span class="line">type Name = string;</span><br><span class="line">è”åˆç±»å‹</span><br><span class="line">interface Dog &#123;</span><br><span class="line">    wang();</span><br><span class="line">&#125;</span><br><span class="line">interface Cat &#123;</span><br><span class="line">    miao();</span><br><span class="line">&#125;</span><br><span class="line">type Pet = Dog | Cat;</span><br><span class="line">å…ƒç¥–ç±»å‹</span><br><span class="line">type PetList = [Dog, Cat];</span><br><span class="line"></span><br><span class="line">2. interfaceèƒ½å¤Ÿå£°æ˜åˆå¹¶</span><br><span class="line">interface User &#123;</span><br><span class="line">    name: string;</span><br><span class="line">&#125;</span><br><span class="line">interface User &#123;</span><br><span class="line">    age: number;</span><br><span class="line">&#125;</span><br><span class="line">=</span><br><span class="line">/**</span><br><span class="line">interface User &#123;</span><br><span class="line">    name: string;</span><br><span class="line">    age: number;</span><br><span class="line">&#125;</span><br><span class="line">*/</span><br></pre></td></tr></table></figure><h2 id="ts-ä¸­å¦‚ä½•å®ç°ä¸€ä¸ªå‡½æ•°çš„é‡è½½"><a href="#ts-ä¸­å¦‚ä½•å®ç°ä¸€ä¸ªå‡½æ•°çš„é‡è½½" class="headerlink" title="ts ä¸­å¦‚ä½•å®ç°ä¸€ä¸ªå‡½æ•°çš„é‡è½½"></a>ts ä¸­å¦‚ä½•å®ç°ä¸€ä¸ªå‡½æ•°çš„é‡è½½</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">jsæ˜¯åŠ¨æ€ç±»å‹è¯­è¨€ï¼Œæ‰€ä»¥æ˜¯æ²¡æœ‰overloadçš„ï¼Œä½†jså¯ä»¥åœ¨è¿è¡Œçš„æ—¶å€™åˆ¤æ–­ç±»å‹</span><br><span class="line">tsçš„é‡è½½åªæ˜¯é‡è½½å‡½æ•°å£°æ˜ï¼Œå‡½æ•°çš„å®ç°è¿˜æ˜¯åªæœ‰ä¸€ä¸ª</span><br></pre></td></tr></table></figure><h2 id="mobx"><a href="#mobx" class="headerlink" title="mobx"></a>mobx</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Observable //è¢«è§‚å¯Ÿè€…</span><br><span class="line">Observer // è§‚å¯Ÿè€…</span><br><span class="line">Reaction //å“åº”</span><br><span class="line"></span><br><span class="line">mobxåº•å±‚å¯¹æ•°æ®çš„è§‚å¯Ÿæ˜¯ä½¿ç”¨Object.defineProperty(mobx4)æˆ–Proxy(mobx5)</span><br><span class="line">observerè¿™ä¸ªè£…é¥°å™¨ï¼Œå¯¹reactç»„ä»¶çš„renderæ–¹æ³•è¿›è¡Œè·Ÿè¸ªï¼Œå°†renderæ–¹æ³•åŠ å…¥åˆ°å„ä¸ªobservableçš„ä¾èµ–ä¸­ï¼Œå½“observaleå‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œå°±ä¼šè°ƒç”¨forceUpdateæ›´æ–°ç»„ä»¶</span><br><span class="line">ï¼ˆmobx4å°†Arrayç”¨ç±»æ•°ç»„å¯¹è±¡æ¥æ¨¡æ‹Ÿçš„ï¼Œé€šè¿‡åŒ…è£…ç±»å°è£…ä¸ºä¸€ä¸ªå¯¹è±¡ï¼‰</span><br></pre></td></tr></table></figure><h2 id="webpack-å¸¸ç”¨-loader"><a href="#webpack-å¸¸ç”¨-loader" class="headerlink" title="webpack å¸¸ç”¨ loader"></a>webpack å¸¸ç”¨ loader</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">æ ·å¼ï¼šstyle-loaderã€css-loaderã€less-loaderã€sass-loader</span><br><span class="line">æ–‡ä»¶ï¼šfile-loaderã€url-loader</span><br><span class="line">ç¼–è¯‘ï¼šbabel-loaderã€ts-loader</span><br><span class="line">æ ¡éªŒï¼šeslint-loader</span><br><span class="line"></span><br><span class="line">å¸¸ç”¨çš„plugin</span><br><span class="line">html-webpack-plugin</span><br><span class="line">webpack-bundle-analyzer æ‰“åŒ…åˆ†æ</span><br><span class="line">HotModuleReplacementPlugin çƒ­æ›´æ–°</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">è‡ªå·±å†™webpackæ’ä»¶ï¼š</span><br><span class="line">ä¸»è¦å°±æ˜¯é€šè¿‡è®¿é—®complilerå’Œcompilationæ‹¦æˆªwebpackçš„æ‰§è¡Œ</span><br></pre></td></tr></table></figure><h2 id="åƒåœ¾å›æ”¶æœºåˆ¶"><a href="#åƒåœ¾å›æ”¶æœºåˆ¶" class="headerlink" title="åƒåœ¾å›æ”¶æœºåˆ¶"></a>åƒåœ¾å›æ”¶æœºåˆ¶</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">åƒåœ¾æ”¶é›†å™¨ä¼šå®šæœŸï¼ˆå‘¨æœŸæ€§ï¼‰çš„æ‰¾å‡ºé‚£äº›ä¸å†ç»§ç»­ä½¿ç”¨çš„å˜é‡ï¼Œé‡Šæ”¾å…¶å†…å­˜ï¼Œå› ä¸ºå¼€é”€æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥ä¼šæŒ‰ç…§å›ºå®šçš„æ—¶é—´é—´éš”å‘¨æœŸæ€§çš„æ‰§è¡Œ</span><br><span class="line"></span><br><span class="line">æœ€å¸¸ç”¨çš„ä¸¤ç§æ–¹æ³•ï¼šæ ‡è®°æ¸…é™¤ï¼ˆå¸¸ç”¨ï¼‰å’Œå¼•ç”¨è®¡æ•°</span><br><span class="line"></span><br><span class="line">æ ‡è®°æ¸…é™¤ï¼šå˜é‡è¿›å…¥ä½œç”¨åŸŸï¼Œè¿›è¡Œæ ‡è®°ï¼Œç¦»å¼€ä½œç”¨åŸŸè¿›è¡Œæ¸…é™¤å›æ”¶</span><br><span class="line"></span><br><span class="line">å¼•ç”¨è®¡æ•°ï¼šå°±æ˜¯è·Ÿè¸ªè®°å½•æ¯ä¸ªå€¼è¢«å¼•ç”¨çš„æ¬¡æ•°ï¼Œå¼•ç”¨ä¸€æ¬¡åŠ 1ï¼Œåˆ é™¤å‡1ï¼Œå¼•ç”¨è®¡æ•°ä¸º0æ—¶ï¼Œè¿›è¡Œå›æ”¶ï¼Œï¼ˆå¾ªç¯å¼•ç”¨å¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼‰</span><br><span class="line"></span><br><span class="line">å¸¸è§çš„å†…å­˜æ³„æ¼åŸå› ï¼š</span><br><span class="line">å…¨å±€å˜é‡è¿‡å¤šå¼•èµ·å†…å­˜æ³„æ¼</span><br><span class="line">é—­åŒ…</span><br><span class="line">domäº‹ä»¶æœªæ¸…é™¤</span><br><span class="line">å¾ªç¯å¼•ç”¨</span><br></pre></td></tr></table></figure><h2 id="è°ˆè°ˆä½ å¯¹-webpack-çš„ç†è§£ï¼Ÿ"><a href="#è°ˆè°ˆä½ å¯¹-webpack-çš„ç†è§£ï¼Ÿ" class="headerlink" title="è°ˆè°ˆä½ å¯¹ webpack çš„ç†è§£ï¼Ÿ"></a>è°ˆè°ˆä½ å¯¹ webpack çš„ç†è§£ï¼Ÿ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">webpackæ˜¯ä¸€ä¸ªæ‰“åŒ…æ¨¡å—åŒ–jsçš„å·¥å…·ï¼Œåœ¨webpacké‡Œä¸€åˆ‡æ–‡ä»¶çš†æ¨¡å—</span><br><span class="line">ï¼Œé€šè¿‡loaderè½¬æ¢ï¼Œé€šè¿‡pluginæ³¨å…¥é’©å­ï¼Œæœ€åè¾“å‡ºç”±å¤šä¸ª</span><br><span class="line">æ¨¡å—ç»„åˆæˆçš„æ–‡ä»¶ï¼Œwebpackä¸“æ³¨æ„å»ºæ¨¡å—åŒ–ã€‚WebPackå¯</span><br><span class="line">ä»¥çœ‹åšæ˜¯æ¨¡å—çš„æ‰“åŒ…æœºå™¨ï¼šå®ƒåšçš„äº‹æƒ…æ˜¯ï¼Œåˆ†æä½ çš„é¡¹ç›®</span><br><span class="line">ç»“æ„ï¼Œæ‰¾åˆ°jsæ¨¡å—åŠå…¶å®ƒçš„ä¸€äº›æµè§ˆå™¨ä¸èƒ½ç›´æ¥è¿è¡Œçš„</span><br><span class="line">æ‹“å±•è¯­è¨€ï¼Œä¾‹å¦‚ï¼šScssï¼ŒTSç­‰ï¼Œå¹¶å°†å…¶æ‰“åŒ…ä¸ºåˆé€‚çš„æ ¼å¼</span><br><span class="line">ä»¥ä¾›æµè§ˆå™¨ä½¿ç”¨ã€‚</span><br></pre></td></tr></table></figure><h2 id="è¯´è¯´-webpack-ä¸-gruntã€gulp-çš„ä¸åŒï¼Ÿ"><a href="#è¯´è¯´-webpack-ä¸-gruntã€gulp-çš„ä¸åŒï¼Ÿ" class="headerlink" title="è¯´è¯´ webpack ä¸ gruntã€gulp çš„ä¸åŒï¼Ÿ"></a>è¯´è¯´ webpack ä¸ gruntã€gulp çš„ä¸åŒï¼Ÿ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">ä¸‰è€…éƒ½æ˜¯å‰ç«¯æ„å»ºå·¥å…·ï¼Œgruntå’Œgulpåœ¨æ—©æœŸæ¯”è¾ƒæµè¡Œï¼Œ</span><br><span class="line">ç°åœ¨webpackç›¸å¯¹æ¥è¯´æ¯”è¾ƒä¸»ï¼Œä¸è¿‡ä¸€äº›è½»é‡åŒ–çš„ä»»åŠ¡</span><br><span class="line">è¿˜æ˜¯ä¼šç”¨gulpæ¥å¤„ç†ï¼Œæ¯”å¦‚å•ç‹¬æ‰“åŒ…CSSæ–‡ä»¶ç­‰ã€‚</span><br><span class="line"></span><br><span class="line">gruntå’Œgulpæ˜¯åŸºäºä»»åŠ¡å’Œæµï¼ˆTaskã€Streamï¼‰çš„ã€‚</span><br><span class="line">ç±»ä¼¼jQueryï¼Œæ‰¾åˆ°ä¸€ä¸ªï¼ˆæˆ–ä¸€ç±»ï¼‰æ–‡ä»¶ï¼Œå¯¹å…¶åšä¸€</span><br><span class="line">ç³»åˆ—é“¾å¼æ“ä½œï¼Œæ›´æ–°æµä¸Šçš„æ•°æ®ï¼Œæ•´æ¡é“¾å¼æ“ä½œ</span><br><span class="line">æ„æˆäº†ä¸€ä¸ªä»»åŠ¡ï¼Œå¤šä¸ªä»»åŠ¡å°±æ„æˆäº†webçš„æ„å»ºæµç¨‹ã€‚</span><br><span class="line"></span><br><span class="line">webpackæ˜¯åŸºäºå…¥å£çš„ã€‚webpackä¼šè‡ªåŠ¨åœ°é€’å½’è§£æ</span><br><span class="line">å…¥å£æ‰€éœ€è¦åŠ è½½çš„æ‰€æœ‰èµ„æºæ–‡ä»¶ï¼Œç„¶åç”¨ä¸åŒçš„</span><br><span class="line">Loaderæ¥å¤„ç†ä¸åŒçš„æ–‡ä»¶ï¼Œç”¨Pluginæ¥æ‰©å±•webpackåŠŸèƒ½ã€‚</span><br><span class="line"></span><br><span class="line">æ‰€ä»¥ï¼Œä»æ„å»ºæ¥è¯´ï¼Œgulpå’Œgruntéœ€è¦å¼€å‘è€…å°†æ•´ä¸ª</span><br><span class="line">å‰ç«¯æ„å»ºè¿‡ç¨‹æ‹†åˆ†æˆå¤šä¸ª`Task`ï¼Œå¹¶åˆç†æ§åˆ¶æ‰€æœ‰`Task`çš„</span><br><span class="line">è°ƒç”¨å…³ç³»ï¼›webpackéœ€è¦å¼€å‘è€…æ‰¾åˆ°å…¥å£ï¼Œå¹¶éœ€è¦æ¸…æ¥šå¯¹</span><br><span class="line">äºä¸åŒçš„èµ„æºåº”è¯¥ä½¿ä»€ä¹ˆLoaderåšä½•ç§è§£æå’ŒåŠ å·¥å¯¹</span><br><span class="line">äºçŸ¥è¯†èƒŒæ™¯æ¥è¯´ï¼Œgulpæ›´åƒåç«¯å¼€å‘è€…çš„æ€è·¯ï¼Œ</span><br><span class="line">éœ€è¦å¯¹äºæ•´ä¸ªæµç¨‹äº†å¦‚æŒ‡æŒwebpackæ›´å€¾å‘äºå‰ç«¯å¼€å‘è€…çš„æ€è·¯</span><br></pre></td></tr></table></figure><h2 id="ä»€ä¹ˆæ˜¯-bundle-ä»€ä¹ˆæ˜¯-chunkï¼Œä»€ä¹ˆæ˜¯-module"><a href="#ä»€ä¹ˆæ˜¯-bundle-ä»€ä¹ˆæ˜¯-chunkï¼Œä»€ä¹ˆæ˜¯-module" class="headerlink" title="ä»€ä¹ˆæ˜¯ bundle,ä»€ä¹ˆæ˜¯ chunkï¼Œä»€ä¹ˆæ˜¯ module?"></a>ä»€ä¹ˆæ˜¯ bundle,ä»€ä¹ˆæ˜¯ chunkï¼Œä»€ä¹ˆæ˜¯ module?</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bundleï¼šæ˜¯ç”±webpackæ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶</span><br><span class="line">chunkï¼šä»£ç å—ï¼Œä¸€ä¸ªchunkç”±å¤šä¸ªæ¨¡å—ç»„åˆè€Œæˆï¼Œç”¨äºä»£ç çš„åˆå¹¶å’Œåˆ†å‰²</span><br><span class="line">moduleï¼šæ˜¯å¼€å‘ä¸­çš„å•ä¸ªæ¨¡å—ï¼Œåœ¨webpackçš„ä¸–ç•Œï¼Œä¸€åˆ‡çš†æ¨¡å—ï¼Œä¸€ä¸ªæ¨¡å—å¯¹åº”ä¸€ä¸ªæ–‡ä»¶ï¼Œwebpackä¼šä»é…ç½®çš„entryä¸­é€’å½’å¼€å§‹æ‰¾å‡ºæ‰€æœ‰ä¾èµ–çš„æ¨¡å—</span><br></pre></td></tr></table></figure><h2 id="ä»€ä¹ˆæ˜¯-Loader-ä»€ä¹ˆæ˜¯-Plugin"><a href="#ä»€ä¹ˆæ˜¯-Loader-ä»€ä¹ˆæ˜¯-Plugin" class="headerlink" title="ä»€ä¹ˆæ˜¯ Loader?ä»€ä¹ˆæ˜¯ Plugin?"></a>ä»€ä¹ˆæ˜¯ Loader?ä»€ä¹ˆæ˜¯ Plugin?</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.Loadersæ˜¯ç”¨æ¥å‘Šè¯‰webpackå¦‚ä½•è½¬åŒ–å¤„ç†æŸä¸€ç±»å‹çš„æ–‡ä»¶ï¼Œ</span><br><span class="line">å¹¶ä¸”å¼•å…¥åˆ°æ‰“åŒ…å‡ºçš„æ–‡ä¸­</span><br><span class="line">2ï¼‰Pluginæ˜¯ç”¨æ¥è‡ªå®šä¹‰webpackæ‰“åŒ…è¿‡ç¨‹çš„æ–¹å¼ï¼Œ</span><br><span class="line">ä¸€ä¸ªæ’ä»¶æ˜¯å«æœ‰applyæ–¹æ³•çš„ä¸€ä¸ªï¼Œé€šè¿‡è¿™ä¸ªæ–¹æ³•å¯ä»¥å‚ä¸</span><br><span class="line">åˆ°æ•´ä¸ªwebpackæ‰“åŒ…çš„å„ä¸ªæµç¨‹(ç”Ÿå‘½å‘¨æœŸ)ã€‚</span><br></pre></td></tr></table></figure><h2 id="æœ‰å“ªäº›å¸¸è§çš„-Loaderï¼Ÿä»–ä»¬æ˜¯è§£å†³ä»€ä¹ˆé—®é¢˜çš„ï¼Ÿ"><a href="#æœ‰å“ªäº›å¸¸è§çš„-Loaderï¼Ÿä»–ä»¬æ˜¯è§£å†³ä»€ä¹ˆé—®é¢˜çš„ï¼Ÿ" class="headerlink" title="æœ‰å“ªäº›å¸¸è§çš„ Loaderï¼Ÿä»–ä»¬æ˜¯è§£å†³ä»€ä¹ˆé—®é¢˜çš„ï¼Ÿ"></a>æœ‰å“ªäº›å¸¸è§çš„ Loaderï¼Ÿä»–ä»¬æ˜¯è§£å†³ä»€ä¹ˆé—®é¢˜çš„ï¼Ÿ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">file-loaderï¼šæŠŠæ–‡ä»¶è¾“å‡ºåˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œåœ¨ä»£ç ä¸­é€šè¿‡</span><br><span class="line">ç›¸å¯¹URLå»å¼•ç”¨è¾“å‡ºçš„æ–‡ä»¶</span><br><span class="line">url-loaderï¼šå’Œfile-loaderç±»ä¼¼ï¼Œä½†æ˜¯èƒ½åœ¨æ–‡ä»¶å¾ˆå°çš„æƒ…å†µä¸‹</span><br><span class="line">ä»¥base64çš„æ–¹å¼æŠŠæ–‡ä»¶å†…å®¹æ³¨å…¥åˆ°ä»£ç ä¸­å»</span><br><span class="line">source-map-loaderï¼šåŠ è½½é¢å¤–çš„Source Mapæ–‡ä»¶ï¼Œä»¥æ–¹ä¾¿æ–­ç‚¹è°ƒè¯•</span><br><span class="line">image-loaderï¼šåŠ è½½å¹¶ä¸”å‹ç¼©å›¾ç‰‡æ–‡ä»¶</span><br><span class="line">babel-loaderï¼šæŠŠES6è½¬æ¢æˆES5</span><br><span class="line">css-loaderï¼šåŠ è½½CSSï¼Œæ”¯æŒæ¨¡å—åŒ–ã€å‹ç¼©ã€æ–‡ä»¶å¯¼å…¥ç­‰ç‰¹æ€§</span><br><span class="line">style-loaderï¼šæŠŠCSSä»£ç æ³¨å…¥åˆ°JavaScriptä¸­ï¼Œé€šè¿‡DOMæ“ä½œå»åŠ è½½CSSã€‚</span><br><span class="line">eslint-loaderï¼šé€šè¿‡ESLintæ£€æŸ¥JavaScriptä»£ç </span><br></pre></td></tr></table></figure><h2 id="æœ‰å“ªäº›å¸¸è§çš„-Pluginï¼Ÿä»–ä»¬æ˜¯è§£å†³ä»€ä¹ˆé—®é¢˜çš„ï¼Ÿ"><a href="#æœ‰å“ªäº›å¸¸è§çš„-Pluginï¼Ÿä»–ä»¬æ˜¯è§£å†³ä»€ä¹ˆé—®é¢˜çš„ï¼Ÿ" class="headerlink" title="æœ‰å“ªäº›å¸¸è§çš„ Pluginï¼Ÿä»–ä»¬æ˜¯è§£å†³ä»€ä¹ˆé—®é¢˜çš„ï¼Ÿ"></a>æœ‰å“ªäº›å¸¸è§çš„ Pluginï¼Ÿä»–ä»¬æ˜¯è§£å†³ä»€ä¹ˆé—®é¢˜çš„ï¼Ÿ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">define-pluginï¼šå®šä¹‰ç¯å¢ƒå˜é‡</span><br><span class="line">commons-chunk-pluginï¼šæå–å…¬å…±ä»£ç </span><br><span class="line">uglifyjs-webpack-pluginï¼šé€šè¿‡UglifyESå‹ç¼©ES6ä»£ç </span><br></pre></td></tr></table></figure><h2 id="Loader-å’Œ-Plugin-çš„ä¸åŒï¼Ÿ"><a href="#Loader-å’Œ-Plugin-çš„ä¸åŒï¼Ÿ" class="headerlink" title="Loader å’Œ Plugin çš„ä¸åŒï¼Ÿ"></a>Loader å’Œ Plugin çš„ä¸åŒï¼Ÿ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ä¸åŒçš„ä½œç”¨</span><br><span class="line">Loaderç›´è¯‘ä¸º&quot;åŠ è½½å™¨&quot;ã€‚Webpackå°†ä¸€åˆ‡æ–‡ä»¶è§†ä¸ºæ¨¡å—ï¼Œ</span><br><span class="line">ä½†æ˜¯webpackåŸç”Ÿæ˜¯åªèƒ½è§£æjsæ–‡ä»¶ï¼Œå¦‚æœæƒ³å°†å…¶ä»–æ–‡ä»¶</span><br><span class="line">ä¹Ÿæ‰“åŒ…çš„è¯ï¼Œå°±ä¼šç”¨åˆ°loaderã€‚ æ‰€ä»¥Loaderçš„ä½œç”¨æ˜¯è®©webpackæ‹¥æœ‰äº†åŠ è½½å’Œè§£æéJavaScriptæ–‡ä»¶çš„èƒ½åŠ›ã€‚</span><br><span class="line"></span><br><span class="line">Pluginç›´è¯‘ä¸º&quot;æ’ä»¶&quot;ã€‚Pluginå¯ä»¥æ‰©å±•webpackçš„åŠŸèƒ½ï¼Œè®©webpackå…·æœ‰æ›´å¤šçš„çµæ´»æ€§ã€‚ åœ¨ Webpack è¿è¡Œçš„ç”Ÿå‘½å‘¨æœŸä¸­ä¼šå¹¿æ’­å‡ºè®¸å¤šäº‹ä»¶ï¼ŒPlugin å¯ä»¥ç›‘å¬è¿™äº›äº‹ä»¶ï¼Œåœ¨åˆé€‚çš„æ—¶æœºé€šè¿‡ Webpack æä¾›çš„ API æ”¹å˜è¾“å‡ºç»“æœã€‚</span><br><span class="line"></span><br><span class="line">ä¸åŒçš„ç”¨æ³•</span><br><span class="line">Loaderåœ¨module.rulesä¸­é…ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´ä»–ä½œä¸ºæ¨¡å—çš„è§£æè§„åˆ™è€Œå­˜åœ¨ã€‚ ç±»å‹ä¸ºæ•°ç»„ï¼Œæ¯ä¸€é¡¹éƒ½æ˜¯ä¸€ä¸ªObjectï¼Œé‡Œé¢æè¿°äº†å¯¹äºä»€ä¹ˆ</span><br><span class="line">ç±»å‹çš„æ–‡ä»¶ï¼ˆtestï¼‰ï¼Œä½¿ç”¨ä»€ä¹ˆåŠ è½½(loader)å’Œä½¿ç”¨çš„å‚æ•°ï¼ˆoptionsï¼‰</span><br><span class="line"></span><br><span class="line">Pluginåœ¨pluginsä¸­å•ç‹¬é…ç½®ã€‚ ç±»å‹ä¸ºæ•°ç»„ï¼Œæ¯ä¸€é¡¹æ˜¯ä¸€ä¸ªpluginçš„å®ä¾‹ï¼Œå‚æ•°éƒ½é€šè¿‡æ„é€ å‡½æ•°ä¼ å…¥ã€‚</span><br></pre></td></tr></table></figure><h2 id="webpack-çš„æ„å»ºæµç¨‹æ˜¯ä»€ä¹ˆ"><a href="#webpack-çš„æ„å»ºæµç¨‹æ˜¯ä»€ä¹ˆ" class="headerlink" title="webpack çš„æ„å»ºæµç¨‹æ˜¯ä»€ä¹ˆ?"></a>webpack çš„æ„å»ºæµç¨‹æ˜¯ä»€ä¹ˆ?</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Webpack çš„è¿è¡Œæµç¨‹æ˜¯ä¸€ä¸ªä¸²è¡Œçš„è¿‡ç¨‹ï¼Œä»å¯åŠ¨åˆ°ç»“æŸä¼šä¾æ¬¡æ‰§è¡Œä»¥ä¸‹æµç¨‹ï¼š</span><br><span class="line">åˆå§‹åŒ–å‚æ•°ï¼šä»é…ç½®æ–‡ä»¶å’Œ Shell è¯­å¥ä¸­è¯»å–ä¸åˆå¹¶å‚æ•°ï¼Œå¾—å‡ºæœ€ç»ˆçš„å‚æ•°ï¼›</span><br><span class="line">å¼€å§‹ç¼–è¯‘ï¼šç”¨ä¸Šä¸€æ­¥å¾—åˆ°çš„å‚æ•°åˆå§‹åŒ–Compilerå¯¹è±¡ï¼Œ</span><br><span class="line">åŠ è½½æ‰€æœ‰é…ç½®çš„æ’ä»¶ï¼Œæ‰§è¡Œå¯¹è±¡çš„ run æ–¹æ³•å¼€å§‹æ‰§è¡Œç¼–è¯‘ï¼›</span><br><span class="line"></span><br><span class="line">ç¡®å®šå…¥å£ï¼šæ ¹æ®é…ç½®ä¸­çš„ entry æ‰¾å‡ºæ‰€æœ‰çš„å…¥å£æ–‡ä»¶ï¼›</span><br><span class="line"></span><br><span class="line">ç¼–è¯‘æ¨¡å—ï¼šä»å…¥å£æ–‡ä»¶å‡ºå‘ï¼Œè°ƒç”¨æ‰€æœ‰é…ç½®çš„ Loader</span><br><span class="line">å¯¹æ¨¡å—è¿›è¡Œç¿»è¯‘ï¼Œå†æ‰¾å‡ºè¯¥æ¨¡å—ä¾èµ–çš„æ¨¡å—ï¼Œå†é€’å½’æœ¬æ­¥éª¤ç›´åˆ°</span><br><span class="line">æ‰€æœ‰å…¥å£ä¾èµ–çš„æ–‡ä»¶éƒ½ç»è¿‡äº†æœ¬æ­¥éª¤çš„å¤„ç†ï¼›</span><br><span class="line"></span><br><span class="line">å®Œæˆæ¨¡å—ç¼–è¯‘ï¼šåœ¨ç»è¿‡ç¬¬4æ­¥ä½¿ç”¨Loaderç¿»è¯‘å®Œæ‰€æœ‰æ¨¡å—åï¼Œ</span><br><span class="line">å¾—åˆ°äº†æ¯ä¸ªæ¨¡å—è¢«ç¿»è¯‘åçš„æœ€ç»ˆå†…å®¹ä»¥åŠå®ƒä»¬ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼›</span><br><span class="line"></span><br><span class="line">è¾“å‡ºèµ„æºï¼šæ ¹æ®å…¥å£å’Œæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œç»„è£…æˆä¸€ä¸ªä¸ªåŒ…å«å¤šä¸ªæ¨¡å—çš„ Chunkï¼Œå†æŠŠæ¯ä¸ª Chunkè½¬æ¢æˆä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶åŠ å…¥åˆ°è¾“</span><br><span class="line">å‡ºåˆ—è¡¨ï¼Œè¿™æ­¥æ˜¯å¯ä»¥ä¿®æ”¹è¾“å‡ºå†…å®¹çš„æœ€åæœºä¼šï¼›</span><br><span class="line"></span><br><span class="line">è¾“å‡ºå®Œæˆï¼šåœ¨ç¡®å®šå¥½è¾“å‡ºå†…å®¹åï¼Œæ ¹æ®é…ç½®ç¡®å®šè¾“å‡ºçš„</span><br><span class="line">è·¯å¾„å’Œæ–‡ä»¶åï¼ŒæŠŠæ–‡ä»¶å†…å®¹å†™å…¥åˆ°æ–‡ä»¶ç³»ç»Ÿã€‚</span><br><span class="line"></span><br><span class="line">åœ¨ä»¥ä¸Šè¿‡ç¨‹ä¸­ï¼ŒWebpackä¼šåœ¨ç‰¹å®šçš„æ—¶é—´ç‚¹å¹¿æ’­å‡ºç‰¹å®š</span><br><span class="line">çš„äº‹ä»¶ï¼Œæ’ä»¶åœ¨ç›‘å¬åˆ°æ„Ÿå…´è¶£çš„äº‹ä»¶åä¼šæ‰§è¡Œç‰¹å®šçš„é€»è¾‘ï¼Œ</span><br><span class="line">å¹¶ä¸”æ’ä»¶å¯ä»¥è°ƒç”¨ Webpack æä¾›çš„ API æ”¹å˜ Webpack çš„è¿è¡Œç»“æœã€‚</span><br></pre></td></tr></table></figure><h2 id="æè¿°ä¸€ä¸‹ç¼–å†™-loader-æˆ–-plugin-çš„æ€è·¯ï¼Ÿ"><a href="#æè¿°ä¸€ä¸‹ç¼–å†™-loader-æˆ–-plugin-çš„æ€è·¯ï¼Ÿ" class="headerlink" title="æè¿°ä¸€ä¸‹ç¼–å†™ loader æˆ– plugin çš„æ€è·¯ï¼Ÿ"></a>æè¿°ä¸€ä¸‹ç¼–å†™ loader æˆ– plugin çš„æ€è·¯ï¼Ÿ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Loaderåƒä¸€ä¸ª&quot;ç¿»è¯‘å®˜&quot;æŠŠè¯»åˆ°çš„æºæ–‡ä»¶å†…å®¹è½¬ä¹‰æˆæ–°çš„æ–‡ä»¶å†…å®¹ï¼Œ</span><br><span class="line">å¹¶ä¸”æ¯ä¸ªLoaderé€šè¿‡é“¾å¼æ“ä½œï¼Œå°†æºæ–‡ä»¶ä¸€æ­¥æ­¥ç¿»è¯‘æˆæƒ³è¦çš„æ ·å­ã€‚</span><br><span class="line">ç¼–å†™Loaderæ—¶è¦éµå¾ªå•ä¸€åŸåˆ™ï¼Œæ¯ä¸ªLoaderåªåšä¸€ç§&quot;è½¬ä¹‰&quot;å·¥ä½œã€‚ æ¯ä¸ªLoaderçš„æ‹¿åˆ°çš„æ˜¯æºæ–‡ä»¶å†…å®¹ï¼ˆsourceï¼‰ï¼Œå¯ä»¥é€šè¿‡è¿”å›å€¼çš„æ–¹å¼å°†å¤„ç†åçš„å†…å®¹è¾“å‡ºï¼Œä¹Ÿå¯ä»¥è°ƒç”¨this.callback()æ–¹æ³•ï¼Œå°†å†…å®¹è¿”å›ç»™webpackã€‚ è¿˜å¯ä»¥é€šè¿‡ this.async()ç”Ÿæˆä¸€ä¸ªcallbackå‡½æ•°ï¼Œå†ç”¨è¿™ä¸ªcallbackå°†å¤„ç†åçš„å†…å®¹è¾“å‡ºå‡ºå»ã€‚ æ­¤å¤–webpackè¿˜ä¸ºå¼€å‘è€…å‡†å¤‡äº†å¼€å‘loaderçš„å·¥å…·å‡½æ•°é›†â€”â€”loader-utilsã€‚</span><br><span class="line">ç›¸å¯¹äºLoaderè€Œè¨€ï¼ŒPluginçš„ç¼–å†™å°±çµæ´»äº†è®¸å¤šã€‚ webpackåœ¨è¿è¡Œçš„ç”Ÿå‘½å‘¨æœŸä¸­ä¼šå¹¿æ’­å‡ºè®¸å¤šäº‹ä»¶ï¼ŒPlugin å¯ä»¥ç›‘å¬è¿™äº›äº‹ä»¶ï¼Œåœ¨åˆé€‚çš„æ—¶æœºé€šè¿‡ Webpack æä¾›çš„ API æ”¹å˜è¾“å‡ºç»“æœã€‚</span><br></pre></td></tr></table></figure><h2 id="å¦‚ä½•åˆ©ç”¨-webpack-æ¥ä¼˜åŒ–å‰ç«¯æ€§èƒ½ï¼Ÿ"><a href="#å¦‚ä½•åˆ©ç”¨-webpack-æ¥ä¼˜åŒ–å‰ç«¯æ€§èƒ½ï¼Ÿ" class="headerlink" title="å¦‚ä½•åˆ©ç”¨ webpack æ¥ä¼˜åŒ–å‰ç«¯æ€§èƒ½ï¼Ÿ"></a>å¦‚ä½•åˆ©ç”¨ webpack æ¥ä¼˜åŒ–å‰ç«¯æ€§èƒ½ï¼Ÿ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">ç”¨webpackä¼˜åŒ–å‰ç«¯æ€§èƒ½æ˜¯æŒ‡ä¼˜åŒ–webpackçš„è¾“å‡ºç»“æœï¼Œ</span><br><span class="line">è®©æ‰“åŒ…çš„æœ€ç»ˆç»“æœåœ¨æµè§ˆå™¨è¿è¡Œå¿«é€Ÿé«˜æ•ˆã€‚</span><br><span class="line"></span><br><span class="line">å‹ç¼©ä»£ç ã€‚åˆ é™¤å¤šä½™çš„ä»£ç ã€æ³¨é‡Šã€ç®€åŒ–ä»£ç çš„å†™æ³•ç­‰ç­‰æ–¹å¼ã€‚</span><br><span class="line">å¯ä»¥åˆ©ç”¨webpackçš„UglifyJsPluginå’ŒParallelUglifyPluginæ¥å‹ç¼©JSæ–‡ä»¶</span><br><span class="line">ï¼Œåˆ©ç”¨cssnanoï¼ˆcss-loader?minimizeï¼‰æ¥å‹ç¼©css</span><br><span class="line"></span><br><span class="line">åˆ©ç”¨CDNåŠ é€Ÿã€‚åœ¨æ„å»ºè¿‡ç¨‹ä¸­ï¼Œå°†å¼•ç”¨çš„é™æ€èµ„æºè·¯å¾„ä¿®æ”¹ä¸ºCDNä¸Šå¯¹</span><br><span class="line">åº”çš„è·¯å¾„ã€‚å¯ä»¥åˆ©ç”¨webpackå¯¹äºoutputå‚æ•°å’Œå„loaderçš„publicPath</span><br><span class="line">å‚æ•°æ¥ä¿®æ”¹èµ„æºè·¯å¾„</span><br><span class="line"></span><br><span class="line">åˆ é™¤æ­»ä»£ç ï¼ˆTree Shakingï¼‰ã€‚å°†ä»£ç ä¸­æ°¸è¿œä¸ä¼šèµ°åˆ°çš„ç‰‡æ®µåˆ é™¤æ‰ã€‚</span><br><span class="line"></span><br><span class="line">å¯ä»¥é€šè¿‡åœ¨å¯åŠ¨webpackæ—¶è¿½åŠ å‚æ•°--optimize-minimizeæ¥</span><br><span class="line">å®ç°æå–å…¬å…±ä»£ç ã€‚</span><br></pre></td></tr></table></figure><h2 id="å¦‚ä½•æé«˜-webpack-çš„æ„å»ºé€Ÿåº¦ï¼Ÿ"><a href="#å¦‚ä½•æé«˜-webpack-çš„æ„å»ºé€Ÿåº¦ï¼Ÿ" class="headerlink" title="å¦‚ä½•æé«˜ webpack çš„æ„å»ºé€Ÿåº¦ï¼Ÿ"></a>å¦‚ä½•æé«˜ webpack çš„æ„å»ºé€Ÿåº¦ï¼Ÿ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">å¤šå…¥å£æƒ…å†µä¸‹ï¼Œä½¿ç”¨CommonsChunkPluginæ¥æå–å…¬å…±ä»£ç </span><br><span class="line">é€šè¿‡externalsé…ç½®æ¥æå–å¸¸ç”¨åº“</span><br><span class="line">åˆ©ç”¨DllPluginå’ŒDllReferencePluginé¢„ç¼–è¯‘èµ„æºæ¨¡å— é€šè¿‡DllPluginæ¥å¯¹é‚£äº›æˆ‘ä»¬å¼•ç”¨ä½†æ˜¯ç»å¯¹ä¸ä¼šä¿®æ”¹çš„npmåŒ…æ¥è¿›è¡Œé¢„ç¼–è¯‘ï¼Œ</span><br><span class="line">å†é€šè¿‡DllReferencePluginå°†é¢„ç¼–è¯‘çš„æ¨¡å—åŠ è½½è¿›æ¥ã€‚</span><br><span class="line">ä½¿ç”¨Happypack å®ç°å¤šçº¿ç¨‹åŠ é€Ÿç¼–è¯‘</span><br><span class="line">ä½¿ç”¨webpack-uglify-parallelæ¥æå‡uglifyPluginçš„å‹ç¼©é€Ÿåº¦ã€‚ åŸç†ä¸Šwebpack-uglify-parallelé‡‡ç”¨äº†å¤šæ ¸å¹¶è¡Œå‹ç¼©æ¥æå‡å‹ç¼©é€Ÿåº¦</span><br><span class="line">ä½¿ç”¨Tree-shakingå’ŒScope Hoistingæ¥å‰”é™¤å¤šä½™ä»£ç </span><br></pre></td></tr></table></figure><h2 id="æ€ä¹ˆé…ç½®å•é¡µåº”ç”¨ï¼Ÿæ€ä¹ˆé…ç½®å¤šé¡µåº”ç”¨ï¼Ÿ"><a href="#æ€ä¹ˆé…ç½®å•é¡µåº”ç”¨ï¼Ÿæ€ä¹ˆé…ç½®å¤šé¡µåº”ç”¨ï¼Ÿ" class="headerlink" title="æ€ä¹ˆé…ç½®å•é¡µåº”ç”¨ï¼Ÿæ€ä¹ˆé…ç½®å¤šé¡µåº”ç”¨ï¼Ÿ"></a>æ€ä¹ˆé…ç½®å•é¡µåº”ç”¨ï¼Ÿæ€ä¹ˆé…ç½®å¤šé¡µåº”ç”¨ï¼Ÿ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å•é¡µåº”ç”¨å¯ä»¥ç†è§£ä¸ºwebpackçš„æ ‡å‡†æ¨¡å¼ï¼Œç›´æ¥åœ¨entryä¸­æŒ‡å®šå•é¡µåº”ç”¨çš„å…¥å£å³å¯ï¼Œè¿™é‡Œä¸å†èµ˜è¿°å¤šé¡µåº”ç”¨çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨webpackçš„AutoWebPluginæ¥å®Œæˆç®€å•è‡ªåŠ¨åŒ–çš„æ„å»ºï¼Œä½†æ˜¯å‰ææ˜¯é¡¹ç›®çš„ç›®å½•ç»“æ„å¿…é¡»éµå®ˆä»–é¢„è®¾çš„è§„èŒƒã€‚</span><br><span class="line">å¤šé¡µåº”ç”¨ä¸­è¦æ³¨æ„çš„æ˜¯ï¼šæ¯ä¸ªé¡µé¢éƒ½æœ‰å…¬å…±çš„ä»£ç ï¼Œå¯ä»¥å°†è¿™äº›ä»£ç æŠ½ç¦»å‡ºæ¥ï¼Œé¿å…é‡å¤çš„åŠ è½½ã€‚æ¯”å¦‚ï¼Œæ¯ä¸ªé¡µé¢éƒ½å¼•ç”¨äº†åŒä¸€å¥—cssæ ·å¼è¡¨,éšç€ä¸šåŠ¡çš„ä¸æ–­æ‰©å±•ï¼Œé¡µé¢å¯èƒ½ä¼šä¸æ–­çš„è¿½åŠ ï¼Œæ‰€ä»¥ä¸€å®šè¦è®©å…¥å£çš„é…ç½®è¶³å¤Ÿçµæ´»ï¼Œé¿å…æ¯æ¬¡æ·»åŠ æ–°é¡µé¢è¿˜éœ€è¦ä¿®æ”¹æ„å»ºé…ç½®</span><br></pre></td></tr></table></figure><h2 id="vue-é¡¹ç›®ä¸­å®ç°æŒ‰éœ€åŠ è½½ï¼Ÿ"><a href="#vue-é¡¹ç›®ä¸­å®ç°æŒ‰éœ€åŠ è½½ï¼Ÿ" class="headerlink" title="vue é¡¹ç›®ä¸­å®ç°æŒ‰éœ€åŠ è½½ï¼Ÿ"></a>vue é¡¹ç›®ä¸­å®ç°æŒ‰éœ€åŠ è½½ï¼Ÿ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ä¸ºäº†å¿«é€Ÿå¼€å‘å‰ç«¯é¡¹ç›®ï¼Œç»å¸¸ä¼šå¼•å…¥ç°æˆçš„UIç»„ä»¶åº“å¦‚ElementUIã€iViewç­‰ï¼Œä½†æ˜¯ä»–ä»¬çš„ä½“ç§¯å’Œä»–ä»¬æ‰€æä¾›çš„åŠŸèƒ½ä¸€æ ·ï¼Œæ˜¯å¾ˆåºå¤§çš„ã€‚ è€Œé€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä»…ä»…éœ€è¦å°‘é‡çš„å‡ ä¸ªç»„ä»¶å°±è¶³å¤Ÿäº†ï¼Œä½†æ˜¯æˆ‘ä»¬å´å°†åºå¤§çš„ç»„ä»¶åº“æ‰“åŒ…åˆ°æˆ‘ä»¬çš„æºç ä¸­ï¼Œé€ æˆäº†ä¸å¿…è¦çš„å¼€é”€ã€‚</span><br><span class="line">ä¸è¿‡å¾ˆå¤šç»„ä»¶åº“å·²ç»æä¾›äº†ç°æˆçš„è§£å†³æ–¹æ¡ˆï¼Œå¦‚Elementå‡ºå“çš„babel-plugin-componentå’ŒAntDesignå‡ºå“çš„babel-plugin-import å®‰è£…ä»¥ä¸Šæ’ä»¶åï¼Œåœ¨.babelrcé…ç½®ä¸­æˆ–babel-loaderçš„å‚æ•°ä¸­è¿›è¡Œè®¾ç½®ï¼Œå³å¯å®ç°ç»„ä»¶æŒ‰éœ€åŠ è½½äº†ã€‚</span><br><span class="line"></span><br><span class="line">å•é¡µåº”ç”¨çš„æŒ‰éœ€åŠ è½½Â ç°åœ¨å¾ˆå¤šå‰ç«¯é¡¹ç›®éƒ½æ˜¯é€šè¿‡å•é¡µåº”ç”¨çš„æ–¹å¼å¼€å‘çš„ï¼Œä½†æ˜¯éšç€ä¸šåŠ¡çš„ä¸æ–­æ‰©å±•ï¼Œä¼šé¢ä¸´ä¸€ä¸ªä¸¥å³»çš„é—®é¢˜â€”â€”é¦–æ¬¡åŠ è½½çš„ä»£ç é‡ä¼šè¶Šæ¥è¶Šå¤šï¼Œå½±å“ç”¨æˆ·çš„ä½“éªŒã€‚</span><br><span class="line"></span><br><span class="line">é€šè¿‡import(*)è¯­å¥æ¥æ§åˆ¶åŠ è½½æ—¶æœºï¼Œwebpackå†…ç½®äº†å¯¹äºimport(*)çš„è§£æï¼Œä¼šå°†import(*)ä¸­å¼•å…¥çš„æ¨¡å—ä½œä¸ºä¸€ä¸ªæ–°çš„å…¥å£åœ¨ç”Ÿæˆä¸€ä¸ªchunkã€‚å½“ä»£ç æ‰§è¡Œåˆ°import(*)è¯­å¥æ—¶ï¼Œä¼šå»åŠ è½½Chunkå¯¹åº”ç”Ÿæˆçš„æ–‡ä»¶ã€‚import()ä¼šè¿”å›ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œæ‰€ä»¥ä¸ºäº†è®©æµè§ˆå™¨æ”¯æŒï¼Œéœ€è¦äº‹å…ˆæ³¨å…¥Promise polyfill</span><br></pre></td></tr></table></figure><p>è‡ªä¸»æ­å»ºã€çµæ´»å®šåˆ¶ã€é«˜æ•ˆå¤ç”¨</p><p>1.å•å‘é“¾è¡¨çš„åˆ›å»ºã€æ’å…¥å’Œåè½¬ 2.äºŒå‰æœç´¢æ ‘çš„æŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤æ€æƒ³ï¼Œå†™ä¼ªä»£ç <br>3.tcp é“¾æ¥å’Œé‡Šæ”¾è¿‡ç¨‹ï¼Œhttpï¼Œhttpsï¼Œtcp å’Œ udp æ¯”è¾ƒ 4.é“¾è¡¨é¡ºåºç¿»è½¬</p><h2 id="å¦‚ä½•é˜»æ­¢å†’æ³¡"><a href="#å¦‚ä½•é˜»æ­¢å†’æ³¡" class="headerlink" title="å¦‚ä½•é˜»æ­¢å†’æ³¡?"></a>å¦‚ä½•é˜»æ­¢å†’æ³¡?</h2><pre><code>W3Cçš„æ–¹æ³•e.stopPropagation(),IEä½¿ç”¨e.cancelBubble = true;å°è£…ï¼š    //é˜»æ­¢å†’æ³¡è¡Œä¸º    function stopBubble(e) &#123;        //å¦‚æœæä¾›äº†äº‹ä»¶å¯¹è±¡ï¼Œåˆ™è¿™æ˜¯ä¸€ä¸ªéIEæµè§ˆå™¨        if (e &amp;&amp; e.stopPropagation) e.stopPropagation()        //IEçš„æ–¹æ³•        else window.event.cancelBubble = true    &#125;</code></pre><h2 id="å¦‚ä½•é˜»æ­¢é»˜è®¤äº‹ä»¶ï¼Ÿ"><a href="#å¦‚ä½•é˜»æ­¢é»˜è®¤äº‹ä»¶ï¼Ÿ" class="headerlink" title="å¦‚ä½•é˜»æ­¢é»˜è®¤äº‹ä»¶ï¼Ÿ"></a>å¦‚ä½•é˜»æ­¢é»˜è®¤äº‹ä»¶ï¼Ÿ</h2><pre><code>W3Cçš„æ–¹æ³•æ˜¯e.preventDefault(),IEä½¿ç”¨e.returnValue = falseå°è£…ï¼š    //é˜»æ­¢æµè§ˆå™¨çš„é»˜è®¤è¡Œä¸º    function stopDefault (e) &#123;        if (e &amp;&amp; e.preventDefault) e.preventDefault()        //IEä¸­é˜»æ­¢é»˜è®¤äº‹ä»¶çš„æ–¹æ³•        else window.event.returnValue = false        return false    &#125;</code></pre><h2 id="è¡¥å……ï¼šäº‹ä»¶ç»‘å®šçš„å°è£…"><a href="#è¡¥å……ï¼šäº‹ä»¶ç»‘å®šçš„å°è£…" class="headerlink" title="è¡¥å……ï¼šäº‹ä»¶ç»‘å®šçš„å°è£…"></a>è¡¥å……ï¼šäº‹ä»¶ç»‘å®šçš„å°è£…</h2><pre><code>function addEvent(element,type,handle) &#123;    if(element.addEventListener)&#123;        element.addEventListener(type,handle,false);    &#125;else if(element.attachEvent)&#123;        element.attachEvent(&#39;on&#39;+type,function () &#123;            handle.call(element);        &#125;)    &#125;else &#123;        element[&#39;on&#39;+type] = handle;    &#125;&#125;</code></pre><h2 id="JS-å¦‚ä½•è®¾ç½®è·å–ç›’å­æ¨¡å‹å¯¹åº”çš„å®½å’Œé«˜ï¼Ÿ"><a href="#JS-å¦‚ä½•è®¾ç½®è·å–ç›’å­æ¨¡å‹å¯¹åº”çš„å®½å’Œé«˜ï¼Ÿ" class="headerlink" title="JS å¦‚ä½•è®¾ç½®è·å–ç›’å­æ¨¡å‹å¯¹åº”çš„å®½å’Œé«˜ï¼Ÿ"></a>JS å¦‚ä½•è®¾ç½®è·å–ç›’å­æ¨¡å‹å¯¹åº”çš„å®½å’Œé«˜ï¼Ÿ</h2><ul><li><p>dom.style.width/height</p></li><li><p>dom.currentStyle.width/height (ie æ”¯æŒ)</p></li><li><p>window.getComputedStyle(dom).width/height</p></li><li><p>dom.getBoundingClientRect().width/height</p></li></ul><h4 id="å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºæ•°ç»„"><a href="#å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºæ•°ç»„" class="headerlink" title="å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºæ•°ç»„"></a>å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºæ•°ç»„</h4><pre><code>1. Array.prototype.isPrototypeOf(obj)æ–¹æ³•ï¼Œåˆ¤æ–­Array.prototypeæ˜¯ä¸æ˜¯åœ¨objçš„åŸå‹é“¾ä¸­ï¼Œå¦‚æœåœ¨ï¼Œåˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚2. obj instanceof Array3. Object.prototype.toString.call(obj); //(===&quot;[object Array]&quot;)4.Array.isArray(obj)</code></pre><h4 id="å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡"><a href="#å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡" class="headerlink" title="å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡"></a>å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡</h4><pre><code>1.macro-task(å®ä»»åŠ¡)ï¼šåŒ…æ‹¬æ•´ä½“ä»£ç scriptã€setTimeoutã€setInterval2.micro-task(å¾®ä»»åŠ¡)ï¼šPromise.thenã€process.nextTick</code></pre><h4 id="Http-çš„æŒä¹…è¿æ¥å’Œç®¡çº¿åŒ–"><a href="#Http-çš„æŒä¹…è¿æ¥å’Œç®¡çº¿åŒ–" class="headerlink" title="Http çš„æŒä¹…è¿æ¥å’Œç®¡çº¿åŒ–"></a>Http çš„æŒä¹…è¿æ¥å’Œç®¡çº¿åŒ–</h4><pre><code>1. ä»€ä¹ˆæ˜¯æŒä¹…è¿æ¥ï¼Ÿ    HTTP1.1è§„å®šäº†é»˜è®¤ä¿æŒæŒä¹…è¿æ¥ï¼Œæ•°æ®ä¼ è¾“å®Œæˆä¹Ÿä¿æŒTCPè¿æ¥ä¸æ–­å¼€ï¼Œç­‰å¾…åŒåŸŸåä¸‹    ç»§ç»­ä½¿ç”¨è¿™ä¸ªé€šé“ä¼ è¾“æ•°æ®,åœ¨ä¸€ä¸ªTCPè¿æ¥ä¸Šä¼ è¾“å¤šä¸ªHTTPè¯·æ±‚å’Œå“åº”ã€‚    æŒä¹…è¿æ¥é¿å…äº†é‡æ–°å»ºç«‹è¿æ¥ï¼Œå¤§å¤§å‡å°‘äº†å»ºç«‹å’Œå…³é—­è¿æ¥çš„æ¶ˆè€—å’Œå»¶è¿Ÿï¼ŒHTTPçš„è¿æ¥æ˜¯å»ºç«‹    åœ¨TCPåè®®ä¹‹ä¸Šçš„ï¼Œå»ºç«‹ä¸€æ¡TCPè¿æ¥éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼ŒTCPè¿æ¥å…³é—­éœ€è¦å››æ¬¡æŒ¥æ‰‹ï¼Œè¿™äº›éƒ½éœ€è¦æ—¶é—´ã€‚2. ä»€ä¹ˆæ˜¯ç®¡çº¿åŒ–ï¼Ÿ    æŒä¹…è¿æ¥ï¼š        è¯·æ±‚1 â€”â€”&gt; å“åº”1 â€”â€”&gt; è¯·æ±‚2 â€”â€”&gt; å“åº”2    ç®¡çº¿åŒ–ï¼š        è¯·æ±‚1 â€”â€”&gt; è¯·æ±‚2 â€”â€”&gt; å“åº”1 â€”â€”&gt; å“åº”2    ç®¡çº¿åŒ–æœºåˆ¶éœ€è¦é€šè¿‡æŒä¹…åŒ–è¿æ¥å®Œæˆã€‚    æŒä¹…è¿æ¥çš„ä¸€ä¸ªç¼ºç‚¹æ˜¯è¯·æ±‚å’Œå“åº”å¼æ˜¯é¡ºåºæ‰§è¡Œçš„ï¼Œåªæœ‰åœ¨è¯·æ±‚1çš„å“åº”æ”¶åˆ°ä¹‹åï¼Œ    æ‰ä¼šå‘é€è¯·æ±‚2ï¼Œè€Œç®¡çº¿åŒ–ä¸éœ€è¦ç­‰å¾…ä¸Šä¸€æ¬¡è¯·æ±‚å¾—åˆ°å“åº”å°±å¯ä»¥è¿›è¡Œä¸‹ä¸€æ¬¡è¯·æ±‚ã€‚    å®ç°å¹¶è¡Œå‘é€è¯·æ±‚ã€‚    åªæœ‰GETå’ŒHEADè¯·æ±‚å¯ä»¥è¿›è¡Œç®¡çº¿åŒ–ï¼Œè€ŒPOSTæœ‰æ‰€é™åˆ¶ã€‚    åˆæ¬¡å»ºç«‹è¿æ¥ä¸åº”å¯åŠ¨ç®¡çº¿æœºåˆ¶ï¼Œå› ä¸ºå¯¹æ–¹æœåŠ¡å™¨ä¸ä¸€å®šæ”¯æŒHTTP1.1ç‰ˆæœ¬çš„åè®®ã€‚</code></pre><h4 id="ä¸ºä»€ä¹ˆåˆ©ç”¨å¤šä¸ªåŸŸåæ¥å­˜å‚¨ç½‘ç«™èµ„æºä¼šæ›´æœ‰æ•ˆï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆåˆ©ç”¨å¤šä¸ªåŸŸåæ¥å­˜å‚¨ç½‘ç«™èµ„æºä¼šæ›´æœ‰æ•ˆï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆåˆ©ç”¨å¤šä¸ªåŸŸåæ¥å­˜å‚¨ç½‘ç«™èµ„æºä¼šæ›´æœ‰æ•ˆï¼Ÿ"></a>ä¸ºä»€ä¹ˆåˆ©ç”¨å¤šä¸ªåŸŸåæ¥å­˜å‚¨ç½‘ç«™èµ„æºä¼šæ›´æœ‰æ•ˆï¼Ÿ</h4><pre><code>1.CDN æ˜¯æ„å»ºåœ¨ç½‘ç»œä¹‹ä¸Šçš„å†…å®¹åˆ†å‘ç½‘ç»œï¼Œå¯ä»¥ä½¿ç”¨æˆ·å°±è¿‘è·å–èµ„æºï¼Œå‡ä½ç½‘ç»œæ‹¥å¡ï¼Œæé«˜ç”¨æˆ·è®¿é—®çš„å“åº”æ•ˆç‡ä»¥åŠå‘½ä¸­ç‡ã€‚2.çªç ´æµè§ˆå™¨çš„å¹¶å‘é™åˆ¶ï¼ŒåŒä¸€æ—¶é—´é’ˆå¯¹åŒä¸€åŸŸåä¸‹çš„è¯·æ±‚æœ‰ä¸€å®šçš„æ•°é‡é™åˆ¶ï¼Œè¶…è¿‡é™å®šæ•°ç›®çš„è¯·æ±‚ä¼šè¢«é˜»å¡ã€‚3.èŠ‚çº¦cookieå¸¦å®½4.å‡å°‘ä¸»åŸŸåçš„è¿æ¥æ•°ï¼Œä¼˜åŒ–é¡µé¢å“åº”é€Ÿåº¦5.é˜²æ­¢ä¸å¿…è¦çš„å®‰å…¨é—®é¢˜</code></pre><h4 id="CSS-æƒé‡ï¼ˆ156-è¿›åˆ¶ï¼‰"><a href="#CSS-æƒé‡ï¼ˆ156-è¿›åˆ¶ï¼‰" class="headerlink" title="CSS æƒé‡ï¼ˆ156 è¿›åˆ¶ï¼‰"></a>CSS æƒé‡ï¼ˆ156 è¿›åˆ¶ï¼‰</h4><pre><code>1. ï¼import  æƒå€¼ï¼šinfinite æ— ç©·å¤§2. å†…è”æ ·å¼ï¼Œ æƒå€¼10003. IDé€‰æ‹©å™¨ï¼Œ æƒå€¼ï¼š 1004. ç±»ã€ä¼ªç±»ã€å±æ€§é€‰æ‹©å™¨ï¼Œ æƒå€¼ï¼š 105.æ ‡ç­¾ã€ä¼ªå…ƒç´ é€‰æ‹©å™¨ï¼Œ æƒå€¼ï¼š 16.é€šé…ç¬¦é€‰æ‹©å™¨ *ï¼Œå­é€‰æ‹©å™¨ &gt;,ç›¸é‚»é€‰æ‹©å™¨ +ï¼Œæƒå€¼ï¼š 0æƒå€¼ç›¸ç­‰ï¼Œåæ¥å±…ä¸Š</code></pre><h4 id="html5-çš„æ–°ç‰¹æ€§"><a href="#html5-çš„æ–°ç‰¹æ€§" class="headerlink" title="html5 çš„æ–°ç‰¹æ€§"></a>html5 çš„æ–°ç‰¹æ€§</h4><pre><code>1. æ·»åŠ äº†videoã€radioæ ‡ç­¾2. æ·»åŠ äº†canvasç”»å¸ƒå’Œsvgæ¸²æŸ“çŸ¢é‡å›¾ç‰‡3. æ·»åŠ äº†ä¸€äº›è¯­ä¹‰åŒ–çš„æ ‡ç­¾ headerã€footerã€mainã€section...4. inputçš„typeå€¼æ–°æ·»åŠ äº†å¾ˆå¤šå±æ€§ï¼ˆemailï¼Œsearchï¼Œcolorï¼Œnumber...ï¼‰5. æ·»åŠ äº†åœ°ç†ä½ç½®å®šä½åŠŸèƒ½ Geolocation API6. æ·»åŠ äº†web Storageå­˜å‚¨åŠŸèƒ½ï¼ŒlocalStorageå’ŒsessionStorage7. ä½¿ç”¨html5ï¼Œé€šè¿‡åˆ›å»ºcache manifestæ–‡ä»¶ï¼Œå¯ä»¥è½»æ¾åœ°åˆ›å»ºwebåº”ç”¨çš„ç¦»çº¿ç‰ˆæœ¬8. web workeråˆ›é€ å¤šçº¿ç¨‹ç¯å¢ƒï¼Œæ˜¯è¿è¡Œåœ¨åå°çš„javaScriptã€‚9ã€‚ æœåŠ¡ç«¯æ¨é€ï¼ˆEventSourceç”¨äºæ¥å—æœåŠ¡ç«¯å‘é€äº‹ä»¶é€šçŸ¥ï¼‰</code></pre><h4 id="CSS3-æ–°æ·»åŠ çš„ç‰¹æ€§ï¼Ÿ"><a href="#CSS3-æ–°æ·»åŠ çš„ç‰¹æ€§ï¼Ÿ" class="headerlink" title="CSS3 æ–°æ·»åŠ çš„ç‰¹æ€§ï¼Ÿ"></a>CSS3 æ–°æ·»åŠ çš„ç‰¹æ€§ï¼Ÿ</h4><pre><code>1. åª’ä½“æŸ¥è¯¢2. transformï¼Œtransitionï¼Œtranslateï¼Œscaleï¼Œrotateç­‰ç›¸å…³åŠ¨ç”»æ•ˆæœ3. box-shadowï¼Œtext-shadowç­‰ç‰¹æ•ˆ4. CSS3 @font-faceè§„åˆ™ï¼Œå¯ä»¥å¼•å…¥ä»»æ„å­—ä½“5. CSS3 @keyframesè§„åˆ™ï¼Œåˆ›å»ºåŠ¨ç”»(é…åˆanimationä½¿ç”¨)6. 2Dã€3Dè½¬åŒ–7. æ·»åŠ äº†border-radiusã€border-imageã€column-countã€resizeã€box-sizingã€outline-offsetç­‰å±æ€§</code></pre><h4 id="åŸºæœ¬æ•°æ®ç±»å‹"><a href="#åŸºæœ¬æ•°æ®ç±»å‹" class="headerlink" title="åŸºæœ¬æ•°æ®ç±»å‹"></a>åŸºæœ¬æ•°æ®ç±»å‹</h4><pre><code>åŸºæœ¬æ•°æ®ç±»å‹ï¼šNullã€Undefinedã€Stringã€Booleanã€NumberES6ï¼šSymbolES10ï¼šBigintï¼ˆå¯ä»¥çªç ´å®‰å…¨æ•´æ•°é™åˆ¶ï¼Œå®‰å…¨çš„å­˜å‚¨å’Œæ“ä½œæœ€å¤§æ•´æ•°ä¹‹å¤–çš„æ•´æ•°ï¼Œä¸ä¼šæŸå¤±ç²¾åº¦ï¼‰</code></pre><h2 id="ç‰›å®¢å­¦ä¹ "><a href="#ç‰›å®¢å­¦ä¹ " class="headerlink" title="ç‰›å®¢å­¦ä¹ "></a>ç‰›å®¢å­¦ä¹ </h2><ul><li><p>è¶…é“¾æ¥</p><ul><li>a æ ‡ç­¾çš„ href çš„å±æ€§å€¼æ˜¯ urlï¼Œé‡Œé¢å¿…é¡»åŒ…å«åè®®ï¼Œæ²¡æœ‰åè®®å°±ä¼šè§£ææˆç›¸å¯¹è·¯å¾„ã€‚</li></ul></li><li><p>HTTP çŠ¶æ€ç åˆ†ç±»ï¼š</p><ul><li>1** ä¿¡æ¯ï¼ŒæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œéœ€è¦è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œ</li><li>2** æˆåŠŸï¼Œæ“ä½œè¢«æˆåŠŸæ¥å—å¹¶å¤„ç†ã€‚<ul><li>200 æœåŠ¡ç«¯æˆåŠŸå¤„ç†äº†è¯·æ±‚å¹¶è¿”å›å†…å®¹</li></ul></li><li>3** é‡å®šå‘ï¼Œéœ€è¦è¿›ä¸€æ­¥çš„æ“ä½œä»¥å®Œæˆè¯·æ±‚<ul><li>301 æ°¸ä¹…é‡å®šå‘</li><li>302 ä¸´æ—¶é‡å®šå‘</li><li>304 èµ„æºæœªè¢«ä¿®æ”¹ï¼Œè¿”å›ä¸€ä¸ª 304 çŠ¶æ€å—ç„¶åä»æœ¬åœ°ç¼“å­˜ä¸­åŠ è½½è¯·æ±‚çš„èµ„æº</li></ul></li><li>4** å®¢æˆ·ç«¯é”™è¯¯ï¼Œè¯·æ±‚åŒ…å«è¯­æ³•é”™è¯¯æˆ–æ— æ³•å®Œæˆè¯·æ±‚ã€‚<ul><li>404 ï¼ˆé¡µé¢ä¸¢å¤±ï¼‰æœªæ‰¾åˆ°èµ„æº</li><li>403 æœåŠ¡å™¨æ‹’ç»è¯·æ±‚</li><li>408 ï¼ˆè¯·æ±‚è¶…æ—¶ï¼‰ æœåŠ¡å™¨ç­‰å€™è¯·æ±‚æ—¶å‘ç”Ÿè¶…æ—¶</li></ul></li><li>5** æœåŠ¡å™¨é”™è¯¯ï¼ŒæœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ + 503 æœåŠ¡å™¨æš‚æ—¶ä¸å¯ç”¨ + 504 æœåŠ¡å™¨å†…éƒ¨é”™è¯¯<!--more--></li></ul></li><li><p>HTTP åè®®çš„ç‰¹å¾ï¼š</p><ul><li>C/S(å®¢æˆ·ç«¯/æœåŠ¡å™¨)æ¨¡å¼ï¼šåªè¦å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çŸ¥é“å¦‚ä½•å¤„ç†æ•°æ®å†…å®¹ï¼Œä»»ä½•ç±»å‹çš„æ•°æ®<br>éƒ½å¯ä»¥é€šè¿‡ HTTP æ¥å‘é€ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨æŒ‡å®šåˆé€‚çš„ MIME-type å†…å®¹ç±»å‹ã€‚</li><li>ç®€å•å¿«é€Ÿ</li><li>çµæ´»</li><li>æ— è¿æ¥ï¼šé™åˆ¶æ¯æ¬¡è¿æ¥åªå¤„ç†ä¸€ä¸ªè¯·æ±‚ï¼Œæ”¶åˆ°å®¢æˆ·çš„åº”ç­”åå³æ–­å¼€è¿æ¥ï¼Œå¯ä»¥èŠ‚çœä¼ è¾“æ—¶é—´ã€‚</li><li>æ— çŠ¶æ€ï¼šå¯¹äºäº‹ç‰©å¤„ç†æ²¡æœ‰è®°å¿†èƒ½åŠ›ï¼Œæ„å‘³ç€å¦‚æœåç»­å¤„ç†éœ€è¦å‰é¢çš„ä¿¡æ¯ï¼Œåˆ™å¿…é¡»é‡ä¼ ï¼Œ<br>è¿™æ ·å°±ä¼šå¯¼è‡´æ¯æ¬¡è¿æ¥ä¼ é€çš„æ•°æ®é‡å¢å¤§ï¼Œå¦ä¸€æ–¹é¢ï¼Œåœ¨æœåŠ¡å™¨ä¸éœ€è¦å…ˆå‰ä¿¡æ¯æ—¶å®ƒçš„åº”ç­”å°±ä¼šå¾ˆå¿«ã€‚</li></ul></li><li><p>get å’Œ post çš„è¯·æ±‚åŒºåˆ«ï¼Ÿ</p><ul><li>åŒºåˆ«ä¸€ï¼š<ul><li>get é‡ç‚¹æ˜¯ä»æœåŠ¡å™¨ä¸Šè·å–èµ„æº</li><li>post é‡ç‚¹æ˜¯å‘æœåŠ¡å™¨å‘é€æ•°æ®</li></ul></li><li>åŒºåˆ«äºŒï¼š<ul><li>get ä¼ è¾“æ•°æ®é€šè¿‡ url è¯·æ±‚ï¼Œä»¥ fieldï¼ˆå­—æ®µï¼‰=value çš„å½¢å¼æ”¾åœ¨ url åï¼Œç”¨â€œï¼Ÿâ€è¿æ¥ï¼Œ<br>å¤šä¸ªè¯·æ±‚æ•°æ®é—´ç”¨â€œ&amp;â€è¿æ¥ï¼Œè¿‡ç¨‹ç”¨æˆ·å¯è§ã€‚</li><li>post ä¼ è¾“æ•°æ®æ”¾åœ¨è¯·æ±‚ä½“ï¼ˆrequest bodyï¼‰ä¸­å‘é€ç»™æœåŠ¡å™¨ï¼Œç”¨æˆ·ä¸å¯è§ã€‚</li></ul></li><li>åŒºåˆ«ä¸‰ï¼š<ul><li>get ä¼ è¾“æ•°æ®å¤§å°æœ‰é™åˆ¶ï¼Œä½†æ•ˆç‡è¾ƒé«˜</li><li>post å¯ä»¥ä¼ è¾“å¤§é‡æ•°æ®ï¼Œæ‰€ä»¥ä¸Šä¼ æ–‡ä»¶ç”¨ post æ–¹å¼</li></ul></li><li>åŒºåˆ«å››ï¼š<ul><li>get è¯·æ±‚ä¸å®‰å…¨ï¼Œå› ä¸ºå‚æ•°ç›´æ¥æš´éœ²åœ¨ url ä¸Šï¼Œä¸èƒ½ç”¨æ¥ä¼ é€’æ•æ„Ÿä¿¡æ¯ã€‚</li><li>post è¾ƒ get å®‰å…¨æ€§è¾ƒé«˜ã€‚</li></ul></li><li>åŒºåˆ«äº”ï¼š<ul><li>get æ–¹å¼åªèƒ½æ”¯æŒ ASCII å­—ç¬¦ï¼Œå‘æœåŠ¡ä¼ çš„ä¸­æ–‡å­—ç¬¦å¯èƒ½ä¼šä¹±ç ã€‚</li><li>post æ”¯æŒæ ‡å‡†å­—ç¬¦é›†ï¼Œå¯ä»¥æ­£ç¡®ä¼ é€’ä¸­æ–‡å­—ç¬¦ã€‚</li></ul></li><li>åŒºåˆ«å…­ï¼š<ul><li>get åœ¨æµè§ˆå™¨å›é€€æ˜¯æ— å®³çš„ï¼Œè€Œ post ä¼šå†æ¬¡æäº¤è¯·æ±‚ã€‚</li></ul></li><li>åŒºåˆ«ä¸ƒ<ul><li>get è¯·æ±‚ä¼šè¢«æµè§ˆå™¨ä¸»åŠ¨ cacheï¼ˆç¼“å­˜ï¼‰ï¼Œè€Œ post ä¸ä¼šé™¤éæ‰‹åŠ¨è®¾ç½®ã€‚</li></ul></li></ul></li><li><p>iframe æœ‰å“ªäº›ç¼ºç‚¹ï¼Ÿ</p><ul><li><p>iframe ä¼šé˜»å¡ä¸»é¡µé¢çš„ onload äº‹ä»¶</p></li><li><p>é€šè¿‡ oIframe.contentWindow å¯»æ‰¾å­ window å¯¹è±¡</p></li><li><p>é€šè¿‡ window.parent å¯»æ‰¾çˆ¶çº§çª—ä½“</p></li><li><p>é€šè¿‡ window.top å¯»æ‰¾é¡¶çº§çª—ä½“</p></li><li><p>window.location.hash è§£å†³çˆ¶é¡µé¢å‘å­é¡µé¢ä¼ å€¼</p></li><li><p>window.name è§£å†³å­é¡µé¢å‘çˆ¶é¡µé¢ä¼ å€¼</p></li><li><p>ä¸åˆ©äº SEOï¼Œæœç´¢å¼•æ“çš„æ£€ç´¢ç¨‹åºæ— æ³•è§£è¯»è¿™ç§é¡µé¢ï¼ˆç™¾åº¦ spider ä¸æ”¶å½•ï¼Œæµè§ˆå™¨å¯¹ iframe æ¡†æ¶çš„å…¼å®¹é—®é¢˜ï¼‰</p></li><li><p>iframe å’Œä¸»é¡µé¢å…±äº«è¿æ¥æ± ï¼Œè€Œæµè§ˆå™¨å¯¹ç›¸åŒåŸŸçš„è¿æ¥æœ‰é™åˆ¶ï¼Œæ‰€ä»¥ä¼šå½±å“é¡µé¢çš„å¹¶è¡ŒåŠ è½½</p></li><li><p>å¦‚æœéœ€è¦ä½¿ç”¨ iframeï¼Œæœ€å¥½é€šè¿‡ javascript åŠ¨æ€ç»™ iframe æ·»åŠ  src å±æ€§å€¼ã€‚</p></li></ul></li><li><p>xhtml å’Œ html æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p><ul><li><p>æ€§èƒ½æ–¹é¢</p><ul><li>XHTML å…¼å®¹æ€§å¥½ï¼Œå…¼å®¹å„å¤§æµè§ˆå™¨ã€æ‰‹æœºä»¥åŠ PDAï¼Œä½¿æµè§ˆå™¨å¯ä»¥å¿«é€Ÿæ­£ç¡®ç¼–è¯‘ç½‘é¡µ</li></ul></li><li><p>ä¹¦å†™ä¹ æƒ¯æ–¹é¢</p><ul><li><p>HTML æ ‡ç­¾ä¸åŒºåˆ†å¤§å°å†™ï¼ŒXHTML æ‰€æœ‰æ ‡ç­¾å¿…é¡»å°å†™</p></li><li><p>XHTML å¿…é¡»æˆåŒæˆå¯¹</p></li><li><p>HTML å¯¹æ ‡ç­¾é¡ºåºè¦æ±‚ä¸ä¸¥æ ¼ï¼ŒXHTML æ ‡ç­¾é¡ºåºå¿…é¡»æ­£ç¡®</p></li><li><p>ç­‰ç­‰</p></li></ul></li></ul></li><li><p>html å’Œ xml çš„åŒºåˆ«ï¼Ÿ</p><ul><li><p>xml è¢«è®¾è®¡ç”¨æ¥ä¼ è¾“å’Œå­˜å‚¨æ•°æ®ï¼Œå…¶ç„¦ç‚¹æ˜¯æ•°æ®çš„å†…å®¹</p></li><li><p>html è¢«è®¾è®¡ç”¨æ¥æ˜¾ç¤ºæ•°æ®ï¼Œå…¶ç„¦ç‚¹æ˜¯æ•°æ®çš„å¤–è§‚</p></li><li><p>html æ—¨åœ¨æ˜¾ç¤ºä¿¡æ¯ï¼Œè€Œ xml æ—¨åœ¨ä¼ è¾“ä¿¡æ¯</p></li><li><p>xml åœ¨å®šä¹‰æ ‡è®°æ—¶åŒºåˆ†å¤§å°å†™ï¼Œè€Œ html ä¸åŒºåˆ†å¤§å°å†™</p></li></ul></li><li><p>link å’Œ@import çš„åŒºåˆ«ï¼š<br><strong>ä¸¤è€…éƒ½æ˜¯å¤–éƒ¨å¼•ç”¨ CSS çš„æ–¹å¼ï¼Œä½†æœ‰ä¸€å®šçš„åŒºåˆ«</strong></p><pre><code>+ linkæ˜¯XHTMLæ ‡ç­¾ï¼Œé™¤äº†åŠ è½½CSSå¤–ï¼Œè¿˜å¯ä»¥åŠ è½½å…¶ä»–æ–‡ä»¶ï¼›@importåªèƒ½åŠ è½½CSSã€‚+ è§£æåˆ°linkæ—¶ï¼Œé¡µé¢ä¼šåŒæ­¥åŠ è½½Cssï¼›@importåœ¨é¡µé¢åŠ è½½å®ŒååŠ è½½Cssã€‚+ linkæ˜¯XHTMLæ ‡ç­¾ï¼Œæ— å…¼å®¹é—®é¢˜ï¼›@importæ˜¯åœ¨**CSS2.1**ä¹‹åæå‡ºçš„ï¼Œåªæœ‰å†IE5ä»¥ä¸Šæ‰èƒ½è¯†åˆ«ã€‚+ linkå¯ä»¥jsåŠ¨æ€å¼•å…¥ï¼Œ@importä¸è¡Œ+ @importçš„æœ€ä½³å†™æ³•ï¼š @import url(style.css),å…¶ä»–å†™æ³•ï¼š@import &#39;style.css&#39;ã€@import &quot;style.css&quot;ã€@import url(&#39;style.css&#39;)ã€@import url(&quot;style.css&quot;)</code></pre></li><li><p>viewport</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no&quot; /&gt;</span><br><span class="line"></span><br><span class="line">  // width            è®¾ç½®viewportå®½åº¦ï¼Œä¸ºä¸€ä¸ªæ­£æ•´æ•°ï¼Œæˆ–å­—ç¬¦ä¸²â€˜device-widthâ€™</span><br><span class="line">  // device-width     è®¾å¤‡å®½åº¦</span><br><span class="line">  // height           è®¾ç½®viewporté«˜åº¦ï¼Œä¸€èˆ¬è®¾ç½®äº†å®½åº¦ï¼Œä¼šè‡ªåŠ¨è§£æå‡ºé«˜åº¦ï¼Œå¯ä»¥ä¸ç”¨è®¾ç½®</span><br><span class="line">  // initial-scale    é»˜è®¤ç¼©æ”¾æ¯”ä¾‹ï¼ˆåˆå§‹ç¼©æ”¾æ¯”ä¾‹ï¼‰ï¼Œä¸ºä¸€ä¸ªæ•°å­—ï¼Œå¯ä»¥å¸¦å°æ•°</span><br><span class="line">  // minimum-scale    å…è®¸ç”¨æˆ·æœ€å°ç¼©æ”¾æ¯”ä¾‹ï¼Œä¸ºä¸€ä¸ªæ•°å­—ï¼Œå¯ä»¥å¸¦å°æ•°</span><br><span class="line">  // maximum-scale    å…è®¸ç”¨æˆ·æœ€å¤§ç¼©æ”¾æ¯”ä¾‹ï¼Œä¸ºä¸€ä¸ªæ•°å­—ï¼Œå¯ä»¥å¸¦å°æ•°</span><br><span class="line">  // user-scalable    æ˜¯å¦å…è®¸æ‰‹åŠ¨ç¼©æ”¾</span><br></pre></td></tr></table></figure><ul><li><p>å•è¡Œæ–‡æœ¬æº¢å‡ºçœç•¥å·</p><p>overflow: hidden;</p><p>text-overflow:ellipsis;</p><p>white-space: nowrap;</p></li><li><p>å¤šè¡Œæ–‡æœ¬æº¢å‡ºçœç•¥å·</p><p>display: -webkit-box;</p><p>-webkit-box-orient: vertical;</p><p>-webkit-line-clamp: 3;</p><p>overflow: hidden;</p></li><li><p>æ¢è¡Œæ ‡ç­¾</p><p>word-wrap: break-word</p></li></ul><h2 id="æ·±åº¦å°è£…-typeof-åˆ¤æ–­"><a href="#æ·±åº¦å°è£…-typeof-åˆ¤æ–­" class="headerlink" title="æ·±åº¦å°è£… typeof åˆ¤æ–­"></a>æ·±åº¦å°è£… typeof åˆ¤æ–­</h2><pre><code>function myTypeof(val) &#123;    var type = typeof(val)    var res = &#123;        &#39;[object Object]&#39; : &#39;object&#39;,        &#39;[object Array]&#39; : &#39;array&#39;,        &#39;[object Number]&#39; : &#39;object number&#39;,        &#39;[object String]&#39; : &#39;object string&#39;,        &#39;[object Boolean]&#39; : &#39;object boolean&#39;    &#125;    if (val === null) &#123;        return &#39;null&#39;    &#125; else if (type == &#39;object&#39;) &#123;        var str = Object.prototype.toString.call(val)        return res[str]    &#125; else &#123;        return type    &#125;&#125;</code></pre><h2 id="æµè§ˆå™¨çš„-reflow-å’Œ-repaint"><a href="#æµè§ˆå™¨çš„-reflow-å’Œ-repaint" class="headerlink" title="æµè§ˆå™¨çš„ reflow å’Œ repaint"></a>æµè§ˆå™¨çš„ reflow å’Œ repaint</h2><ul><li>reflowï¼ˆå›æµ||é‡æ’ï¼‰ï¼šå½“æµè§ˆå™¨ä¸ŠæŸä¸€ä¸ªä½ç½®çš„å¸ƒå±€å‘ç”Ÿäº†æ”¹å˜ï¼Œæµè§ˆå™¨ä¼šé‡æ–°ä»æ ¹éƒ¨å¼€å§‹è®¡ç®—è¯¥èŠ‚ç‚¹çš„</li></ul><p>å¸ƒå±€ã€‚æ¯”å¦‚ï¼šå‘é¡µé¢ä¸­æ·»åŠ ã€åˆ é™¤æŸä¸€å…ƒç´ ç­‰ï¼Œdom èŠ‚ç‚¹çš„å®½é«˜ä½ç½®æ”¹å˜ï¼Œåªè¦è¿™äº›æ“ä½œå½±å“äº†</p><p>é¡µé¢çš„å…ƒç´ ä½ç½®æˆ–å¤§å°çš„å˜åŒ–ï¼Œéƒ½ä¼šå¼•èµ· reflowã€‚</p><ul><li>repaintï¼ˆé‡ç»˜ï¼‰ï¼šå¦‚æœåªæ”¹å˜é¡µé¢å…ƒç´ çš„é¢œè‰²ã€å­—ä½“ç­‰ä¸å½±å“å¸ƒå±€çš„å±æ€§æ—¶ï¼Œæµè§ˆå™¨ä¼šè¿›è¡Œ repaintã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ç”±ä¸Šå¯è§ï¼Œç›¸æ¯”repaintæ“ä½œï¼Œreflowçš„è€—æ—¶è¦æ›´å¤šã€‚åªè¦æ˜¯åŠ¨æ€çš„å¯¹é¡µé¢è¿›è¡Œä¿®æ”¹ï¼Œæµè§ˆå™¨çš„reflow</span><br><span class="line"></span><br><span class="line">å’Œrepaintçš„æ“ä½œå°±ä¸å¯é¿å…ï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯å°½å¯èƒ½çš„å‡å°‘æµè§ˆå™¨çš„reflowå’Œrepaintçš„æ¬¡æ•°ã€‚</span><br></pre></td></tr></table></figure><h2 id="æµè§ˆå™¨æ˜¯æ€ä¹ˆå¯¹-HTML5-çš„ç¦»çº¿å­˜å‚¨èµ„æºè¿›è¡Œç®¡ç†å’ŒåŠ è½½çš„ï¼Ÿ"><a href="#æµè§ˆå™¨æ˜¯æ€ä¹ˆå¯¹-HTML5-çš„ç¦»çº¿å­˜å‚¨èµ„æºè¿›è¡Œç®¡ç†å’ŒåŠ è½½çš„ï¼Ÿ" class="headerlink" title="æµè§ˆå™¨æ˜¯æ€ä¹ˆå¯¹ HTML5 çš„ç¦»çº¿å­˜å‚¨èµ„æºè¿›è¡Œç®¡ç†å’ŒåŠ è½½çš„ï¼Ÿ"></a>æµè§ˆå™¨æ˜¯æ€ä¹ˆå¯¹ HTML5 çš„ç¦»çº¿å­˜å‚¨èµ„æºè¿›è¡Œç®¡ç†å’ŒåŠ è½½çš„ï¼Ÿ</h2><ul><li><p>åœ¨çº¿çš„æƒ…å†µä¸‹ï¼šæµè§ˆå™¨å‘ç° html å¤´éƒ¨æœ‰ manifest å±æ€§ï¼Œä¼šè¯·æ±‚ manifest æ–‡ä»¶ï¼Œå¦‚æœæ˜¯<br>ç¬¬ä¸€æ¬¡è®¿é—® appï¼Œæµè§ˆå™¨ä¼šæ ¹æ® manifest æ–‡ä»¶çš„å†…å®¹ä¸‹è½½ç›¸åº”çš„èµ„æºå¹¶è¿›è¡Œç¦»çº¿ç¼“å­˜ã€‚å¦‚æœ<br>å·²ç»ç¦»çº¿å­˜å‚¨äº†ï¼Œæµè§ˆå™¨ä¼šä½¿ç”¨ç¦»çº¿çš„èµ„æºåŠ è½½é¡µé¢ï¼Œç„¶åæµè§ˆå™¨ä¼šæ¯”å¯¹æ–°çš„ manifest æ–‡ä»¶<br>ä¸æ—§çš„ manifest æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œå°±ä¸è¦åšä»»ä½•æ“ä½œï¼Œå¦‚æœæ–‡ä»¶æ”¹å˜ï¼Œå°±ä¼šé‡æ–°<br>ä¸‹è½½æ–‡ä»¶ä¸­çš„èµ„æºå¹¶è¿›è¡Œç¦»çº¿å­˜å‚¨ã€‚</p></li><li><p>ç¦»çº¿çš„æƒ…å†µä¸‹ï¼šæµè§ˆå™¨å°±ç›´æ¥ä½¿ç”¨ç¦»çº¿å­˜å‚¨çš„èµ„æºã€‚</p></li></ul><h2 id="å¦‚ä½•æ¸…é™¤-token"><a href="#å¦‚ä½•æ¸…é™¤-token" class="headerlink" title="å¦‚ä½•æ¸…é™¤ token"></a>å¦‚ä½•æ¸…é™¤ token</h2><ul><li><p>æµè§ˆå™¨å…³é—­ä¼šå‡ºå‘ <strong>beforeunload</strong> ï¼Œ<strong>unload</strong> è¿™ä¸¤ä¸ªäº‹ä»¶ã€‚</p></li><li><p>æµè§ˆå™¨åˆ·æ–°ä¹Ÿä¼šè§¦å‘ï¼Œè¿˜ä¼šè§¦å‘<strong>load</strong>äº‹ä»¶</p></li><li><p>æ–¹æ¡ˆä¸€</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">window.onbeforeunload = function () &#123;</span><br><span class="line">    localStorage.removeItem(&quot;token&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼ºç‚¹ï¼š åˆ·æ–°ä¹Ÿä¼šæ¸…ç©º token</p></li><li><p>æ–¹æ¡ˆäºŒ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">window.onunload = function() &#123;</span><br><span class="line">    localStorage.setItem(&quot;lastTime&quot;,new Date().getTime())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">window.onload = function() &#123;</span><br><span class="line">    let lastTime = localStorage.getItem(&quot;lastTime&quot;);</span><br><span class="line">    const interval = 3 * 1000;</span><br><span class="line">    // å¦‚æœæ—¶é—´é—´éš”å¤§äº3sï¼Œåˆ™æ¸…é™¤token</span><br><span class="line">    if (!lastTime || new Date().getTime() - lastTime &gt; interval) &#123;</span><br><span class="line">        localStorage.remove(&quot;token&quot;);</span><br><span class="line">        console.log(&quot;remove token&quot;);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        console.log(&quot;time is less than not remove token&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>è¡¥å……<br>å¯ä»¥ä½¿ç”¨ sessionStorage ä»£æ›¿ localStorage æ¥å­˜å‚¨ tokenï¼Œå½“å…³é—­æµè§ˆå™¨æ—¶ä¼šè‡ªåŠ¨æ¸…é™¤ tokenï¼ŒsessionStorage ä¸æ˜¯æŒä¹…åŒ–çš„æœ¬åœ°å­˜å‚¨ï¼Œè€Œæ˜¯ä¼šè¯çº§åˆ«çš„å­˜å‚¨ï¼Œè€Œ localStorage æ˜¯æŒä¹…åŒ–çš„æœ¬åœ°å­˜å‚¨ï¼Œé™¤éä¸»åŠ¨åˆ é™¤æ•°æ®ï¼Œå¦åˆ™æ•°æ®æ˜¯ä¸ä¼šè¿‡æœŸçš„ã€‚</p></li></ul><h2 id="npm"><a href="#npm" class="headerlink" title="npm"></a>npm</h2><!--more--><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸¾ä¸ªä¾‹å­ï¼š</span></span><br><span class="line"><span class="string">&quot;dependencies&quot;</span>: &#123;</span><br><span class="line">  <span class="string">&quot;jquery&quot;</span>: <span class="string">&quot;^13.4.6&quot;</span>, <span class="comment">// åªé”å®šä¸»ç‰ˆæœ¬å· major</span></span><br><span class="line">  <span class="string">&quot;jquery&quot;</span>: <span class="string">&quot;~13.4.6&quot;</span>, <span class="comment">// é”å®šä¸»ç‰ˆæœ¬å·å’Œæ¬¡ç‰ˆæœ¬å· major + minor</span></span><br><span class="line">  <span class="string">&quot;jquery&quot;</span>: <span class="string">&quot;13.4.6&quot;</span>,  <span class="comment">// é”å®šç‰ˆæœ¬</span></span><br><span class="line">  <span class="string">&quot;jquery&quot;</span>: <span class="string">&quot;*&quot;</span>,       <span class="comment">// æœ€æ–°ç‰ˆæœ¬</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// major: 13, minor: 4, patch: 6</span></span><br><span class="line"></span><br><span class="line">$ npm info jquery <span class="comment">// æŸ¥çœ‹ jquery ä¿¡æ¯</span></span><br><span class="line">$ npm view jquery versions <span class="comment">// æŸ¥çœ‹ jquery æ‰€æœ‰ç‰ˆæœ¬</span></span><br><span class="line">$ npm list | grep gulp <span class="comment">// è¿‡æ»¤ gulp</span></span><br><span class="line">$ npm outdated <span class="comment">// æŸ¥çœ‹è¿‡æœŸç‰ˆæœ¬</span></span><br><span class="line">$ npm update <span class="comment">//æ›´æ–°ç‰ˆæœ¬</span></span><br><span class="line">$ npm cache clean --force <span class="comment">// æ¸…æ¥šç¼“å­˜</span></span><br><span class="line">$ npm ls <span class="comment">// æŸ¥çœ‹é¡¹ç›®å¼•ç”¨äº†å“ªäº›åŒ…</span></span><br><span class="line">$ npm unpublish --force <span class="comment">// ä»npmå¸è½½åŒ…</span></span><br><span class="line"><span class="comment">// æ‰§è¡Œé¡ºåº</span></span><br><span class="line">$ npm run script1 &amp; npm run script2 <span class="comment">//å¹¶è¡Œæ‰§è¡Œ</span></span><br><span class="line">$ npm run script1 &amp;&amp; npm run script2 <span class="comment">// ç»§å‘æ‰§è¡Œ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// cross-env: è¿è¡Œè·¨å¹³å°è®¾ç½®å’Œä½¿ç”¨ç¯å¢ƒå˜é‡çš„è„šæœ¬</span></span><br><span class="line"><span class="comment">// cross-envå¯ä»¥è®¾ç½®NODE_ENVç¯å¢ƒå˜é‡ï¼Œprocess.env.NODE_ENV === &#x27;production&#x27;</span></span><br><span class="line">$ npm install --save-dev cross-env</span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//   &quot;scripts&quot;: &#123;</span></span><br><span class="line"><span class="comment">//     &quot;build&quot;: &quot;cross-env NODE_ENV=production webpack --config build/webpack.config.js&quot;</span></span><br><span class="line"><span class="comment">//   &#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">$ npm config get registry <span class="comment">// æŸ¥çœ‹å½“å‰æº</span></span><br><span class="line">$ npm config set registry <span class="attr">https</span>:<span class="comment">//registry.npm.taobao.org //åˆ‡æ¢é•œåƒæº</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// npx</span></span><br><span class="line"><span class="comment">// --no-install: è®©npxå¼ºåˆ¶ä½¿ç”¨æœ¬åœ°æ¨¡å—ï¼Œä¸ä¸‹è½½è¿œç¨‹æ¨¡å—ï¼Œå¦‚æœæœ¬åœ°ä¸å­˜åœ¨ï¼Œå°±ä¼šæŠ¥é”™</span></span><br><span class="line">$ npx --no-install http-server</span><br><span class="line"><span class="comment">// --ignore-existing: å¿½ç•¥æœ¬åœ°çš„åŒåæ¨¡å—ï¼Œå¼ºåˆ¶å®‰è£…è¿œç¨‹æ¨¡å—</span></span><br><span class="line">$ npx --ignore-existing http-server</span><br></pre></td></tr></table></figure><h2 id="æœ¬åœ°å­˜å‚¨"><a href="#æœ¬åœ°å­˜å‚¨" class="headerlink" title="æœ¬åœ°å­˜å‚¨"></a>æœ¬åœ°å­˜å‚¨</h2><ul><li><p>å®¢æˆ·ç«¯çš„æœ¬åœ°å­˜å‚¨ï¼š</p><ul><li><p>localStorage - ç”Ÿå‘½å‘¨æœŸæ°¸ä¹…ç”Ÿæ•ˆï¼Œé™¤éæ‰‹åŠ¨åˆ é™¤ï¼Œå¦åˆ™å…³é—­é¡µé¢ä¹Ÿä¼šå­˜åœ¨ - å¯ä»¥åœ¨åŒä¸€æµè§ˆå™¨å¤šçª—å£å…±äº« - ä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜å‚¨ä½¿ç”¨ - æ–¹æ³•ï¼š + å­˜å‚¨æ•°æ®ï¼šlocalStorage.setItem(key, value) + è·å–æ•°æ®ï¼šlocalStorage.getItem(key) + åˆ é™¤æ•°æ®ï¼šlocalStorage.removeItem(key) + åˆ é™¤æ‰€æœ‰æ•°æ®ï¼šlocalStorage.clear()</p></li><li><p>sessionStorage</p><ul><li><p>å£°æ˜å‘¨æœŸä¸ºå…³é—­æµè§ˆå™¨çª—å£</p></li><li><p>åœ¨åŒä¸€ä¸ªçª—å£ä¸­æ•°æ®å¯ä»¥å…±äº«</p></li><li><p>ä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜å‚¨</p></li><li><p>æ–¹æ³•ï¼š</p><ul><li>å­˜å‚¨æ•°æ®ï¼šsessionStorage.setItem(key, value)</li><li>è·å–æ•°æ®ï¼šsessionStorage.getItem(key)</li><li>åˆ é™¤æ•°æ®ï¼šsessionStorage.removeItem(key)</li><li>åˆ é™¤æ‰€æœ‰æ•°æ®ï¼šsessionStorage.clear()</li></ul><p><a href='https://www.cnblogs.com/pengc/p/8714475.html'>localStorage å’Œ sessionStorage</a></p><p><a href='https://www.cnblogs.com/8023-CHD/p/11067141.html'>cookie å’Œ session</a></p></li></ul></li><li><p>IndexDB ç¦»çº¿å­˜å‚¨ï¼Œå½“ç½‘ç»œæ–­å¼€ï¼Œå¯ä»¥ä»æµè§ˆå™¨ä¸­è¯»å–æ•°æ®ï¼Œç”¨æ¥åšä¸€äº›ç¦»çº¿åº”ç”¨</p></li><li><p>Cookie</p><ul><li>åŒ…å«å­—æ®µ<ul><li>name: cookie åç§°</li><li>value: å€¼</li><li>domain: cookie ç”Ÿæ•ˆçš„åŸŸå</li><li>path: cookie ç”Ÿæ•ˆçš„è·¯å¾„</li><li>expires/max-age: cookie è¿‡æœŸæ—¶é—´</li><li>size: å¤§å°</li><li>HttpOnly: ç”¨æˆ·ç«¯ä¸å¯æ›´æ”¹</li></ul></li><li>å­˜å‚¨ç”¨æˆ·ä¿¡æ¯ï¼Œé€šè¿‡åœ¨å®¢æˆ·ç«¯è®°å½•ä¿¡æ¯ç¡®å®šç”¨æˆ·èº«ä»½ï¼Œæœ€å¤§ä¸º 4kb</li><li>ä¼šè¯ Cookieï¼Œè‹¥ä¸è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œè¡¨ç¤ºè¿™ä¸ª cookie çš„ç”Ÿå‘½å‘¨æœŸä¸ºæµè§ˆå™¨ä¼šè¯æœŸé—´ï¼Œæµè§ˆå™¨<br>å…³é—­ï¼Œcookie å°±æ¶ˆå¤±ï¼Œä¼šè¯ cookie ä¼šä¿å­˜åœ¨å†…å­˜ä¸­è€Œä¸æ˜¯ç¡¬ç›˜ä¸Šã€‚</li><li>æŒä¹… Cookieï¼Œè‹¥è®¾ç½®äº†è¿‡æœŸæ—¶é—´ï¼Œæµè§ˆå™¨ä¼šæŠŠ cookie ä¿å­˜åœ¨ç¡¬ç›˜ä¸Šï¼Œå…³é—­æµè§ˆå™¨ä»ç„¶æœ‰æ•ˆç›´åˆ°<br>è¶…è¿‡è®¾å®šçš„è¿‡æœŸæ—¶é—´ã€‚</li><li>cookie æ•°æ®å§‹ç»ˆåœ¨åŒæºçš„ http è¯·æ±‚ä¸­æºå¸¦(å³ä½¿ä¸éœ€è¦)ï¼Œå³ä¼šåœ¨æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´æ¥å›ä¼ é€’ã€‚</li><li>Cookie å…·æœ‰ä¸å¯è·¨åŸŸåæ€§ï¼Œä¾‹å¦‚æµè§ˆå™¨è®¿é—®ç™¾åº¦ä¸ä¼šå¸¦ä¸Šè°·æ­Œçš„ cookie</li></ul></li></ul></li><li><p>æœåŠ¡ç«¯çš„å­˜å‚¨ï¼š</p><ul><li>Session<ul><li>Session æœåŠ¡å™¨ç«¯ä¸€ç§è®°å½•å®¢æˆ·ç«¯çŠ¶æ€çš„æœºåˆ¶</li><li>cookie æ•°æ®å­˜æ”¾åœ¨å®¢æˆ·çš„æµè§ˆå™¨ä¸Šï¼Œsession å°†æ•°æ®å­˜æ”¾åœ¨æœåŠ¡å™¨ç«¯</li><li>Session ç›¸å¯¹ Cookie æ¥è¯´æ¯”è¾ƒå®‰å…¨ï¼Œåˆ«äººå¯ä»¥åˆ†ææœ¬åœ°å­˜æ”¾çš„ cookie è¿›è¡Œ cookie æ¬ºéª—</li><li>Session ä¼šåœ¨ä¸€å®šæ—¶é—´å†…ä¿å­˜åœ¨æœåŠ¡å™¨ä¸Šï¼Œè®¿é—®é‡è¾ƒå¤šçš„æ—¶å€™ä¼šæ¯”è¾ƒå ç”¨æœåŠ¡å™¨çš„æ€§èƒ½ï¼Œ<br>è€ƒè™‘åˆ°å‡è½»æœåŠ¡å™¨æ€§èƒ½æ–¹é¢çš„æ—¶å€™ï¼Œåº”å½“ä½¿ç”¨ cookie</li><li>å¯ä»¥å°†ç™»é™†ç­‰é‡è¦ä¿¡æ¯ä¿å­˜åœ¨ sessionï¼Œå…¶ä»–ä¿¡æ¯æ”¾åœ¨ cookie ä¸­</li></ul></li></ul></li></ul><h2 id="æ—¥æœŸ"><a href="#æ—¥æœŸ" class="headerlink" title="æ—¥æœŸ"></a>æ—¥æœŸ</h2><!--more--><pre><code>Date.now()  //è·å–å½“å‰æ—¶é—´æ¯«ç§’æ•°var dt = new Date() //æ„é€ ä¸€ä¸ªå®ä¾‹å¯¹è±¡dt.getTime()    //è·å–æ¯«ç§’æ•°dt.getFullYear() //å¹´dt.getMonth()   //æœˆï¼ˆ0-11ï¼‰dt.getDate()    //æ—¥ ï¼ˆ0-31ï¼‰dt.getHours()   //å°æ—¶ï¼ˆ0-23ï¼‰dt.getMinutes() //åˆ†é’Ÿï¼ˆ0-59ï¼‰dt.getSeconds() //ç§’ï¼ˆ0-59ï¼‰dt.getDay()     //æ˜ŸæœŸå‡ ï¼ˆ0-6ï¼‰</code></pre><h3 id="å¦‚ä½•ç›‘å¬æœªå¤„ç†çš„å¼‚å¸¸"><a href="#å¦‚ä½•ç›‘å¬æœªå¤„ç†çš„å¼‚å¸¸" class="headerlink" title="å¦‚ä½•ç›‘å¬æœªå¤„ç†çš„å¼‚å¸¸"></a>å¦‚ä½•ç›‘å¬æœªå¤„ç†çš„å¼‚å¸¸</h3><ul><li>tryâ€¦catch<ul><li>æ— æ³•æ•æ‰åˆ°è¯­æ³•é”™è¯¯ï¼Œåªèƒ½æ•æ‰è¿è¡Œæ—¶é”™è¯¯</li><li>å¯ä»¥æ‹¿åˆ°å‡ºé”™çš„ä¿¡æ¯(å‡ºé”™çš„æ–‡ä»¶ï¼Œè¡Œå·ï¼Œåˆ—å·)</li></ul></li><li>window.onerror<ul><li>ç”±äº tryâ€¦catch åªèƒ½æ•è·å—é‡Œé¢çš„é”™è¯¯ï¼Œå…¨å±€çš„ä¸€äº›é”™è¯¯å¯ä»¥ç”¨ window.onerror æ¥æ•è·</li></ul></li></ul><h3 id="http-å’Œ-https-çš„åŒºåˆ«-1"><a href="#http-å’Œ-https-çš„åŒºåˆ«-1" class="headerlink" title="http å’Œ https çš„åŒºåˆ«"></a>http å’Œ https çš„åŒºåˆ«</h3><ul><li>http æ˜¯ä¸€ç§ä¸€ç§å¹¿æ³›ä½¿ç”¨çš„ç½‘ç»œåè®®ï¼Œæ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨è¯·æ±‚å’Œåº”ç­”çš„æ ‡å‡†ã€‚</li><li>http å·¥ä½œåœ¨ TCP åè®®çš„ 80 ç«¯å£ï¼Œhttps å·¥ä½œåœ¨ TCP åè®®çš„ 443 ç«¯å£</li><li>http åè®®è¿è¡Œåœ¨ TCP åè®®ä¹‹ä¸Šï¼Œæ‰€æœ‰çš„ä¼ è¾“å†…å®¹éƒ½æ˜¯æ˜æ–‡ï¼Œhttps è¿è¡Œåœ¨ SSL/TLS ä¹‹ä¸Šï¼Œ<br>SSL/TLS è¿è¡Œåœ¨ TCP ä¹‹ä¸Šï¼Œæ‰€æœ‰çš„ä¼ è¾“å†…å®¹éƒ½æ˜¯ç»è¿‡åŠ å¯†çš„ã€‚</li><li>https æ˜¯ä»¥å®‰å…¨ä¸ºç›®æ ‡çš„ http é€šé“ï¼Œæ˜¯ http çš„å®‰å…¨ç‰ˆã€‚æ˜¯ http åŠ ä¸Š SSL å±‚å¯¹ä¼ è¾“çš„ä¿¡æ¯å’Œ url åšäº†ä¸€äº›åŠ å¯†å¤„ç†ï¼Œæ›´åŠ å®‰å…¨</li></ul><h3 id="ä¸ºä»€ä¹ˆ-https-ä¸ä¼šè¢«æˆªå–ä¿¡æ¯"><a href="#ä¸ºä»€ä¹ˆ-https-ä¸ä¼šè¢«æˆªå–ä¿¡æ¯" class="headerlink" title="ä¸ºä»€ä¹ˆ https ä¸ä¼šè¢«æˆªå–ä¿¡æ¯"></a>ä¸ºä»€ä¹ˆ https ä¸ä¼šè¢«æˆªå–ä¿¡æ¯</h3><ul><li>å®Œæˆ TCP ä¸‰æ¬¡åŒæ­¥æ¡æ‰‹</li><li>å®¢æˆ·ç«¯éªŒè¯æœåŠ¡å™¨æ•°å­—è¯ä¹¦ï¼Œé€šè¿‡ï¼Œè¿›å…¥æ­¥éª¤ 3</li><li>DH ç®—æ³•åå•†å¯¹ç§°åŠ å¯†ç®—æ³•çš„å¯†é’¥ã€hash ç®—æ³•çš„å¯†é’¥</li><li>SSL å®‰å…¨åŠ å¯†éš§é“åå•†å®Œæˆ</li><li>ç½‘é¡µä»¥åŠ å¯†çš„æ–¹å¼ä¼ è¾“ï¼Œç”¨åå•†çš„å¯¹ç§°åŠ å¯†ç®—æ³•å’Œå¯†é’¥åŠ å¯†ï¼Œä¿è¯æ•°æ®æœºå¯†æ€§ï¼›<br>ç”¨åå•†çš„ hash ç®—æ³•è¿›è¡Œæ•°æ®å®Œæ•´æ€§ä¿æŠ¤ï¼Œä¿è¯æ•°æ®ä¸è¢«ç¯¡æ”¹</li></ul><h3 id="æµè§ˆå™¨å¦‚ä½•ç¼“å­˜"><a href="#æµè§ˆå™¨å¦‚ä½•ç¼“å­˜" class="headerlink" title="æµè§ˆå™¨å¦‚ä½•ç¼“å­˜"></a>æµè§ˆå™¨å¦‚ä½•ç¼“å­˜</h3><ul><li>html meta æ ‡ç­¾æ§åˆ¶ç¼“å­˜<ul><li><code>&lt;meta http-equiv=&quot;Pragma&quot; content=&quot;no-cahce&quot;&gt;</code> //å‘Šè¯‰æµè§ˆå™¨å½“å‰é¡µé¢ä¸è¢«ç¼“å­˜</li></ul></li><li>http å¤´ä¿¡æ¯æ§åˆ¶ç¼“å­˜<ul><li>Expires â€”â€”&gt; è¿‡æœŸæ—¶é—´</li><li>Cache-Control å“åº”å¤´ä¿¡æ¯(no-cacheã€no-storeã€max-ageã€public)</li></ul></li></ul><h3 id="TCP-åè®®å¦‚ä½•ä¿è¯ä¼ è¾“çš„å¯é æ€§"><a href="#TCP-åè®®å¦‚ä½•ä¿è¯ä¼ è¾“çš„å¯é æ€§" class="headerlink" title="TCP åè®®å¦‚ä½•ä¿è¯ä¼ è¾“çš„å¯é æ€§"></a>TCP åè®®å¦‚ä½•ä¿è¯ä¼ è¾“çš„å¯é æ€§</h3><ul><li>æ ¡éªŒå’Œ</li><li>ç¡®è®¤åº”ç­” + åºåˆ—å·</li><li>è¶…æ—¶é‡ä¼ </li><li>æµæµªæ§åˆ¶</li><li>æ‹¥å¡æ§åˆ¶</li><li>TCP çš„è¿æ¥ç®¡ç†</li><li>æ»‘åŠ¨çª—å£</li></ul><h3 id="UDP-amp-TCP-çš„åŒºåˆ«"><a href="#UDP-amp-TCP-çš„åŒºåˆ«" class="headerlink" title="UDP &amp; TCP çš„åŒºåˆ«"></a>UDP &amp; TCP çš„åŒºåˆ«</h3><ul><li><p>ç›¸åŒç‚¹ï¼š</p><ul><li>UDP åè®® å’Œ TCP åè®® éƒ½æ˜¯è¿è¾“å±‚åè®®</li></ul></li><li><p>ä¸åŒç‚¹ï¼š</p><ul><li><p>UDP ç‰¹ç‚¹ï¼š</p><ul><li>æ— è¿æ¥ â€”â€” çŸ¥é“å¯¹ç«¯çš„ IP å’Œç«¯å£å·å°±ç›´æ¥è¿›è¡Œä¼ è¾“ï¼Œä¸éœ€è¦å»ºç«‹è¿æ¥</li><li>ä¸å¯é  â€”â€” æ²¡æœ‰ç¡®è®¤æœºåˆ¶ï¼Œæ²¡æœ‰é‡ä¼ æœºåˆ¶ï¼Œå³ä½¿å› ä¸ºç½‘ç»œæ•…éšœæ— æ³•å‘é€åˆ°<br>å¯¹æ–¹ï¼ŒUDP åè®®ä¹Ÿä¸ä¼šç»™åº”ç”¨å±‚è¿”å›ä»»ä½•é”™è¯¯ä¿¡æ¯</li><li>é¢å‘æ•°æ®æŠ¥</li><li>ä¼ è¾“é€Ÿ åº¦å—</li></ul></li><li><p>TCP ç‰¹ç‚¹ï¼š</p><ul><li>é¢å‘è¿æ¥ï¼Œåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨è¿›è¡Œäº¤æ¢æ•°æ®å‰ï¼Œå¿…é¡»å…ˆåœ¨åŒæ–¹ä¹‹é—´å»ºç«‹ä¸€ä¸ª<br>TCP è¿æ¥</li><li>å¯é ä¼ è¾“ï¼Œå…·æœ‰ç¡®è®¤åº”ç­”æœºåˆ¶ã€è¶…æ—¶é‡ä¼ æœºåˆ¶ã€æ‹¥å¡æ§åˆ¶ã€æµé‡æ§åˆ¶ã€<br>æ»‘åŠ¨çª—å£æœºåˆ¶ã€å»¶è¿Ÿåº”ç­”ç­‰ã€‚</li><li>é¢å‘å­—èŠ‚æµ</li></ul></li></ul></li><li><p>UDP çš„å“åº”é€Ÿåº¦ä¼˜äº TCPï¼Œå®‰å…¨æ€§å’Œæ•°æ®å¯é æ€§ä¸å¦‚ TCP</p></li><li><p>UDP ä¸€èˆ¬ç”¨åœ¨ç½‘ç»œè´Ÿæ‹…éå¸¸é‡ï¼Œä½†å¯¹å“åº”é€Ÿåº¦è¦æ±‚é«˜ï¼Œæ•°æ®ç±»å‹éƒ½æ˜¯çŸ­æ¶ˆæ¯çš„æƒ…å†µä¸‹</p></li></ul><h3 id="æ ·å¼å¯¼å…¥æ–¹å¼åŠä¼˜å…ˆçº§ï¼Ÿ"><a href="#æ ·å¼å¯¼å…¥æ–¹å¼åŠä¼˜å…ˆçº§ï¼Ÿ" class="headerlink" title="æ ·å¼å¯¼å…¥æ–¹å¼åŠä¼˜å…ˆçº§ï¼Ÿ"></a>æ ·å¼å¯¼å…¥æ–¹å¼åŠä¼˜å…ˆçº§ï¼Ÿ</h3><ul><li><p>å¼•å…¥æ–¹å¼</p><ul><li>è¡Œå†…æ ·å¼</li><li>å†…è”å¼</li><li>å¤–é“¾å¼</li><li>å¯¼å…¥å¼: @import url(reset.css)</li></ul></li><li><p>å„ç§æ–¹å¼çš„ä¼˜å…ˆçº§</p><ul><li>è¡Œå†…æ ·å¼ &gt; å¤–é“¾å¼ &gt; å†…è”å¼ &gt; @import å¯¼å…¥å¼</li></ul></li></ul><h3 id="BFC"><a href="#BFC" class="headerlink" title="BFC"></a>BFC</h3><p>BFC(block formatting context)ç¿»è¯‘ä¸ºâ€œå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡â€ï¼Œå®ƒä¼šç”Ÿæˆç‹¬ç«‹çš„æ¸²æŸ“åŒºåŸŸ<br>(ä¸å½±å“å¤–é¢çš„å…ƒç´ ï¼ŒåŒæ—¶ä¹Ÿä¸å—å¤–éƒ¨å…ƒç´ çš„å½±å“)ï¼Œå®ƒæœ‰ä¸€ä¸‹è§„åˆ™ï¼š</p><ul><li>å†…éƒ¨çš„ box ä¼šåœ¨å‚ç›´æ–¹å‘ä¸Šä¸€ä¸ªæ¥ä¸€ä¸ªçš„æ”¾ç½®ã€‚</li><li>å†…éƒ¨ box åœ¨å‚ç›´æ–¹å‘ä¸Šçš„è·ç¦»ç”± margin å†³å®šï¼ŒåŒå±ä¸€ä¸ª BFC å†…çš„ç›¸é‚» box ä¼šå‘ç”Ÿ margin é‡å ã€‚</li><li>BFC çš„åŒºåŸŸä¸ä¼šä¸ float box å‘ç”Ÿé‡å ã€‚</li><li>è®¡ç®— BFC çš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®—(æ¸…é™¤æµ®åŠ¨)</li></ul><p>è§¦å‘ BFC çš„æ¡ä»¶ï¼š</p><ul><li>float å±æ€§ä¸ä¸º none</li><li>position ä¸º absolute æˆ–è€… fixed</li><li>display ä¸º inline-blockã€table-cellã€table-captionã€flexã€inline-flex</li><li>overflow ä¸ä¸º visible</li></ul><h2 id="å­—ç¬¦ä¸²å»é‡"><a href="#å­—ç¬¦ä¸²å»é‡" class="headerlink" title="å­—ç¬¦ä¸²å»é‡"></a>å­—ç¬¦ä¸²å»é‡</h2><h4 id="for-éå†"><a href="#for-éå†" class="headerlink" title="for éå†"></a>for éå†</h4><pre><code>function removeRepeatStr(str)&#123;    var newStr = &#39;&#39;;    var flag;    var len = str.length;    for(var i=0; i&lt;len; i++)&#123;        flag = 1;        var newLen = newStr.length;        for(var j=0; j&lt;newLen; j++)&#123;            if(str[i] == newStr[j])&#123;                flag = 0;                break;            &#125;        &#125;        if(flag)&#123;            newStr = newStr + str[i];        &#125;    &#125;    return newStr;&#125;</code></pre><h4 id="indexOf-æ–¹æ³•"><a href="#indexOf-æ–¹æ³•" class="headerlink" title="indexOf æ–¹æ³•"></a>indexOf æ–¹æ³•</h4><pre><code>function removeRepeatStr(str)&#123;    var newStr = &#39;&#39;;    var len = str.length;    for(var i=0; i&lt;len; i++)&#123;        if(newStr.indexOf(str[i])==-1)&#123;            newStr = newStr + str[i];        &#125;    &#125;    return newStr;&#125;</code></pre><h4 id="search-æ–¹æ³•"><a href="#search-æ–¹æ³•" class="headerlink" title="search æ–¹æ³•"></a>search æ–¹æ³•</h4><pre><code>function removeRepeatStr(str)&#123;    var newStr = &#39;&#39;;    var len = str.length;    for(var i=0; i&lt;len; i++)&#123;        if(newStr.search(str[i])==-1)&#123;            newStr = newStr + str[i];        &#125;    &#125;    return newStr;&#125;</code></pre><h4 id="å¯¹è±¡å±æ€§æ³•"><a href="#å¯¹è±¡å±æ€§æ³•" class="headerlink" title="å¯¹è±¡å±æ€§æ³•"></a>å¯¹è±¡å±æ€§æ³•</h4><pre><code>function removeRepeatStr(str)&#123;    var obj = &#123;&#125;;    var newStr = &#39;&#39;;    var len = str.length;    for(var i=0; i&lt;len; i++)&#123;        if(!obj[str[i]])&#123;            newStr = newStr + str[i];            obj[str[i]] = 1;//æ³¨æ„ï¼Œè¿™é‡Œçš„1æ˜¯ç»™å¯¹è±¡å±æ€§èµ‹å€¼ï¼Œè¿™ä¸ªå€¼å¯ä»¥ä»»æ„å–ã€‚æ„æ€æ˜¯æŠŠæ¯ä¸ªéå†çš„å­—ç¬¦ä½œä¸ºå¯¹è±¡å±æ€§å¹¶èµ‹å€¼ä¿å­˜ï¼Œä¿è¯è¯¥å±æ€§çš„å”¯ä¸€æ€§        &#125;    &#125;    return newStr;&#125;</code></pre><h2 id="åŒæ­¥å’Œå¼‚æ­¥çš„åŒºåˆ«ï¼Œæ€ä¹ˆå¼‚æ­¥åŠ è½½-javascript"><a href="#åŒæ­¥å’Œå¼‚æ­¥çš„åŒºåˆ«ï¼Œæ€ä¹ˆå¼‚æ­¥åŠ è½½-javascript" class="headerlink" title="åŒæ­¥å’Œå¼‚æ­¥çš„åŒºåˆ«ï¼Œæ€ä¹ˆå¼‚æ­¥åŠ è½½ javascript?"></a>åŒæ­¥å’Œå¼‚æ­¥çš„åŒºåˆ«ï¼Œæ€ä¹ˆå¼‚æ­¥åŠ è½½ javascript?</h2><!--more--><ul><li><p>åŒæ­¥æ¨¡å¼<br>åŒæ­¥æ¨¡å¼ï¼Œåˆç§°é˜»å¡æ¨¡å¼ï¼Œjavascript åœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯ä¼šé˜»å¡åŠ è½½çš„ï¼Œå½“å‰é¢çš„</p><p>javascript è¯·æ±‚æ²¡æœ‰å¤„ç†å’Œæ‰§è¡Œå®Œæ—¶ï¼Œä¼šé˜»æ­¢æµè§ˆå™¨çš„åç»­å¤„ç†</p></li><li><p>å¼‚æ­¥æ¨¡å¼<br>å¼‚æ­¥åŠ è½½åˆå«éé˜»å¡ï¼Œæµè§ˆå™¨åœ¨ä¸‹è½½æ‰§è¡Œ js åŒæ—¶ï¼Œè¿˜ä¼šç»§ç»­è¿›è¡Œåç»­é¡µé¢çš„å¤„ç†</p></li><li><p>å¼‚æ­¥åŠ è½½ JavaScript</p><ul><li><p>åŠ¨æ€æ·»åŠ  script æ ‡ç­¾</p></li><li><p>defer</p></li><li><p>async</p></li></ul><p>defer å±æ€§å’Œ async éƒ½æ˜¯å±äº script æ ‡ç­¾ä¸Šé¢çš„å±æ€§ï¼Œä¸¤è€…éƒ½èƒ½å®ç° JavaScript çš„</p><p>å¼‚æ­¥åŠ è½½ã€‚ä¸åŒä¹‹å¤„åœ¨äºï¼šasync åœ¨å¼‚æ­¥åŠ è½½å®Œæˆçš„æ—¶å€™å°±é©¬ä¸Šå¼€å§‹æ‰§è¡Œäº†ï¼Œdefer ä¼šç­‰åˆ°</p><p>html åŠ è½½å®Œæ¯•ä¹‹åå†æ‰§è¡Œã€‚</p></li></ul><h2 id="æœ‰å“ªäº›å¸¸è§çš„-meta-æ ‡ç­¾ï¼Ÿ"><a href="#æœ‰å“ªäº›å¸¸è§çš„-meta-æ ‡ç­¾ï¼Ÿ" class="headerlink" title="æœ‰å“ªäº›å¸¸è§çš„ meta æ ‡ç­¾ï¼Ÿ"></a>æœ‰å“ªäº›å¸¸è§çš„ meta æ ‡ç­¾ï¼Ÿ</h2><!--more--><ul><li><p>æŒ‡å®šæ–‡æ¡£ç¼–ç </p><ul><li><code>&lt;meta charset = &quot;UTF-8&quot;&gt;</code></li></ul></li><li><p>name å±æ€§</p><ul><li><p><code>1.&lt;meta name=â€viewportâ€ content=â€width=device-width, initial-scale=1, maximum-scale=1, user-scalable=noâ€&gt;ï¼šåœ¨ç§»åŠ¨è®¾å¤‡æµè§ˆå™¨ä¸Šï¼Œç¦ç”¨ç¼©æ”¾ï¼ˆzoomingï¼‰ åŠŸèƒ½ï¼Œç”¨æˆ·åªèƒ½æ»šåŠ¨å±å¹•ã€‚</code></p></li><li><p><code>2.&lt;meta name=â€descriptionâ€ content=â€â€&gt;ï¼šå‘Šè¯‰æœç´¢å¼•æ“ï¼Œå½“å‰é¡µé¢çš„ä¸»è¦å†…å®¹æ˜¯xxxã€‚</code></p></li><li><p><code>3.&lt;meta name=â€keywordsâ€ content=â€â€&gt;ï¼šå‘Šè¯‰æœç´¢å¼•æ“ï¼Œå½“å‰é¡µé¢çš„å…³é”®å­—ã€‚</code></p></li><li><p><code>4.&lt;meta name=â€authorâ€ content=â€â€&gt;ï¼šå‘Šè¯‰æœç´¢å¼•æ“ï¼Œæ ‡æ³¨ç½‘ç«™ä½œè€…æ˜¯è°ã€‚</code></p></li><li><p><code>5.&lt;meta name=â€copyrightâ€ content=â€â€&gt;ï¼šæ ‡æ³¨ç½‘ç«™çš„ç‰ˆæƒä¿¡æ¯ã€‚</code></p></li></ul></li><li><p>http-equiv å±æ€§</p><ul><li><p><code>1.&lt;meta http-equiv=â€Set-Cookieâ€ content=â€cookievalue=xxx; expires=Friday,12-Jan-2001 18:18:18 GMT; path=/â€&gt;:å¦‚æœç½‘é¡µè¿‡æœŸï¼Œ é‚£ä¹ˆå­˜ç›˜çš„cookieå°†è¢«åˆ é™¤ã€‚å¿…é¡»ä½¿ç”¨GMTçš„æ—¶é—´æ ¼å¼ã€‚</code></p></li><li><p><code>2.&lt;meta http-equiv=&#39;expires&#39; content=&#39;æ—¶é—´&#39; &gt;ï¼šç”¨äºè®¾å®šç½‘é¡µçš„åˆ°æœŸæ—¶é—´ã€‚ ä¸€æ—¦ç½‘é¡µè¿‡æœŸï¼Œå¿…é¡»åˆ°æœåŠ¡å™¨ä¸Šé‡æ–°ä¼ è¾“ã€‚</code></p></li><li><p><code>3.&lt;meta http-equiv=â€Refreshâ€ content=â€5;URLâ€&gt;ï¼šå‘Šè¯‰æµè§ˆå™¨åœ¨ ã€æ•°å­—ã€‘ç§’åè·³è½¬åˆ°ã€ä¸€ä¸ªç½‘å€ã€‘</code></p></li><li><p><code>4.&lt;meta http-equiv=â€content-Typeâ€ content=â€text/html; charset=utf-8â€³&gt;ï¼š è®¾å®šé¡µé¢ä½¿ç”¨çš„å­—ç¬¦é›†ã€‚</code></p></li></ul><p>-<code>5.&lt;meta http-equiv=â€Pragmaâ€ content=â€no-cacheâ€&gt;ï¼šç¦æ­¢æµè§ˆå™¨ä»æœ¬åœ° è®¡ç®—æœºçš„ç¼“å­˜ä¸­è®¿é—®é¡µé¢å†…å®¹ã€‚è®¿é—®è€…å°†æ— æ³•è„±æœºæµè§ˆã€‚</code></p><ul><li><p><code>6.&lt;meta http-equiv=â€Window-targetâ€ content=â€_topâ€&gt;ï¼šç”¨æ¥é˜²æ­¢ åˆ«äººåœ¨iframe(æ¡†æ¶)é‡Œè°ƒç”¨è‡ªå·±çš„é¡µé¢ï¼Œè¿™ä¹Ÿç®—æ˜¯ä¸€ä¸ªéå¸¸å®ç”¨çš„å±æ€§ã€‚</code></p></li><li><p><code>7.&lt;meta http-equiv=&#39;X-UA-Compatible&#39; content=&#39;IE=edge,chrome=1&#39;&gt; :å¼ºåˆ¶æµè§ˆå™¨æŒ‰ç…§ç‰¹å®šçš„ç‰ˆæœ¬æ ‡å‡†è¿›è¡Œæ¸²æŸ“ã€‚ä½†ä¸æ”¯æŒIE7åŠä»¥ä¸‹ç‰ˆæœ¬ã€‚å¦‚æœæ˜¯ ieæµè§ˆå™¨å°±ç”¨æœ€æ–°çš„ieæ¸²æŸ“ï¼Œå¦‚æœæ˜¯åŒæ ¸æµè§ˆå™¨å°±ç”¨chromeå†…æ ¸ã€‚</code></p></li></ul></li></ul><h2 id="ä»€ä¹ˆæ˜¯-FOUCï¼Ÿå¦‚ä½•é¿å…ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-FOUCï¼Ÿå¦‚ä½•é¿å…ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ FOUCï¼Ÿå¦‚ä½•é¿å…ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ FOUCï¼Ÿå¦‚ä½•é¿å…ï¼Ÿ</h2><!--more--><h4 id="ä¸€ã€ä¸ºä»€ä¹ˆä¼šæœ‰ç™½å±å’Œ-FOUC-å‘¢ï¼Ÿ"><a href="#ä¸€ã€ä¸ºä»€ä¹ˆä¼šæœ‰ç™½å±å’Œ-FOUC-å‘¢ï¼Ÿ" class="headerlink" title="ä¸€ã€ä¸ºä»€ä¹ˆä¼šæœ‰ç™½å±å’Œ FOUC å‘¢ï¼Ÿ"></a>ä¸€ã€ä¸ºä»€ä¹ˆä¼šæœ‰ç™½å±å’Œ FOUC å‘¢ï¼Ÿ</h4><blockquote><p>æµè§ˆå™¨å†æ¸²æŸ“çš„æ—¶å€™æ²¡æœ‰è¯·æ±‚åˆ°æˆ–è¯·æ±‚æ—¶é—´è¿‡é•¿é€ æˆçš„ï¼Œé‚£ä¹ˆæµè§ˆå™¨æ€ä¹ˆåº”å¯¹çš„å‘¢ï¼Ÿ</p><ul><li>ç™½å±ï¼šCSS å…¨éƒ¨è½½å…¥è§£æå®Œæˆåæ¸²æŸ“å±•ç¤ºé¡µé¢ï¼Œå¦‚æœæ²¡æœ‰åŠ è½½å®Œï¼Œå°±ä¼šå‡ºç°ç™½å±ã€‚</li><li>FOUC(Flash of Unstyled Content)æ— æ ·å¼å†…å®¹é—ªçƒï¼šç”¨æˆ·å®šä¹‰æ ·å¼è¡¨åŠ è½½ä¹‹å‰æµè§ˆå™¨<br>ä½¿ç”¨é»˜è®¤æ ·å¼æ˜¾ç¤ºæ–‡æ¡£ï¼Œç”¨æˆ·æ ·å¼è¡¨åŠ è½½æ¸²æŸ“ä¹‹åï¼Œå†é‡æ–°æ˜¾ç¤ºæ–‡æ¡£ï¼Œé€ æˆé¡µé¢é—ªçƒã€‚</li></ul></blockquote><h4 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h4><blockquote><ul><li>ä½¿ç”¨ link æ ‡ç­¾å°†æ ·å¼è¡¨æ”¾åœ¨é¡¶éƒ¨<head>æ ‡ç­¾ä¸­ï¼Œé˜²æ­¢ç™½å±é—®é¢˜å‡ºç°ã€‚</li><li>å°† JS æ”¾åœ¨<body>æ ‡ç­¾åº•éƒ¨ï¼ŒåŸå› å¦‚ä¸‹ï¼š<ul><li>è„šæœ¬ä¼šé˜»å¡åé¢å†…å®¹çš„å‘ˆç°</li><li>è„šæœ¬ä¼šé˜»å¡å…¶åç»„ä»¶çš„ä¸‹è½½</li></ul></li></ul></blockquote><h2 id="ä»€ä¹ˆæ˜¯-DOCTYPE-åŠå…¶ä½œç”¨ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-DOCTYPE-åŠå…¶ä½œç”¨ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ DOCTYPE åŠå…¶ä½œç”¨ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ DOCTYPE åŠå…¶ä½œç”¨ï¼Ÿ</h2><ul><li><p>DOCTYPE æ˜¯ document typeï¼ˆæ–‡æ¡£ç±»å‹ï¼‰çš„ç¼©å†™ã€‚</p><!--more--></li><li><p>å†™æ³•ï¼š<!DOCTYPE html>(å£°æ˜äº†æµè§ˆå™¨å°±ä¼šè¿›å…¥æ ‡å‡†æ¨¡å¼ï¼ŒæŒ‰ç…§ W3C æ ‡å‡†æ¸²æŸ“é¡µé¢)</p></li><li><p>DOCTYPE çš„ä½œç”¨ï¼š</p><ul><li>DOCTYPE æ˜¯ç”¨æ¥å£°æ˜æ–‡æ¡£ç±»å‹å’Œ DTD è§„èŒƒçš„ï¼Œæ ¡éªŒæ–‡ä»¶å’Œä»£ç çš„åˆæ³•æ€§ã€‚</li><li>å‘Šè¯‰æµè§ˆå™¨é€šè¿‡å“ªç§è§„èŒƒï¼ˆæ–‡æ¡£ç±»å‹ï¼ŒDTDï¼‰æ¥è§£ææ–‡æ¡£ã€‚</li></ul></li><li><p>DTDï¼ˆdocument type definitionï¼‰æ–‡æ¡£ç±»å‹å®šä¹‰æ˜¯ä¸€ç³»åˆ—çš„è¯­æ³•è§„åˆ™ï¼Œç”¨æ¥å®šä¹‰ XML<br>æˆ– HTML çš„æ–‡ä»¶ç±»å‹ã€‚æµè§ˆå™¨ä¼šæ ¹æ®å®ƒæ¥åˆ¤æ–­æ–‡æ¡£ç±»å‹ï¼Œå†³å®šä½¿ç”¨å“ªç§åè®®æ¥è§£æï¼Œä»¥åŠåˆ‡æ¢<br>æµè§ˆå™¨çš„æ¨¡å¼ã€‚</p></li><li><p>æµè§ˆå™¨æ¨¡å¼</p><p>ä¸ºäº†èƒ½å¤Ÿå¾ˆå¥½çš„æ˜¾ç¤ºæ»¡è¶³æ ‡å‡†çš„é¡µé¢ï¼Œåˆèƒ½æœ€å¤§ç¨‹åº¦å…¼å®¹ä¸åˆæ³•çš„ HTMLï¼Œæµè§ˆå™¨å‚å•†ä¼šæä¾›ä¸¤ç§<br>æµè§ˆå™¨æ¨¡å¼ã€‚</p><ul><li>æ ‡å‡†æ¨¡å¼ï¼šæ ¹æ® W3C æ ‡å‡†æ¥æ¸²æŸ“é¡µé¢ã€‚</li><li>æ··æ‚æ¨¡å¼ï¼ˆå…¼å®¹æ¨¡å¼ã€æ€ªå¼‚æ¨¡å¼ï¼‰ï¼šæµè§ˆå™¨é‡‡ç”¨æ›´åŠ å®½æ¾ã€å‘åå…¼å®¹çš„æ–¹å¼æ¥æ¸²æŸ“é¡µé¢ã€‚</li></ul></li></ul><h2 id="CSS-æ¸…é™¤æµ®åŠ¨"><a href="#CSS-æ¸…é™¤æµ®åŠ¨" class="headerlink" title="CSS-æ¸…é™¤æµ®åŠ¨"></a>CSS-æ¸…é™¤æµ®åŠ¨</h2><!--more--><p><a href="https://segmentfault.com/a/1190000004865198">åŸæ–‡é“¾æ¥</a></p><h3 id="ä»€ä¹ˆæ˜¯-CSS-æ¸…é™¤æµ®åŠ¨"><a href="#ä»€ä¹ˆæ˜¯-CSS-æ¸…é™¤æµ®åŠ¨" class="headerlink" title="ä»€ä¹ˆæ˜¯ CSS æ¸…é™¤æµ®åŠ¨?"></a>ä»€ä¹ˆæ˜¯ CSS æ¸…é™¤æµ®åŠ¨?</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">åœ¨éIEæµè§ˆå™¨ï¼ˆå¦‚Firefoxï¼‰ä¸‹ï¼Œå½“å®¹å™¨çš„é«˜åº¦ä¸ºautoï¼Œä¸”å®¹å™¨çš„å†…å®¹ä¸­æœ‰æµ®åŠ¨ï¼ˆfloatä¸ºleft</span><br><span class="line">æˆ–rightï¼‰çš„å…ƒç´ ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®¹å™¨çš„é«˜åº¦ä¸èƒ½è‡ªåŠ¨ä¼¸é•¿ä»¥é€‚åº”å†…å®¹çš„é«˜åº¦ï¼Œä½¿å¾—å†…å®¹æº¢å‡ºåˆ°</span><br><span class="line">å®¹å™¨å¤–é¢è€Œå½±å“ï¼ˆç”šè‡³ç ´åï¼‰å¸ƒå±€çš„ç°è±¡ã€‚è¿™ä¸ªç°è±¡å«æµ®åŠ¨æº¢å‡ºï¼Œä¸ºäº†é˜²æ­¢è¿™ä¸ªç°è±¡çš„å‡ºç°è€Œè¿›è¡Œ</span><br><span class="line">çš„CSSå¤„ç†ï¼Œå°±å«CSSæ¸…é™¤æµ®åŠ¨ã€‚</span><br></pre></td></tr></table></figure><!--more--><h3 id="æ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•"><a href="#æ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•" class="headerlink" title="æ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•"></a>æ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•</h3><ul><li>æ–¹æ³•ä¸€ï¼šä½¿ç”¨å¸¦ clear å±æ€§çš„ç©ºå…ƒç´ </li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">åœ¨æµ®åŠ¨å…ƒç´ åä½¿ç”¨ä¸€ä¸ªç©ºå…ƒç´ å¦‚&lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;ï¼Œå¹¶åœ¨CSSä¸­èµ‹äºˆ</span><br><span class="line">.clear&#123;clear:both;&#125;å±æ€§å³å¯æ¸…ç†æµ®åŠ¨ã€‚äº¦å¯ä½¿ç”¨&lt;br class=&quot;clear&quot; /&gt;æˆ–&lt;hr class=&quot;clear&quot; /&gt;</span><br><span class="line">æ¥è¿›è¡Œæ¸…ç†ã€‚</span><br><span class="line">ä¼˜ç‚¹ï¼šç®€å•ï¼Œä»£ç å°‘ï¼Œæµè§ˆå™¨å…¼å®¹å¥½ã€‚</span><br><span class="line">ç¼ºç‚¹ï¼šéœ€è¦æ·»åŠ å¤§é‡çš„æ— è¯­ä¹‰çš„htmlå…ƒç´ ï¼Œä»£ç ä¸å¤Ÿä¼˜é›…ï¼ŒåæœŸä¸å®¹æ˜“ç»´æŠ¤ã€‚</span><br></pre></td></tr></table></figure><ul><li>æ–¹æ³•äºŒï¼šä½¿ç”¨ CSS çš„ overflow å±æ€§</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ç»™æµ®åŠ¨å…ƒç´ çš„å®¹å™¨æ·»åŠ overflow:hidden;æˆ–overflow:auto;å¯ä»¥æ¸…é™¤æµ®åŠ¨ã€‚</span><br></pre></td></tr></table></figure><ul><li>æ–¹æ³•ä¸‰ï¼šç»™æµ®åŠ¨çš„å…ƒç´ çš„å®¹å™¨æ·»åŠ æµ®åŠ¨ï¼ˆä¸å¤ªæ¨èï¼‰</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ç»™æµ®åŠ¨å…ƒç´ çš„å®¹å™¨ä¹Ÿæ·»åŠ ä¸Šæµ®åŠ¨å±æ€§å³å¯æ¸…é™¤å†…éƒ¨æµ®åŠ¨ï¼Œä½†æ˜¯è¿™æ ·ä¼šä½¿å…¶æ•´ä½“æµ®åŠ¨ï¼Œå½±å“å¸ƒå±€ï¼Œ</span><br><span class="line">ä¸æ¨èä½¿ç”¨ã€‚</span><br></pre></td></tr></table></figure><ul><li>æ–¹æ³•å››ï¼šä½¿ç”¨é‚»æ¥å…ƒç´ å¤„ç†</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ä»€ä¹ˆéƒ½ä¸åšï¼Œç»™æµ®åŠ¨å…ƒç´ åé¢çš„å…ƒç´ æ·»åŠ clear:bothå±æ€§ã€‚</span><br></pre></td></tr></table></figure><ul><li>æ–¹æ³•äº”ï¼šä½¿ç”¨ CSS çš„ï¼šafter ä¼ªå…ƒç´ </li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ç»™æµ®åŠ¨å…ƒç´ çš„å®¹å™¨æ·»åŠ ä¸€ä¸ªclearfixçš„classï¼Œç„¶åç»™è¿™ä¸ªclassæ·»åŠ ä¸€ä¸ª:afterä¼ªå…ƒç´ å®ç°</span><br><span class="line">å…ƒç´ æœ«å°¾æ·»åŠ ä¸€ä¸ªçœ‹ä¸è§çš„å—å…ƒç´ ï¼ˆBlock elementï¼‰æ¸…ç†æµ®åŠ¨ã€‚</span><br><span class="line"></span><br><span class="line">.clearfix::after&#123;</span><br><span class="line">  content: &quot;020&quot;;</span><br><span class="line">  display: block;</span><br><span class="line">  height: 0;</span><br><span class="line">  clear: both;</span><br><span class="line">  visibility: hidden;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h2 id="Chrome-æ‰“å¼€ä¸€ä¸ªé¡µé¢éœ€è¦å¯åŠ¨å¤šå°‘çº¿ç¨‹ï¼Ÿåˆ†åˆ«æœ‰å“ªäº›çº¿ç¨‹ï¼Ÿ"><a href="#Chrome-æ‰“å¼€ä¸€ä¸ªé¡µé¢éœ€è¦å¯åŠ¨å¤šå°‘çº¿ç¨‹ï¼Ÿåˆ†åˆ«æœ‰å“ªäº›çº¿ç¨‹ï¼Ÿ" class="headerlink" title="Chrome æ‰“å¼€ä¸€ä¸ªé¡µé¢éœ€è¦å¯åŠ¨å¤šå°‘çº¿ç¨‹ï¼Ÿåˆ†åˆ«æœ‰å“ªäº›çº¿ç¨‹ï¼Ÿ"></a>Chrome æ‰“å¼€ä¸€ä¸ªé¡µé¢éœ€è¦å¯åŠ¨å¤šå°‘çº¿ç¨‹ï¼Ÿåˆ†åˆ«æœ‰å“ªäº›çº¿ç¨‹ï¼Ÿ</h2><!--more--><pre><code>æœ€æ–°Chromeæµè§ˆå™¨åŒ…æ‹¬ï¼šä¸€ä¸ªæµè§ˆå™¨(Browser)ä¸»çº¿ç¨‹ã€ä¸€ä¸ªGPUè¿›ç¨‹ã€ä¸€ä¸ªç½‘ç»œ(NetWork)è¿›ç¨‹ã€å¤šä¸ªæ¸²æŸ“è¿›ç¨‹å’Œå¤šä¸ªæ’ä»¶è¿›ç¨‹</code></pre><ul><li><p>çº¿ç¨‹ï¼š</p><ul><li><p>æµè§ˆå™¨è¿›ç¨‹ï¼šä¸»è¦è´Ÿè´£ç•Œé¢æ˜¾ç¤ºã€ç”¨æˆ·äº¤äº’ã€å­è¿›ç¨‹ç®¡ç†ã€åŒæ—¶æä¾›å­˜å‚¨ç­‰åŠŸèƒ½ã€‚</p></li><li><p>æ¸²æŸ“è¿›ç¨‹ï¼šæ ¸å¿ƒä»»åŠ¡æ˜¯å°† HTMLã€CSS å’Œ JavaScript è½¬æ¢ä¸ºç”¨æˆ·å¯ä»¥ä¸ä¹‹äº¤äº’çš„ç½‘é¡µï¼Œ<br>æ’ç‰ˆå¼•æ“ Blink å’Œ JavaScript å¼•æ“ V8 éƒ½æ˜¯è¿è¡Œåœ¨è¯¥è¿›ç¨‹ä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒChrome ä¼šä¸ºæ¯ä¸ª<br>Tab æ ‡ç­¾åˆ›å»ºä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹ã€‚å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œæ¸²æŸ“è¿›ç¨‹éƒ½æ˜¯è¿è¡Œåœ¨æ²™ç®±æ¨¡å¼ä¸‹ã€‚</p></li><li><p>GPU è¿›ç¨‹ï¼šChrome åˆšå¼€å§‹çš„æ—¶å€™æ˜¯æ²¡æœ‰ GPU è¿›ç¨‹çš„ï¼Œè€Œ GPU ä½¿ç”¨çš„ä½¿ç”¨åˆè¡·æ˜¯ä¸ºäº†å®ç°<br>3D CSS æ•ˆæœï¼Œä¹‹åéšåç½‘é¡µã€Chrome çš„ UI ç•Œé¢éƒ½é€‰æ‹©é‡‡ç”¨ GPU æ¥ç»˜åˆ¶ï¼Œè¿™ä½¿å¾— GPU ç§°ä¸º<br>æµè§ˆå™¨æ™®éçš„éœ€æ±‚ï¼Œæœ€åï¼ŒChrome åœ¨å…¶å¤šè¿›ç¨‹æ¶æ„ä¸Šä¹Ÿå¼•å…¥äº† GPU è¿›ç¨‹ã€‚</p></li><li><p>ç½‘ç»œè¿›ç¨‹ï¼šä¸»è¦è´Ÿè´£ç½‘é¡µçš„ç½‘ç»œèµ„æºåŠ è½½ï¼Œä¹‹å‰æ˜¯ä½œä¸ºä¸€ä¸ªæ¨¡å—è¿è¡Œåœ¨æµè§ˆå™¨è¿›ç¨‹é‡Œé¢<br>çš„ï¼Œæœ€è¿‘æ‰ç‹¬ç«‹å‡ºæ¥ï¼Œç§°ä¸ºä¸€ä¸ªå•ç‹¬çš„è¿›ç¨‹ã€‚</p></li><li><p>æ’ä»¶è¿›ç¨‹ï¼šä¸»è¦è´Ÿè´£æ’ä»¶çš„è¿è¡Œï¼Œå› æ’ä»¶æ˜“å´©æºƒï¼Œæ‰€ä»¥éœ€è¦é€šè¿‡æ’ä»¶è¿›ç¨‹æ¥éš”ç¦»ï¼Œä»¥<br>ä¿è¯æ’ä»¶è¿›ç¨‹å´©æºƒä¸ä¼šå¯¹æµè§ˆå™¨å’Œé¡µé¢é€ æˆå½±å“ã€‚</p></li></ul></li></ul><h2 id="CommonJSã€AMDã€CMD-æ˜¯ä»€ä¹ˆåŠåŒºåˆ«ï¼Ÿ"><a href="#CommonJSã€AMDã€CMD-æ˜¯ä»€ä¹ˆåŠåŒºåˆ«ï¼Ÿ" class="headerlink" title="CommonJSã€AMDã€CMD æ˜¯ä»€ä¹ˆåŠåŒºåˆ«ï¼Ÿ"></a>CommonJSã€AMDã€CMD æ˜¯ä»€ä¹ˆåŠåŒºåˆ«ï¼Ÿ</h2><!--more--><ul><li>CommonJS æ˜¯æœåŠ¡å™¨ç«¯ js æ¨¡å—åŒ–çš„è§„èŒƒï¼ŒNodeJS æ˜¯è¿™ç§è§„èŒƒçš„å®ç°ï¼ŒåŠ è½½æ¨¡å—ä½¿ç”¨ require æ–¹æ³•ï¼Œ</li></ul><p>å¯¼å‡ºä½¿ç”¨ exports</p><ul><li>AMD å’Œ CMD éƒ½æ˜¯ä¸ºäº†è§£å†³æµè§ˆå™¨ç«¯æ¨¡å—åŒ–é—®é¢˜è€Œäº§ç”Ÿçš„ï¼ŒAMD è§„èŒƒå¯¹åº”çš„åº“ Require.js,</li></ul><p>CMD è§„èŒƒå¯¹åº”çš„åº“ Sea.js</p><ul><li><p>AMD å’Œ CMD çš„åŒºåˆ«:</p><ul><li><p>AMD æ¨å´‡ä¾èµ–å‰ç½®ï¼Œåœ¨å®šä¹‰æ¨¡å—çš„æ—¶å€™å°±è¦å£°æ˜å…¶ä¾èµ–çš„æ¨¡å—</p></li><li><p>CMD æ¨å´‡å°±è¿‘ä¾èµ–ï¼Œåªæœ‰åœ¨ç”¨åˆ°çš„æŸä¸ªæ¨¡å—çš„æ—¶å€™å†å» require</p></li><li><p>å¯¹äºä¾èµ–çš„æ¨¡å—ï¼ŒAMD æ˜¯æå‰æ‰§è¡Œï¼ŒCMD æ˜¯å»¶è¿Ÿæ‰§è¡Œï¼Œä½† RequireJS(AMD)ä» 2.0 å¼€å§‹ï¼Œä¹Ÿæ”¹ä¸ºå»¶è¿Ÿæ‰§è¡Œ</p></li><li><p>AMD çš„ API é»˜è®¤æ˜¯ä¸€ä¸ªå½“å¤šä¸ªï¼ŒCMD çš„ API ä¸¥æ ¼åŒºåˆ†ï¼Œæ¨å´‡èŒè´£å•ä¸€</p></li></ul></li></ul><h2 id="js-åŠ è½½-æµè§ˆå™¨åŠ è½½-æ—¶é—´çº¿"><a href="#js-åŠ è½½-æµè§ˆå™¨åŠ è½½-æ—¶é—´çº¿" class="headerlink" title="js åŠ è½½(æµè§ˆå™¨åŠ è½½)æ—¶é—´çº¿"></a>js åŠ è½½(æµè§ˆå™¨åŠ è½½)æ—¶é—´çº¿</h2><pre><code>ç†è®ºï¼šå®ƒæ˜¯æ ¹æ®jså‡ºç”Ÿçš„é‚£ä¸€åˆ»å¼€å§‹è®°å½•çš„ä¸€ç³»åˆ—æµè§ˆå™¨æŒ‰ç…§é¡ºåºåšçš„äº‹ï¼Œå°±æ˜¯åŠ è½½é¡ºåºåŠä¸€äº›ä¼˜åŒ–</code></pre> <!--more--><ul><li><p>åˆ›å»º Document å¯¹è±¡ï¼Œå¼€å§‹è§£æ web é¡µé¢ï¼Œè¿™ä¸ªé˜¶æ®µ document.readyState = â€˜loadingâ€™</p></li><li><p>é‡è§ link å¤–éƒ¨ cssï¼Œåˆ›å»ºçº¿ç¨‹ åŠ è½½ï¼Œå¹¶ç»§ç»­è§£ææ–‡æ¡£</p></li><li><p>é‡è§ script å¤–éƒ¨ jsï¼Œå¹¶ä¸”æ²¡æœ‰è®¾ç½® asyncã€deferï¼Œæµè§ˆå™¨åŠ è½½ï¼Œå¹¶é˜»å¡ï¼Œç­‰å¾… js åŠ è½½å®Œæˆ</p></li></ul><p>å¹¶æ‰§è¡Œè¯¥è„šæœ¬ï¼Œç„¶åç»§ç»­è§£ææ–‡æ¡£</p><ul><li>é‡è§ script å¤–éƒ¨ jsï¼Œå¹¶ä¸”è®¾ç½®äº† asyncã€deferï¼Œæµè§ˆå™¨åˆ›å»ºçº¿ç¨‹ åŠ è½½ï¼Œå¹¶ç»§ç»­è§£ææ–‡æ¡£ï¼Œå¯¹äº</li></ul><p>async å±æ€§çš„è„šæœ¬ï¼ŒåŠ è½½å®Œæˆåç«‹å³æ‰§è¡Œã€‚ï¼ˆå¼‚æ­¥åŠ è½½ç¦æ­¢ä½¿ç”¨ document.write(),å®ƒä¼šæ¸…é™¤æ–‡æ¡£æµï¼‰</p><ul><li><p>é‡è§ img ç­‰ï¼Œå…ˆæ­£å¸¸è§£æ dom ç»“æ„ï¼Œç„¶åæµè§ˆå™¨å¼‚æ­¥åŠ è½½ srcï¼Œå¹¶ç»§ç»­è§£ææ–‡æ¡£</p></li><li><p>æ–‡æ¡£è§£æå®Œæˆï¼Œdocument.readyState = â€˜interactiveâ€™</p></li><li><p>æ–‡æ¡£è§£æå®Œæˆåï¼Œæ‰€æœ‰è®¾ç½® defer çš„è„šæœ¬ä¼šæŒ‰ç…§é¡ºåºæ‰§è¡Œã€‚ï¼ˆä¹Ÿç¦æ­¢ä½¿ç”¨ document.write()ï¼‰</p></li><li><p>ä¹‹å document å¯¹è±¡è§¦å‘ DOMContentLoaded äº‹ä»¶ï¼Œæ ‡å¿—ç¨‹åºæ‰§è¡Œä»åŒæ­¥è„šæœ¬æ‰§è¡Œé˜¶æ®µï¼Œè½¬åŒ–ä¸º</p></li></ul><p>äº‹ä»¶é©±åŠ¨é˜¶æ®µ</p><ul><li>å½“æ‰€æœ‰ async çš„è„šæœ¬åŠ è½½å¹¶æ‰§è¡Œåã€img ç­‰åŠ è½½å®Œæˆåï¼Œdocument.readyState = â€˜completeâ€™,</li></ul><p>è¿™æ˜¯ window å¯¹è±¡è§¦å‘ load äº‹ä»¶ã€‚</p><ul><li>â€¦</li></ul><h2 id="å¼‚æ­¥åŠ è½½-js"><a href="#å¼‚æ­¥åŠ è½½-js" class="headerlink" title="å¼‚æ­¥åŠ è½½ js"></a>å¼‚æ­¥åŠ è½½ js</h2><pre><code>javascript å¼‚æ­¥åŠ è½½çš„ä¸‰ç§æ–¹æ¡ˆ:</code></pre><ul><li>defer å¼‚æ­¥åŠ è½½ï¼Œä½†è¦ç­‰åˆ° dom æ–‡æ¡£å…¨éƒ¨è§£æå®Œæˆæ‰ä¼šè¢«æ‰§è¡Œï¼Œåªæœ‰ IE èƒ½ç”¨ï¼Œå¯ä»¥å°† js ä»£ç å†™åœ¨</li></ul><p>script æ ‡ç­¾å†…éƒ¨ã€‚</p><ul><li>async å¼‚æ­¥åŠ è½½ï¼ŒåŠ è½½å®Œå°±æ‰§è¡Œï¼Œasync åªèƒ½åŠ è½½ å¤–éƒ¨è„šæœ¬ï¼Œä¸èƒ½æŠŠ js å†™åœ¨ script æ ‡ç­¾ä¸­ï¼Œæ‰§è¡Œ</li></ul><p>æ—¶ä¹Ÿä¸ä¼šé˜»å¡é¡µé¢ã€‚</p><ul><li>åŠ¨æ€åˆ›å»º scriptï¼Œæ’å…¥åˆ° dom ä¸­ï¼ŒåŠ è½½å®Œæ¯•å callbackã€‚<br>ç®€å•å®ä¾‹ï¼š</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var script = document.createElement(&#x27;script&#x27;)</span><br><span class="line"></span><br><span class="line">script.type = &#x27;text/javascript&#x27;</span><br><span class="line"></span><br><span class="line">script.src = demo.js</span><br><span class="line"></span><br><span class="line">script.onload = function() &#123; //å…¼å®¹æ€§å¾ˆå¥½ï¼Œé™¤äº†IE</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">document.head.appendChild(script)</span><br></pre></td></tr></table></figure><p>åŠ¨æ€åŠ è½½å‡½æ•°å°è£…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">function asyncLoaded(url,callback)&#123;</span><br><span class="line">    var script = document.createElement(&quot;script&quot;);</span><br><span class="line">//  script.src = url;   å‡å¦‚è¯´ç½‘é€Ÿéå¸¸å¥½ï¼Œç›´æ¥æ‰§è¡Œå®Œæˆäº†ï¼Œåé¢å°±ç›‘å¬ä¸åˆ°çŠ¶æ€çš„æ”¹å˜äº†</span><br><span class="line">    if(script.readyState)&#123;</span><br><span class="line">        script.onreadystatechange = function()&#123;</span><br><span class="line">            if(script.readyState == &quot;complete&quot; || script.readyState ==&quot;loaded&quot;)&#123;</span><br><span class="line">//  æ‰§è¡ŒæŸä¸ªå‡½æ•°</span><br><span class="line">                callback()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        script.onload = function()&#123;</span><br><span class="line">//  æ‰§è¡ŒæŸä¸ªå‡½æ•°</span><br><span class="line">            callback()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    script.src = url;    //å¼‚æ­¥çš„è¿‡ç¨‹</span><br><span class="line">    document.head.appendChild(script)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">asyncLoaded(&#x27;demo.js&#x27;, function()&#123;</span><br><span class="line">    test();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="getomputedstyle-å’Œ-style-çš„åŒºåˆ«ï¼Ÿ"><a href="#getomputedstyle-å’Œ-style-çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="getomputedstyle å’Œ style çš„åŒºåˆ«ï¼Ÿ"></a>getomputedstyle å’Œ style çš„åŒºåˆ«ï¼Ÿ</h2><!--more--><ul><li><p>getComputedStyle æ–¹æ³•æ˜¯åªè¯»çš„ï¼Œåªèƒ½è·å–æ ·å¼ï¼Œä¸èƒ½è®¾ç½®ï¼›è€Œ element.style èƒ½è¯»å†™ã€‚</p></li><li><p>getComputedStyle æ–¹æ³•è·å–çš„æ˜¯æœ€ç»ˆåº”ç”¨åœ¨å…ƒç´ ä¸Šçš„æ‰€æœ‰ Css å±æ€§æ ·å¼(å³ä½¿æ²¡æœ‰ css ä»£ç )ï¼Œ<br>è€Œ element.style åªèƒ½è·å–å…ƒç´  style å±æ€§ä¸­çš„ css æ ·å¼ã€‚</p></li><li><p>getComputedStyle å¯ä»¥è·å–ä¼ªå…ƒç´ çš„æ ·å¼ã€‚</p></li><li><p>å…¼å®¹æ€§ï¼šgetComputedStyle æ–¹æ³•åœ¨ IE6~IE8 æ˜¯ä¸æ”¯æŒçš„ã€‚</p></li></ul><h2 id="ä»€ä¹ˆæ˜¯-HTML-è¯­ä¹‰åŒ–ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-HTML-è¯­ä¹‰åŒ–ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ HTML è¯­ä¹‰åŒ–ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ HTML è¯­ä¹‰åŒ–ï¼Ÿ</h2><!--more--><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ ¹æ®å†…å®¹çš„ç»“æ„åŒ–ï¼Œé€‰æ‹©åˆé€‚çš„æ ‡ç­¾ï¼Œä¾¿äºå¼€å‘è€…é˜…è¯»å’Œå†™å‡ºæ›´ä¼˜é›…çš„ä»£ç çš„åŒæ—¶åˆ©äºSEOçš„ä¼˜åŒ–ã€‚</span><br></pre></td></tr></table></figure><h3 id="ä¸ºä»€ä¹ˆè¦è¯­ä¹‰åŒ–ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¦è¯­ä¹‰åŒ–ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦è¯­ä¹‰åŒ–ï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¦è¯­ä¹‰åŒ–ï¼Ÿ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- ä¸ºäº†åœ¨æ²¡æœ‰CSSçš„æƒ…å†µä¸‹ï¼Œé¡µé¢ä¹Ÿèƒ½å‘ˆç°å‡ºå¾ˆå¥½åœ°å†…å®¹ç»“æ„ã€ä»£ç ç»“æ„:ä¸ºäº†è£¸å¥”æ—¶å¥½çœ‹ï¼›</span><br><span class="line">-  ç”¨æˆ·ä½“éªŒï¼šä¾‹å¦‚titleã€altç”¨äºè§£é‡Šåè¯æˆ–è§£é‡Šå›¾ç‰‡ä¿¡æ¯ã€labelæ ‡ç­¾çš„æ´»ç”¨ï¼›</span><br><span class="line">- æœ‰åˆ©äºSEO ï¼šå’Œæœç´¢å¼•æ“å»ºç«‹è‰¯å¥½æ²Ÿé€šï¼Œæœ‰åŠ©äºçˆ¬è™«æŠ“å–æ›´å¤šçš„æœ‰æ•ˆä¿¡æ¯ï¼š çˆ¬è™«ä¾èµ–äº</span><br><span class="line">æ ‡ç­¾æ¥ç¡®å®šä¸Šä¸‹æ–‡å’Œå„ä¸ªå…³é”®å­—çš„æƒé‡ï¼›</span><br><span class="line">- æ–¹ä¾¿å…¶ä»–è®¾å¤‡è§£æï¼ˆå¦‚å±å¹•é˜…è¯»å™¨ã€ç›²äººé˜…è¯»å™¨ã€ç§»åŠ¨è®¾å¤‡ï¼‰ä»¥æ„ä¹‰çš„æ–¹å¼æ¥æ¸²æŸ“ç½‘é¡µï¼›</span><br><span class="line">- ä¾¿äºå›¢é˜Ÿå¼€å‘å’Œç»´æŠ¤ï¼Œè¯­ä¹‰åŒ–æ›´å…·å¯è¯»æ€§ï¼Œæ˜¯ä¸‹ä¸€æ­¥ç½‘é¡µçš„é‡è¦åŠ¨å‘ï¼Œéµå¾ªW3Cæ ‡å‡†çš„</span><br><span class="line">å›¢é˜Ÿéƒ½éµå¾ªè¿™ä¸ªæ ‡å‡†ï¼Œå¯ä»¥å‡å°‘å·®å¼‚åŒ–ã€‚</span><br></pre></td></tr></table></figure><h3 id="æ„å»ºæ‰“åŒ…ä¼˜åŒ–ï¼ˆwebpack-bundle-analyzer-åˆ†æå„ä¸ªæ‰“åŒ…æ–‡ä»¶ï¼‰"><a href="#æ„å»ºæ‰“åŒ…ä¼˜åŒ–ï¼ˆwebpack-bundle-analyzer-åˆ†æå„ä¸ªæ‰“åŒ…æ–‡ä»¶ï¼‰" class="headerlink" title="æ„å»ºæ‰“åŒ…ä¼˜åŒ–ï¼ˆwebpack-bundle-analyzer åˆ†æå„ä¸ªæ‰“åŒ…æ–‡ä»¶ï¼‰"></a>æ„å»ºæ‰“åŒ…ä¼˜åŒ–ï¼ˆwebpack-bundle-analyzer åˆ†æå„ä¸ªæ‰“åŒ…æ–‡ä»¶ï¼‰</h3><p>é€Ÿåº¦ä¼˜åŒ–:</p><ul><li><p>exclude/include</p><p>é€šè¿‡ excludeã€include é…ç½®æ¥ç¡®ä¿è½¬è¯‘å°½å¯èƒ½å°‘çš„æ–‡ä»¶</p></li><li><p>cache</p></li><li><p>thread-loader</p></li><li><p>resolve.alias</p><p>webpack ç›´æ¥æ ¹æ®å¯¹åº”åˆ«åçš„ç›®å½•æŸ¥æ‰¾æ¨¡å—ï¼Œå‡å°‘æœç´¢æ—¶é—´</p></li><li><p>æ¨¡å—æ‡’åŠ è½½</p></li><li><p>externals + CDN</p></li></ul><h3 id="V8-åƒåœ¾å›æ”¶æœºåˆ¶"><a href="#V8-åƒåœ¾å›æ”¶æœºåˆ¶" class="headerlink" title="V8 åƒåœ¾å›æ”¶æœºåˆ¶"></a>V8 åƒåœ¾å›æ”¶æœºåˆ¶</h3><ul><li><p>V8 ä¼šæŠŠå †åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€ç”Ÿä»£</p></li><li><p>æ–°ç”Ÿä»£ï¼ˆå‰¯åƒåœ¾å›æ”¶å™¨ï¼‰</p><ul><li>å­˜æ”¾ç”Ÿå­˜æ—¶é—´çŸ­çš„å¯¹è±¡</li><li>é€šå¸¸åªæ”¯æŒ 1 ï½ 8M çš„å®¹é‡</li><li>åˆ†ä¸ºå¯¹è±¡åŒºå’Œç©ºé—²åŒº<ul><li>å¯¹å¯¹è±¡åŒºåŸŸä¸­çš„åƒåœ¾åšæ ‡è®°ï¼Œæ ‡è®°å®Œæˆè¿›å…¥åƒåœ¾æ¸…ç†é˜¶æ®µï¼ŒæŠŠå­˜æ´»çš„å¯¹è±¡å¤åˆ¶åˆ°ç©ºé—²åŒºåŸŸï¼ŒæŠŠè¿™äº›å¯¹è±¡æœ‰åºçš„æ’åˆ—èµ·æ¥</li><li>å®Œæˆå¤åˆ¶åï¼Œå¯¹è±¡åŒºå’Œç©ºé—²åŒºè¿›è¡Œè§’è‰²ç¿»è½¬</li></ul></li></ul></li><li><p>è€ç”Ÿä»£ï¼ˆä¸»åƒåœ¾å›æ”¶å™¨ï¼‰</p><ul><li>å­˜æ”¾ç”Ÿå­˜æ—¶é—´ä¹…çš„å¯¹è±¡</li></ul></li><li><p>å‰¯åƒåœ¾å›æ”¶å™¨é‡‡ç”¨å¯¹è±¡æ™‹å‡ç­–ç•¥ï¼šç§»åŠ¨é‚£äº›ç»è¿‡ä¸¤æ¬¡åƒåœ¾å›æ”¶ä¾ç„¶è¿˜å­˜æ´»çš„å¯¹è±¡åˆ°è€ç”Ÿä»£ä¸­</p></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;[toc]&lt;/p&gt;
&lt;h2 id=&quot;ä»æµè§ˆå™¨åœ°å€æ è¾“å…¥-url-åˆ°æ˜¾ç¤ºé¡µé¢çš„æ­¥éª¤&quot;&gt;&lt;a href=&quot;#ä»æµè§ˆå™¨åœ°å€æ è¾“å…¥-url-åˆ°æ˜¾ç¤ºé¡µé¢çš„æ­¥éª¤&quot; class=&quot;headerlink&quot; title=&quot;ä»æµè§ˆå™¨åœ°å€æ è¾“å…¥ url åˆ°æ˜¾ç¤ºé¡µé¢çš„æ­¥éª¤&quot;&gt;&lt;/a&gt;ä»æµè§ˆå™¨åœ°å€æ è¾“å…¥ url åˆ°æ˜¾ç¤ºé¡µé¢çš„æ­¥éª¤&lt;/h2&gt;</summary>
    
    
    
    <category term="é¢ç»" scheme="https://github.com/foolishmax/categories/%E9%9D%A2%E7%BB%8F/"/>
    
    
    <category term="é¢ç»" scheme="https://github.com/foolishmax/tags/%E9%9D%A2%E7%BB%8F/"/>
    
  </entry>
  
  <entry>
    <title>jQueryå­¦ä¹ </title>
    <link href="https://github.com/foolishmax/2020/09/05/Jquery%E5%AD%A6%E4%B9%A0/"/>
    <id>https://github.com/foolishmax/2020/09/05/Jquery%E5%AD%A6%E4%B9%A0/</id>
    <published>2020-09-05T00:59:32.000Z</published>
    <updated>2022-07-30T04:10:50.557Z</updated>
    
    <content type="html"><![CDATA[<h2 id="jQuery-å­¦ä¹ "><a href="#jQuery-å­¦ä¹ " class="headerlink" title="jQuery å­¦ä¹ "></a>jQuery å­¦ä¹ </h2><span id="more"></span><h3 id="å…¥å£å‡½æ•°"><a href="#å…¥å£å‡½æ•°" class="headerlink" title="å…¥å£å‡½æ•°"></a>å…¥å£å‡½æ•°</h3><ul><li>jQuery å…¥å£å‡½æ•°</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$(document).ready(function()&#123;</span><br><span class="line">    //æ‰§è¡Œä»£ç </span><br><span class="line">&#125;)</span><br><span class="line">æˆ–è€…ï¼ˆç®€å†™ï¼‰</span><br><span class="line">$(function()&#123;</span><br><span class="line">    //æ‰§è¡Œä»£ç </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><!-- more --><ul><li>javascript å…¥å£å‡½æ•°</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">window.onload = function()&#123;</span><br><span class="line">    //æ‰§è¡Œä»£ç </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>jQuery çš„å…¥å£å‡½æ•°æ˜¯åœ¨ html çš„æ‰€æœ‰æ ‡ç­¾ DOM éƒ½åŠ è½½ä¹‹åï¼Œå°±ä¼šæ‰§è¡ŒåŒ…è£¹çš„ä»£ç ï¼Œå¯ä»¥æ‰§è¡Œå¤šæ¬¡ï¼Œå¹¶ä¸”ä¸ä¼šè¦†ç›–ä¸Šæ¬¡ã€‚</li><li>javascript çš„ window.onload äº‹ä»¶æ˜¯ç­‰åˆ°æ‰€æœ‰å†…å®¹ï¼ŒåŒ…æ‹¬å¤–éƒ¨å›¾ç‰‡ä¹‹ç±»çš„æ–‡ä»¶åŠ è½½å®Œæˆåï¼Œæ‰ä¼šæ‰§è¡Œï¼Œåªèƒ½æ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœç¬¬äºŒæ¬¡ä¼šæŠŠç¬¬ä¸€æ¬¡çš„æ‰§è¡Œè¦†ç›–ã€‚</li></ul><h3 id="jQuery-é€‰æ‹©å™¨"><a href="#jQuery-é€‰æ‹©å™¨" class="headerlink" title="jQuery é€‰æ‹©å™¨"></a>jQuery é€‰æ‹©å™¨</h3><ul><li>å…ƒç´ é€‰æ‹©å™¨</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;p&quot;)</span><br></pre></td></tr></table></figure><ul><li>id é€‰æ‹©å™¨</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;#test&quot;)</span><br></pre></td></tr></table></figure><ul><li>class é€‰æ‹©å™¨</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;.test&quot;)</span><br></pre></td></tr></table></figure><ul><li>å±æ€§é€‰æ‹©å™¨</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;[href]&quot;)</span><br></pre></td></tr></table></figure><ul><li>:empty é€‰æ‹©å™¨</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;:empty&quot;)</span><br><span class="line">//é€‰æ‹©ç©ºçš„å…ƒç´ ï¼Œæ—¢ä¸ä¸å«å­å…ƒç´ ä¹Ÿä¸åŒ…å«æ–‡æœ¬çš„å…ƒç´ </span><br><span class="line">$(&quot;div:empty&quot;) //é€‰æ‹©divä¸­ä¸ºç©ºçš„divå…ƒç´ </span><br></pre></td></tr></table></figure><ul><li>:parent é€‰æ‹©å™¨</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;td:parent&quot;)</span><br><span class="line">//é€‰å–æ‰€æœ‰å¸¦æœ‰å­å…ƒç´ æˆ–æ–‡æœ¬çš„&lt;td&gt;æ ‡ç­¾å…ƒç´ </span><br></pre></td></tr></table></figure><ul><li>:contains é€‰æ‹©å™¨</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;div:contains(&#x27;hello&#x27;)&quot;)</span><br><span class="line">//æ‰¾åˆ°divä¸­åŒ…å«æ–‡æœ¬helloçš„æŒ‡å®šå…ƒç´ </span><br></pre></td></tr></table></figure><ul><li>:has é€‰æ‹©å™¨</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;div:has(p)&quot;)</span><br><span class="line">//æ‰¾åˆ°åŒ…å«pæ ‡ç­¾å…ƒç´ çš„div</span><br></pre></td></tr></table></figure><ul><li>è¡¥å……</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;:button&quot;) //è·å–æ‰€æœ‰typeä¸ºbuttonçš„&lt;input&gt;å…ƒç´ å’Œ&lt;button&gt;å…ƒç´ ï¼Œå»æ‰å†’å·ï¼Œåªèƒ½è·å–&lt;button&gt;å…ƒç´ ã€‚</span><br></pre></td></tr></table></figure><h3 id="å¸¸ç”¨-jQuery-äº‹ä»¶æ–¹æ³•"><a href="#å¸¸ç”¨-jQuery-äº‹ä»¶æ–¹æ³•" class="headerlink" title="å¸¸ç”¨ jQuery äº‹ä»¶æ–¹æ³•"></a>å¸¸ç”¨ jQuery äº‹ä»¶æ–¹æ³•</h3><ul><li>click() ç‚¹å‡»äº‹ä»¶</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;p&quot;).click(function()&#123;</span><br><span class="line">    $(this).hide();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>dblclick() åŒå‡»äº‹ä»¶</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;p&quot;).dblclick(function()&#123;</span><br><span class="line">    $(this).hide();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>mouseenter() é¼ æ ‡æŒ‡é’ˆç©¿è¿‡å…ƒç´ æ—¶</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;p&quot;).mouseenter(function()&#123;</span><br><span class="line">    alert(&quot;æ‚¨çš„é¼ æ ‡ç§»åˆ°äº†pæ ‡ç­¾å…ƒç´ ä¸Šï¼&quot;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>mouseleave() é¼ æ ‡æŒ‡é’ˆç¦»å¼€å…ƒç´ æ—¶</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;p&quot;).mouseleave(function()&#123;</span><br><span class="line">    alert(&quot;æ‚¨çš„é¼ æ ‡ç¦»å¼€äº†è¯¥pæ ‡ç­¾å…ƒç´ ï¼&quot;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>mouseup() å½“åœ¨å…ƒç´ ä¸Šæ¾å¼€é¼ æ ‡æ—¶</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;p&quot;).mouseup(()=&gt;&#123;</span><br><span class="line">    alert(&quot;é¼ æ ‡åœ¨pæ ‡ç­¾ä¸Šæ¾å¼€ï¼&quot;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>hover() æ¨¡æ‹Ÿå…‰æ ‡æ‚¬åœäº‹ä»¶</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;p&quot;).hover(</span><br><span class="line">    function()&#123;</span><br><span class="line">        alert(&quot;ä½ è¿›å…¥äº†pæ ‡ç­¾ï¼&quot;);</span><br><span class="line">    &#125;,</span><br><span class="line">    function()&#123;</span><br><span class="line">        alert(&quot;ä½ ç¦»å¼€äº†pæ ‡ç­¾ï¼&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><ul><li>focus() å½“å…ƒç´ è·å¾—ç„¦ç‚¹æ—¶</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;input&quot;).focus(function()&#123;</span><br><span class="line">    $(this).css(&quot;background-color&quot;,&quot;#ccc&quot;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>blur() å½“å…ƒç´ å¤±å»ç„¦ç‚¹æ—¶</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;input&quot;).blur(function()&#123;</span><br><span class="line">    $(this).css(&quot;background-color&quot;,&quot;#fff&quot;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>keypress,keydown,keyup</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">//è·å–æŒ‰é”®ä»£ç æˆ–ASCIIç </span><br><span class="line">$(window).keydown(function(event)&#123;</span><br><span class="line">    //é€šè¿‡event.whichå¯ä»¥æ‹¿åˆ°æŒ‰é”®ä»£ç ï¼Œå¦‚æœæ˜¯keypressäº‹ä»¶ä¸­åˆ™æ‹¿åˆ°ASCIIç ã€‚</span><br><span class="line">    console.log(event);</span><br><span class="line">&#125;)</span><br><span class="line">//è·å–äº‹ä»¶å¯¹è±¡</span><br><span class="line">$(window).keypress(function(event)&#123;</span><br><span class="line">    //è·å–äº‹ä»¶å¯¹è±¡ï¼Œé‡Œé¢åŒ…å«å„ç§æœ‰ç”¨çš„ä¿¡æ¯ã€‚</span><br><span class="line">    console.log(event);</span><br><span class="line">    //console.log(event.which);</span><br><span class="line">&#125;);</span><br><span class="line">//keypressäº‹ä»¶è·å–é”®å…¥çš„å­—ç¬¦</span><br><span class="line">$(window).keypress(function(event)&#123;</span><br><span class="line">    //event.whichæ˜¯è·å–ASCIIç ï¼Œå‰é¢çš„å‡½æ•°æ˜¯å°†ASCIIç è½¬æ¢æˆå­—ç¬¦ï¼Œç©ºæ ¼é”®å’ŒEnteré”®è¾“å‡ºå‡ä¸ºç©ºç™½ã€‚</span><br><span class="line">    console.log(String.fromCharCode(event.which));</span><br><span class="line">    //ä»eventå¯¹è±¡ä¸­keyå±æ€§è·å–å­—ç¬¦ï¼Œä½†æ˜¯Enteré”®çš„keyå€¼ä¸º&quot;Enter&quot;ï¼Œç©ºç™½é”®è¿˜æ˜¯ç©ºç™½&quot; &quot;ã€‚</span><br><span class="line">    console.log(event.key);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ul><li>off() äº‹ä»¶ç§»é™¤</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;button&quot;).off() //ç§»é™¤æ‰€æœ‰buttonå…ƒç´ èº«ä¸Šç»‘å®šçš„äº‹ä»¶</span><br><span class="line"></span><br><span class="line">$(&quot;button&quot;).off(&quot;click&quot;) //ç§»é™¤æ‰€æœ‰çš„clickäº‹ä»¶ï¼Œç§»é™¤æŒ‡å®šç±»å‹</span><br><span class="line"></span><br><span class="line">$(&quot;button&quot;).off(&quot;click&quot;, test) //ç§»é™¤clickäº‹ä»¶ä¸­çš„testå›è°ƒæ–¹æ³•ï¼Œç§»é™¤æŒ‡å®šç±»å‹çš„äº‹ä»¶</span><br></pre></td></tr></table></figure><ul><li>é˜»æ­¢äº‹ä»¶å†’æ³¡</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;.son&quot;).click(function(event)&#123;</span><br><span class="line">    alert(&quot;son&quot;)</span><br><span class="line">    //return false;</span><br><span class="line">    event.stopPropagation(); //é˜»æ­¢äº‹ä»¶å†’æ³¡</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">$(&quot;.father&quot;).click(function()&#123;</span><br><span class="line">    alert(&quot;father&quot;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>é˜»æ­¢é»˜è®¤è¡Œä¸º</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//aæ ‡ç­¾è·³è½¬ã€submitæäº¤æŒ‰é’®ç­‰</span><br><span class="line">$(&quot;a&quot;).click(function(event)&#123;</span><br><span class="line">    alert(&quot;å¼¹å‡ºæ³¨å†Œæ¡†ï¼&quot;);</span><br><span class="line">    event.preventDefault();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>trigger()ã€triggerHandler() è‡ªåŠ¨è§¦å‘äº‹ä»¶</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//è§¦å‘ç»‘å®šåˆ°è¢«é€‰å…ƒç´ çš„æ‰€æœ‰äº‹ä»¶</span><br><span class="line">$(&quot;.father&quot;).click(function()&#123;</span><br><span class="line">    alert(&quot;father&quot;);</span><br><span class="line">&#125;)</span><br><span class="line">$(&quot;.father&quot;).trigger(&quot;click&quot;);   //æ–¹æ³•ä¸€:ä¼šè§¦å‘äº‹ä»¶å†’æ³¡</span><br><span class="line">$(&quot;.father&quot;).triggerHandler(&quot;click&quot;); //æ–¹æ³•äºŒ:åªè§¦å‘äº‹ä»¶ï¼Œä¸ä¼šè§¦å‘äº‹ä»¶å†’æ³¡</span><br><span class="line">-------------------------------</span><br><span class="line">$(&quot;input[type=&#x27;submit&#x27;]&quot;).click(function()&#123;</span><br><span class="line">    alert(&quot;submit&quot;);</span><br><span class="line">&#125;)</span><br><span class="line">$(&quot;input[type=&#x27;submit&#x27;]&quot;).trigger(&quot;click&quot;); //æ–¹æ³•ä¸€ï¼šè§¦å‘äº‹ä»¶çš„åŒæ—¶ï¼Œè¿˜ä¼šè§¦å‘é»˜è®¤è¡Œä¸ºã€‚</span><br><span class="line">$(&quot;input[type=&#x27;submit&#x27;]&quot;).triggerHandler(&quot;click&quot;) //æ–¹æ³•äºŒï¼šåªè§¦å‘äº‹ä»¶ï¼Œä¸è§¦å‘é»˜è®¤è¡Œä¸ºã€‚</span><br><span class="line">//æ³¨æ„ï¼šè¿™é‡Œ&lt;a&gt;æ ‡ç­¾æœ‰ç‚¹ç‰¹æ®Šï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•éƒ½ä¸ä¼šè§¦å‘é»˜è®¤è¡Œä¸ºï¼Œå¦‚æœæƒ³ä½¿ç”¨trigger()è§¦å‘&lt;a&gt;æ ‡ç­¾çš„äº‹ä»¶å’Œé»˜è®¤è¡Œä¸ºçš„è¯ï¼Œå¯ä»¥åœ¨&lt;a&gt;æ ‡ç­¾ä¸­æ·»åŠ ä¸€ä¸ª&lt;span&gt;,ä¾‹å¦‚&lt;a href =&quot;#&quot;&gt;&lt;span&gt;ç™¾åº¦&lt;/span&gt;&lt;/a&gt; è¿™ç§å†™æ³•ã€‚</span><br></pre></td></tr></table></figure><ul><li>è‡ªå®šä¹‰äº‹ä»¶</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">* æƒ³è¦è‡ªå®šä¹‰äº‹ä»¶ï¼Œå¿…é¡»æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶</span><br><span class="line">* 1.äº‹ä»¶å¿…é¡»æ˜¯é€šè¿‡onç»‘å®šçš„</span><br><span class="line">* 2.äº‹ä»¶å¿…é¡»é€šè¿‡triggeræ¥è§¦å‘</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">$(&quot;.son&quot;).on(&quot;myClick&quot;,function()&#123;</span><br><span class="line">    alert(&quot;son&quot;);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">$(&quot;.son&quot;).trigger(&quot;myClick&quot;);</span><br><span class="line">or</span><br><span class="line">$(&quot;.son&quot;).triggerHandler(&quot;myClick&quot;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>äº‹ä»¶å‘½åç©ºé—´</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">* æƒ³è¦äº‹ä»¶çš„å‘½åç©ºé—´æœ‰æ•ˆï¼Œå¿…é¡»æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶</span><br><span class="line">* 1.äº‹ä»¶é€šè¿‡onæ¥ç»‘å®š(è‡ªå®šä¹‰äº‹ä»¶)</span><br><span class="line">* 2.é€šè¿‡trigger()æˆ–è€…triggerHandler()æ¥è§¦å‘</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">$(&quot;.son&quot;).on(&quot;eventName.zs&quot;,function()&#123;</span><br><span class="line">    alert(&quot;click zhangsan&quot;);</span><br><span class="line">&#125;)</span><br><span class="line">$(&quot;.son&quot;).on(&quot;eventName.ls&quot;,function()&#123;</span><br><span class="line">    alert(&quot;click lisi&quot;);</span><br><span class="line">&#125;)</span><br><span class="line">$(&quot;.son&quot;).trigger(&quot;click.zs&quot;);</span><br><span class="line">or</span><br><span class="line">$(&quot;.son&quot;).triggerHandler(&quot;click.zs&quot;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="éšè—å’Œæ˜¾ç¤º"><a href="#éšè—å’Œæ˜¾ç¤º" class="headerlink" title="éšè—å’Œæ˜¾ç¤º"></a>éšè—å’Œæ˜¾ç¤º</h3><ul><li>hide() éšè— html å…ƒç´ </li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;#hide&quot;).click(function()&#123;</span><br><span class="line">    $(&quot;p&quot;).hide();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>show() æ˜¾ç¤º html å…ƒç´ </li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;#show&quot;).click(function()&#123;</span><br><span class="line">    $(&quot;p&quot;).show();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>è¯­æ³•</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$(selector).hide(speed,callback);</span><br><span class="line"></span><br><span class="line">$(selector).show(speed,callback);</span><br><span class="line"></span><br><span class="line">//å¯é€‰çš„speedå‚æ•°è¡¨ç¤ºè§„å®šæ˜¾ç¤º/éšè—çš„é€Ÿåº¦(slowã€fastã€æ¯«ç§’)</span><br><span class="line">//å¯é€‰çš„callbackå‚æ•°æ˜¯éšè—æˆ–æ˜¾ç¤ºå®Œæˆåæ‰€æ‰§è¡Œçš„å‡½æ•°åç§°</span><br><span class="line"></span><br><span class="line">$(&quot;.hidebtn&quot;).click(function()&#123;</span><br><span class="line">    $(&quot;div&quot;).hide(1000,&quot;linear&quot;,function()&#123;</span><br><span class="line">        alert(&quot;Hide() æ–¹æ³•å·²å®Œæˆ!&quot;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">//ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºè¿‡æ¸¡ä½¿ç”¨å“ªç§ç¼“åŠ¨å‡½æ•°ï¼ŒjQueryè‡ªèº«æä¾›(linearã€swing)</span><br><span class="line">//è¡¥å……ï¼šcallbackå‡½æ•°ååé¢åŠ ä¸Šæ‹¬å·ï¼Œä¼šç«‹åˆ»æ‰§è¡Œå‡½æ•°ä½“ï¼Œè€Œä¸æ˜¯ç­‰åˆ°æ˜¾ç¤º/éšè—ä¹‹åæ‰æ‰§è¡Œ,å¦‚add()ä½œä¸ºcallbackå‚æ•°ä¼šç«‹å³æ‰§è¡Œï¼Œè€Œaddä½œä¸ºå‚æ•°åˆ™ä¸ä¼šï¼Œcallbackå‡½æ•°å¯ä»¥æ˜¯åŒ¿åå‡½æ•°ï¼Œ$(selector)é€‰ä¸­çš„å…ƒç´ ä¸ªæ•°ä¸ºnä¸ªï¼Œåˆ™callbackå‡½æ•°ä¼šæ‰§è¡Œnæ¬¡ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>toggle() åˆ‡æ¢ hide()å’Œ show()æ–¹æ³•</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;button&quot;).click(function()&#123;</span><br><span class="line">    $(&quot;p&quot;).toggle();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="æ·¡å…¥æ·¡å‡º"><a href="#æ·¡å…¥æ·¡å‡º" class="headerlink" title="æ·¡å…¥æ·¡å‡º"></a>æ·¡å…¥æ·¡å‡º</h3><ul><li>fadeIn() ç”¨äºæ·¡å…¥ä»¥éšè—çš„å…ƒç´ </li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;button&quot;).click(function()&#123;</span><br><span class="line">    $(&quot;p&quot;).fadeIn(3000);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//è¯­æ³•ï¼š $(selector).fadeIn(speed, callback)</span><br><span class="line">// å¯é€‰çš„speedå‚æ•°è§„å®šæ•ˆæœçš„æ—¶é•¿(slowã€fastã€æ¯«ç§’)</span><br><span class="line">// å¯é€‰çš„callbackå‚æ•°æ˜¯fadingå®Œæˆåæ‰€æ‰§è¡Œçš„å‡½æ•°åç§°</span><br></pre></td></tr></table></figure><ul><li>fadeOut() ç”¨äºæ·¡å‡ºå¯è§å…ƒç´ </li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;button&quot;).click(function()&#123;</span><br><span class="line">    $(&quot;p&quot;).fadeOut(&quot;slow&quot;);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//è¯­æ³•ï¼š $(selector).fadeOut(speed, callback)</span><br><span class="line">// å¯é€‰çš„speedå‚æ•°è§„å®šæ•ˆæœçš„æ—¶é•¿(slowã€fastã€æ¯«ç§’)</span><br><span class="line">// å¯é€‰çš„callbackå‚æ•°æ˜¯fadingå®Œæˆåæ‰€æ‰§è¡Œçš„å‡½æ•°åç§°</span><br></pre></td></tr></table></figure><ul><li>fadeToggle() ç”¨äºåœ¨ fadeIn()ä¸ fadeOut()æ–¹æ³•ä¹‹é—´è¿›è¡Œåˆ‡æ¢</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;button&quot;).click(function()&#123;</span><br><span class="line">    $(&quot;p&quot;).fadeToggle();</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//è¯­æ³•ï¼š $(selector).fadeToggle(speed, callback)</span><br><span class="line">// å¯é€‰çš„speedå‚æ•°è§„å®šæ•ˆæœçš„æ—¶é•¿(slowã€fastã€æ¯«ç§’)</span><br><span class="line">// å¯é€‰çš„callbackå‚æ•°æ˜¯fadingå®Œæˆåæ‰€æ‰§è¡Œçš„å‡½æ•°åç§°</span><br></pre></td></tr></table></figure><ul><li>fadeTo() å…è®¸æ¸å˜ä¸ºç»™å®šçš„ä¸é€æ˜åº¦</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;button&quot;).click(function()&#123;</span><br><span class="line">    $(&quot;p&quot;).fadeTo(&quot;slow&quot;, 0.3);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//è¯­æ³•ï¼š$(selector).fadeTo(speed, opacity, callback)</span><br><span class="line">//å¿…é¡»çš„speedå‚æ•°è§„å®šæ•ˆæœæ—¶é•¿(slowã€fastã€æ¯«ç§’)</span><br><span class="line">//å¿…é¡»çš„opacityè§„å®šä¸é€æ˜åº¦(ä»‹äº0-1ä¹‹é—´)</span><br></pre></td></tr></table></figure><h3 id="æ»‘åŠ¨æ–¹æ³•"><a href="#æ»‘åŠ¨æ–¹æ³•" class="headerlink" title="æ»‘åŠ¨æ–¹æ³•"></a>æ»‘åŠ¨æ–¹æ³•</h3><ul><li>slideDown() ç”¨äºå…ƒç´ å‘ä¸‹æ»‘åŠ¨</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;button&quot;).click(function()&#123;</span><br><span class="line">    $(&quot;p&quot;).slideDown();</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//è¯­æ³•ï¼š$(selector).slideDown(speed,callback)</span><br><span class="line">//å¯é€‰çš„ speed å‚æ•°è§„å®šæ•ˆæœçš„æ—¶é•¿ã€‚å®ƒå¯ä»¥å–ä»¥ä¸‹å€¼ï¼š&quot;slow&quot;ã€&quot;fast&quot; æˆ–æ¯«ç§’ã€‚</span><br><span class="line">//å¯é€‰çš„ callback å‚æ•°æ˜¯æ»‘åŠ¨å®Œæˆåæ‰€æ‰§è¡Œçš„å‡½æ•°åç§°ã€‚</span><br></pre></td></tr></table></figure><ul><li>slideUp() ç”¨äºå…ƒç´ å‘ä¸Šæ»‘åŠ¨</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;button&quot;).click(function()&#123;</span><br><span class="line">    $(&quot;p&quot;).slideUp();</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//è¯­æ³•ï¼š$(selector).slideUp(speed,callback)</span><br><span class="line">//å¯é€‰çš„ speed å‚æ•°è§„å®šæ•ˆæœçš„æ—¶é•¿ã€‚å®ƒå¯ä»¥å–ä»¥ä¸‹å€¼ï¼š&quot;slow&quot;ã€&quot;fast&quot; æˆ–æ¯«ç§’ã€‚</span><br><span class="line">//å¯é€‰çš„ callback å‚æ•°æ˜¯æ»‘åŠ¨å®Œæˆåæ‰€æ‰§è¡Œçš„å‡½æ•°åç§°ã€‚</span><br></pre></td></tr></table></figure><ul><li>slideToggle() åœ¨ slideDown()ä¸ slideUp()æ–¹æ³•ä¹‹é—´è¿›è¡Œåˆ‡æ¢</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;button&quot;).click(function()&#123;</span><br><span class="line">    $(&quot;p&quot;).slideToggle();</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//è¯­æ³•ï¼š$(selector).slideToggle(speed,callback)</span><br><span class="line">//å¯é€‰çš„ speed å‚æ•°è§„å®šæ•ˆæœçš„æ—¶é•¿ã€‚å®ƒå¯ä»¥å–ä»¥ä¸‹å€¼ï¼š&quot;slow&quot;ã€&quot;fast&quot; æˆ–æ¯«ç§’ã€‚</span><br><span class="line">//å¯é€‰çš„ callback å‚æ•°æ˜¯æ»‘åŠ¨å®Œæˆåæ‰€æ‰§è¡Œçš„å‡½æ•°åç§°ã€‚</span><br></pre></td></tr></table></figure><h3 id="åŠ¨ç”»"><a href="#åŠ¨ç”»" class="headerlink" title="åŠ¨ç”»"></a>åŠ¨ç”»</h3><ul><li>animate()æ–¹æ³•</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">//é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰htmlå…ƒç´ éƒ½æœ‰ä¸€ä¸ªé™æ€ä½ç½®ï¼Œä¸”æ— æ³•ç§»åŠ¨ã€‚</span><br><span class="line">//å…ˆå°†pæ ‡ç­¾å…ƒç´ è®¾ç½®ä¸ºposition:relative/absolute/fixed</span><br><span class="line"></span><br><span class="line">$(&quot;button&quot;).click(function()&#123;</span><br><span class="line">  $(&quot;p&quot;).animate(&#123;</span><br><span class="line">      left:&#x27;250px&#x27;,</span><br><span class="line">      opacity:&#x27;0.5&#x27;,</span><br><span class="line">      height:&#x27;400px&#x27;,</span><br><span class="line">      width: &#x27;400px&#x27;,</span><br><span class="line">      paddingLeft:&#x27;10px&#x27;</span><br><span class="line">      &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">//è¯­æ³•ï¼š $(selector).animate(&#123;params&#125;,speed,callback)</span><br><span class="line">// paramså‚æ•°å¯ä»¥æ“ä½œå‡ ä¹æ‰€æœ‰çš„csså±æ€§ï¼Œä½†åå­—è¦é‡‡ç”¨camelæ ‡è®°æ³•</span><br></pre></td></tr></table></figure><ul><li>stop() åœæ­¢åŠ¨ç”»</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> $(&quot;#flip&quot;).click(function()&#123;</span><br><span class="line">    $(&quot;#panel&quot;).slideDown(5000);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">$(&quot;#stop&quot;).click(function()&#123;</span><br><span class="line">    $(&quot;#panel&quot;).stop();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">è¯­æ³•: $(selector).stop(stopAll,goToEnd)</span><br><span class="line">//å¯é€‰çš„ stopAll å‚æ•°è§„å®šæ˜¯å¦åº”è¯¥æ¸…é™¤åŠ¨ç”»é˜Ÿåˆ—ã€‚é»˜è®¤æ˜¯ falseï¼Œå³ä»…åœ/æ­¢æ´»åŠ¨çš„åŠ¨ç”»ï¼Œå…è®¸ä»»ä½•æ’å…¥é˜Ÿåˆ—çš„åŠ¨ç”»å‘åæ‰§è¡Œã€‚</span><br><span class="line">//å¯é€‰çš„ goToEnd å‚æ•°è§„å®šæ˜¯å¦ç«‹å³å®Œæˆå½“å‰åŠ¨ç”»ã€‚é»˜è®¤æ˜¯ falseã€‚</span><br></pre></td></tr></table></figure><ul><li>jQuery æ–¹æ³•é“¾æ¥</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;#p1&quot;).css(&quot;color&quot;,&quot;red&quot;)</span><br><span class="line">  .slideUp(2000)</span><br><span class="line">  .slideDown(2000);</span><br></pre></td></tr></table></figure><h3 id="jQuery-è·å–å†…å®¹å’Œå±æ€§"><a href="#jQuery-è·å–å†…å®¹å’Œå±æ€§" class="headerlink" title="jQuery è·å–å†…å®¹å’Œå±æ€§"></a>jQuery è·å–å†…å®¹å’Œå±æ€§</h3><ul><li>è·å–å†…å®¹ text()ã€html()ã€val()<ul><li>text() è®¾ç½®æˆ–è¿”å›æ‰€é€‰å…ƒç´ çš„æ–‡æœ¬å†…å®¹</li><li>html() è®¾ç½®æˆ–è¿”å›æ‰€é€‰å…ƒç´ çš„å†…å®¹(åŒ…æ‹¬ html æ ‡è®°)</li><li>val() è®¾ç½®æˆ–è¿”å›è¡¨å•å­—æ®µçš„å€¼</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;button&quot;).click(function()&#123;</span><br><span class="line">    alert($(&quot;p&quot;).text());</span><br><span class="line">&#125;)</span><br><span class="line">//-----------------------------</span><br><span class="line">$(&quot;button&quot;).click(function()&#123;</span><br><span class="line">    alert($(&quot;p&quot;).html())</span><br><span class="line">&#125;)</span><br><span class="line">//------------------------------</span><br><span class="line">$(&quot;button&quot;).click(function()&#123;</span><br><span class="line">  alert($(&quot;input&quot;).val());</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ul><li>è·å–å±æ€§ attr()</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//é¡¹ç›®QCåˆšç”¨è¿‡</span><br><span class="line">$(&quot;button&quot;).click(function()&#123;</span><br><span class="line">    console.log($(&quot;p&quot;).attr(&quot;data-text&quot;));</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>è¡¥å……ï¼š</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">prop()å‡½æ•°è¿”å›ç›¸åº”å±æ€§æˆ–ç©ºå­—ç¬¦ä¸²ã€‚</span><br><span class="line">attr()å‡½æ•°è¿”å›ç›¸åº”å±æ€§æˆ–undefined</span><br><span class="line">1.å¯¹äºHTMLå…ƒç´ æœ¬èº«å°±å¸¦æœ‰çš„å›ºæœ‰å±æ€§ï¼Œåœ¨å¤„ç†æ—¶ä½¿ç”¨propæ–¹æ³•</span><br><span class="line">2.å¯¹HTMLå…ƒç´ æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„DOMå±æ€§ï¼Œåœ¨å¤„ç†æ—¶ä½¿ç”¨attræ–¹æ³•</span><br><span class="line">3.å…·æœ‰trueå’Œfalseä¸¤ä¸ªå±æ€§çš„å±æ€§ï¼Œå¦‚checkedã€selectedæˆ–è€…disabledä½¿ç”¨prop()</span><br></pre></td></tr></table></figure><h3 id="è®¾ç½®å†…å®¹å’Œå±æ€§"><a href="#è®¾ç½®å†…å®¹å’Œå±æ€§" class="headerlink" title="è®¾ç½®å†…å®¹å’Œå±æ€§"></a>è®¾ç½®å†…å®¹å’Œå±æ€§</h3><ul><li>è®¾ç½®å†…å®¹ text()ã€html()ã€val()</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;button&quot;).click(function()&#123;</span><br><span class="line">    alert($(&quot;p&quot;).text(&quot;hello&quot;));</span><br><span class="line">&#125;)</span><br><span class="line">//-----------------------------</span><br><span class="line">$(&quot;button&quot;).click(function()&#123;</span><br><span class="line">    alert($(&quot;p&quot;).html(&quot;hello&quot;))</span><br><span class="line">&#125;)</span><br><span class="line">//------------------------------</span><br><span class="line">$(&quot;button&quot;).click(function()&#123;</span><br><span class="line">  alert($(&quot;input&quot;).val(&quot;hello&quot;));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ul><li>text()ã€html() ä»¥åŠ val() çš„å›è°ƒå‡½æ•°</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;button&quot;).click(function()&#123;</span><br><span class="line">    $(&quot;p&quot;).text(function(i,orignText)&#123;</span><br><span class="line">        //i ä¸ºè¢«é€‰å…ƒç´ åˆ—è¡¨ä¸­å½“å‰å…ƒç´ çš„ä¸‹æ ‡</span><br><span class="line">        //orignText ä¸ºåŸæ¥çš„å€¼</span><br><span class="line">        //return ä¸ºè¿”å›çš„æ–°å€¼</span><br><span class="line"></span><br><span class="line">        return &quot;hello&quot;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>è®¾ç½®å±æ€§ attr()</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;button&quot;).click(function()&#123;</span><br><span class="line">    $(&quot;p&quot;).attr(&quot;data-text&quot;,&quot;hello world&quot;);</span><br><span class="line">&#125;)</span><br><span class="line">// å…è®¸åŒæ—¶è®¾ç½®å¤šä¸ªå±æ€§</span><br><span class="line">$(&quot;button&quot;).click(function()&#123;</span><br><span class="line">    $(&quot;p&quot;).attr(&#123;</span><br><span class="line">        &quot;data-text&quot;,&quot;hello world&quot;,</span><br><span class="line">        &quot;title&quot;,&quot;jQueryå­¦ä¹ ï¼&quot;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>attr() ä¹Ÿå­˜åœ¨å›è°ƒå‡½æ•°(åŒä¸Š)</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;button&quot;).click(function()&#123;</span><br><span class="line">  $(&quot;#runoob&quot;).attr(&quot;href&quot;, function(i,origValue)&#123;</span><br><span class="line">    return origValue + &quot;/jquery&quot;;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤å±æ€§"><a href="#åˆ é™¤å±æ€§" class="headerlink" title="åˆ é™¤å±æ€§"></a>åˆ é™¤å±æ€§</h3><ul><li>removeAttr()</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;span&quot;).removeAttr(&quot;class name&quot;);</span><br><span class="line">//è¡¨ç¤ºåŒæ—¶åˆ é™¤spanæ ‡ç­¾çš„classå’Œnameå±æ€§</span><br></pre></td></tr></table></figure><ul><li>removeProp()</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;span&quot;).removeProp(&quot;class&quot;);</span><br><span class="line">//è¡¨ç¤ºåˆ é™¤æ‰€æœ‰spanæ ‡ç­¾çš„classå±æ€§</span><br></pre></td></tr></table></figure><h3 id="jQuery-æ·»åŠ å…ƒç´ "><a href="#jQuery-æ·»åŠ å…ƒç´ " class="headerlink" title="jQuery æ·»åŠ å…ƒç´ "></a>jQuery æ·»åŠ å…ƒç´ </h3><ul><li><p>append/prepend æ˜¯åœ¨é€‰æ‹©å…ƒç´ å†…å®¹åµŒå…¥(æ–‡æœ¬æˆ–æ ‡ç­¾)</p></li><li><p>after/before å®åœ¨å…ƒç´ å¤–éƒ¨è¿½åŠ (æ–‡æœ¬æˆ–æ ‡ç­¾)</p></li><li><p>å‚æ•°å¯ä»¥æ˜¯å¤šä¸ªï¼Œå¯ä»¥æ˜¯ä¸€ä¸ª list</p></li></ul><h3 id="jQuery-åˆ é™¤å…ƒç´ "><a href="#jQuery-åˆ é™¤å…ƒç´ " class="headerlink" title="jQuery åˆ é™¤å…ƒç´ "></a>jQuery åˆ é™¤å…ƒç´ </h3><ul><li>remove() æ–¹æ³•</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;p&quot;).remove()</span><br><span class="line"></span><br><span class="line">//remove() æ–¹æ³•åˆ é™¤è¢«é€‰å…ƒç´ åŠå…¶å­å…ƒç´ </span><br></pre></td></tr></table></figure><ul><li>empty() æ–¹æ³•</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;p&quot;).empty()</span><br><span class="line"></span><br><span class="line">//empty() æ–¹æ³•åˆ é™¤è¢«é€‰å…ƒç´ çš„å­å…ƒç´ è€Œä¸åˆ é™¤è‡ªèº«</span><br></pre></td></tr></table></figure><ul><li>è¿‡æ»¤è¢«åˆ é™¤çš„å…ƒç´ </li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;p&quot;).remove(&quot;.italic&quot;)</span><br><span class="line"></span><br><span class="line">//è¡¨ç¤ºåˆ é™¤æ‰€æœ‰&lt;p&gt;æ ‡ç­¾å…ƒç´ ä¸­class = &quot;italic&quot;çš„å…ƒç´ </span><br><span class="line">//è¿‡æ»¤æ—¶ï¼Œåªèƒ½ä½œç”¨äºåŒçº§å…ƒç´ ä¹‹é—´</span><br></pre></td></tr></table></figure><h3 id="jQuery-è·å–å¹¶è®¾ç½®-CSS-ç±»"><a href="#jQuery-è·å–å¹¶è®¾ç½®-CSS-ç±»" class="headerlink" title="jQuery è·å–å¹¶è®¾ç½® CSS ç±»"></a>jQuery è·å–å¹¶è®¾ç½® CSS ç±»</h3><ul><li>addClass() å‘ä¸ç”¨çš„å…ƒç´ æ·»åŠ  class å±æ€§ï¼Œåœ¨æ·»åŠ ç±»æ—¶å¯ä»¥é€‰å–å¤šä¸ªå…ƒç´ ,ä¹Ÿå¯ä»¥è®¾ç½®å¤šä¸ªç±»ã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;button&quot;).click(function()&#123;</span><br><span class="line">$(&quot;h1, h3, p&quot;).addClass(&quot;fontColor fontSize&quot;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>removeClass() åœ¨ä¸åŒå…ƒç´ ä¸­åˆ é™¤æŒ‡å®šçš„ class å±æ€§</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;button&quot;).click(function()&#123;</span><br><span class="line">$(&quot;h1, h3, p&quot;).removeClass(&quot;fontSize&quot;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>toggleClass() å¯¹è¢«é€‰å…ƒç´ è¿›è¡Œæ·»åŠ /åˆ é™¤ç±»çš„åˆ‡æ¢æ“ä½œ</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;.btn2&quot;).click(function()&#123;</span><br><span class="line">$(&quot;h1, h3, p&quot;).toggleClass(&quot;fontColor2&quot;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="css-æ–¹æ³•"><a href="#css-æ–¹æ³•" class="headerlink" title="css() æ–¹æ³•"></a>css() æ–¹æ³•</h3><ul><li>è¿”å› css å±æ€§</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;p&quot;).css(&quot;background-color&quot;);</span><br></pre></td></tr></table></figure><ul><li>è®¾ç½® css å±æ€§,å¯ä»¥åŒæ—¶è®¾ç½®å¤šä¸ª</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;p&quot;).css(&#123;&quot;background-color&quot;:&quot;yellow&quot;,&quot;font-size&quot;:&quot;200%&quot;&#125;);</span><br></pre></td></tr></table></figure><h3 id="å°ºå¯¸"><a href="#å°ºå¯¸" class="headerlink" title="å°ºå¯¸"></a>å°ºå¯¸</h3><ul><li>width()ã€height()<ul><li>width() æ–¹æ³•è®¾ç½®æˆ–è¿”å›å…ƒç´ çš„å®½åº¦ï¼ˆä¸åŒ…æ‹¬å†…è¾¹è·ã€è¾¹æ¡†æˆ–å¤–è¾¹è·ï¼‰</li><li>height() æ–¹æ³•è®¾ç½®æˆ–è¿”å›å…ƒç´ çš„é«˜åº¦ï¼ˆä¸åŒ…æ‹¬å†…è¾¹è·ã€è¾¹æ¡†æˆ–å¤–è¾¹è·ï¼‰ã€‚</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;p&quot;).width() //è·å–</span><br><span class="line">$(&quot;p&quot;).width(20) //è®¾ç½®</span><br></pre></td></tr></table></figure><ul><li><p>innerWidth()ã€innerHeight()</p><ul><li>innerWidth() æ–¹æ³•è¿”å›å…ƒç´ çš„å®½åº¦ï¼ˆåŒ…æ‹¬å†…è¾¹è·ï¼‰ã€‚</li><li>innerHeight() æ–¹æ³•è¿”å›å…ƒç´ çš„é«˜åº¦ï¼ˆåŒ…æ‹¬å†…è¾¹è·ï¼‰ã€‚</li></ul></li><li><p>outerWidth()ã€outerHeight()</p><ul><li>outerWidth() æ–¹æ³•è¿”å›å…ƒç´ çš„å®½åº¦ï¼ˆåŒ…æ‹¬å†…è¾¹è·å’Œè¾¹æ¡†ï¼‰ã€‚</li><li>outerHeight() æ–¹æ³•è¿”å›å…ƒç´ çš„é«˜åº¦ï¼ˆåŒ…æ‹¬å†…è¾¹è·å’Œè¾¹æ¡†ï¼‰ã€‚</li></ul></li><li><p>offset()</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;.son&quot;).offset().left //å…ƒç´ è·ç¦»çª—å£çš„åç§»è·ç¦»</span><br><span class="line"></span><br><span class="line">$(&quot;.son&quot;).offset(&#123;</span><br><span class="line">    left: 20,</span><br><span class="line">&#125;) //è®¾ç½®å…ƒç´ è·ç¦»çª—å£çš„åç§»è·ç¦»</span><br></pre></td></tr></table></figure><ul><li>position()</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;.son&quot;).position().left //è·å–å…ƒç´ è·ç¦»å®šä½å…ƒç´ çš„åç§»è·ç¦»</span><br><span class="line"></span><br><span class="line">// æ³¨æ„ç‚¹ï¼šposition() æ–¹æ³•åªèƒ½è·å–ä¸èƒ½è®¾ç½®</span><br></pre></td></tr></table></figure><ul><li>scrollTop()</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;scroller&quot;).scrollTop() //è·å–å…ƒç´ ç›¸å¯¹æ»šåŠ¨æ¡é¡¶éƒ¨çš„åç§»</span><br><span class="line"></span><br><span class="line">$(&quot;scroller&quot;).scrollTop(300) //è®¾ç½®å…ƒç´ ç›¸å¯¹æ»šåŠ¨æ¡é¡¶éƒ¨çš„åç§»</span><br><span class="line"></span><br><span class="line">//è·å–ç½‘é¡µæ»šåŠ¨çš„åç§»(è€ƒè™‘å…¼å®¹)</span><br><span class="line">$(&quot;body&quot;).scrollTop() + $(&quot;html&quot;).scrollTop() //ie-&gt;body,chrome...-&gt;html</span><br><span class="line"></span><br><span class="line">//è®¾ç½®ç½‘é¡µæ»šåŠ¨çš„åç§»(è€ƒè™‘å…¼å®¹)</span><br><span class="line">$(&quot;html,body&quot;).scrollTop(300)</span><br></pre></td></tr></table></figure><ul><li>è¡¥å……ï¼šè®¾ç½®äº† box-sizing åï¼Œwidth()=width - padding - border</li></ul><h3 id="jQuery-éå†"><a href="#jQuery-éå†" class="headerlink" title="jQuery éå†"></a>jQuery éå†</h3><h4 id="ç¥–å…ˆ"><a href="#ç¥–å…ˆ" class="headerlink" title="ç¥–å…ˆ"></a>ç¥–å…ˆ</h4><ul><li>parent() è¿”å›å…ƒç´ çš„ç›´æ¥çˆ¶å…ƒç´ </li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(document).ready(function()&#123;</span><br><span class="line">    $(&quot;span&quot;).parents();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>parents() è¿”å›è¢«é€‰å…ƒç´ çš„æ‰€æœ‰ç¥–å…ˆå…ƒç´ ï¼Œç›´åˆ°æ–‡æ¡£æ ¹å…ƒç´ </li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$(document).ready(function()&#123;</span><br><span class="line">    $(&quot;span&quot;).parents();</span><br><span class="line">&#125;)</span><br><span class="line">//è¿‡æ»¤æ‰€æœ‰ç¥–å…ˆï¼Œå¹¶ä¸”æ˜¯&lt;ul&gt;å…ƒç´ </span><br><span class="line">$(document).ready(function()&#123;</span><br><span class="line">    $(&quot;span&quot;).parents(&quot;ul&quot;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>parentsUntil() è¿”å›ç»™å®šçš„ä¸¤ä¸ªå…ƒç´ ä¹‹é—´çš„æ‰€æœ‰ç¥–å…ˆå…ƒç´ </li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//è¿”å›&lt;span&gt;ä¸&lt;div&gt;å…ƒç´ ä¹‹é—´çš„æ‰€æœ‰ç¥–å…ˆå…ƒç´ </span><br><span class="line">$(document).ready(function()&#123;</span><br><span class="line">    $(&quot;span&quot;).parentsUntil(&quot;div&quot;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="åä»£"><a href="#åä»£" class="headerlink" title="åä»£"></a>åä»£</h4><ul><li>children() è¿”å›è¢«é€‰å…ƒç´ çš„æ‰€æœ‰ç›´æ¥å­å…ƒç´ </li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;div&quot;).children();</span><br><span class="line"></span><br><span class="line">//å¯ä»¥ä½¿ç”¨å¯é€‰å‚æ•°æ¥è¿‡æ»¤å­å…ƒç´ çš„æœç´¢</span><br><span class="line">$(&quot;div&quot;).children(&quot;p.aaa&quot;); //è¿”å›ç±»åä¸ºaaaçš„&lt;p&gt;å…ƒç´ ï¼Œä¸”æ˜¯divçš„ç›´æ¥å­å…ƒç´ ã€‚</span><br></pre></td></tr></table></figure><ul><li>find() è¿”å›è¢«é€‰å…ƒç´ çš„åä»£å…ƒç´ ï¼Œä¸€è·¯å‘ä¸‹ç›´åˆ°æœ€åä¸€ä¸ªåä»£</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;div&quot;).find(&quot;span&quot;);</span><br></pre></td></tr></table></figure><h4 id="åŒèƒ"><a href="#åŒèƒ" class="headerlink" title="åŒèƒ"></a>åŒèƒ</h4><ul><li><p>siblings() è¿”å›è¢«é€‰å…ƒç´ çš„æ‰€æœ‰åŒèƒå…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨å¯é€‰å‚æ•°è¿‡æ»¤æœç´¢ã€‚</p></li><li><p>next() è¿”å›è¢«é€‰å…ƒç´ çš„ä¸‹ä¸€ä¸ªåŒèƒå…ƒç´ ï¼Œåªè¿”å›ä¸€ä¸ªå…ƒç´ </p></li><li><p>nextAll() è¿”å›è¢«é€‰å…ƒç´ çš„æ‰€æœ‰è·Ÿéšçš„åŒèƒå…ƒç´ </p></li><li><p>nextUntil() è¿”å›ä»‹äºä¸¤ä¸ªç»™å®šå‚æ•°ä¹‹é—´çš„æ‰€æœ‰è·Ÿéšçš„åŒèƒå…ƒç´ </p></li><li><p>pre()ã€prevAll()ã€prevUntil() åŒä¸Šï¼Œæ–¹å‘ç›¸å</p></li></ul><h4 id="è¿‡æ»¤ï¼šç¼©å°æœç´¢å…ƒç´ çš„èŒƒå›´"><a href="#è¿‡æ»¤ï¼šç¼©å°æœç´¢å…ƒç´ çš„èŒƒå›´" class="headerlink" title="è¿‡æ»¤ï¼šç¼©å°æœç´¢å…ƒç´ çš„èŒƒå›´"></a>è¿‡æ»¤ï¼šç¼©å°æœç´¢å…ƒç´ çš„èŒƒå›´</h4><ul><li>first() è¿”å›è¢«é€‰å…ƒç´ çš„é¦–ä¸ªå…ƒç´ </li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;p&quot;).first();</span><br></pre></td></tr></table></figure><ul><li>last() è¿”å›è¢«é€‰å…ƒç´ çš„æœ€åä¸€ä¸ªå…ƒç´ </li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;p&quot;).last();</span><br></pre></td></tr></table></figure><ul><li>eq() è¿”å›è¢«é€‰å…ƒç´ ä¸­å¸¦æœ‰æŒ‡å®šç´¢å¼•å·çš„å…ƒç´ </li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;p&quot;).eq(1);</span><br><span class="line"></span><br><span class="line">//ç´¢å¼•å·ä»0å¼€å§‹ï¼Œeq(1)é€‰æ‹©çš„æ˜¯ç¬¬äºŒä¸ª&lt;p&gt;å…ƒç´ </span><br></pre></td></tr></table></figure><ul><li>filter() å…è®¸è§„å®šä¸€ä¸ªæ ‡å‡†ï¼Œè¿”å›åŒ¹é…çš„å…ƒç´ </li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;p&quot;).filter(&quot;.className&quot;);</span><br><span class="line"></span><br><span class="line">//è¿”å›å¸¦æœ‰ç±»åclassNameçš„æ‰€æœ‰&lt;p&gt;å…ƒç´ </span><br></pre></td></tr></table></figure><ul><li>not() è¿”å›æ‰€æœ‰ä¸åŒ¹é…çš„å…ƒç´ ï¼Œä¸ filter()ç›¸å</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;p&quot;).not(&quot;.className&quot;);</span><br><span class="line"></span><br><span class="line">//è¿”å›æ‰€æœ‰ä¸å¸¦æœ‰ç±»åclassNameçš„&lt;p&gt;å…ƒç´ </span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;jQuery-å­¦ä¹ &quot;&gt;&lt;a href=&quot;#jQuery-å­¦ä¹ &quot; class=&quot;headerlink&quot; title=&quot;jQuery å­¦ä¹ &quot;&gt;&lt;/a&gt;jQuery å­¦ä¹ &lt;/h2&gt;</summary>
    
    
    
    <category term="javascript" scheme="https://github.com/foolishmax/categories/javascript/"/>
    
    
    <category term="javascript" scheme="https://github.com/foolishmax/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>13ä¸ªè¶…å®ç”¨çš„JavaScriptæ•°ç»„æ“ä½œæŠ€å·§</title>
    <link href="https://github.com/foolishmax/2020/07/18/13%E4%B8%AA%E8%B6%85%E5%AE%9E%E7%94%A8%E7%9A%84JavaScript%E6%95%B0%E7%BB%84%E6%93%8D%E4%BD%9C%E6%8A%80%E5%B7%A7/"/>
    <id>https://github.com/foolishmax/2020/07/18/13%E4%B8%AA%E8%B6%85%E5%AE%9E%E7%94%A8%E7%9A%84JavaScript%E6%95%B0%E7%BB%84%E6%93%8D%E4%BD%9C%E6%8A%80%E5%B7%A7/</id>
    <published>2020-07-18T15:26:33.000Z</published>
    <updated>2022-07-30T04:08:55.346Z</updated>
    
    <content type="html"><![CDATA[<h2 id="13-ä¸ªè¶…å®ç”¨çš„-JavaScript-æ•°ç»„æ“ä½œæŠ€å·§"><a href="#13-ä¸ªè¶…å®ç”¨çš„-JavaScript-æ•°ç»„æ“ä½œæŠ€å·§" class="headerlink" title="13 ä¸ªè¶…å®ç”¨çš„ JavaScript æ•°ç»„æ“ä½œæŠ€å·§"></a>13 ä¸ªè¶…å®ç”¨çš„ JavaScript æ•°ç»„æ“ä½œæŠ€å·§</h2><span id="more"></span><h3 id="1-æ•°ç»„å»é‡"><a href="#1-æ•°ç»„å»é‡" class="headerlink" title="1.æ•°ç»„å»é‡"></a>1.æ•°ç»„å»é‡</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let fruits = [&quot;banana&quot;,&quot;apple&quot;,&quot;orange&quot;&quot;watermelon&quot;,&quot;apple&quot;,&quot;orrage&quot;]</span><br><span class="line">//ç¬¬ä¸€ç§æ–¹æ³•</span><br><span class="line">let uniqueFruits = Array.from(new Set(fruits))</span><br><span class="line">//ç¬¬äºŒç§æ–¹æ³•</span><br><span class="line">let uniqueFruits2 = [...new Set(fruits)]</span><br></pre></td></tr></table></figure><h3 id="2-æ›¿æ¢æ•°ç»„ä¸­çš„ç‰¹å®šå€¼"><a href="#2-æ›¿æ¢æ•°ç»„ä¸­çš„ç‰¹å®šå€¼" class="headerlink" title="2.æ›¿æ¢æ•°ç»„ä¸­çš„ç‰¹å®šå€¼"></a>2.æ›¿æ¢æ•°ç»„ä¸­çš„ç‰¹å®šå€¼</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// ä½¿ç”¨.splice(start,value to remove,valueToAdd),è¿”å›åˆ é™¤å¯¹è±¡ï¼Œå¹¶ä¿®æ”¹åŸæ•°ç»„</span><br><span class="line">let fruits = [&quot;banana&quot;,&quot;apple&quot;,&quot;orange&quot;,&quot;watermelon&quot;,&quot;apple&quot;,&quot;orrage&quot;]</span><br><span class="line">fruits.splice(0,2,&quot;potato&quot;,&quot;tomato&quot;)</span><br><span class="line">console.log(fruits)</span><br></pre></td></tr></table></figure><h3 id="3-ä¸ä½¿ç”¨-map-æ˜ å°„æ•°ç»„"><a href="#3-ä¸ä½¿ç”¨-map-æ˜ å°„æ•°ç»„" class="headerlink" title="3.ä¸ä½¿ç”¨.map()æ˜ å°„æ•°ç»„"></a>3.ä¸ä½¿ç”¨.map()æ˜ å°„æ•°ç»„</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">let friends = [</span><br><span class="line">    &#123; name: &#x27;John&#x27;, age: 22 &#125;,</span><br><span class="line">    &#123; name: &#x27;Peter&#x27;, age: 23 &#125;,</span><br><span class="line">    &#123; name: &#x27;Mark&#x27;, age: 24 &#125;,</span><br><span class="line">    &#123; name: &#x27;Maria&#x27;, age: 22 &#125;,</span><br><span class="line">    &#123; name: &#x27;Monica&#x27;, age: 21 &#125;,</span><br><span class="line">    &#123; name: &#x27;Martha&#x27;, age: 19 &#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">let friendsNames = Array.from(friends, (&#123;name&#125;) =&gt; name)</span><br><span class="line"></span><br><span class="line">console.log(friendsNames)//returns [&quot;John&quot;, &quot;Peter&quot;, &quot;Mark&quot;, &quot;Maria&quot;, &quot;Monica&quot;, &quot;Martha&quot;]</span><br></pre></td></tr></table></figure><h3 id="4-æ¸…ç©ºæ•°ç»„"><a href="#4-æ¸…ç©ºæ•°ç»„" class="headerlink" title="4.æ¸…ç©ºæ•°ç»„"></a>4.æ¸…ç©ºæ•°ç»„</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let fruits = [&quot;banana&quot;, &quot;apple&quot;, &quot;orange&quot;, &quot;watermelon&quot;, &quot;apple&quot;, &quot;orange&quot;, &quot;grape&quot;, &quot;apple&quot;];</span><br><span class="line">//è¦æ¸…ç©ºæ•°ç»„ï¼Œä»…éœ€è¦å°†æ•°ç»„çš„é•¿åº¦è®¾ç½®ä¸º0</span><br><span class="line">fruits.length = 0;</span><br><span class="line">console.log(fruits); // returns []</span><br></pre></td></tr></table></figure><h3 id="5-æ•°ç»„è½¬å¯¹è±¡"><a href="#5-æ•°ç»„è½¬å¯¹è±¡" class="headerlink" title="5.æ•°ç»„è½¬å¯¹è±¡"></a>5.æ•°ç»„è½¬å¯¹è±¡</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let fruits = [&quot;banana&quot;, &quot;apple&quot;, &quot;orange&quot;, &quot;watermelon&quot;];</span><br><span class="line"></span><br><span class="line">let fruitsObj = &#123;...fruits&#125;;</span><br><span class="line"></span><br><span class="line">console.log(fruitsObj) // returns &#123;0: &quot;banana&quot;, 1: &quot;apple&quot;, 2: &quot;orange&quot;, 3: &quot;watermelon&quot;&#125;</span><br></pre></td></tr></table></figure><h3 id="6-ç”¨æ•°æ®å¡«å……æ•°ç»„"><a href="#6-ç”¨æ•°æ®å¡«å……æ•°ç»„" class="headerlink" title="6.ç”¨æ•°æ®å¡«å……æ•°ç»„"></a>6.ç”¨æ•°æ®å¡«å……æ•°ç»„</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let newArray = new Array(10).fill(&quot;1&quot;)</span><br><span class="line"></span><br><span class="line">console.log(newArray)</span><br></pre></td></tr></table></figure><h3 id="7-åˆå¹¶æ•°ç»„"><a href="#7-åˆå¹¶æ•°ç»„" class="headerlink" title="7.åˆå¹¶æ•°ç»„"></a>7.åˆå¹¶æ•°ç»„</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var fruits = [&quot;apple&quot;, &quot;banana&quot;, &quot;orange&quot;];</span><br><span class="line">var meat = [&quot;poultry&quot;, &quot;beef&quot;, &quot;fish&quot;];</span><br><span class="line">var vegetables = [&quot;potato&quot;, &quot;tomato&quot;, &quot;cucumber&quot;];</span><br><span class="line">//ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦...</span><br><span class="line">var food = [â€¦fruits, â€¦meat, â€¦vegetables];</span><br><span class="line">console.log(food);</span><br></pre></td></tr></table></figure><h3 id="8-æ±‚æ•°ç»„çš„äº¤é›†"><a href="#8-æ±‚æ•°ç»„çš„äº¤é›†" class="headerlink" title="8.æ±‚æ•°ç»„çš„äº¤é›†"></a>8.æ±‚æ•°ç»„çš„äº¤é›†</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var arr1 = [0,2,3,5,6,8,6]</span><br><span class="line">var arr2 = [1,2,3,4,5,6,4]</span><br><span class="line">var duplicatedValues = [...new Set(arr1)].filter(item=&gt;arr2.includes(item))</span><br><span class="line">console.log(duplicatedValues)</span><br></pre></td></tr></table></figure><h3 id="9-ä»æ•°ç»„ä¸­åˆ é™¤è™šå€¼"><a href="#9-ä»æ•°ç»„ä¸­åˆ é™¤è™šå€¼" class="headerlink" title="9.ä»æ•°ç»„ä¸­åˆ é™¤è™šå€¼"></a>9.ä»æ•°ç»„ä¸­åˆ é™¤è™šå€¼</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//è™šå€¼æœ‰ï¼šfalseã€0ã€nullã€NaNã€undefinedã€&quot;&quot;.</span><br><span class="line">var mixedArr = [0,&quot;blue&quot;,&quot;&quot;,NaN,9,true,undefined,&quot;white&quot;,false]</span><br><span class="line">var trueArr = mixedArr.filter(Boolean)</span><br><span class="line">console.log(trueArr)</span><br></pre></td></tr></table></figure><h3 id="10-ä»æ•°ç»„ä¸­è·å–éšæœºå€¼"><a href="#10-ä»æ•°ç»„ä¸­è·å–éšæœºå€¼" class="headerlink" title="10.ä»æ•°ç»„ä¸­è·å–éšæœºå€¼"></a>10.ä»æ•°ç»„ä¸­è·å–éšæœºå€¼</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var colors = [&quot;blue&quot;, &quot;white&quot;, &quot;green&quot;, &quot;navy&quot;, &quot;pink&quot;, &quot;purple&quot;, &quot;orange&quot;, &quot;yellow&quot;, &quot;black&quot;, &quot;brown&quot;];</span><br><span class="line"></span><br><span class="line">var randomColor = colors[(Math.floor(Math.random() * (color.length)))]</span><br></pre></td></tr></table></figure><h3 id="11-åè½¬æ•°ç»„"><a href="#11-åè½¬æ•°ç»„" class="headerlink" title="11.åè½¬æ•°ç»„"></a>11.åè½¬æ•°ç»„</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var colors = [â€œblueâ€, â€œwhiteâ€, â€œgreenâ€, â€œnavyâ€, â€œpinkâ€, â€œpurpleâ€, â€œorangeâ€, â€œyellowâ€, â€œblackâ€, â€œbrownâ€];</span><br><span class="line">var reversedColors = colors.reverse();</span><br><span class="line">console.log(reversedColors);</span><br></pre></td></tr></table></figure><h3 id="12-lastIndexOf-æ–¹æ³•"><a href="#12-lastIndexOf-æ–¹æ³•" class="headerlink" title="12.lastIndexOf()æ–¹æ³•"></a>12.lastIndexOf()æ–¹æ³•</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// æŸ¥æ‰¾ç»™å®šå…ƒç´ çš„æœ€åä¾æ¬¡å‡ºç°çš„ç´¢å¼•</span><br><span class="line">var nums = [1, 5, 2, 6, 3, 5, 2, 3, 6, 5, 2, 7];</span><br><span class="line">var lastIndex = nums.lastIndexOf(5);</span><br><span class="line">console.log(lastIndex); // returns 9</span><br></pre></td></tr></table></figure><h3 id="13-å¯¹æ•°ç»„ä¸­æ‰€æœ‰å€¼æ±‚å’Œ"><a href="#13-å¯¹æ•°ç»„ä¸­æ‰€æœ‰å€¼æ±‚å’Œ" class="headerlink" title="13.å¯¹æ•°ç»„ä¸­æ‰€æœ‰å€¼æ±‚å’Œ"></a>13.å¯¹æ•°ç»„ä¸­æ‰€æœ‰å€¼æ±‚å’Œ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var nums = [1,5,4,3]</span><br><span class="line">var sum = nums.reduce((x,y)=&gt;x+y)</span><br><span class="line">console.log(sum)</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;13-ä¸ªè¶…å®ç”¨çš„-JavaScript-æ•°ç»„æ“ä½œæŠ€å·§&quot;&gt;&lt;a href=&quot;#13-ä¸ªè¶…å®ç”¨çš„-JavaScript-æ•°ç»„æ“ä½œæŠ€å·§&quot; class=&quot;headerlink&quot; title=&quot;13 ä¸ªè¶…å®ç”¨çš„ JavaScript æ•°ç»„æ“ä½œæŠ€å·§&quot;&gt;&lt;/a&gt;13 ä¸ªè¶…å®ç”¨çš„ JavaScript æ•°ç»„æ“ä½œæŠ€å·§&lt;/h2&gt;</summary>
    
    
    
    <category term="JavaScript" scheme="https://github.com/foolishmax/categories/JavaScript/"/>
    
    
    <category term="JavaScript" scheme="https://github.com/foolishmax/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>javascriptå¸¸ç”¨apiåˆé›†</title>
    <link href="https://github.com/foolishmax/2020/07/17/javascript%E5%B8%B8%E7%94%A8api%E5%90%88%E9%9B%86/"/>
    <id>https://github.com/foolishmax/2020/07/17/javascript%E5%B8%B8%E7%94%A8api%E5%90%88%E9%9B%86/</id>
    <published>2020-07-17T02:04:52.000Z</published>
    <updated>2022-07-30T04:10:45.471Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸€ã€èŠ‚ç‚¹"><a href="#ä¸€ã€èŠ‚ç‚¹" class="headerlink" title="ä¸€ã€èŠ‚ç‚¹"></a>ä¸€ã€èŠ‚ç‚¹</h2><h3 id="èŠ‚ç‚¹å±æ€§"><a href="#èŠ‚ç‚¹å±æ€§" class="headerlink" title="èŠ‚ç‚¹å±æ€§"></a>èŠ‚ç‚¹å±æ€§</h3><span id="more"></span><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Node.nodeName //è¿”å›èŠ‚ç‚¹åç§°ï¼Œåªè¯»</span><br><span class="line">Node.nodeType //è¿”å›èŠ‚ç‚¹ç±»å‹çš„å¸¸æ•°å€¼ï¼Œåªè¯»</span><br><span class="line">Node.nodeValue //è¿”å›Textæˆ–CommentèŠ‚ç‚¹çš„æ–‡æœ¬å€¼ï¼Œåªè¯»</span><br><span class="line">Node.textContent //è¿”å›å½“å‰èŠ‚ç‚¹å’Œå®ƒçš„æ‰€æœ‰åä»£èŠ‚ç‚¹çš„æ–‡æœ¬å†…å®¹ï¼Œå¯è¯»å†™</span><br><span class="line">Node.baseURI //è¿”å›å½“å‰ç½‘é¡µçš„ç»å¯¹è·¯å¾„</span><br><span class="line"></span><br><span class="line">Node.ownerDocument //è¿”å›å½“å‰èŠ‚ç‚¹æ‰€åœ¨çš„é¡¶å±‚æ–‡æ¡£å¯¹è±¡ï¼Œå³document</span><br><span class="line">Node.nextSibling //è¿”å›ç´§è·Ÿåœ¨å½“å‰èŠ‚ç‚¹åé¢çš„ç¬¬ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹</span><br><span class="line">Node.previousSibling //è¿”å›å½“å‰èŠ‚ç‚¹å‰é¢çš„ã€è·ç¦»æœ€è¿‘çš„ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹</span><br><span class="line">Node.parentNode //è¿”å›å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹</span><br><span class="line">Node.parentElement //è¿”å›å½“å‰èŠ‚ç‚¹çš„çˆ¶ElementèŠ‚ç‚¹</span><br><span class="line">Node.childNodes //è¿”å›å½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹</span><br><span class="line">Node.firstChild //è¿”å›å½“å‰èŠ‚ç‚¹çš„ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹</span><br><span class="line">Node.lastChild //è¿”å›å½“å‰èŠ‚ç‚¹çš„æœ€åä¸€ä¸ªå­èŠ‚ç‚¹</span><br><span class="line"></span><br><span class="line">Node.children //è¿”å›å½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰Elementå­èŠ‚ç‚¹</span><br><span class="line">Node.firstElementChild //è¿”å›å½“å‰èŠ‚ç‚¹çš„ç¬¬ä¸€ä¸ªElementå­èŠ‚ç‚¹</span><br><span class="line">Node.lastElementChild //è¿”å›å½“å‰èŠ‚ç‚¹çš„æœ€åä¸€ä¸ªElementå­èŠ‚ç‚¹</span><br><span class="line">Node.childElementCount //è¿”å›å½“å‰èŠ‚ç‚¹æ‰€æœ‰Elementå­èŠ‚ç‚¹çš„æ•°ç›®</span><br></pre></td></tr></table></figure><!--more--><h3 id="æ“ä½œ"><a href="#æ“ä½œ" class="headerlink" title="æ“ä½œ"></a>æ“ä½œ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Node.appendChild(node) //å‘èŠ‚ç‚¹æ·»åŠ æœ€åçš„å­èŠ‚ç‚¹</span><br><span class="line">Node.hasChildNodes() //è¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå½“å‰èŠ‚ç‚¹æ˜¯å¦æœ‰å­èŠ‚ç‚¹</span><br><span class="line">Node.cloneNode(true) //é»˜è®¤ä¸ºfalse(å…‹éš†èŠ‚ç‚¹),true(å…‹éš†èŠ‚ç‚¹åŠå…¶å±æ€§ï¼Œä»¥åŠåä»£)</span><br><span class="line">Node.insertBefore(newNode,oldNode) //åœ¨æŒ‡å®šå­èŠ‚ç‚¹å‰æ’å…¥æ–°çš„å­èŠ‚ç‚¹</span><br><span class="line">Node.removeChild(node) //åˆ é™¤èŠ‚ç‚¹ï¼Œåœ¨è¦åˆ é™¤èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸Šæ“ä½œ</span><br><span class="line">Node.replaceChild(newChild,oldChild) //æ›¿æ¢èŠ‚ç‚¹</span><br><span class="line">Node.contains(node) //è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°èŠ‚ç‚¹æ˜¯å¦ä¸ºå½“å‰èŠ‚ç‚¹çš„åä»£èŠ‚ç‚¹</span><br><span class="line">Node.compareDocumentPosition(node) //è¿”å›ä¸€ä¸ª7ä¸ªæ¯”ç‰¹ä½çš„äºŒè¿›åˆ¶å€¼ï¼Œè¡¨ç¤ºå‚æ•°èŠ‚ç‚¹å’Œå½“å‰èŠ‚ç‚¹çš„å…³ç³»</span><br><span class="line">Node.isEqualNode(node) //è¿”å›å¸ƒå°”å€¼ï¼Œç”¨äºæ£€æŸ¥ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦æƒ³ç­‰ï¼Œæ‰€è°“çš„ç›¸ç­‰èŠ‚ç‚¹ï¼ŒæŒ‡çš„çš„ä¸¤ä¸ªèŠ‚ç‚¹çš„ç±»å‹ã€å±æ€§ã€å­èŠ‚ç‚¹éƒ½ç›¸åŒ</span><br><span class="line">Node.normalize() //ç”¨äºæ¸…ç†å½“å‰èŠ‚ç‚¹å†…éƒ¨çš„æ‰€æœ‰TextèŠ‚ç‚¹ã€‚å®ƒä¼šå»é™¤ç©ºçš„æ–‡æœ¬èŠ‚ç‚¹ï¼Œå¹¶ä¸”å°†æ¯—é‚»çš„æ–‡æœ¬èŠ‚ç‚¹åˆå¹¶æˆä¸€ä¸ª</span><br><span class="line"></span><br><span class="line">ChildNode.remove()  //ç”¨äºåˆ é™¤å½“å‰èŠ‚ç‚¹</span><br><span class="line">ChildNode.before()  //åœ¨ChildNodeå‰æ’å…¥å…ƒç´ èŠ‚ç‚¹æˆ–è€…æ–‡æœ¬èŠ‚ç‚¹</span><br><span class="line">ChildNode.after()  //åœ¨ChildNodeåæ’å…¥å…ƒç´ æˆ–æ–‡æœ¬èŠ‚ç‚¹</span><br><span class="line">ChildNode.replaceWith()  //æ›¿æ¢è¯¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸‹çš„å­èŠ‚ç‚¹ï¼Œå¯ä»¥ä¸ºæ–‡æœ¬æˆ–å…ƒç´ å¯¹è±¡</span><br></pre></td></tr></table></figure><h3 id="Document-èŠ‚ç‚¹"><a href="#Document-èŠ‚ç‚¹" class="headerlink" title="Document èŠ‚ç‚¹"></a>Document èŠ‚ç‚¹</h3><h4 id="Document-èŠ‚ç‚¹çš„å±æ€§"><a href="#Document-èŠ‚ç‚¹çš„å±æ€§" class="headerlink" title="Document èŠ‚ç‚¹çš„å±æ€§"></a>Document èŠ‚ç‚¹çš„å±æ€§</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">document.doctype //è¿”å›å½“å‰æ–‡æ¡£å…³è”çš„æ–‡æ¡£ç±»å‹å®šä¹‰(DTD)</span><br><span class="line">document.documentElement //è¿”å›å½“å‰æ–‡æ¡£çš„æ ¹èŠ‚ç‚¹(html)</span><br><span class="line">document.defaultView //è¿”å›documentå¯¹è±¡æ‰€åœ¨çš„windowå¯¹è±¡</span><br><span class="line">document.body //è¿”å›å½“å‰æ–‡æ¡£çš„&lt;body&gt;èŠ‚ç‚¹</span><br><span class="line">document.head //è¿”å›å½“å‰æ–‡æ¡£çš„&lt;head&gt;èŠ‚ç‚¹</span><br><span class="line">document.activeElement //è¿”å›å½“å‰æ–‡æ¡£ä¸­è·å¾—ç„¦ç‚¹çš„é‚£ä¸ªå…ƒç´ </span><br><span class="line"></span><br><span class="line">document.links //è¿”å›å½“å‰æ–‡æ¡£çš„æ‰€æœ‰aå…ƒç´ </span><br><span class="line">document.forms //è¿”å›é¡µé¢ä¸­æ‰€æœ‰è¡¨å•å…ƒç´ </span><br><span class="line">document.images //è¿”å›é¡µé¢ä¸­æ‰€æœ‰å›¾ç‰‡å…ƒç´ </span><br><span class="line">document.embeds //è¿”å›ç½‘é¡µä¸­æ‰€æœ‰åµŒå…¥å¯¹è±¡</span><br><span class="line">document.scripts //è¿”å›å½“å‰æ–‡æ¡£çš„æ‰€æœ‰è„šæœ¬</span><br><span class="line">document.styleSheets //è¿”å›å½“å‰ç½‘é¡µçš„æ‰€æœ‰æ ·å¼è¡¨</span><br><span class="line"></span><br><span class="line">document.documentURI //è¡¨ç¤ºå½“å‰æ–‡æ¡£çš„ç½‘å€</span><br><span class="line">document.URI //è¿”å›å½“å‰æ–‡æ¡£çš„ç½‘å€</span><br><span class="line">document.domain //è¿”å›å½“å‰æ–‡æ¡£çš„åŸŸå</span><br><span class="line">document.lastModified //è¿”å›å½“å‰æ–‡æ¡£æœ€åä¿®æ”¹çš„æ—¶é—´æˆ³</span><br><span class="line">document.location //è¿”å›locationå¯¹è±¡ï¼Œæä¾›å½“å‰æ–‡æ¡£çš„URLä¿¡æ¯</span><br><span class="line">document.referrer //è¿”å›å½“å‰æ–‡æ¡£çš„è®¿é—®æ¥æº</span><br><span class="line">document.title //è¿”å›å½“å‰æ–‡æ¡£çš„æ ‡é¢˜</span><br><span class="line">document.characterSet //å±æ€§è¿”å›æ¸²æŸ“å½“å‰æ–‡æ¡£çš„å­—ç¬¦é›†ï¼Œæ¯”å¦‚UTF-8</span><br><span class="line">document.readyState //è¿”å›å½“å‰æ–‡æ¡£çš„çŠ¶æ€</span><br><span class="line">document.designMode //æ§åˆ¶å½“å‰æ–‡æ¡£æ˜¯å¦å¯ç¼–è¾‘ï¼Œå¯è¯»å†™</span><br><span class="line">document.compatMode //è¿”å›æµè§ˆå™¨å¤„ç†æ–‡æ¡£çš„æ¨¡å¼</span><br><span class="line">document.cookie //ç”¨æ¥æ“ä½œCookie</span><br></pre></td></tr></table></figure><h3 id="Document-èŠ‚ç‚¹çš„æ–¹æ³•"><a href="#Document-èŠ‚ç‚¹çš„æ–¹æ³•" class="headerlink" title="Document èŠ‚ç‚¹çš„æ–¹æ³•"></a>Document èŠ‚ç‚¹çš„æ–¹æ³•</h3><h4 id="è¯»å†™æ–¹æ³•"><a href="#è¯»å†™æ–¹æ³•" class="headerlink" title="è¯»å†™æ–¹æ³•"></a>è¯»å†™æ–¹æ³•</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">document.open() //ç”¨äºæ–°å»ºå¹¶æ‰“å¼€ä¸€ä¸ªæ–‡æ¡£</span><br><span class="line">document.close() //å…³é—­openæ–¹æ³•æ‰€æ–°å»ºçš„æ–‡æ¡£</span><br><span class="line">document.write() //ç”¨äºå‘å½“å‰æ–‡æ¡£å†™å…¥å†…å®¹</span><br><span class="line">document.writeIn() //ç”¨äºå‘å½“å‰æ–‡æ¡£å†™å…¥å†…å®¹ï¼Œå°¾éƒ¨æ·»åŠ æ¢è¡Œç¬¦</span><br></pre></td></tr></table></figure><h4 id="æŸ¥æ‰¾èŠ‚ç‚¹"><a href="#æŸ¥æ‰¾èŠ‚ç‚¹" class="headerlink" title="æŸ¥æ‰¾èŠ‚ç‚¹"></a>æŸ¥æ‰¾èŠ‚ç‚¹</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">document.querySelector(selectors) //æ¥æ”¶ä¸€ä¸ªCSSé€‰æ‹©å™¨ä½œä¸ºå‚æ•°ï¼Œè¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…è¯¥é€‰æ‹©å™¨çš„å…ƒç´ èŠ‚ç‚¹</span><br><span class="line">document.querySelectorAll(selectors) //æ¥æ”¶ä¸€ä¸ªCSSé€‰æ‹©å™¨ä½œä¸ºå‚æ•°ï¼Œè¿”å›æ‰€æœ‰åŒ¹é…è¯¥é€‰æ‹©å™¨çš„å…ƒç´ èŠ‚ç‚¹</span><br><span class="line">document.getElementsByTagName(tagName) //è¿”å›æ‰€æœ‰æŒ‡å®šHTMLæ ‡ç­¾çš„å…ƒç´ </span><br><span class="line">document.getElementsByClassName(className) //è¿”å›åŒ…æ‹¬äº†æ‰€æœ‰classåå­—ç¬¦åˆæŒ‡å®šæ¡ä»¶çš„å…ƒç´ </span><br><span class="line">document.getElementsByName(name) //ç”¨äºé€‰æ‹©æ‹¥æœ‰nameå±æ€§çš„HTMLå…ƒç´ (æ¯”å¦‚&lt;form&gt;ã€&lt;radio&gt;ã€&lt;img&gt;ã€&lt;frame&gt;ã€&lt;object&gt;ç­‰)</span><br><span class="line">document.getElementById(id) //è¿”å›åŒ¹é…æŒ‡å®šidå±æ€§çš„å…ƒç´ èŠ‚ç‚¹</span><br><span class="line">document.elementFromPoint(x,y) //è¿”å›ä½äºé¡µé¢æŒ‡å®šä½ç½®æœ€ä¸Šå±‚çš„Elementå­èŠ‚ç‚¹</span><br></pre></td></tr></table></figure><h4 id="ç”ŸæˆèŠ‚ç‚¹"><a href="#ç”ŸæˆèŠ‚ç‚¹" class="headerlink" title="ç”ŸæˆèŠ‚ç‚¹"></a>ç”ŸæˆèŠ‚ç‚¹</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">document.createElement(tagName) //ç”¨æ¥ç”ŸæˆHTMLå…ƒç´ èŠ‚ç‚¹</span><br><span class="line">document.createTextNode(text) //ç”¨æ¥ç”Ÿæˆæ–‡æœ¬èŠ‚ç‚¹</span><br><span class="line">document.createAttribute(name) //ç”Ÿæˆä¸€ä¸ªæ–°çš„å±æ€§å¯¹è±¡èŠ‚ç‚¹ï¼Œå¹¶è¿”å›</span><br><span class="line">document.createDocumentFragment() //ç”Ÿæˆä¸€ä¸ªDocumentFragmentå¯¹è±¡</span><br></pre></td></tr></table></figure><h4 id="äº‹ä»¶æ–¹æ³•"><a href="#äº‹ä»¶æ–¹æ³•" class="headerlink" title="äº‹ä»¶æ–¹æ³•"></a>äº‹ä»¶æ–¹æ³•</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">document.createEvent(type) //ç”Ÿæˆä¸€ä¸ªäº‹ä»¶å¯¹è±¡ï¼Œè¯¥å¯¹è±¡èƒ½è¢«element.dispatchEvent()æ–¹æ³•ä½¿ç”¨</span><br><span class="line">document.addEventListener(type,listener,capture) //æ³¨å†Œäº‹ä»¶</span><br><span class="line">document.removeEventListener(type,listener,capture) //æ³¨é”€äº‹ä»¶</span><br><span class="line">document.dispatchEvent(event) //è§¦å‘äº‹ä»¶</span><br></pre></td></tr></table></figure><h4 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">document.hasFocus() //è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå½“å‰æ–‡æ¡£ä¹‹ä¸­æ˜¯å¦æœ‰å…ƒç´ è¢«æ¿€æ´»æˆ–è·å¾—ç„¦ç‚¹</span><br><span class="line">document.adoptNode(externalNode) //å°†æŸä¸ªèŠ‚ç‚¹ï¼Œä»å…¶åŸæ¥æ‰€åœ¨çš„æ–‡æ¡£ç§»é™¤ï¼Œæ’å…¥å½“å‰æ–‡æ¡£ï¼Œå¹¶è¿”å›æ’å…¥åçš„æ–°èŠ‚ç‚¹</span><br><span class="line">document.importNode(externalNode,deep) //ä»å¤–éƒ¨æ–‡æ¡£æ‹·è´æŒ‡å®šèŠ‚ç‚¹ï¼Œæ’å…¥å½“å‰æ–‡æ¡£</span><br></pre></td></tr></table></figure><h3 id="Element-èŠ‚ç‚¹"><a href="#Element-èŠ‚ç‚¹" class="headerlink" title="Element èŠ‚ç‚¹"></a>Element èŠ‚ç‚¹</h3><h4 id="Element-èŠ‚ç‚¹çš„å±æ€§"><a href="#Element-èŠ‚ç‚¹çš„å±æ€§" class="headerlink" title="Element èŠ‚ç‚¹çš„å±æ€§"></a>Element èŠ‚ç‚¹çš„å±æ€§</h4><h5 id="ç‰¹æ€§å±æ€§"><a href="#ç‰¹æ€§å±æ€§" class="headerlink" title="ç‰¹æ€§å±æ€§"></a>ç‰¹æ€§å±æ€§</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Element.attributes //è¿”å›å½“å‰å…ƒç´ èŠ‚ç‚¹çš„æ‰€æœ‰å±æ€§èŠ‚ç‚¹</span><br><span class="line">Element.id //è¿”å›æŒ‡å®šå…ƒç´ çš„idå±æ€§ï¼Œå¯è¯»å†™</span><br><span class="line">Element.tagName //è¿”å›æŒ‡å®šå…ƒç´ çš„å¤§å†™æ ‡ç­¾å</span><br><span class="line">Element.innerHTML //è¿”å›è¯¥å…ƒç´ åŒ…å«çš„HTMLä»£ç ï¼Œå¯è¯»å†™</span><br><span class="line">Element.outerHTML //è¿”å›è¯¥å…ƒç´ èŠ‚ç‚¹çš„æ‰€æœ‰HTMLä»£ç ï¼ŒåŒ…æ‹¬è‡ªèº«å’Œæ‰€æœ‰å­å…ƒç´ ï¼Œå¯è¯»å†™</span><br><span class="line">Element.className //è¿”å›å½“å‰å…ƒç´ çš„classå±æ€§ï¼Œå¯è¯»å†™</span><br><span class="line">Element.classList //è¿”å›å½“å‰å…ƒç´ èŠ‚ç‚¹çš„æ‰€æœ‰classé›†åˆ</span><br><span class="line">Element.dataset //è¿”å›å…ƒç´ èŠ‚ç‚¹ä¸­æ‰€æœ‰data-*å±æ€§</span><br></pre></td></tr></table></figure><h5 id="å°ºå¯¸å±æ€§"><a href="#å°ºå¯¸å±æ€§" class="headerlink" title="å°ºå¯¸å±æ€§"></a>å°ºå¯¸å±æ€§</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Element.clientHeight //è¿”å›å…ƒç´ èŠ‚ç‚¹å¯è§éƒ¨åˆ†çš„é«˜åº¦</span><br><span class="line">Element.clientWidth //è¿”å›å…ƒç´ èŠ‚ç‚¹å¯è§éƒ¨åˆ†çš„å®½åº¦</span><br><span class="line">Element.clientLeft //è¿”å›å…ƒç´ èŠ‚ç‚¹å·¦è¾¹æ¡†çš„å®½åº¦</span><br><span class="line">Element.clientTop //è¿”å›å…ƒç´ èŠ‚ç‚¹é¡¶éƒ¨è¾¹æ¡†çš„å®½åº¦</span><br><span class="line"></span><br><span class="line">Element.scrollHeight //è¿”å›å…ƒç´ èŠ‚ç‚¹çš„æ€»é«˜åº¦</span><br><span class="line">Element.scrollWidth //è¿”å›å…ƒç´ èŠ‚ç‚¹çš„æ€»å®½åº¦</span><br><span class="line">Element.scrollLeft //è¿”å›å…ƒç´ èŠ‚ç‚¹çš„æ°´å¹³æ»šåŠ¨æ¡å‘å³æ»šåŠ¨çš„åƒç´ æ•°å€¼ï¼Œé€šè¿‡è®¾ç½®è¿™ä¸ªå±æ€§å¯ä»¥æ”¹å˜å…ƒç´ æ»šåŠ¨çš„ä½ç½®</span><br><span class="line">Element.scrollTop //è¿”å›å…ƒç´ èŠ‚ç‚¹çš„å‚ç›´æ»šåŠ¨å‘ä¸‹æ»šåŠ¨çš„åƒç´ æ•°å€¼</span><br><span class="line"></span><br><span class="line">Element.offsetHeight //è¿”å›å…ƒç´ çš„å‚ç›´é«˜åº¦(åŒ…å«borderï¼Œpadding)</span><br><span class="line">Element.offsetWidth //è¿”å›å…ƒç´ çš„æ°´å¹³å®½åº¦(åŒ…å«borderï¼Œpadding)</span><br><span class="line">Element.offsetLeft //è¿”å›å½“å‰å…ƒç´ å·¦ä¸Šè§’ç›¸å¯¹äºElement.offsetParentèŠ‚ç‚¹çš„å‚ç›´åç§»</span><br><span class="line">Element.offsetTop //è¿”å›æ°´å¹³ä½ç§»</span><br><span class="line"></span><br><span class="line">Element.style //è¿”å›å…ƒç´ èŠ‚ç‚¹çš„è¡Œå†…æ ·å¼</span><br></pre></td></tr></table></figure><h5 id="èŠ‚ç‚¹ç›¸å…³å±æ€§"><a href="#èŠ‚ç‚¹ç›¸å…³å±æ€§" class="headerlink" title="èŠ‚ç‚¹ç›¸å…³å±æ€§"></a>èŠ‚ç‚¹ç›¸å…³å±æ€§</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Element.children //åŒ…æ‹¬å½“å‰å…ƒç´ èŠ‚ç‚¹çš„æ‰€æœ‰å­å…ƒç´ </span><br><span class="line">Element.childElementCount //è¿”å›å½“å‰å…ƒç´ èŠ‚ç‚¹åŒ…å«çš„å­HTMLå…ƒç´ èŠ‚ç‚¹çš„ä¸ªæ•°</span><br><span class="line">Element.firstElementChild //è¿”å›å½“å‰èŠ‚ç‚¹çš„ç¬¬ä¸€ä¸ªElementå­èŠ‚ç‚¹</span><br><span class="line">Element.lastElementChild //è¿”å›å½“å‰èŠ‚ç‚¹çš„æœ€åä¸€ä¸ªElementå­èŠ‚ç‚¹</span><br><span class="line">Element.nextElementSibling //è¿”å›å½“å‰å…ƒç´ èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå…„å¼ŸHTMLå…ƒç´ èŠ‚ç‚¹</span><br><span class="line">Element.previousElementSibling //è¿”å›å½“å‰å…ƒç´ èŠ‚ç‚¹çš„å‰ä¸€ä¸ªå…„å¼ŸHTMLå…ƒç´ èŠ‚ç‚¹</span><br><span class="line">Element.offsetParent //è¿”å›å½“å‰å…ƒç´ èŠ‚ç‚¹çš„æœ€é è¿‘ã€å¹¶ä¸”CSSçš„positionå±æ€§ä¸ç­‰äºstaticçš„çˆ¶å…ƒç´ </span><br></pre></td></tr></table></figure><h4 id="Element-èŠ‚ç‚¹çš„æ–¹æ³•"><a href="#Element-èŠ‚ç‚¹çš„æ–¹æ³•" class="headerlink" title="Element èŠ‚ç‚¹çš„æ–¹æ³•"></a>Element èŠ‚ç‚¹çš„æ–¹æ³•</h4><h5 id="ä½ç½®æ–¹æ³•"><a href="#ä½ç½®æ–¹æ³•" class="headerlink" title="ä½ç½®æ–¹æ³•"></a>ä½ç½®æ–¹æ³•</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">getBoundingClientRect() //è·å–å…ƒç´ ä½ç½®</span><br><span class="line">getClientRects() //è¿”å›å½“å‰å…ƒç´ åœ¨é¡µé¢ä¸Šçš„çŸ©å½¢åŒºåŸŸ</span><br></pre></td></tr></table></figure><h5 id="å±æ€§æ–¹æ³•"><a href="#å±æ€§æ–¹æ³•" class="headerlink" title="å±æ€§æ–¹æ³•"></a>å±æ€§æ–¹æ³•</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Element.getAttribute() //è¯»å–æŒ‡å®šå±æ€§</span><br><span class="line">Element.setAttribute() //è®¾ç½®æŒ‡å®šå±æ€§</span><br><span class="line">Element.hasAttribute() //è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå½“å‰å…ƒç´ èŠ‚ç‚¹æ˜¯å¦æœ‰æŒ‡å®šå±æ€§</span><br><span class="line">Element.removeAttribute() //ç§»é™¤æŒ‡å®šå±æ€§</span><br></pre></td></tr></table></figure><h5 id="æŸ¥æ‰¾æ–¹æ³•"><a href="#æŸ¥æ‰¾æ–¹æ³•" class="headerlink" title="æŸ¥æ‰¾æ–¹æ³•"></a>æŸ¥æ‰¾æ–¹æ³•</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Element.querySelector()</span><br><span class="line">Element.querySelectorAll()</span><br><span class="line">Element.getElementByTagName()</span><br><span class="line">Element.getElementByClassName()</span><br></pre></td></tr></table></figure><h5 id="äº‹ä»¶æ–¹æ³•-1"><a href="#äº‹ä»¶æ–¹æ³•-1" class="headerlink" title="äº‹ä»¶æ–¹æ³•"></a>äº‹ä»¶æ–¹æ³•</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Element.addEventListener() //æ·»åŠ äº‹ä»¶çš„å›è°ƒå‡½æ•°</span><br><span class="line">Element.removeEventListener() //ç§»é™¤äº‹ä»¶ç›‘å¬å‡½æ•°</span><br><span class="line">Element.dispatchEvent() //è§¦å‘äº‹ä»¶</span><br><span class="line"></span><br><span class="line">//ie8</span><br><span class="line">Element.attachEvent(oneventName,listener)</span><br><span class="line">Element.detachEvent(oneventName,listener)</span><br><span class="line"></span><br><span class="line">//eventå¯¹è±¡</span><br><span class="line">var event = window.event||event</span><br><span class="line"></span><br><span class="line">//äº‹ä»¶çš„ç›®æ ‡èŠ‚ç‚¹</span><br><span class="line">var target = event.target || event.srcElement</span><br><span class="line"></span><br><span class="line">//äº‹ä»¶ä»£ç†</span><br><span class="line">ul.addEventListener(&#x27;click&#x27;,function(event)&#123;</span><br><span class="line">    if(event.target.tagName.toLowerCase() === &#x27;li&#x27;)&#123;</span><br><span class="line">        console.log(event.target.innerHTML)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h5 id=""><a href="#" class="headerlink" title=""></a></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Element.scrollIntoView()   //æ»šåŠ¨å½“å‰å…ƒç´ ï¼Œè¿›å…¥æµè§ˆå™¨çš„å¯è§åŒºåŸŸ</span><br><span class="line"></span><br><span class="line">//è§£æHTMLå­—ç¬¦ä¸²ï¼Œç„¶åå°†ç”Ÿæˆçš„èŠ‚ç‚¹æ’å…¥DOMæ ‘çš„æŒ‡å®šä½ç½®ã€‚</span><br><span class="line">Element.insertAdjacentHTML(where, htmlString);</span><br><span class="line">Element.insertAdjacentHTML(&#x27;beforeBegin&#x27;, htmlString); // åœ¨è¯¥å…ƒç´ å‰æ’å…¥</span><br><span class="line">Element.insertAdjacentHTML(&#x27;afterBegin&#x27;, htmlString); // åœ¨è¯¥å…ƒç´ ç¬¬ä¸€ä¸ªå­å…ƒç´ å‰æ’å…¥</span><br><span class="line">Element.insertAdjacentHTML(&#x27;beforeEnd&#x27;, htmlString); // åœ¨è¯¥å…ƒç´ æœ€åä¸€ä¸ªå­å…ƒç´ åé¢æ’å…¥</span><br><span class="line">Element.insertAdjacentHTML(&#x27;afterEnd&#x27;, htmlString); // åœ¨è¯¥å…ƒç´ åæ’å…¥</span><br><span class="line"></span><br><span class="line">Element.remove()  //ç”¨äºå°†å½“å‰å…ƒç´ èŠ‚ç‚¹ä»DOMä¸­ç§»é™¤</span><br><span class="line">Element.focus()   //ç”¨äºå°†å½“å‰é¡µé¢çš„ç„¦ç‚¹ï¼Œè½¬ç§»åˆ°æŒ‡å®šå…ƒç´ ä¸Š</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="äºŒã€CSS-æ“ä½œ"><a href="#äºŒã€CSS-æ“ä½œ" class="headerlink" title="äºŒã€CSS æ“ä½œ"></a>äºŒã€CSS æ“ä½œ</h2><h3 id="ç±»åæ“ä½œ"><a href="#ç±»åæ“ä½œ" class="headerlink" title="ç±»åæ“ä½œ"></a>ç±»åæ“ä½œ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">//ie8ä»¥ä¸‹</span><br><span class="line">Element.className  //è·å–å…ƒç´ èŠ‚ç‚¹çš„ç±»å</span><br><span class="line">Element.className += &#x27; &#x27; + newClassName  //æ–°å¢ä¸€ä¸ªç±»å</span><br><span class="line"></span><br><span class="line">//åˆ¤æ–­æ˜¯å¦æœ‰æŸä¸ªç±»å</span><br><span class="line">function hasClass(element,className)&#123;</span><br><span class="line">  return new RegExp(className,&#x27;gi&#x27;).test(element.className);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//ç§»é™¤class</span><br><span class="line">function removeClass(element,className)&#123;</span><br><span class="line">  element.className = element.className.replace(new RegExp(&#x27;(^|\\b)&#x27; + className.split(&#x27; &#x27;).join(&#x27;|&#x27;) + &#x27;(\\b|$)&#x27;, &#x27;gi&#x27;),&#x27;&#x27;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//ie10</span><br><span class="line">element.classList.add(className)  //æ–°å¢</span><br><span class="line">element.classList.remove(className)  //åˆ é™¤</span><br><span class="line">element.classList.contains(className)  //æ˜¯å¦åŒ…å«</span><br><span class="line">element.classList.toggle(className)  //toggle class</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="style-æ“ä½œ"><a href="#style-æ“ä½œ" class="headerlink" title="style æ“ä½œ"></a>style æ“ä½œ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">element.setAttribute(&#x27;style&#x27;,&#x27;&#x27;)</span><br><span class="line"></span><br><span class="line">element.style.backgroundColor = &#x27;red&#x27;</span><br><span class="line"></span><br><span class="line">element.style.cssText //ç”¨æ¥è¯»å†™æˆ–åˆ é™¤æ•´ä¸ªstyleå±æ€§</span><br><span class="line"></span><br><span class="line">element.style.setProperty(propertyName,value)  //è®¾ç½®csså±æ€§</span><br><span class="line">element.style.getPropertyValue(property)  //è·å–csså±æ€§</span><br><span class="line">element.style.removeProperty(property)  //åˆ é™¤csså±æ€§</span><br><span class="line">æ“ä½œéå†…è”æ ·å¼</span><br><span class="line">//ie8</span><br><span class="line">element.currentStyle[attrName]</span><br><span class="line">//ie9+</span><br><span class="line">window.getComputedStyle(el,null)[attrName]</span><br><span class="line">window.getComputedStyle(el,null).getPropertyValue(attrName)</span><br><span class="line">//ä¼ªç±»</span><br><span class="line">window.getComputedStyle(el,&#x27;:after&#x27;)[attrName]</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å¯¹è±¡"><a href="#å¯¹è±¡" class="headerlink" title="å¯¹è±¡"></a>å¯¹è±¡</h2><h3 id="Object-å¯¹è±¡"><a href="#Object-å¯¹è±¡" class="headerlink" title="Object å¯¹è±¡"></a>Object å¯¹è±¡</h3><h4 id="ç”Ÿæˆå®ä¾‹å¯¹è±¡"><a href="#ç”Ÿæˆå®ä¾‹å¯¹è±¡" class="headerlink" title="ç”Ÿæˆå®ä¾‹å¯¹è±¡"></a>ç”Ÿæˆå®ä¾‹å¯¹è±¡</h4><pre><code>var o = new Object()</code></pre><h4 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h4><pre><code>Object.prototype //è¿”å›åŸå‹å¯¹è±¡</code></pre><h4 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h4><pre><code>Object.keys(o) //éå†å¯¹è±¡çš„å¯æšä¸¾å±æ€§Object.getOwnPropertyName(o) //éå†å¯¹è±¡ä¸å¯æšä¸¾çš„å±æ€§</code></pre><h4 id="å¯¹è±¡å®ä¾‹çš„æ–¹æ³•"><a href="#å¯¹è±¡å®ä¾‹çš„æ–¹æ³•" class="headerlink" title="å¯¹è±¡å®ä¾‹çš„æ–¹æ³•"></a>å¯¹è±¡å®ä¾‹çš„æ–¹æ³•</h4><pre><code>valueOf() //è¿”å›å½“å‰å¯¹è±¡å¯¹åº”çš„å€¼toString() //è¿”å›å½“å‰å¯¹è±¡å¯¹åº”çš„å­—ç¬¦ä¸²å½¢å¼toLocaleString() //è¿”å›å½“å‰å¯¹è±¡å¯¹åº”çš„æœ¬åœ°å­—ç¬¦ä¸²å½¢å¼hasOwnProperty() //åˆ¤æ–­æŸä¸ªå±æ€§æ˜¯å¦ä¸ºå½“å‰å¯¹è±¡è‡ªèº«çš„å±æ€§ï¼Œè¿˜æ˜¯ç»§æ‰¿è‡ªåŸå‹å¯¹è±¡çš„å±æ€§isPrototypeof() //åˆ¤æ–­å½“å‰å¯¹è±¡æ˜¯å¦ä¸ºå¦ä¸€ä¸ªå¯¹è±¡çš„åŸå‹propertyIsEnumerable() //åˆ¤æ–­æŸä¸ªå±æ€§æ˜¯å¦å¯æšä¸¾</code></pre><h3 id="Array-å¯¹è±¡"><a href="#Array-å¯¹è±¡" class="headerlink" title="Array å¯¹è±¡"></a>Array å¯¹è±¡</h3><h4 id="ç”Ÿæˆå®ä¾‹å¯¹è±¡-1"><a href="#ç”Ÿæˆå®ä¾‹å¯¹è±¡-1" class="headerlink" title="ç”Ÿæˆå®ä¾‹å¯¹è±¡"></a>ç”Ÿæˆå®ä¾‹å¯¹è±¡</h4><pre><code>var a = new Array()</code></pre><h4 id="å±æ€§-1"><a href="#å±æ€§-1" class="headerlink" title="å±æ€§"></a>å±æ€§</h4><pre><code>a.length //é•¿åº¦</code></pre><h4 id="Array-isArray"><a href="#Array-isArray" class="headerlink" title="Array.isArray()"></a>Array.isArray()</h4><pre><code>Array.isArray(a) //ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºæ•°ç»„</code></pre><h4 id="Array-å®ä¾‹çš„æ–¹æ³•"><a href="#Array-å®ä¾‹çš„æ–¹æ³•" class="headerlink" title="Array å®ä¾‹çš„æ–¹æ³•"></a>Array å®ä¾‹çš„æ–¹æ³•</h4><pre><code>a.valueof()   //è¿”å›æ•°ç»„æœ¬èº«a.toString()  //è¿”å›æ•°ç»„çš„å­—ç¬¦ä¸²å½¢å¼a.push(value,vlaue....)   //ç”¨äºåœ¨æ•°ç»„çš„æœ«ç«¯æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›æ·»åŠ æ–°å…ƒç´ åçš„æ•°ç»„é•¿åº¦ã€‚pop()   //ç”¨äºåˆ é™¤æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›è¯¥å…ƒç´ join()  //ä»¥å‚æ•°ä½œä¸ºåˆ†éš”ç¬¦ï¼Œå°†æ‰€æœ‰æ•°ç»„æˆå‘˜ç»„æˆä¸€ä¸ªå­—ç¬¦ä¸²è¿”å›ã€‚å¦‚æœä¸æä¾›å‚æ•°ï¼Œé»˜è®¤ç”¨é€—å·åˆ†éš”ã€‚concat()  //ç”¨äºå¤šä¸ªæ•°ç»„çš„åˆå¹¶ã€‚å®ƒå°†æ–°æ•°ç»„çš„æˆå‘˜ï¼Œæ·»åŠ åˆ°åŸæ•°ç»„çš„å°¾éƒ¨ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼ŒåŸæ•°ç»„ä¸å˜ã€‚shift()  //ç”¨äºåˆ é™¤æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›è¯¥å…ƒç´ ã€‚unshift(value)  //ç”¨äºåœ¨æ•°ç»„çš„ç¬¬ä¸€ä¸ªä½ç½®æ·»åŠ å…ƒç´ ï¼Œå¹¶è¿”å›æ·»åŠ æ–°å…ƒç´ åçš„æ•°ç»„é•¿åº¦ã€‚reverse()   //ç”¨äºé¢ å€’æ•°ç»„ä¸­å…ƒç´ çš„é¡ºåºï¼Œè¿”å›æ”¹å˜åçš„æ•°ç»„slice(start_index, upto_index);   //ç”¨äºæå–åŸæ•°ç»„çš„ä¸€éƒ¨åˆ†ï¼Œè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼ŒåŸæ•°ç»„ä¸å˜ã€‚ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºèµ·å§‹ä½ç½®ï¼ˆä»0å¼€å§‹ï¼‰ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºç»ˆæ­¢ä½ç½®ï¼ˆä½†è¯¥ä½ç½®çš„å…ƒç´ æœ¬èº«ä¸åŒ…æ‹¬åœ¨å†…ï¼‰ã€‚å¦‚æœçœç•¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œåˆ™ä¸€ç›´è¿”å›åˆ°åŸæ•°ç»„çš„æœ€åä¸€ä¸ªæˆå‘˜ã€‚è´Ÿæ•°è¡¨ç¤ºå€’æ•°ç¬¬å‡ ä¸ªã€‚splice(index, count_to_remove, addElement1, addElement2, ...);   //ç”¨äºåˆ é™¤åŸæ•°ç»„çš„ä¸€éƒ¨åˆ†æˆå‘˜ï¼Œå¹¶å¯ä»¥åœ¨è¢«åˆ é™¤çš„ä½ç½®æ·»åŠ å…¥æ–°çš„æ•°ç»„æˆå‘˜ï¼Œè¿”å›å€¼æ˜¯è¢«åˆ é™¤çš„å…ƒç´ ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯åˆ é™¤çš„èµ·å§‹ä½ç½®ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯è¢«åˆ é™¤çš„å…ƒç´ ä¸ªæ•°ã€‚å¦‚æœåé¢è¿˜æœ‰æ›´å¤šçš„å‚æ•°ï¼Œåˆ™è¡¨ç¤ºè¿™äº›å°±æ˜¯è¦è¢«æ’å…¥æ•°ç»„çš„æ–°å…ƒç´ ã€‚sort()   //å¯¹æ•°ç»„æˆå‘˜è¿›è¡Œæ’åºï¼Œé»˜è®¤æ˜¯æŒ‰ç…§å­—å…¸é¡ºåºæ’åºã€‚æ’åºåï¼ŒåŸæ•°ç»„å°†è¢«æ”¹å˜ã€‚å¦‚æœæƒ³è®©sortæ–¹æ³•æŒ‰ç…§è‡ªå®šä¹‰æ–¹å¼æ’åºï¼Œå¯ä»¥ä¼ å…¥ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¡¨ç¤ºæŒ‰ç…§è‡ªå®šä¹‰æ–¹æ³•è¿›è¡Œæ’åºã€‚è¯¥å‡½æ•°æœ¬èº«åˆæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºè¿›è¡Œæ¯”è¾ƒçš„ä¸¤ä¸ªå…ƒç´ ã€‚å¦‚æœè¿”å›å€¼å¤§äº0ï¼Œè¡¨ç¤ºç¬¬ä¸€ä¸ªå…ƒç´ æ’åœ¨ç¬¬äºŒä¸ªå…ƒç´ åé¢ï¼›å…¶ä»–æƒ…å†µä¸‹ï¼Œéƒ½æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ æ’åœ¨ç¬¬äºŒä¸ªå…ƒç´ å‰é¢ã€‚map()   //å¯¹æ•°ç»„çš„æ‰€æœ‰æˆå‘˜ä¾æ¬¡è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œæ ¹æ®å‡½æ•°ç»“æœè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚map(elem,index,arr)   //mapæ–¹æ³•æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ã€‚è¯¥å‡½æ•°è°ƒç”¨æ—¶ï¼Œmapæ–¹æ³•ä¼šå°†å…¶ä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯å½“å‰æˆå‘˜ã€å½“å‰ä½ç½®å’Œæ•°ç»„æœ¬èº«ã€‚forEach()   //éå†æ•°ç»„çš„æ‰€æœ‰æˆå‘˜ï¼Œæ‰§è¡ŒæŸç§æ“ä½œ,å‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚å®ƒæ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯å½“å‰ä½ç½®çš„å€¼ã€å½“å‰ä½ç½®çš„ç¼–å·å’Œæ•´ä¸ªæ•°ç»„ã€‚filter()   //å‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ‰€æœ‰æ•°ç»„æˆå‘˜ä¾æ¬¡æ‰§è¡Œè¯¥å‡½æ•°ï¼Œè¿”å›ç»“æœä¸ºtrueçš„æˆå‘˜ç»„æˆä¸€ä¸ªæ–°æ•°ç»„è¿”å›ã€‚è¯¥æ–¹æ³•ä¸ä¼šæ”¹å˜åŸæ•°ç»„ã€‚some()    //ç”¨æ¥åˆ¤æ–­æ•°ç»„æˆå‘˜æ˜¯å¦ç¬¦åˆæŸç§æ¡ä»¶ã€‚æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œæ‰€æœ‰æ•°ç»„æˆå‘˜ä¾æ¬¡æ‰§è¡Œè¯¥å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚è¯¥å‡½æ•°æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œä¾æ¬¡æ˜¯å½“å‰ä½ç½®çš„æˆå‘˜ã€å½“å‰ä½ç½®çš„åºå·å’Œæ•´ä¸ªæ•°ç»„ã€‚åªè¦æœ‰ä¸€ä¸ªæ•°ç»„æˆå‘˜çš„è¿”å›å€¼æ˜¯trueï¼Œåˆ™æ•´ä¸ªsomeæ–¹æ³•çš„è¿”å›å€¼å°±æ˜¯trueï¼Œå¦åˆ™falseã€‚every()   //ç”¨æ¥åˆ¤æ–­æ•°ç»„æˆå‘˜æ˜¯å¦ç¬¦åˆæŸç§æ¡ä»¶ã€‚æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œæ‰€æœ‰æ•°ç»„æˆå‘˜ä¾æ¬¡æ‰§è¡Œè¯¥å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚è¯¥å‡½æ•°æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œä¾æ¬¡æ˜¯å½“å‰ä½ç½®çš„æˆå‘˜ã€å½“å‰ä½ç½®çš„åºå·å’Œæ•´ä¸ªæ•°ç»„ã€‚æ‰€æœ‰æ•°ç»„æˆå‘˜çš„è¿”å›å€¼éƒ½æ˜¯trueï¼Œæ‰è¿”å›trueï¼Œå¦åˆ™falseã€‚reduce()   //ä¾æ¬¡å¤„ç†æ•°ç»„çš„æ¯ä¸ªæˆå‘˜ï¼Œæœ€ç»ˆç´¯è®¡ä¸ºä¸€ä¸ªå€¼ã€‚ä»å·¦åˆ°å³å¤„ç†ï¼ˆä»ç¬¬ä¸€ä¸ªæˆå‘˜åˆ°æœ€åä¸€ä¸ªæˆå‘˜ï¼‰reduceRight()  //ä¾æ¬¡å¤„ç†æ•°ç»„çš„æ¯ä¸ªæˆå‘˜ï¼Œæœ€ç»ˆç´¯è®¡ä¸ºä¸€ä¸ªå€¼ã€‚ä»å³åˆ°å·¦ï¼ˆä»æœ€åä¸€ä¸ªæˆå‘˜åˆ°ç¬¬ä¸€ä¸ªæˆå‘˜ï¼‰indexOf(s)   //è¿”å›ç»™å®šå…ƒç´ åœ¨æ•°ç»„ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œå¦‚æœæ²¡æœ‰å‡ºç°åˆ™è¿”å›-1ã€‚å¯ä»¥æ¥å—ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºæœç´¢çš„å¼€å§‹ä½ç½®lastIndexOf()  //è¿”å›ç»™å®šå…ƒç´ åœ¨æ•°ç»„ä¸­æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œå¦‚æœæ²¡æœ‰å‡ºç°åˆ™è¿”å›-1ã€‚</code></pre><h3 id="Number-å¯¹è±¡"><a href="#Number-å¯¹è±¡" class="headerlink" title="Number å¯¹è±¡"></a>Number å¯¹è±¡</h3><h4 id="ç”Ÿæˆå¯¹è±¡"><a href="#ç”Ÿæˆå¯¹è±¡" class="headerlink" title="ç”Ÿæˆå¯¹è±¡"></a>ç”Ÿæˆå¯¹è±¡</h4><pre><code>var n = new Number()</code></pre><h4 id="Number-å¯¹è±¡çš„å±æ€§"><a href="#Number-å¯¹è±¡çš„å±æ€§" class="headerlink" title="Number å¯¹è±¡çš„å±æ€§"></a>Number å¯¹è±¡çš„å±æ€§</h4><pre><code>Number.POSITIVE_INFINITYï¼šæ­£çš„æ— é™ï¼ŒæŒ‡å‘Infinityã€‚Number.NEGATIVE_INFINITYï¼šè´Ÿçš„æ— é™ï¼ŒæŒ‡å‘-Infinityã€‚Number.NaNï¼šè¡¨ç¤ºéæ•°å€¼ï¼ŒæŒ‡å‘NaNã€‚Number.MAX_VALUEï¼šè¡¨ç¤ºæœ€å¤§çš„æ­£æ•°ï¼Œç›¸åº”çš„ï¼Œæœ€å°çš„è´Ÿæ•°ä¸º-Number.MAX_VALUEã€‚Number.MIN_VALUEï¼šè¡¨ç¤ºæœ€å°çš„æ­£æ•°ï¼ˆå³æœ€æ¥è¿‘0çš„æ­£æ•°ï¼Œåœ¨64ä½æµ®ç‚¹æ•°ä½“ç³»ä¸­ä¸º5e-324ï¼‰ï¼Œç›¸åº”çš„ï¼Œæœ€æ¥è¿‘0çš„è´Ÿæ•°ä¸º-Number.MIN_VALUEã€‚Number.MAX_SAFE_INTEGERï¼šè¡¨ç¤ºèƒ½å¤Ÿç²¾ç¡®è¡¨ç¤ºçš„æœ€å¤§æ•´æ•°ï¼Œå³9007199254740991ã€‚Number.MIN_SAFE_INTEGERï¼šè¡¨ç¤ºèƒ½å¤Ÿç²¾ç¡®è¡¨ç¤ºçš„æœ€å°æ•´æ•°ï¼Œå³-9007199254740991ã€‚</code></pre><h4 id="Number-å¯¹è±¡å®ä¾‹çš„æ–¹æ³•"><a href="#Number-å¯¹è±¡å®ä¾‹çš„æ–¹æ³•" class="headerlink" title="Number å¯¹è±¡å®ä¾‹çš„æ–¹æ³•"></a>Number å¯¹è±¡å®ä¾‹çš„æ–¹æ³•</h4><pre><code>toString()   //ç”¨æ¥å°†ä¸€ä¸ªæ•°å€¼è½¬ä¸ºå­—ç¬¦ä¸²å½¢å¼.å¯ä»¥æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºè¾“å‡ºçš„è¿›åˆ¶ã€‚å¦‚æœçœç•¥è¿™ä¸ªå‚æ•°ï¼Œé»˜è®¤å°†æ•°å€¼å…ˆè½¬ä¸ºåè¿›åˆ¶ï¼Œå†è¾“å‡ºå­—ç¬¦ä¸²ï¼›å¦åˆ™ï¼Œå°±æ ¹æ®å‚æ•°æŒ‡å®šçš„è¿›åˆ¶ï¼Œå°†ä¸€ä¸ªæ•°å­—è½¬åŒ–æˆæŸä¸ªè¿›åˆ¶çš„å­—ç¬¦ä¸²ã€‚toFixed()   //ç”¨äºå°†ä¸€ä¸ªæ•°è½¬ä¸ºæŒ‡å®šä½æ•°çš„å°æ•°ï¼Œè¿”å›è¿™ä¸ªå°æ•°å¯¹åº”çš„å­—ç¬¦ä¸²ã€‚toExponential()  //ç”¨äºå°†ä¸€ä¸ªæ•°è½¬ä¸ºç§‘å­¦è®¡æ•°æ³•å½¢å¼ã€‚å¯ä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œå‚æ•°è¡¨ç¤ºå°æ•°ç‚¹åæœ‰æ•ˆæ•°å­—çš„ä½æ•°ï¼ŒèŒƒå›´ä¸º0åˆ°20ï¼Œè¶…å‡ºè¿™ä¸ªèŒƒå›´ï¼Œä¼šæŠ›å‡ºä¸€ä¸ªRangeErrorã€‚toPrecision()  //ç”¨äºå°†ä¸€ä¸ªæ•°è½¬ä¸ºæŒ‡å®šä½æ•°çš„æœ‰æ•ˆæ•°å­—ã€‚</code></pre><h3 id="String-å¯¹è±¡"><a href="#String-å¯¹è±¡" class="headerlink" title="String å¯¹è±¡"></a>String å¯¹è±¡</h3><h4 id="ç”Ÿæˆå®ä¾‹å¯¹è±¡-2"><a href="#ç”Ÿæˆå®ä¾‹å¯¹è±¡-2" class="headerlink" title="ç”Ÿæˆå®ä¾‹å¯¹è±¡"></a>ç”Ÿæˆå®ä¾‹å¯¹è±¡</h4><pre><code>var s = new String()</code></pre><h4 id="String-å¯¹è±¡çš„å±æ€§"><a href="#String-å¯¹è±¡çš„å±æ€§" class="headerlink" title="String å¯¹è±¡çš„å±æ€§"></a>String å¯¹è±¡çš„å±æ€§</h4><pre><code>s.length //è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦</code></pre><h4 id="æ–¹æ³•-1"><a href="#æ–¹æ³•-1" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h4><pre><code>s.chatAt(index)   //è¿”å›æŒ‡å®šä½ç½®çš„å­—ç¬¦s.fromCharCode()    //è¯¥æ–¹æ³•çš„å‚æ•°æ˜¯ä¸€ç³»åˆ—Unicodeç ç‚¹ï¼Œè¿”å›å¯¹åº”çš„å­—ç¬¦ä¸²ã€‚s.charCodeAt(index)    //è¿”å›ç»™å®šä½ç½®å­—ç¬¦çš„Unicodeç ç‚¹ï¼ˆåè¿›åˆ¶è¡¨ç¤ºï¼‰s.concat(s2)  //ç”¨äºè¿æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²s.slice(start,end)   //ç”¨äºä»åŸå­—ç¬¦ä¸²å–å‡ºå­å­—ç¬¦ä¸²å¹¶è¿”å›ï¼Œä¸æ”¹å˜åŸå­—ç¬¦ä¸²ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å­å­—ç¬¦ä¸²çš„ç»“æŸä½ç½®ï¼ˆä¸å«è¯¥ä½ç½®ï¼‰ã€‚å¦‚æœå‚æ•°æ˜¯è´Ÿå€¼ï¼Œè¡¨ç¤ºä»ç»“å°¾å¼€å§‹å€’æ•°è®¡ç®—çš„ä½ç½®ï¼Œå³è¯¥è´Ÿå€¼åŠ ä¸Šå­—ç¬¦ä¸²é•¿åº¦ã€‚s.substring(start,end)  //ç”¨äºä»åŸå­—ç¬¦ä¸²å–å‡ºå­å­—ç¬¦ä¸²å¹¶è¿”å›ï¼Œä¸æ”¹å˜åŸå­—ç¬¦ä¸².ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºå­å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ï¼Œç¬¬äºŒä¸ªä½ç½®è¡¨ç¤ºç»“æŸä½ç½®ã€‚s.substr(start,length)   //ç”¨äºä»åŸå­—ç¬¦ä¸²å–å‡ºå­å­—ç¬¦ä¸²å¹¶è¿”å›ï¼Œä¸æ”¹å˜åŸå­—ç¬¦ä¸²ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å­å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è´Ÿæ•°ï¼Œè¡¨ç¤ºå€’æ•°è®¡ç®—çš„å­—ç¬¦ä½ç½®ã€‚å¦‚æœç¬¬äºŒä¸ªå‚æ•°æ˜¯è´Ÿæ•°ï¼Œå°†è¢«è‡ªåŠ¨è½¬ä¸º0ï¼Œå› æ­¤ä¼šè¿”å›ç©ºå­—ç¬¦ä¸²ã€‚s.indexOf(s)   //è¿”å›ç»™å®šå…ƒç´ åœ¨å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œå¦‚æœæ²¡æœ‰å‡ºç°åˆ™è¿”å›-1ã€‚å¯ä»¥æ¥å—ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºæœç´¢çš„å¼€å§‹ä½ç½®s.lastIndexOf()  //è¿”å›ç»™å®šå…ƒç´ åœ¨å­—ç¬¦ä¸²ä¸­æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œå¦‚æœæ²¡æœ‰å‡ºç°åˆ™è¿”å›-1ã€‚s.trim()  //ç”¨äºå»é™¤å­—ç¬¦ä¸²ä¸¤ç«¯çš„ç©ºæ ¼ï¼Œè¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²s.toLowerCase()  //ç”¨äºå°†ä¸€ä¸ªå­—ç¬¦ä¸²å…¨éƒ¨è½¬ä¸ºå°å†™,è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œä¸æ”¹å˜åŸå­—ç¬¦ä¸²ã€‚s.toUpperCase()  //å…¨éƒ¨è½¬ä¸ºå¤§å†™s.localeCompare(s2)  //ç”¨äºæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²ã€‚å®ƒè¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œå¦‚æœå°äº0ï¼Œè¡¨ç¤ºç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²å°äºç¬¬äºŒä¸ªå­—ç¬¦ä¸²ï¼›å¦‚æœç­‰äº0ï¼Œè¡¨ç¤ºä¸¤è€…ç›¸ç­‰ï¼›å¦‚æœå¤§äº0ï¼Œè¡¨ç¤ºç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²å¤§äºç¬¬äºŒä¸ªå­—ç¬¦ä¸²ã€‚s.match(regexp)   //ç”¨äºç¡®å®šåŸå­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…æŸä¸ªå­å­—ç¬¦ä¸²ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜ä¸ºåŒ¹é…çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°åŒ¹é…ï¼Œåˆ™è¿”å›nullã€‚s.search()  //è¿”å›å€¼ä¸ºåŒ¹é…çš„ç¬¬ä¸€ä¸ªä½ç½®ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°åŒ¹é…ï¼Œåˆ™è¿”å›-1ã€‚s.replace(oldValue,newValue)  //ç”¨äºæ›¿æ¢åŒ¹é…çš„å­å­—ç¬¦ä¸²ï¼Œä¸€èˆ¬æƒ…å†µä¸‹åªæ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…ï¼ˆé™¤éä½¿ç”¨å¸¦æœ‰gä¿®é¥°ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ï¼‰ã€‚s.split()  //æŒ‰ç…§ç»™å®šè§„åˆ™åˆ†å‰²å­—ç¬¦ä¸²ï¼Œè¿”å›ä¸€ä¸ªç”±åˆ†å‰²å‡ºæ¥çš„å­å­—ç¬¦ä¸²ç»„æˆçš„æ•°ç»„ã€‚è¿˜å¯ä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œå†³å®šäº†è¿”å›æ•°ç»„çš„æˆå‘˜æ•°ã€‚</code></pre><h3 id="Math-å¯¹è±¡"><a href="#Math-å¯¹è±¡" class="headerlink" title="Math å¯¹è±¡"></a>Math å¯¹è±¡</h3><h4 id="å±æ€§-2"><a href="#å±æ€§-2" class="headerlink" title="å±æ€§"></a>å±æ€§</h4><pre><code>Math.Eï¼šå¸¸æ•°eã€‚Math.LN2ï¼š2çš„è‡ªç„¶å¯¹æ•°ã€‚Math.LN10ï¼š10çš„è‡ªç„¶å¯¹æ•°ã€‚Math.LOG2Eï¼šä»¥2ä¸ºåº•çš„eçš„å¯¹æ•°ã€‚Math.LOG10Eï¼šä»¥10ä¸ºåº•çš„eçš„å¯¹æ•°ã€‚Math.PIï¼šå¸¸æ•°Piã€‚Math.SQRT1_2ï¼š0.5çš„å¹³æ–¹æ ¹ã€‚Math.SQRT2ï¼š2çš„å¹³æ–¹æ ¹ã€‚</code></pre><h4 id="æ•°å­¦æ–¹æ³•"><a href="#æ•°å­¦æ–¹æ³•" class="headerlink" title="æ•°å­¦æ–¹æ³•"></a>æ•°å­¦æ–¹æ³•</h4><pre><code>Math.abs()ï¼šè¿”å›å‚æ•°çš„ç»å¯¹å€¼Math.ceil()ï¼šå‘ä¸Šå–æ•´ï¼Œæ¥å—ä¸€ä¸ªå‚æ•°ï¼Œè¿”å›å¤§äºè¯¥å‚æ•°çš„æœ€å°æ•´æ•°ã€‚Math.floor()ï¼šå‘ä¸‹å–æ•´Math.max(n,n1,...)ï¼šå¯æ¥å—å¤šä¸ªå‚æ•°ï¼Œè¿”å›æœ€å¤§å€¼Math.min(n,n1,..)ï¼šå¯æ¥å—å¤šä¸ªå‚æ•°ï¼Œè¿”å›æœ€å°å€¼Math.pow(n,e)ï¼šæŒ‡æ•°è¿ç®—, è¿”å›ä»¥ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºåº•æ•°ã€ç¬¬äºŒä¸ªå‚æ•°ä¸ºå¹‚çš„æŒ‡æ•°å€¼ã€‚Math.sqrt()ï¼šè¿”å›å‚æ•°å€¼çš„å¹³æ–¹æ ¹ã€‚å¦‚æœå‚æ•°æ˜¯ä¸€ä¸ªè´Ÿå€¼ï¼Œåˆ™è¿”å›NaNã€‚Math.log()ï¼šè¿”å›ä»¥eä¸ºåº•çš„è‡ªç„¶å¯¹æ•°å€¼ã€‚Math.exp()ï¼šè¿”å›eçš„æŒ‡æ•°ï¼Œä¹Ÿå°±æ˜¯å¸¸æ•°eçš„å‚æ•°æ¬¡æ–¹ã€‚Math.round()ï¼šå››èˆäº”å…¥Math.random()ï¼šè¿”å›0åˆ°1ä¹‹é—´çš„ä¸€ä¸ªä¼ªéšæœºæ•°ï¼Œå¯èƒ½ç­‰äº0ï¼Œä½†æ˜¯ä¸€å®šå°äº1ã€‚</code></pre><h4 id="ä¸‰è§’å‡½æ•°æ–¹æ³•"><a href="#ä¸‰è§’å‡½æ•°æ–¹æ³•" class="headerlink" title="ä¸‰è§’å‡½æ•°æ–¹æ³•"></a>ä¸‰è§’å‡½æ•°æ–¹æ³•</h4><pre><code>Math.sin()ï¼šè¿”å›å‚æ•°çš„æ­£å¼¦Math.cos()ï¼šè¿”å›å‚æ•°çš„ä½™å¼¦Math.tan()ï¼šè¿”å›å‚æ•°çš„æ­£åˆ‡Math.asin()ï¼šè¿”å›å‚æ•°çš„åæ­£å¼¦ï¼ˆå¼§åº¦å€¼ï¼‰Math.acos()ï¼šè¿”å›å‚æ•°çš„åä½™å¼¦ï¼ˆå¼§åº¦å€¼ï¼‰Math.atan()ï¼šè¿”å›å‚æ•°çš„åæ­£åˆ‡ï¼ˆå¼§åº¦å€¼ï¼‰</code></pre><h3 id="JSON-å¯¹è±¡"><a href="#JSON-å¯¹è±¡" class="headerlink" title="JSON å¯¹è±¡"></a>JSON å¯¹è±¡</h3><h4 id="æ–¹æ³•-2"><a href="#æ–¹æ³•-2" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h4><pre><code>JSON.stringify()//ç”¨äºå°†ä¸€ä¸ªå€¼è½¬ä¸ºå­—ç¬¦ä¸²ã€‚è¯¥å­—ç¬¦ä¸²åº”è¯¥ç¬¦åˆJSONæ ¼å¼ï¼Œå¹¶ä¸”å¯ä»¥è¢«JSON.parseæ–¹æ³•è¿˜åŸã€‚//ï¼ˆJSON.stringify(obj, selectedProperties)ï¼‰è¿˜å¯ä»¥æ¥å—ä¸€ä¸ªæ•°ç»„ï¼Œä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ï¼ŒæŒ‡å®šéœ€è¦è½¬æˆå­—ç¬¦ä¸²çš„å±æ€§ã€‚//è¿˜å¯ä»¥æ¥å—ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œç”¨äºå¢åŠ è¿”å›çš„JSONå­—ç¬¦ä¸²çš„å¯è¯»æ€§ã€‚å¦‚æœæ˜¯æ•°å­—ï¼Œè¡¨ç¤ºæ¯ä¸ªå±æ€§å‰é¢æ·»åŠ çš„ç©ºæ ¼ï¼ˆæœ€å¤šä¸è¶…è¿‡10ä¸ªï¼‰ï¼›å¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼ˆä¸è¶…è¿‡10ä¸ªå­—ç¬¦ï¼‰ï¼Œåˆ™è¯¥å­—ç¬¦ä¸²ä¼šæ·»åŠ åœ¨æ¯è¡Œå‰é¢ã€‚JSON.parse()   //ç”¨äºå°†JSONå­—ç¬¦ä¸²è½¬åŒ–æˆå¯¹è±¡ã€‚</code></pre><h3 id="console-å¯¹è±¡"><a href="#console-å¯¹è±¡" class="headerlink" title="console å¯¹è±¡"></a>console å¯¹è±¡</h3><h4 id="æ–¹æ³•-3"><a href="#æ–¹æ³•-3" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h4><pre><code>console.log(text,text2,...)   //ç”¨äºåœ¨consoleçª—å£è¾“å‡ºä¿¡æ¯ã€‚å®ƒå¯ä»¥æ¥å—å¤šä¸ªå‚æ•°ï¼Œå°†å®ƒä»¬çš„ç»“æœè¿æ¥èµ·æ¥è¾“å‡ºã€‚å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ ¼å¼å­—ç¬¦ä¸²ï¼ˆä½¿ç”¨äº†æ ¼å¼å ä½ç¬¦ï¼‰ï¼Œconsole.logæ–¹æ³•å°†ä¾æ¬¡ç”¨åé¢çš„å‚æ•°æ›¿æ¢å ä½ç¬¦ï¼Œç„¶åå†è¿›è¡Œè¾“å‡ºã€‚console.info()   //åœ¨consoleçª—å£è¾“å‡ºä¿¡æ¯ï¼ŒåŒæ—¶ï¼Œä¼šåœ¨è¾“å‡ºä¿¡æ¯çš„å‰é¢ï¼ŒåŠ ä¸Šä¸€ä¸ªè“è‰²å›¾æ ‡ã€‚console.debug()  //åœ¨consoleçª—å£è¾“å‡ºä¿¡æ¯ï¼ŒåŒæ—¶ï¼Œä¼šåœ¨è¾“å‡ºä¿¡æ¯çš„å‰é¢ï¼ŒåŠ ä¸Šä¸€ä¸ªè“è‰²å›¾æ ‡ã€‚console.warn()  //è¾“å‡ºä¿¡æ¯æ—¶ï¼Œåœ¨æœ€å‰é¢åŠ ä¸€ä¸ªé»„è‰²ä¸‰è§’ï¼Œè¡¨ç¤ºè­¦å‘Šï¼›console.error()  //è¾“å‡ºä¿¡æ¯æ—¶ï¼Œåœ¨æœ€å‰é¢åŠ ä¸€ä¸ªçº¢è‰²çš„å‰ï¼Œè¡¨ç¤ºå‡ºé”™ï¼ŒåŒæ—¶ä¼šæ˜¾ç¤ºé”™è¯¯å‘ç”Ÿçš„å †æ ˆconsole.table()  //å¯ä»¥å°†å¤åˆç±»å‹çš„æ•°æ®è½¬ä¸ºè¡¨æ ¼æ˜¾ç¤ºã€‚console.count()  //ç”¨äºè®¡æ•°ï¼Œè¾“å‡ºå®ƒè¢«è°ƒç”¨äº†å¤šå°‘æ¬¡ã€‚console.dir()    //ç”¨æ¥å¯¹ä¸€ä¸ªå¯¹è±¡è¿›è¡Œæ£€æŸ¥ï¼ˆinspectï¼‰ï¼Œå¹¶ä»¥æ˜“äºé˜…è¯»å’Œæ‰“å°çš„æ ¼å¼æ˜¾ç¤ºã€‚console.dirxml()  //ç”¨äºä»¥ç›®å½•æ ‘çš„å½¢å¼ï¼Œæ˜¾ç¤ºDOMèŠ‚ç‚¹ã€‚console.assert()  //æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¡¨è¾¾å¼ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²ã€‚åªæœ‰å½“ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºfalseï¼Œæ‰ä¼šè¾“å‡ºç¬¬äºŒä¸ªå‚æ•°ï¼Œå¦åˆ™ä¸ä¼šæœ‰ä»»ä½•ç»“æœã€‚//è¿™ä¸¤ä¸ªæ–¹æ³•ç”¨äºè®¡æ—¶ï¼Œå¯ä»¥ç®—å‡ºä¸€ä¸ªæ“ä½œæ‰€èŠ±è´¹çš„å‡†ç¡®æ—¶é—´ã€‚console.time()console.timeEnd()//timeæ–¹æ³•è¡¨ç¤ºè®¡æ—¶å¼€å§‹ï¼ŒtimeEndæ–¹æ³•è¡¨ç¤ºè®¡æ—¶ç»“æŸã€‚å®ƒä»¬çš„å‚æ•°æ˜¯è®¡æ—¶å™¨çš„åç§°ã€‚è°ƒç”¨timeEndæ–¹æ³•ä¹‹åï¼Œconsoleçª—å£ä¼šæ˜¾ç¤ºâ€œè®¡æ—¶å™¨åç§°: æ‰€è€—è´¹çš„æ—¶é—´â€ã€‚console.profile()  //ç”¨æ¥æ–°å»ºä¸€ä¸ªæ€§èƒ½æµ‹è¯•å™¨ï¼ˆprofileï¼‰ï¼Œå®ƒçš„å‚æ•°æ˜¯æ€§èƒ½æµ‹è¯•å™¨çš„åå­—ã€‚console.profileEnd()  //ç”¨æ¥ç»“æŸæ­£åœ¨è¿è¡Œçš„æ€§èƒ½æµ‹è¯•å™¨ã€‚console.group()console.groupend()//ä¸Šé¢è¿™ä¸¤ä¸ªæ–¹æ³•ç”¨äºå°†æ˜¾ç¤ºçš„ä¿¡æ¯åˆ†ç»„ã€‚å®ƒåªåœ¨è¾“å‡ºå¤§é‡ä¿¡æ¯æ—¶æœ‰ç”¨ï¼Œåˆ†åœ¨ä¸€ç»„çš„ä¿¡æ¯ï¼Œå¯ä»¥ç”¨é¼ æ ‡æŠ˜å /å±•å¼€ã€‚console.groupCollapsed()  //ç”¨äºå°†æ˜¾ç¤ºçš„ä¿¡æ¯åˆ†ç»„ï¼Œè¯¥ç»„çš„å†…å®¹ï¼Œåœ¨ç¬¬ä¸€æ¬¡æ˜¾ç¤ºæ—¶æ˜¯æ”¶èµ·çš„ï¼ˆcollapsedï¼‰ï¼Œè€Œä¸æ˜¯å±•å¼€çš„ã€‚console.trace()  //æ˜¾ç¤ºå½“å‰æ‰§è¡Œçš„ä»£ç åœ¨å †æ ˆä¸­çš„è°ƒç”¨è·¯å¾„ã€‚console.clear()  //ç”¨äºæ¸…é™¤å½“å‰æ§åˆ¶å°çš„æ‰€æœ‰è¾“å‡ºï¼Œå°†å…‰æ ‡å›ç½®åˆ°ç¬¬ä¸€è¡Œã€‚</code></pre>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;ä¸€ã€èŠ‚ç‚¹&quot;&gt;&lt;a href=&quot;#ä¸€ã€èŠ‚ç‚¹&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€èŠ‚ç‚¹&quot;&gt;&lt;/a&gt;ä¸€ã€èŠ‚ç‚¹&lt;/h2&gt;&lt;h3 id=&quot;èŠ‚ç‚¹å±æ€§&quot;&gt;&lt;a href=&quot;#èŠ‚ç‚¹å±æ€§&quot; class=&quot;headerlink&quot; title=&quot;èŠ‚ç‚¹å±æ€§&quot;&gt;&lt;/a&gt;èŠ‚ç‚¹å±æ€§&lt;/h3&gt;</summary>
    
    
    
    <category term="JavaScript" scheme="https://github.com/foolishmax/categories/JavaScript/"/>
    
    
    <category term="JavaScript" scheme="https://github.com/foolishmax/tags/JavaScript/"/>
    
  </entry>
  
</feed>
