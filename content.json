{"posts":[{"title":"aliyunæœåŠ¡å™¨å®è·µ","text":"åˆ›å»ºæ–°çš„è´¦å·é»˜è®¤ä½¿ç”¨ root ç™»å½•ï¼Œç”±äº root æƒé™å¤ªé«˜ï¼Œå‡ºäºå®‰å…¨è€ƒè™‘ï¼Œåˆ›å»º foolishmaxï¼ˆè‡ªå®šä¹‰ï¼‰è´¦å· 123456789101112131415161718192021222324252627282930# æ–°å¢è´¦å·foolishmaxadduser foolishmax# ä¿®æ”¹foolishmaxçš„å¯†ç passwd foolishmax# ä¸ºfoolishmaxè´¦å·æ·»åŠ sudoæƒé™# æ‰¾åˆ°æ–‡ä»¶ä½ç½® /etc/sudoerswhereis sudoers# ä¿®æ”¹æƒé™# u æ ‡è¯†æ‰€æœ‰è€…ã€w è¡¨ç¤ºå†™æƒé™ + è¡¨ç¤ºæ·»åŠ chmod u+w /etc/sudoers# ç¼–è¾‘ /etc/sudoers# æ‰¾åˆ° `root ALL=(ALL) ALL`# å†åŠ ä¸€è¡Œ `work ALL=(ALL) ALL`vim /etc/sudoers# è¿˜åŸæƒé™chmod u-w /etc/sudoers# åˆ‡æ¢foolishmaxç”¨æˆ·su foolishmax# åˆ‡æ¢å›rootsu# è¾“å…¥å¯†ç # åˆ‡æ¢æˆåŠŸ ä¸‹è½½å¸¸ç”¨å·¥å…·12345678910111213141516171819// gityum -y install gitgit --version// å®‰è£…dockeryum -y install dockerdocker --version// å®‰è£…docker-compose// 1. ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶wget https://github.com/docker/compose/releases/download/1.24.0/docker-compose-Linux-x86_64// 2.ç§»åŠ¨æ–‡ä»¶mv docker-compose-Linux-x86_64 /usr/local/bin/docker-compose// 3.èµ‹äºˆå¯æ‰§è¡Œæƒé™chmod +x /usr/local/bin/docker-compose// 4.åˆ›å»ºè½¯é“¾ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose// 5.æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸdocker-compose --version å¼€æ”¾ç«¯å£aliyun æ§åˆ¶å°æœåŠ¡ å‘å¸ƒæµ‹è¯•æœºæ€è·¯ï¼š ä½¿ç”¨ github actions ç›‘å¬ dev åˆ†æ”¯ push ç™»å½•æµ‹è¯•æœºï¼Œè·å–æœ€æ–° dev åˆ†æ”¯ä»£ç  é‡å»ºæ„å»ºé•œåƒ docker-compose build project-name é‡å¯æ‰€æœ‰å®¹å™¨ docker-compose up -d github actionsä»£ç åœ¨é¡¹ç›® .github/workflows ç›®å½•ä¸‹é¢çš„ .yml æ ¼å¼æ–‡ä»¶deplop-dev.ymlç¤ºä¾‹å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849# This workflow will do a clean install of node dependencies, build the source code and run tests across different versions of node# For more information see: https://help.github.com/actions/language-and-framework-guides/using-nodejs-with-github-actions# github actions ä¸­æ–‡æ–‡æ¡£ https://docs.github.com/cn/actions/getting-started-with-github-actionsname: deploy for devon: push: branches: - 'dev' # åªé’ˆå¯¹ dev åˆ†æ”¯ paths: - '.github/workflows/*' # - '__test__/**' # dev ä¸éœ€è¦ç«‹å³æµ‹è¯• - 'src/**' - 'Dockerfile' - 'docker-compose.yml' - 'bin/*'jobs: deploy-dev: runs-on: ubuntu-latest steps: - uses: actions/checkout@v2 - name: set ssh key # ä¸´æ—¶è®¾ç½® ssh key run: | mkdir -p ~/.ssh/ echo &quot;${{secrets.WFP_ID_RSA}}&quot; &gt; ~/.ssh/id_rsa # secret åœ¨è¿™é‡Œé…ç½® https://github.com/imooc-lego/biz-editor-server/settings/secrets chmod 600 ~/.ssh/id_rsa ssh-keyscan &quot;182.92.xxx.xxx&quot; &gt;&gt; ~/.ssh/known_hosts - name: deploy # éƒ¨ç½² run: | ssh work@182.92.xxx.xxx &quot; # ã€æ³¨æ„ã€‘ç”¨ work è´¦å·ç™»å½•ï¼Œæ‰‹åŠ¨åˆ›å»º /home/work/imooc-lego ç›®å½• # ç„¶å git clone https://username:password@github.com/imooc-lego/biz-editor-server.git -b dev ï¼ˆç§æœ‰ä»“åº“ï¼Œä½¿ç”¨ github ç”¨æˆ·åå’Œå¯†ç ï¼‰ # è®°å¾—åˆ é™¤ origin ï¼Œå¦åˆ™ä¼šæš´éœ² github å¯†ç  cd /home/work/imooc-lego/biz-editor-server; git remote add origin https://wangfupeng1988:${{secrets.WFP_PASSWORD}}@github.com/imooc-lego/biz-editor-server.git; git checkout dev; git pull origin dev; # é‡æ–°ä¸‹è½½æœ€æ–°ä»£ç  git remote remove origin; # åˆ é™¤ origin ï¼Œå¦åˆ™ä¼šæš´éœ² github å¯†ç  # å¯åŠ¨ docker docker-compose build editor-server; # å’Œ docker-compose.yml service åå­—ä¸€è‡´ docker-compose up -d; &quot; - name: delete ssh key # åˆ é™¤ ssh key run: rm -rf ~/.ssh/id_rsa","link":"/2022/08/02/aliyun%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%9E%E8%B7%B5/"},{"title":"Node.jsä¹‹express","text":"Node.js ä¹‹ express 123456789101112131415161718192021222324//å¼•åŒ…var express = require('express');//ç›¸å½“äºåŸæ¥çš„http.createServervar app = express();//å…¬å¼€æŒ‡å®šç›®å½•app.use('/puclic/', express.static('./public/'));//å½“çœç•¥ç¬¬ä¸€ä¸ªå‚æ•°çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡çœç•¥/publicçš„æ–¹å¼è®¿é—®//app.use(express.static('./public/'))//å½“æœåŠ¡å™¨æ”¶åˆ°getè¯·æ±‚ / çš„æ—¶å€™ï¼Œæ‰§è¡Œå›è°ƒå‡½æ•°app.get('/', function (req, res) { res.send('hello exporess');});app.get('/about', function (req, res) { res.send('hello world');});//ç›¸å½“äºserver.listenapp.listen(3000, function () { console.log('app is running at port 3000');}); Express ä½¿ç”¨ art-template Express&amp;art-template å®˜ç½‘ Install 12npm install --save art-templatesnpm install --save express-art-template Example 1234567891011121314151617181920var express = require('express');var app = express();// view engine setupapp.engine('art', require('express-art-template'));app.set('view', { debug: process.env.NODE_ENV !== 'production'});app.set('views', path.join(__dirname, 'views'));app.set('view engine', 'art');// routesapp.get('/', function (req, res) { res.render('index.art', { user: { name: 'aui', tags: ['art', 'template', 'nodejs'] } });}); body-parser åœ¨ Express ä¸­æ²¡æœ‰å†…ç½®è·å–è¡¨å• POST è¯·æ±‚ä½“çš„ APIï¼Œéœ€è¦å¼•å…¥ä¸€ä¸ªç¬¬ä¸‰æ–¹åŒ…ï¼šbody-parser Install 1npm install --save body-parser config 1234567var express = require('express')var bodyParser = require('body-parser')var app = express()//é…ç½® body-parser,reqå¯¹è±¡ä¸Šå°±ä¼šå¤šå‡ºæ¥ä¸€ä¸ª body å±æ€§app.use(bodyParser.urlencoded({extended: false}))app.use(bodyParser.json()) use 12345app.use(function(req, res){ res.setHeader('Content-Type', 'text/plain') res.write('hello') res.end()})","link":"/2019/09/08/express%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA/"},{"title":"httpæ·±å…¥æµ…å‡º","text":"HTTP ç®€ä»‹ HTTP(HyperText Transfer Protocol)è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œæ˜¯ä¸‡ç»´ç½‘(World Wide Web)çš„åŸºç¡€åè®® HTTP/0.9 (1991) ä»…ä»…æ”¯æŒ GET è¯·æ±‚ ä¸åŒ…å« HTTP å¤´ï¼Œåªèƒ½ä¼ è¾“ HTML æ–‡ä»¶ æ²¡æœ‰çŠ¶æ€ç å’Œé”™è¯¯ä»£ç  HTTP/1.0 (1996) å‘é€æ—¶æ·»åŠ  åè®®ç‰ˆæœ¬ä¿¡æ¯ (/HTTP/1.1) æ·»åŠ å“åº”çŠ¶æ€ç ï¼Œå¦‚ 200ï¼Œ404 ç­‰ å¼•å…¥ HTTP å¤´ï¼Œå¤šäº†ä¼ é€’ä¿¡æ¯çš„æ‰‹æ®µï¼Œæ›´åŠ çµæ´»å’Œæ–¹ä¾¿æ‹“å±• HTTP å¤´å¼•å…¥ content-type å±æ€§ï¼Œå…·å¤‡äº†ä¼ è¾“é™¤çº¯æ–‡æœ¬ HTML æ–‡ä»¶ä»¥å¤–å…¶ä»–ç±»å‹æ–‡æ¡£çš„èƒ½åŠ› HTTP/1.1 (1997) è¿æ¥å¤ç”¨ï¼Œé•¿é“¾æ¥ã€‚å¤šä¸ªè¯·æ±‚å¤ç”¨åŒä¸€ä¸ª tcp è¿æ¥ï¼Œ1.0 æ¯æ¬¡è¯·æ±‚éƒ½éœ€è¦é‡æ–°å»ºç«‹è¿æ¥(Connection: keep-alive Keep-Alive:timeout=5) ç®¡é“åŒ–æŠ€æœ¯ï¼šå¤šä¸ªè¿ç»­çš„è¯·æ±‚ä¸ç”¨ç­‰å¾…è¿”å›å°±å¯ä»¥è¢«å‘é€ï¼Œå‡å°‘ç½‘ç»œå»¶è¿Ÿçš„è€—æ—¶ å“åº”åˆ†å—ï¼šå•ä¸ªè¯·æ±‚è¿”å›éƒ¨åˆ†å†…å®¹(çŠ¶æ€ç  206) æ–°çš„ç¼“å­˜æ§åˆ¶æœºåˆ¶ï¼Œå¼•å…¥ cache-control,eTag æ–°å¢ host è¯·æ±‚å¤´ï¼Œèƒ½å¤Ÿä½¿ä¸åŒåŸŸåé…ç½®åœ¨åŒä¸€ä¸ª IP åœ°å€æœåŠ¡å™¨ä¸Š 12345GET / HTTP/1.1Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9Accept-Encoding: gzip, deflate, brAccept-Language: zh-CN,zh;q=0.9Connection: keep-alive HTTPS https(Hypertext Transfer Protocal Secure):è¶…æ–‡æœ¬ä¼ è¾“å®‰å…¨åè®®ï¼Œåœ¨ http åŸºç¡€ä¸ŠåŠ äº† secure å®‰å…¨ https æ˜¯ http åè®®çš„ä¸€ç§æ‰©å±•ï¼Œä½¿ç”¨ä¼ è¾“å±‚å®‰å…¨æ€§TLSæˆ–å®‰å…¨å¥—æ¥å­—å±‚SSLå¯¹é€šä¿¡åè®®è¿›è¡ŒåŠ å¯† HTTP2 äºŒè¿›åˆ¶å¸§ å¤šè·¯å¤ç”¨ å¤´éƒ¨å‹ç¼© æœåŠ¡ç«¯æ¨é€ HTTP3 åŸºäº UDP çš„ä¼ è¾“å±‚ä¸‹åè®®ï¼Œç‰¹ç‚¹å¿« åˆ›å»ºä¸€ä¸ªç®€å•çš„ http æœåŠ¡123456789101112131415//åŠ è½½httpæ ¸å¿ƒæ¨¡å—var http = require('http')var server = http.createServer()//æœåŠ¡å™¨è¦åšçš„å¤„ç†äº‹æƒ…server.on('request', function() { console.log('æ”¶åˆ°å®¢æˆ·ç«¯çš„è¯·æ±‚äº†')})//ç»‘å®šç«¯å£å·ï¼Œå¯åŠ¨æœåŠ¡å™¨server.listen(3000, function(){ console.log('server start.....')}) è¯·æ±‚å¤„ç†123456789101112131415161718192021222324252627var http = require('http')var server = http.createServer()//request è¯·æ±‚å¤„ç†å‡½æ•°ï¼Œéœ€è¦æ¥å—ä¸¤ä¸ªå‚æ•°server.on('request', function(request, response) {// request è¯·æ±‚å¯¹è±¡// è¯·æ±‚å¯¹è±¡å¯ä»¥è·å–å®¢æˆ·ç«¯çš„ä¸€äº›è¯·æ±‚ä¿¡æ¯ï¼Œå¦‚è¯·æ±‚è·¯å¾„ console.log('æ”¶åˆ°å®¢æˆ·ç«¯çš„è¯·æ±‚äº†,è·¯å¾„æ˜¯ï¼š'+ request.url)// response å“åº”å¯¹è±¡// å“åº”æ•°æ®åªèƒ½æ˜¯äºŒè¿›åˆ¶æ•°æ®æˆ–è€…å­—ç¬¦ä¸²// å“åº”å¯¹è±¡å¯ä»¥ç”¨å¼€ç»™å®¢æˆ·ç«¯å‘é€å“åº”æ¶ˆæ¯// responseå¯¹è±¡ä¸­ï¼šwriteç»™å®¢æˆ·ç«¯å‘é€å“åº”æ•°æ®ï¼Œæœ€åä½¿ç”¨endç»“æŸ response.write('hello') response.write(' nodejs ') response.end(request.url)// æˆ–è€…ç›´æ¥endçš„åŒæ—¶å‘é€å“åº”æ•°æ®ï¼š// response.end('hello nodejs')})server.listen(3000, function(){ console.log('server start.....')}) Content-Type è®¾ç½®ç¼–ç 123456789101112var http = require('http')var server = http.createServer()server.on('request',function (req,res) { //è®¾ç½®æœåŠ¡å™¨å“åº”å†…å®¹çš„ç¼–ç  res.setHeader('Content-Type','text/plain;charset=utf-8') res.end('hello ä¸–ç•Œ')})server.listen(3000, function () { console.log('server is running...')})","link":"/2019/09/06/http%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA/"},{"title":"jså¼•æ“çš„é¢„ç¼–è¯‘å’Œæ‰§è¡Œ","text":"var çš„å˜é‡æå‡åº•å±‚åŸç† JavaScriptå¼•æ“ï¼Œä¸æ˜¯é€æ¡è§£é‡Šæ‰§è¡Œjavascriptä»£ç ï¼Œè€Œæ˜¯æŒ‰ç…§ä»£ç å—ä¸€æ®µæ®µè§£é‡Šæ‰§è¡Œï¼Œ æ‰€è°“ä»£ç å—å°±æ˜¯scriptæ ‡ç­¾åˆ†å‰²çš„ä»£ç å—ã€‚ jså¼•æ“çš„å·¥ä½œæ–¹å¼åˆ†ä¸ºï¼šé¢„ç¼–è¯‘å’Œæ‰§è¡Œä»£ç ä¸¤ä¸ªé˜¶æ®µã€‚ 1ï¼‰å¸¸è§çš„ç¼–è¯‘å‹è¯­è¨€ç¼–è¯‘é˜¶æ®µï¼šè¯æ³•åˆ†æï¼ˆç”Ÿæˆè¯æ³•å•å…ƒï¼‰â€”â€”&gt;è¯­æ³•åˆ†æï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰â€”â€”&gt;(è¯­ä¹‰æ£€æŸ¥ï¼Œä»£ç ä¼˜åŒ–)â€”â€”&gt;ä»£ç ç”Ÿæˆ 2ï¼‰å¯¹äºè§£é‡Šå‹è¯­è¨€æ¥è¯´ï¼Œé€šè¿‡è¯æ³•åˆ†æå’Œè¯­æ³•åˆ†æå¾—åˆ°æŠ½è±¡è¯­æ³•æ ‘ä¹‹åå°±å¼€å§‹æ‰§è¡Œäº†ï¼Œåœ¨JavaScript è§£é‡Šå™¨åœ¨æ„é€ è¯­æ³•æ ‘çš„æ—¶å€™ï¼Œå¦‚æœæ— æ³•æ„é€ ï¼Œå°±ä¼šæŠ¥è¯­æ³•é”™è¯¯ï¼Œå¹¶ç»“æŸæ•´ä¸ªä»£ç å—çš„æ‰§è¡Œã€‚ è€Œåœ¨æ•´ä¸ªç¼–è¯‘é˜¶æ®µï¼Œä¼šæŠŠâ€œä¸€ç­‰å…¬æ°‘â€functionå’Œvaråˆ›å»ºçš„å˜é‡è¿›è¡Œæå‡ã€‚ï¼ˆå…¶ä¸­å‡½æ•°æå‡åœ¨å˜é‡ ææˆä¹‹å‰ï¼‰ 3ï¼‰JavaScriptè¯­æ³•é‡‡ç”¨çš„æ˜¯è¯æ³•ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯javascriptçš„å˜é‡å’Œå‡½æ•°ä½œç”¨åŸŸæ˜¯åœ¨å®šä¹‰æ—¶ å†³å®šçš„ï¼Œå‡½æ•°è°ƒç”¨æ—¶å†³å®šçš„æ˜¯æ‰§è¡ŒæœŸä¸Šä¸‹æ–‡å’Œä½œç”¨åŸŸé“¾ï¼Œæ‰€ä»¥jsè§£é‡Šå™¨åªéœ€è¦é™æ€åˆ†æå°±èƒ½ç¡®å®šæ¯ä¸ª å˜é‡ã€å‡½æ•°çš„ä½œç”¨åŸŸï¼Œè¿™ç§ä½œç”¨åŸŸä¹Ÿç§°ä¸ºé™æ€ä½œç”¨åŸŸã€‚ æ‰§è¡Œä¸Šä¸‹æ–‡ å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼šé»˜è®¤çš„ä¸Šä¸‹æ–‡ï¼Œä»»ä½•ä¸å†å‡½æ•°å†…éƒ¨çš„ä»£ç éƒ½åœ¨å…¨å±€ä¸Šä¸‹æ–‡ä¸­ã€‚å®ƒä¼šæ‰§è¡Œä¸¤ä»¶äº‹ï¼šåˆ›å»ºä¸€ä¸ªå…¨å±€çš„ window å¯¹è±¡(æµè§ˆå™¨çš„æƒ…å†µä¸‹)ï¼Œå¹¶ä¸”è®¾ç½® this çš„å€¼ç­‰äºè¿™ä¸ªå…¨å±€å¯¹è±¡ã€‚ä¸€ä¸ªç¨‹åºåªä¼šæœ‰ä¸€ä¸ªå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚ å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼šæ¯å½“å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œéƒ½ä¼šä¸ºè¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„ä¸Šä¸‹æ–‡ã€‚ Eval å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼šæ‰§è¡Œåœ¨ eval å‡½æ•°å†…éƒ¨çš„ä»£ç ä¹Ÿä¼šæœ‰å±äºå®ƒè‡ªå·±çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚ æ‰§è¡Œæ ˆï¼šJavaScript å¼•æ“ä¼šä»¥æ ˆçš„æ–¹å¼æ¥å¤„ç†å¤šä¸ªæ‰§è¡ŒæœŸä¸Šä¸‹æ–‡å…¶ä»–è¯­è¨€å«â€œè°ƒç”¨æ ˆâ€ï¼Œç±»ä¼¼äºæ•°æ®ç»“æ„çš„æ ˆ LIFO(åè¿›å…ˆå‡º)ï¼Œç”¨æ¥å­˜å‚¨ä»£ç è¿è¡Œæ—¶åˆ›å»ºçš„æ‰€æœ‰æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚æ ˆåº•æ°¸è¿œéƒ½æ˜¯å…¨å±€ä¸Šä¸‹æ–‡ï¼Œè€Œæ ˆé¡¶å°±æ˜¯å½“å‰æ­£åœ¨æ‰§è¡Œçš„ä¸Šä¸‹æ–‡ã€‚ å½“ JavaScript å¼•æ“ç¬¬ä¸€æ¬¡é‡è§è„šæœ¬æ—¶ï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ªå…¨å±€çš„æ‰§è¡Œä¸Šä¸‹æ–‡å¹¶ä¸”å‹å…¥å½“å‰æ‰§è¡Œæ ˆï¼Œæ¯å½“å¼•æ“é‡åˆ°ä¸€ä¸ªå‡½æ•°è°ƒç”¨ï¼Œä¼šä¸ºè¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡å¹¶å‹å…¥æ ˆçš„é¡¶éƒ¨ã€‚ å¼•æ“ä¼šæ‰§è¡Œé‚£äº›æ‰§è¡Œä¸Šä¸‹æ–‡ä½äºæ ˆé¡¶çš„å‡½æ•°ï¼Œå½“å‡½æ•°æ‰§è¡Œç»“æŸæ—¶ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡ä»æ ˆé¡¶å¼¹å‡ºï¼Œæ§åˆ¶æµç¨‹åˆ°è¾¾å½“å‰æ ˆä¸­çš„ä¸‹ä¸€ä¸ªä¸Šä¸‹æ–‡ã€‚ å½“å‡½æ•°æ‰§è¡Œæ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæˆä¸º æ‰§è¡ŒæœŸä¸Šä¸‹æ–‡çš„å†…éƒ¨å¯¹è±¡ã€‚ æ‰§è¡ŒæœŸä¸Šä¸‹æ–‡å°±æ˜¯ js ä»£ç è¢«è§£æå’Œæ‰§è¡Œæ—¶çš„è¿è¡Œç¯å¢ƒï¼Œå‡½æ•°æ¯æ¬¡æ‰§è¡Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œæ‰€ä»¥å¤šæ¬¡è°ƒç”¨ä¼šäº§ç”Ÿå¤šä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå½“å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œæ‰€äº§ç”Ÿçš„æ‰§è¡Œä¸Šä¸‹æ–‡è¢«é”€æ¯ã€‚ æ‰§è¡Œä¸Šä¸‹æ–‡çš„ç”Ÿå‘½å‘¨æœŸåŒ…æ‹¬ä¸‰ä¸ªé˜¶æ®µï¼šåˆ›å»ºé˜¶æ®µ-&gt;æ‰§è¡Œé˜¶æ®µ-&gt;æŒ¥æ‰‹é˜¶æ®µ åˆ›å»ºé˜¶æ®µä¼šåˆ›å»ºå˜é‡å¯¹è±¡(Variable Object)ï¼Œå»ºç«‹ä½œç”¨åŸŸé“¾ï¼Œç¡®å®š this æŒ‡å‘ 1. åˆ›å»º Scope chain 2. åˆ›å»º AO 3. è®¾ç½® this çš„å€¼åˆ›å»º AO ä¸»è¦åšäº†ä»¥ä¸‹äº‹æƒ…ï¼š 1. åˆ›å»º AO å¯¹è±¡ 2. å½¢å‚å’Œå˜é‡å£°æ˜å­˜å‚¨åˆ° AO å¯¹è±¡ //èµ‹å€¼ä¸º undefined 3. å°†å½¢å‚å’Œå®å‚ç›¸ç»Ÿä¸€ 4. å‡½æ•°å£°æ˜çš„å‡½æ•°åä½œä¸º AO å¯¹è±¡çš„ keyï¼Œå‡½æ•°ä½“ä½œä¸º value æ‰§è¡Œé˜¶æ®µä¼šå®Œæˆå˜é‡èµ‹å€¼ï¼Œå‡½æ•°å¼•ç”¨ï¼Œä»¥åŠæ‰§è¡Œå…¶ä»–ä»£ç ã€‚ AO(Active Object) &amp; VO(Variable Object)çš„åŒºåˆ«ï¼Ÿ VOï¼šæœªè¿›å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ‰§è¡Œé˜¶æ®µä¹‹å‰ï¼Œå˜é‡å¯¹è±¡ä¸­çš„å±æ€§éƒ½ä¸èƒ½è®¿é—®ã€‚ AOï¼šè¿›å…¥æ‰§è¡Œé˜¶æ®µä¹‹åï¼Œå˜é‡å¯¹è±¡è½¬å˜ä¸ºæ´»åŠ¨å¯¹è±¡ï¼Œé‡Œé¢çš„å±æ€§éƒ½èƒ½è®¿é—®äº†ã€‚ å®ƒä»¬éƒ½æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œåªæ˜¯å¤„äºæ‰§è¡Œä¸Šä¸‹æ–‡çš„ä¸åŒç”Ÿå‘½å‘¨æœŸï¼Œè€Œä¸”åªæœ‰å¤„äºå‡½æ•°è°ƒç”¨æ ˆæ ˆé¡¶çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„å˜é‡å¯¹è±¡ï¼Œæ‰ä¼šå˜æˆæ´»åŠ¨å¯¹è±¡ã€‚ å¦‚æœå‡½æ•°å¼•ç”¨äº†å¤–éƒ¨å˜é‡çš„å€¼ï¼Œåˆ™ JavaScript å¼•æ“ä¼šä¸ºæ”¹å‡½æ•°åˆ›å»ºä¸€ä¸ªé—­åŒ…ä½“ï¼ˆclosureï¼‰ï¼Œé—­åŒ…ä½“æ˜¯ä¸€ä¸ªå®Œå…¨å°é—­å’Œç‹¬ç«‹çš„ä½œç”¨åŸŸï¼Œä»–ä¸ä¼šåœ¨å‡½æ•°è°ƒç”¨å®Œæ¯•åå°±è¢« js å¼•æ“å½“ä½œåƒåœ¾è¿›è¡Œå›æ”¶ï¼Œé—­åŒ…ä½“å¯ä»¥é•¿æœŸå­˜åœ¨ã€‚ æ‰§è¡Œä¸Šä¸‹æ–‡æ€»ç»“ï¼š å•çº¿ç¨‹ åŒæ­¥æ‰§è¡Œï¼Œåªæœ‰æ ˆé¡¶çš„ä¸Šä¸‹æ–‡å¤„äºæ‰§è¡Œä¸­ï¼Œè€Œå…¶ä»–ä¸Šä¸‹æ–‡éœ€è¦ç­‰å¾… å…¨å±€ä¸Šä¸‹æ–‡åªæœ‰å”¯ä¸€çš„ä¸€ä¸ªï¼Œå®ƒåœ¨æµè§ˆå™¨å…³é—­æ—¶å‡ºæ ˆï¼Œè€Œä¸”å…¶ä»–æ‰€æœ‰ä¸Šä¸‹æ–‡ç¯å¢ƒéƒ½å¯ä»¥ç›´æ¥è®¿é—®å…¨å±€ä¸Šä¸‹æ–‡çš„å±æ€§ å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡çš„ä¸ªæ•°æ²¡æœ‰é™åˆ¶ æ¯æ¬¡æŸä¸ªå‡½æ•°è¢«è°ƒç”¨ï¼Œå°±ä¼šæœ‰æ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¸ºå…¶åˆ›å»ºï¼Œå³ä½¿æ˜¯è°ƒç”¨çš„è‡ªèº«å‡½æ•°ï¼Œä¹Ÿæ˜¯å¦‚æ­¤ã€‚ JS æ‰§è¡Œæœºåˆ¶åŒæ­¥å’Œå¼‚æ­¥ä»»åŠ¡åˆ†åˆ«è¿›å…¥ä¸åŒçš„æ‰§è¡Œâ€œåœºæ‰€â€ï¼ŒåŒæ­¥çš„è¿›å…¥ä¸»çº¿ç¨‹ï¼Œå¼‚æ­¥çš„è¿›å…¥Event Table å¹¶æ³¨å†Œå‡½æ•°ã€‚ å½“æŒ‡å®šçš„äº‹æƒ…å®Œæˆæ—¶ï¼ˆä¾‹å¦‚å®šæ—¶å™¨æ‰§è¡Œå®Œæ¯•ï¼Œè·å–æ•°æ®ç»“æŸç­‰ï¼‰ï¼ŒEvent Tableä¼šå°†è¿™ä¸ªå‡½æ•°ç§»å…¥Event Queue ä¸»çº¿ç¨‹å†…çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¸ºç©ºï¼Œä¼šå»Event Queueï¼ˆäº‹ä»¶é˜Ÿåˆ—ï¼‰è¯»å–å¯¹åº”çš„å‡½æ•°ï¼Œè¿›å…¥ä¸»çº¿ç¨‹æ‰§è¡Œã€‚ ä¸Šè¿°è¿‡ç¨‹ä¸æ–­é‡å¤ï¼Œç§°ä¸ºEvent Loopï¼ˆäº‹ä»¶è½®è¯¢ï¼‰","link":"/2019/08/13/js%E5%BC%95%E6%93%8E%E7%9A%84%E9%A2%84%E7%BC%96%E8%AF%91%E5%92%8C%E6%89%A7%E8%A1%8C%E4%B8%8A%E4%B8%8B%E6%96%87/"},{"title":"dockerå®è·µæŒ‡å—","text":"é•œåƒæ“ä½œ è·å–é•œåƒ docker pull12# docker pull ä»é•œåƒä»“åº“ä¸­æ‹‰å–æˆ–è€…æ›´æ–°æŒ‡å®šé•œåƒdocker pull ubuntu:18.04 åˆ—å‡ºå·²ç»ä¸‹è½½çš„é•œåƒ docker images123docker images# åˆ—å‡ºæŸä¸€ä¸ªé•œåƒdocker images ubuntu åˆ é™¤é•œåƒ docker rmi1234567891011121314151617docker rmi 501# ordocker rmi centos# docker pruneå‘½ä»¤# åˆ é™¤æ‰€æœ‰æœªè¢«tagæ ‡è®°æˆ–è€…æœªè¢«å®¹å™¨ä½¿ç”¨çš„é•œåƒdocker image prune# åˆ é™¤æ‰€æœ‰æœªè¢«å®¹å™¨ä½¿ç”¨çš„é•œåƒdocker image prune -a# åˆ é™¤æ‰€æœ‰åœæ­¢è¿è¡Œçš„å®¹å™¨docker container prune# åˆ é™¤æ‰€æœ‰æœªè¢«æŒ‚è½½çš„å·docker volume prune# åˆ é™¤æ‰€æœ‰ç½‘ç»œdocker network prune# åˆ é™¤dockeræ‰€æœ‰èµ„æºdocker system prune ä¸Šä¼ é•œåƒ docker push12# docker push:å°†æœ¬åœ°çš„é•œåƒä¸Šä¼ åˆ°é•œåƒä»“åº“ï¼Œå…ˆç™»å½•é•œåƒä»“åº“docker push mynode:v1 å®¹å™¨æ“ä½œåˆ—å‡ºå®¹å™¨ docker ps12# -a :æ˜¾ç¤ºæ‰€æœ‰çš„å®¹å™¨ï¼ŒåŒ…æ‹¬æœªè¿è¡Œçš„docker ps åœæ­¢å®¹å™¨ docker stop12# åœæ­¢è¿è¡Œä¸­çš„å®¹å™¨myrunoobdocker stop myrunoob å¯åŠ¨å®¹å™¨ docker start12# å¯åŠ¨å·²è¢«åœæ­¢çš„å®¹å™¨myrunoobdocker start myrunoob é‡å¯å®¹å™¨ docker restart12# é‡å¯å®¹å™¨myrunoobdocker restart myrunoob åˆ é™¤å®¹å™¨ docker rm12# å¼ºåˆ¶åˆ é™¤å®¹å™¨ db01ã€db02docker rm -f db01 db02 æŸ¥çœ‹å®¹å™¨ä¿¡æ¯ docker inspect123# è·å–å®¹å™¨/é•œåƒçš„å…ƒæ•°æ®# è·å–é•œåƒmysql:5.6çš„å…ƒä¿¡æ¯docker inspect mysql:5.6 æŸ¥çœ‹å®¹å™¨æ—¥å¿— docker logs12# è·Ÿè¸ªæŸ¥çœ‹å®¹å™¨mynginxçš„æ—¥å¿—è¾“å‡ºdocker logs -f mynginx è¿›å…¥å®¹å™¨æ§åˆ¶å° docker exec1234567// åœ¨è¿è¡Œçš„å®¹å™¨ä¸­æ‰§è¡Œå‘½ä»¤// -d:åˆ†ç¦»æ¨¡å¼ï¼Œåœ¨åå°è¿è¡Œ// -i: å³ä½¿æ²¡æœ‰é™„åŠ ä¹Ÿä¿æŒSTDINæ‰“å¼€// -t: åˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯// docker exec -it &lt;container-id&gt; /bin/sh// æ‰§è¡Œ exit é€€å‡º å¯åŠ¨ docker 1open /Applications/Docker.app docker runeg1: 1docker run ubuntu:15.10 /bin/echo 'hello world' å„ä¸ªå‚æ•°è§£æï¼š dockerï¼šDocker çš„äºŒè¿›åˆ¶æ‰§è¡Œæ–‡ä»¶ runï¼šä¸ docker ç»„åˆæ¥è¿è¡Œä¸€ä¸ªå®¹å™¨ ubuntu:15.10 æŒ‡å®šè¦è¿è¡Œçš„æ™¯è±¡ï¼Œdocker å…ˆä»æœ¬åœ°ä¸»æœºæŸ¥æ‰¾æ™¯è±¡æ˜¯å¦å­˜åœ¨ï¼Œå¦‚ä¸å­˜åœ¨ï¼Œdocker å°±ä¼šä» Docker hubé•œåƒä»“åº“ä¸‹è½½å…¬å…±é•œåƒ /bin/echo â€˜hello worldâ€™ï¼šåœ¨å¯åŠ¨çš„å®¹å™¨ä¸­æ‰§è¡Œçš„å‘½ä»¤ æ³¨æ„ï¼š ä¸å­˜åœ¨æ—¶ä¼šå‡ºç°é”™è¯¯ä¿¡æ¯ï¼š Unable to find image â€˜ubuntu:15.10â€™ locally ä¹‹åä¾¿ä¼šä»é•œåƒä»“åº“ä¸‹è½½å…¬å…±é•œåƒ æ‰“å° hello world M1-Mac å¯èƒ½ä¼šå‡ºç°å¦‚ä¸‹è­¦å‘Šï¼šWARNING: The requested imageâ€™s platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested è§£å†³æ–¹æ³•ï¼šdocker run â€“platform linux/amd64 ubuntu:15.10 /bin/echo â€˜hello worldâ€™ eg2: 123456// å¯åŠ¨å®¹å™¨ docker run -p xxx:xxx -v=hostPath:containerPath -d --name &lt;container-name&gt; &lt;image-name&gt;// -p ç«¯å£æ˜ å°„// -v æ•°æ®å·ï¼Œæ–‡ä»¶æ˜ å°„// -d åå°è¿è¡Œ// --name å®šä¹‰å®¹å™¨åç§°docker run -p 81:80 -d --name nginx1 nginx DockerfileDockerfile æ˜¯ä¸€ä¸ªç”¨æ¥æ„å»ºé•œåƒçš„æ–‡æœ¬æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹åŒ…å«ä¸€æ¡æ¡æ„å»ºé•œåƒæ‰€éœ€çš„æŒ‡ä»¤å’Œè¯´æ˜ 12345678910111213#DockerfileFROM node:latestWORKDIR /appCOPY . /appRUN npm set registry https://registry.npm.taobao.orgRUN npm installRUN npm install pm2 -gCMD echo $SERVER_NAME &amp;&amp; echo $AUTHOR_NAME &amp;&amp; npm run start &amp;&amp; npx npm2 logENV SERVER_NAME = 'react-demo'ENV AUTHOR_NAME = 'foolishmax' .dockerignore12.gitnode_modules å§‹æ„å»ºé•œåƒåœ¨ Dockerfile æ–‡ä»¶çš„å­˜æ”¾ç›®å½•ä¸‹ï¼Œæ‰§è¡Œæ„å»ºåŠ¨ä½œ 1docker bild -t react-demo-image . docker images æŸ¥çœ‹1234REPOSITORY TAG IMAGE ID CREATED SIZEreact-demo-image latest 35c499bddac6 3 minutes ago 1.22GBnode-test latest 028a51c6e54d 8 months ago 945MBnginx latest f1325989da19 8 months ago 134MB è¿è¡Œå®¹å™¨1docker run -p 8081:3000 -d --name react-demo-server react-demo-image æŸ¥çœ‹å®¹å™¨12CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMESf71ef1480035 react-demo-image &quot;docker-entrypoint.sâ€¦&quot; 4 seconds ago Up 3 seconds 0.0.0.0:8081-&gt;3000/tcp react-demo-server æŸ¥çœ‹æ—¥å¿—docker logs f71ef1480035 1234567891011121314151617181920212223242526# è¿™ä¸¤è¡Œå¯¹åº”Dockerfileä¸­çš„CMDå˜é‡æ‰“å°= react-demo= foolishmax&gt; react-demo@0.1.0 start&gt; react-scripts start(node:27) [DEP_WEBPACK_DEV_SERVER_ON_AFTER_SETUP_MIDDLEWARE] DeprecationWarning: 'onAfterSetupMiddleware' option is deprecated. Please use the 'setupMiddlewares' option.(Use `node --trace-deprecation ...` to show where the warning was created)(node:27) [DEP_WEBPACK_DEV_SERVER_ON_BEFORE_SETUP_MIDDLEWARE] DeprecationWarning: 'onBeforeSetupMiddleware' option is deprecated. Please use the 'setupMiddlewares' option.Starting the development server...Compiled successfully!You can now view react-demo in the browser. Local: http://localhost:3000 On Your Network: http://172.17.0.2:3000Note that the development build is not optimized.To create a production build, use npm run build.webpack compiled successfullyCompiling...Compiled successfully!webpack compiled successfully åœæ­¢å®¹å™¨docker stop f71ef1480035 åˆ é™¤å®¹å™¨docker rm f71ef1480035 åˆ é™¤é•œåƒdocker rmi 35c499bddac6 12Untagged: react-demo-image:latestDeleted: sha256:35c499bddac6675ff20a7d951fc1c1f6770a10430278fec6f2b8d1c866037624 docker-compose.yml æ–‡ä»¶1234567891011121314151617181920212223242526272829303132333435363738394041424344version: '3'services: edditor-server: # service name build: context: . #å½“å‰ç›®å½• dockerfile: Dockerfile # åŸºäºDockerfileæ„å»º image: editor-server #ä¾èµ–å½“å‰dockerfileåˆ›å»ºå‡ºæ¥çš„é•œåƒ container_name: editor-server ports: - 8081:3000 #å®¿ä¸»æœºé€šè¿‡8081è®¿é—® editor-redis: image: redis #å¼•ç”¨å®˜æ–¹redisé•œåƒ container_name: editor-redis ports: - 6378:6379 environment: - TZ=Asia/Shanghai # è®¾ç½®æ—¶åŒº editor-mysql: image: mysql # å¼•ç”¨å®˜ç½‘ mysql é•œåƒ container_name: editor-mysql restart: always # å‡ºé”™åˆ™é‡å¯ privileged: true # é«˜æƒé™ï¼Œæ‰§è¡Œä¸‹é¢çš„ mysql/init command: --default-authentication-plugin=mysql_native_password # è¿œç¨‹è®¿é—® ports: - 3305:3306 # å®¿ä¸»æœºå¯ä»¥ç”¨ 127.0.0.1:3305 å³å¯è¿æ¥å®¹å™¨ä¸­çš„æ•°æ®åº“ï¼Œå’Œ redis ä¸€æ · volumes: - .docker-volumes/mysql/log:/var/log/mysql # è®°å½•æ—¥å¿— - .docker-volumes/mysql/data:/var/lib/mysql # æ•°æ®æŒä¹…åŒ– - ./mysql/init:/docker-entrypoint-initdb.d/ # åˆå§‹åŒ– sql environment: - MYSQL_DATABASE=imooc_lego_course # åˆå§‹åŒ–å®¹å™¨æ—¶åˆ›å»ºæ•°æ®åº“ - MYSQL_ROOT_PASSWORD=Mysql_2019 - TZ=Asia/Shanghai # è®¾ç½®æ—¶åŒº editor-mongo: image: mongo # å¼•ç”¨å®˜ç½‘ mongo é•œåƒ container_name: editor-mongo restart: always volumes: - '.docker-volumes/mongo/data:/data/db' # æ•°æ®æŒä¹…åŒ–,æ˜ å°„æœ¬åœ°æ–‡ä»¶ environment: - MONGO_INITDB_DATABASE=imooc_lego_course - TZ=Asia/Shanghai # è®¾ç½®æ—¶åŒº ports: - '27016:27017' # å®¿ä¸»æœºå¯ä»¥ç”¨ 127.0.0.1:27016 å³å¯è¿æ¥å®¹å™¨ä¸­çš„æ•°æ®åº“ æ„å»ºå®¹å™¨ docker-compose build å¯åŠ¨æ‰€æœ‰æœåŠ¡å™¨ docker-compose up -d,åå°å¯åŠ¨ æŸ¥çœ‹æœåŠ¡ docker-compose ps (ç›¸æ¯”è¾ƒ docker ps ç­‰äºå¤šäº†å±‚ä½œç”¨åŸŸ) åœæ­¢æ‰€æœ‰æœåŠ¡ docker-compose down æ³¨æ„ï¼šç»è¿‡ä»¥ä¸Šæ“ä½œä¹‹åéœ€ä¿®æ”¹.gitignore æ–‡ä»¶ï¼Œå¢åŠ ä¸€è¡Œ .docker-volumes/","link":"/2022/07/31/docker%E5%AE%9E%E8%B7%B5%E6%8C%87%E5%8D%97/"},{"title":"vueå“åº”å¼ç³»ç»Ÿå®ç°","text":"æºç å®ç° 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274const bucket = new WeakMap();// ç”¨ä¸€ä¸ªå…¨å±€å˜é‡å­˜å‚¨å½“å‰æ¿€æ´»çš„effectå‡½æ•°let activeEffect;// effectæ ˆconst effectStack = [];function effect(fn, options = []) { const effectFn = () =&gt; { // è°ƒç”¨cleanupå‡½æ•°å®Œæˆæ¸…é™¤å·¥ä½œ cleanup(effectFn); // å½“è°ƒç”¨effectæ³¨å†Œå‰¯ä½œç”¨å‡½æ•°æ—¶ï¼Œå°†å‰¯ä½œç”¨å‡½æ•°èµ‹å€¼ç»™activeEffect activeEffect = effectFn; // è°ƒç”¨å‰¯ä½œç”¨å‡½æ•°ä¹‹å‰å°†å½“å‰å‰¯ä½œç”¨å‡½æ•°å‹å…¥æ ˆé¡¶ effectStack.push(effectFn); // æŠŠfnçš„æ‰§è¡Œç»“æœå­˜å‚¨åœ¨resä¸­ const res = fn(); // åœ¨å½“å‰å‰¯ä½œç”¨å‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œå°†å½“å‰å‰¯ä½œç”¨å‡½æ•°å¼¹å‡ºæ ˆï¼Œå¹¶å°†activeEffectè¿˜åŸä¸ºä¹‹å‰çš„å€¼ effectStack.pop(); activeEffect = effectStack[effectStack.length - 1]; return res; }; // å°†optionsæŒ‚è½½åˆ°effectFnä¸Š effectFn.options = options; // ç”¨æ¥å­˜å‚¨æ‰€æœ‰ä¸è¯¥å‰¯ä½œç”¨å‡½æ•°ç›¸å…³çš„ä¾èµ–é›†åˆ effectFn.deps = []; // åªæœ‰élazyçš„æ—¶å€™ï¼Œæ‰æ‰§è¡Œ if (!options.lazy) { effectFn(); } return effectFn;}// computedfunction computed(getter) { // ç”¨æ¥ç¼“å­˜ä¸Šä¸€æ¬¡è®¡ç®—çš„å€¼ let value; // dirtyæ ‡å¿—ï¼Œç”¨æ¥è¯†åˆ«æ˜¯å¦éœ€è¦é‡æ–°è®¡ç®—å€¼ï¼Œä¸ºtrueæ—¶åˆ™æ„å‘³ç€â€œè„â€ï¼Œéœ€è¦è®¡ç®— let dirty = true; const effectFn = effect(getter, { lazy: true, scheduler() { if (!dirty) { dirty = true; // å½“è®¡ç®—å±æ€§ä¾èµ–çš„å“åº”å¼æ•°æ®å˜åŒ–æ—¶ï¼Œæ‰‹åŠ¨è°ƒç”¨triggerå‡½æ•°è§¦å‘å“åº” trigger(obj, &quot;value&quot;); } }, }); const obj = { get value() { if (dirty) { value = effectFn(); dirty = false; } // å½“è¯»å–valueæ—¶ï¼Œæ‰‹åŠ¨è°ƒç”¨trackå‡½æ•°è¿›è¡Œè¿½è¸ª track(obj, &quot;value&quot;); return value; }, }; return obj;}// watchfunction watch(source, cb, options = {}) { let getter; // å¦‚æœæ˜¯å‡½æ•°ï¼Œè¯´æ˜ç”¨æˆ·ä¼ é€’çš„ä¸å†æ˜¯ä¸€ä¸ªå“åº”å¼æ•°æ®ï¼Œè€Œæ˜¯ä¸€ä¸ªgetterå‡½æ•°ï¼Œç›´æ¥æŠŠsourceèµ‹å€¼ç»™getter if (typeof source === &quot;function&quot;) { getter = source; } else { // å¦åˆ™è°ƒç”¨traverseé€’å½’è¯»å–å“åº”å¼æ•°æ®å±æ€§ getter = () =&gt; traverse(source); } //å®šä¹‰æ—§å€¼å’Œæ–°å€¼ let oldValue, newValue; // cleanupç”¨æ¥å­˜å‚¨ç”¨æˆ·æ³¨å†Œçš„å›½æ——å›è°ƒ let cleanup; // å®šä¹‰onInvalidateå‡½æ•° function onInvalidate(fn) { // å°†è¿‡æœŸå›è°ƒå­˜å‚¨åˆ°cleanupä¸­ cleanup = fn; } // æå–è°ƒåº¦å™¨schedulerä¸ºä¸€ä¸ªç‹¬ç«‹çš„jobå‡½æ•° const job = () =&gt; { // åœ¨schedulerä¸­é‡æ–°æ‰§è¡Œå‰¯ä½œç”¨å‡½æ•°ï¼Œå¾—åˆ°çš„æ˜¯æ–°å€¼ newValue = effectFn(); // åœ¨è°ƒç”¨ç³Šæ‰å‡½æ•°cbä¹‹å‰ï¼Œå…ˆè°ƒç”¨è¿‡æœŸå›è°ƒ if (cleanup) { cleanup(); } // å°†æ—§å€¼å’Œæ–°å€¼ä½œä¸ºå›è°ƒå‡½æ•°çš„å‚æ•° cb(newValue, oldValue); // æ›´æ–°æ—§å€¼ï¼Œä¸ç„¶ä¸‹æ¬¡ä¼šå¾—åˆ°é”™è¯¯çš„æ—§å€¼ oldValue = newValue; }; // ä½¿ç”¨effectæ³¨å†Œå‰¯ä½œç”¨å‡½æ•°æ—¶ï¼Œå¼€å¯lazyé€‰é¡¹ï¼Œå¹¶æŠŠè¿”å›å€¼å­˜å‚¨åˆ°effectFnä¸­ä¸€è¾¹åç»­æ‰‹åŠ¨è°ƒç”¨ const effectFn = effect(() =&gt; getter(), { lazy: true, scheduler: job, }); if (options.immediate) { // å½“immediateä¸ºtrueæ—¶ç«‹å³æ‰§è¡Œjobï¼Œä»è€Œè§¦å‘å›è°ƒæ‰§è¡Œ job(); } else { // æ‰‹åŠ¨è°ƒç”¨å‰¯ä½œç”¨å‡½æ•°ï¼Œæ‹¿åˆ°çš„å€¼å°±æ˜¯æ—§å€¼ oldValue = effectFn(); }}function traverse(value, seen = new Set()) { // å¦‚æœè¦è¯»å–çš„æ•°æ®æ˜¯åŸå§‹å€¼ï¼Œæˆ–è€…å·²ç»è¢«è¯»å–è¿‡äº†ï¼Œé‚£ä¹ˆä»€ä¹ˆéƒ½ä¸åš if (typeof value !== &quot;object&quot; || value === null || seen.has(value)) return; // å°†æ•°æ®æ·»åŠ åˆ°seenä¸­ï¼Œä»£è¡¨ä¾¿åˆ©åœ°è¯»å–è¿‡äº†ï¼Œé¿å…å¾ªç¯å¼•ç”¨å¼•èµ·çš„æ­»å¾ªç¯ seen.add(value); // æš‚æ—¶ä¸è€ƒè™‘æ•°ç»„ç­‰å…¶ä»–ç»“æ„ // å‡è®¾valueæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä½¿ç”¨for...inè¯»å–å¯¹æ–°å•Šä¸ªçš„æ¯ä¸€ä¸ªå€¼ï¼Œå¹¶é€’å½’è°ƒç”¨traverseè¿›è¡Œå¤„ç† for (const k in value) { traverse(value[k], seen); } return value;}function cleanup(effectFn) { // éå†effectFn.depsæ•°ç»„ for (let i = 0; i &lt; effectFn.deps.length; i++) { // depsæ˜¯ä¾èµ–é›†åˆ const deps = effectFn.deps[i]; // å°†effectFnä»ä¾èµ–é›†åˆä¸­ç§»é™¤ deps.delete(effectFn); } // æœ€åéœ€è¦é‡ç½®effectFn.depsæ•°ç»„ effectFn.deps.length = 0;}// åœ¨getæ‹¦æˆªå‡½æ•°å†…è°ƒç”¨trackå‡½æ•°è¿½è¸ªå˜åŒ–function track(target, key) { // æ²¡æœ‰activeEffectï¼Œç›´æ¥return if (!activeEffect) return target[key]; // æ ¹æ®targetä»â€œæ¡¶â€ä¸­å–å¾—depsMapï¼Œä¹Ÿæ˜¯ä¸€ä¸ªMapç±»å‹ï¼škey --&gt; effects let depsMap = bucket.get(target); // å¦‚æœä¸å­˜åœ¨depsMapï¼Œæ–°å»ºä¸€ä¸ªMapå¹¶ä¸targetå…³è” if (!depsMap) { bucket.set(target, (depsMap = new Map())); } // æ ¹æ®keyä»depsMapä¸­å–å¾—depsï¼Œå®ƒæ˜¯ä¸€ä¸ªSetç±»å‹ï¼Œ // é‡Œé¢å­˜å‚¨ç€æ‰€æœ‰ä¸å½“å‰keyç›¸å…³è”çš„å‰¯ä½œç”¨å‡½æ•°ï¼šeffects let deps = depsMap.get(key); if (!deps) { depsMap.set(key, (deps = new Set())); } // æœ€åå°†å½“å‰æ¿€æ´»çš„å‰¯ä½œç”¨å‡½æ•°æ·»åŠ åˆ°â€œæ¡¶â€ä¸­ deps.add(activeEffect); // depså°±æ˜¯ä¸€ä¸ªä¸å½“å‰å‰¯ä½œç”¨å‡½æ•°å­˜åœ¨è”ç³»çš„ä¾èµ–é›†åˆ // å°†å…¶æ·»åŠ åˆ°activeEffect.depsæ•°ç»„ä¸­ activeEffect.deps.push(deps);}// åœ¨setå‡½æ•°æ‹¦æˆªå†…è°ƒç”¨triggerå‡½æ•°å‡ºå‘å˜åŒ–function trigger(target, key) { // æ ¹æ®targetä»æ¡¶ä¸­å–å‡ºdepsMapï¼Œå®ƒæ˜¯ key --&gt; effects const depsMap = bucket.get(target); if (!depsMap) return; // æ ¹æ®keyå–å¾—æ‰€æœ‰å‰¯ä½œç”¨å‡½æ•°effects const effects = depsMap.get(key); // åœ¨è°ƒç”¨forEachéå†Seté›†åˆæ—¶ï¼Œå¦‚æœä¸€ä¸ªå€¼å·²ç»è¢«è®¿é—®è¿‡äº†ï¼Œ // ä½†è¯¥å€¼è¢«åˆ é™¤å¹¶é‡æ–°æ·»åŠ é›†åˆï¼Œå¦‚æœæ­¤æ—¶forEachéå†è¿˜æ²¡ç»“æŸ // è¯¥å€¼ä¼šé‡æ–°è¢«è®¿é—®ï¼Œå°±ä¼šå¯¼è‡´æ— é™å¾ªç¯æ‰§è¡Œã€‚ // è§£å†³æ–¹æ³•ï¼šæ„é€ å¦ä¸€ä¸ªSeté›†åˆéå†å®ƒ const effectsToRun = new Set(); // æ‰§è¡Œå‰¯ä½œç”¨å‡½æ•° effects &amp;&amp; effects.forEach((effectFn) =&gt; { // å¦‚æœtriggerè§¦å‘æ‰§è¡Œçš„å‰¯ä½œç”¨å‡½æ•°ä¸å½“å‰æ­£åœ¨æ‰§è¡Œçš„å‰¯ä½œç”¨å‡½æ•°ç›¸åŒï¼Œåˆ™ä¸è§¦å‘æ‰§è¡Œ if (effectFn !== activeEffect) { effectsToRun.add(effectFn); } }); effectsToRun.forEach((effectFn) =&gt; { // å¦‚æœä¸€ä¸ªå‰¯ä½œç”¨å‡½æ•°å­˜åœ¨è°ƒåº¦å™¨ï¼Œåˆ™è°ƒç”¨è¯¥è°ƒåº¦å™¨ï¼Œå¹¶å°†å‰¯ä½œç”¨å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ if (effectFn.options.scheduler) { effectFn.options.scheduler(effectFn); } else { // å¦åˆ™ç›´æ¥æ‰§è¡Œå‰¯ä½œç”¨å‡½æ•° effectFn(); } });}const data = { text: &quot;hello world&quot;, ok: false, foo: 1, bar: 2 };const obj = new Proxy(data, { // æ‹¦æˆªè¯»å–æ“ä½œ get(target, key) { // å°†å‰¯ä½œç”¨å‡½æ•°activeEffectæ·»åŠ åˆ°å­˜å‚¨å‰¯ä½œç”¨å‡½æ•°çš„æ¡¶ä¸­ track(target, key); // è¿”å›å±æ€§å€¼ return target[key]; }, // æ‹¦æˆªè®¾ç½®æ“ä½œ set(target, key, newVal) { // è®¾ç½®å±æ€§å€¼ target[key] = newVal; // æŠŠå‰¯ä½œç”¨å‡½æ•°ä»æ¡¶ä¸­å–å‡ºå¹¶æ‰§è¡Œ trigger(target, key); },});let temp1, temp2;// watchwatch( () =&gt; obj.foo, (newValue, oldValue) =&gt; { console.log(&quot;æ•°æ®å˜åŒ–äº†&quot;, newValue, oldValue); }, { immediate: true, });obj.foo++;// computed// const sum = computed(() =&gt; obj.foo + obj.bar);// effect(() =&gt; {// console.log(sum.value);// });// obj.foo++;// lazy// const effectFn = effect(// () =&gt; {// console.log(obj.text);// },// {// lazy: true,// }// );// effectFn();// åµŒå¥—çš„effectä¸effectæ ˆ// effect(function effectFn1() {// console.log(&quot;effectFn1 æ‰§è¡Œ&quot;);// effect(function effectFn2() {// console.log(&quot;effectFn2 æ‰§è¡Œ&quot;);// temp2 = obj.ok;// });// temp1 = obj.text;// obj.text += &quot;1&quot;;// });// åˆ†æ”¯åˆ‡æ¢ä¸cleanup// effect(() =&gt; {// console.log('effect run');// document.body.innerText = obj.ok ? obj.text : &quot;not&quot;;// obj.text = 'foolishmax'// });// ä¸å­˜åœ¨çš„å±æ€§ä¸æ·»åŠ å“åº”å¼// setTimeout(() =&gt; {// obj.text = &quot;hello vue3&quot;;// // obj.notExist = 'hello vue3'// }, 3000);","link":"/2022/08/07/vue%E5%93%8D%E5%BA%94%E5%BC%8F%E7%B3%BB%E7%BB%9F%E5%AE%9E%E7%8E%B0/"},{"title":"webpacké…ç½®å·¥ç¨‹å¸ˆ","text":"æ„å»º webpack çŸ¥è¯†ä½“ç³»åˆ†ä¸ºä¸‹é¢ä¸‰ä¸ªå±‚çº§ï¼š 1.åŸºç¡€â€“ä¼šé…ç½® 2.è¿›é˜¶â€“èƒ½ä¼˜åŒ– 3.æ·±å…¥â€“æ‡‚åŸç† ä¸€ã€åŸºç¡€ç¯‡ 1.ç®€å•é…ç½®è¯¥éƒ¨åˆ†éœ€æŒæ¡ï¼š1.Webpack å¸¸è§„é…ç½®é¡¹æœ‰å“ªäº›ï¼Ÿ 2.å¸¸ç”¨ loader æœ‰å“ªäº›ï¼Ÿå¦‚ä½•é…ç½®ï¼Ÿ 3.å¸¸ç”¨æ’ä»¶ plugin æœ‰å“ªäº›ï¼Ÿå¦‚ä½•é…ç½®ï¼Ÿ4.Babel å¦‚ä½•é…ç½®ï¼ŸBabel æ’ä»¶å¦‚ä½•ä½¿ç”¨ï¼Ÿ 1.1 å®‰è£…ä¾èµ–éœ€è¦ç°åœ¨æœ¬åœ°å®‰è£…webpackåŠwebpack-cli 1$ npm install webpack webpack-cli -D 1.2 å¼€å§‹å·¥ä½œwebpack åœ¨ 4 ä»¥åå°±æ”¯æŒ 0 é…ç½®æ‰“åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥æµ‹è¯•ä¸€ä¸‹ 1.æ–°å»º webpack-work é¡¹ç›®ï¼Œæ–°å»º ./src/index.jsæ–‡ä»¶ï¼Œå†™ä¸€æ®µç®€å•çš„ä»£ç  123const a = 'hello foolishmax';console.log(a);module.exports = a; 2.ç›´æ¥è¿è¡Œnpx webpackï¼Œå¯åŠ¨æ‰“åŒ…) æ‰“åŒ…å®Œæˆï¼Œä¼šæœ‰ä¸€ä¸ªæç¤ºï¼šThe 'mode' option has not been set,... æ„æ€å°±æ˜¯æˆ‘ä»¬æ²¡æœ‰é…ç½® modeï¼ˆå‘ŠçŸ¥ webpack ä½¿ç”¨ç›¸åº”æ¨¡å¼çš„å†…ç½®ä¼˜åŒ–ï¼Œé»˜è®¤ä¸ºproductionï¼Œå¦å¤–è¿˜æœ‰developmentã€noneï¼‰ é€‰é¡¹ æè¿° development å¼€å‘æ¨¡å¼ï¼Œæ‰“åŒ…æ›´åŠ å¿«é€Ÿï¼Œçœäº†ä»£ç ä¼˜åŒ–æ­¥éª¤ production ç”Ÿäº§æ¨¡å¼ï¼Œæ‰“åŒ…æ¯”è¾ƒæ…¢ï¼Œå¼€å¯ tree-shaking å’Œå‹ç¼©ä»£ç  none ä¸ä½¿ç”¨ä»»ä½•é»˜è®¤ä¼˜åŒ–é€‰é¡¹ webpack.config.js ä¸­é…ç½®ï¼š 123module.exports = { mode: 'development',} 1.3 é…ç½®æ–‡ä»¶è™½ç„¶å¯ä»¥é›¶é…ç½®æ‰“åŒ…ï¼Œä½†æ˜¯å®é™…å·¥ä½œä¸­ï¼Œè¿˜æ˜¯éœ€è¦ä½¿ç”¨é…ç½®æ–‡ä»¶çš„æ–¹å¼æ¥æ»¡è¶³ä¸åŒé¡¹ç›®çš„éœ€æ±‚ã€‚ 1.è·Ÿè·¯å¾„ä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶webpack.config.js 2.æ–°å¢åŸºæœ¬é…ç½®ä¿¡æ¯ 1234567891011const path = require('path');module.exports = { mode: 'development', // æ¨¡å¼ entry: './src/index.js', // æ‰“åŒ…å…¥å£åœ°å€ output: { filename: 'bundle.js', // è¾“å‡ºæ–‡ä»¶å path: path.join(__dirname, 'dist') // è¾“å‡ºæ–‡ä»¶ç›®å½• }} 1.4 loaderè¿™é‡Œæˆ‘ä»¬æŠŠå…¥å£æ–‡ä»¶æ”¹æˆ css æ–‡ä»¶ï¼Œçœ‹ä¸‹æ‰“åŒ…ç»“æœå¦‚ä½• 1.æ–°å¢./src/main.css 1234567body { margin: 0 auto; padding: 0 20px; max-width: 800px; background: #f4f8fb;} 2.ä¿®æ”¹ entry é…ç½® 1234567891011const path = require('path');module.exports = { mode: 'development', entry: './src/main.css', output: { filename: 'bundle.js', path: path.join(__dirname, 'dist') }} 3.è¿è¡Œæ‰“åŒ…å‘½ä»¤ï¼š npx webpackè¿™é‡Œçš„æŠ¥é”™ä¿¡æ¯æ˜¯å› ä¸ºï¼šwebpack é»˜è®¤æ”¯æŒå¤„ç† js æ–‡ä»¶ï¼Œå…¶ä»–ç±»å‹éƒ½å¤„ç†ä¸äº†ï¼Œéœ€è¦å€ŸåŠ© loader æ¥å¯¹ä¸åŒç±»å‹çš„æ–‡ä»¶è¿›è¡Œå¤„ç†ã€‚ 4.å®‰è£…css-loaderæ¥å¤„ç† CSS 1npm install css-loader -D 5.é…ç½®èµ„æºåŠ è½½æ¨¡å— 12345678910111213141516171819const path = require('path');module.exports = { mode: 'development', entry: './src/main.css', output: { filename: 'bundle.css', path: path.join(__dirname, 'dist') }, module: { rules: [ // è½¬æ¢è§„åˆ™ { test: /.css$/, // åŒ¹é…æ‰€æœ‰cssæ–‡ä»¶ use: 'css-loader', //å¯¹åº”çš„loaderåç§° } ] }} 6.é‡æ–°è¿è¡Œæ‰“åŒ…å‘½ä»¤npx webpack,å°±å¯ä»¥æ‰“åŒ…æˆåŠŸäº† æ€»ç»“ï¼šloader å°±æ˜¯å°† webpack ä¸è®¤è¯†çš„å†…å®¹è½¬åŒ–ä¸ºè®¤è¯†çš„å†…å®¹ æ’ä»¶ï¼ˆpluginï¼‰æ’ä»¶å¯ä»¥è´¯ç©¿ webpack æ‰“åŒ…çš„ç”Ÿå‘½å‘¨æœŸï¼Œæ‰§è¡Œä¸åŒçš„ä»»åŠ¡ 1.æ–°å»º./src/index.htmlæ–‡ä»¶ 123456789101112&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt; å¦‚æœæƒ³è¦æ‰“åŒ…åçš„èµ„æºæ–‡ä»¶ï¼Œä¾‹å¦‚ js æˆ–è€… css æ–‡ä»¶å¯ä»¥è‡ªåŠ¨å¼•å…¥åˆ° html ä¸­ï¼Œå°±éœ€è¦ä½¿ç”¨æ’ä»¶html-webpack-pluginæ¥åšè¿™ä»¶äº‹æƒ…ã€‚ 2.æœ¬åœ°å®‰è£… html-webpack-plugin 1npm install html-webpack-plugin -D 3.é…ç½®æ’ä»¶ 12345678910111213141516171819202122232425const HtmlWebpackPlugin = require('html-webpack-plugin');const path = require('path');module.exports = { mode: 'development', entry: './src/main.js', output: { filename: 'bundle.js', path: path.join(__dirname, 'dist') }, module: { rules: [ // è½¬æ¢è§„åˆ™ { test: /.css$/, // åŒ¹é…æ‰€æœ‰cssæ–‡ä»¶ use: 'css-loader', //å¯¹åº”çš„loaderåç§° } ] }, plugins: [ new HtmlWebpackPlugin({ template: './src/index.html', }) ]} è¿è¡Œä¸€ä¸‹æ‰“åŒ…ï¼Œæ‰“å¼€ dist ç›®å½•ä¸‹çš„ index.html æ–‡ä»¶ 1234567891011&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt; &lt;title&gt;Document&lt;/title&gt; &lt;script defer src=&quot;bundle.js&quot;&gt;&lt;/script&gt;&lt;/head&gt; &lt;body&gt;&lt;/body&gt;&lt;/html&gt; å¯ä»¥çœ‹åˆ°å®ƒè‡ªåŠ¨å¼•å…¥æ‰“åŒ…å¥½çš„ bundle.js 1.6 è‡ªåŠ¨æ¸…ç©ºæ‰“åŒ…ç›®å½•æ¯æ¬¡æ‰“åŒ…çš„æ—¶å€™ï¼Œæ‰“åŒ…ç›®å½•éƒ½ä¼šé—ç•™ä¸Šæ¬¡æ‰“åŒ…çš„æ–‡ä»¶ï¼Œä¸ºäº†ä¿æŒæ‰“åŒ…ç›®å½•çš„çº¯å‡€ï¼Œæ‰“åŒ…å‰éœ€å°†ä¸Šæ¬¡æ‰“åŒ…ç›®å½•æ¸…ç©ºã€‚ 1.å®‰è£… clean-webpack-plugin 1$ npm install clean-webpack-plugin -D 2.é…ç½® 123456789101112const HtmlWebpackPlugin = require('html-webpack-plugin');const {CleanWebpackPlugin} = require('clean-webpack-plugin');const path = require('path');module.exports = { plugins: [ new HtmlWebpackPlugin({ template: './src/index.html', }), new CleanWebpackPlugin() ]} 1.7 åŒºåˆ†ç¯å¢ƒæœ¬åœ°ç¯å¢ƒ éœ€è¦æ›´å¿«çš„æ„å»ºé€Ÿåº¦ éœ€è¦æ‰“å° debug ä¿¡æ¯ éœ€è¦ live reload æˆ–è€… hot reload åŠŸèƒ½ éœ€è¦ sourcemap æ–¹ä¾¿å®šä½é—®é¢˜ â€¦ ç”Ÿäº§ç¯å¢ƒï¼š éœ€è¦æ›´å°çš„åŒ…ä½“ç§¯ï¼Œä»£ç å‹ç¼©+tree-shaking éœ€è¦è¿›è¡Œä»£ç åˆ†å‰² éœ€è¦å‹ç¼©å›¾ç‰‡ä½“ç§¯ â€¦ æ˜é‡‘","link":"/2021/10/27/webpack%E9%85%8D%E7%BD%AE%E5%B7%A5%E7%A8%8B%E5%B8%88/"},{"title":"å‰ç«¯å®‰å…¨","text":"å‰ç«¯å®‰å…¨ sql æ³¨å…¥ å°±æ˜¯é€šè¿‡æŠŠ SQL å‘½ä»¤æ’å…¥åˆ° Web è¡¨å•é€’äº¤æˆ–è¾“å…¥åŸŸåæˆ–é¡µé¢è¯·æ±‚çš„æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œæœ€ç»ˆè¾¾åˆ°æ¬ºéª—æœåŠ¡å™¨æ‰§è¡Œæ¶æ„çš„ SQL å‘½ä»¤ é¢„é˜²ï¼šæ¯”å¦‚ä½¿ç”¨åŸºäº nodejs çš„ sequelize æ¡†æ¶ï¼Œä¸è¦è£¸å†™ sql è¯­å¥ï¼Œä½¿ç”¨å¸¸è§çš„æ•°æ®åº“å·¥å…·å³å¯è§£å†³ XSS xssï¼šè·¨ç«™è„šæœ¬æ”»å‡»(Cross Site Scripting),æ”»å‡»è€…é€šè¿‡æ³¨å…¥éæ³•çš„ html æ ‡ç­¾æˆ–è€… JavaScript ä»£ç ï¼Œä»è€Œå½“ç”¨æˆ·æµè§ˆè¯¥ç½‘é¡µæ—¶ï¼Œæ§åˆ¶ç”¨æˆ·æµè§ˆå™¨ã€‚ xss ä¸»è¦åˆ†ä¸ºä¸‰ç±»ï¼š DOM xss DOM å³æ–‡æœ¬å¯¹è±¡æ¨¡å‹ï¼ŒDOM é€šå¸¸ä»£è¡¨åœ¨ htmlã€xhtml å’Œ xml ä¸­çš„å¯¹è±¡ï¼Œä½¿ç”¨ DOMå¯ä»¥å…è®¸ç¨‹åºå’Œè„šæœ¬åŠ¨æ€çš„è®¿é—®å’Œæ›´æ–°æ–‡æ¡£çš„å†…å®¹ã€ç»“æ„å’Œæ ·å¼ã€‚å®ƒä¸éœ€è¦æœåŠ¡å™¨è§£æå“åº”çš„ç›´æ¥å‚ä¸ï¼Œè§¦å‘ XSS é çš„æ˜¯æµè§ˆå™¨ç«¯çš„ DOM è§£æï¼Œå¯ä»¥è®¤ä¸ºå®Œå…¨æ˜¯å®¢æˆ·ç«¯çš„äº‹æƒ…ã€‚ åå°„å‹ xss åå°„å‹ XSS ä¹Ÿè¢«ç§°ä¸ºéæŒä¹…æ€§ XSSï¼Œæ˜¯ç°åœ¨æœ€å®¹æ˜“å‡ºç°çš„ä¸€ç§ XSS æ¼æ´ã€‚å‘å‡ºè¯·æ±‚æ—¶ï¼ŒXSS ä»£ç å‡ºç°åœ¨ URL ä¸­ ï¼Œæœ€åè¾“å…¥æäº¤åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨è§£æååœ¨å“åº”å†…å®¹ä¸­å‡ºç°è¿™æ®µ XSS ä»£ç ï¼Œæœ€åæµè§ˆå™¨è§£ææ‰§è¡Œã€‚ å­˜å‚¨å‹ xss å­˜å‚¨å‹ XSS åˆè¢«ç§°ä¸ºæŒä¹…æ€§ XSSï¼Œå®ƒæ˜¯æœ€å±é™©çš„ä¸€ç§è·¨ç«™è„šæœ¬ï¼Œç›¸æ¯”åå°„å‹ XSSå’Œ DOM å‹ XSS å…·æœ‰æ›´é«˜çš„éšè”½æ€§ï¼Œæ‰€ä»¥å±å®³æ›´å¤§ï¼Œå› ä¸ºå®ƒä¸éœ€è¦ç”¨æˆ·æ‰‹åŠ¨è§¦å‘ã€‚å…è®¸ç”¨æˆ·å­˜å‚¨æ•°æ®çš„ web ç¨‹åºéƒ½å¯èƒ½å­˜åœ¨å­˜å‚¨å‹ XSS æ¼æ´ï¼Œå½“æ”»å‡»è€…æäº¤ä¸€æ®µ XSSä»£ç åï¼Œè¢«æœåŠ¡å™¨ç«¯æ¥æ”¶å¹¶å­˜å‚¨ï¼Œå½“æ‰€æœ‰æµè§ˆè€…è®¿é—®æŸä¸ªé¡µé¢æ—¶éƒ½ä¼šè¢« XSSï¼Œå…¶ä¸­æœ€å…¸å‹çš„ä¾‹å­å°±æ˜¯ç•™è¨€æ¿ã€‚ ä¸»è¦å½±å“ï¼š åˆ©ç”¨è™šå‡è¾“å…¥è¡¨å•éª—å–ç”¨æˆ·ä¸ªäººä¿¡æ¯ åˆ©ç”¨è„šæœ¬çªƒå–ç”¨æˆ·çš„ Cookie å€¼ï¼Œè¢«å®³è€…åœ¨ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹ï¼Œå¸®åŠ©æ”»å‡»è€…å‘é€æ¶æ„è¯·æ±‚ã€‚ æ˜¾ç¤ºä¼ªé€ çš„æ–‡ç« æˆ–è€…å›¾ç‰‡ é˜²å¾¡æªæ–½ï¼š è®¾ç½® httpOnlyï¼šåœ¨ cookie ä¸­è®¾ç½® HttpOnly å±æ€§åï¼Œjs è„šæœ¬å°†æ— æ³•è¯»å–åˆ° cookie çš„ä¿¡æ¯ã€‚ è¾“å…¥æ£€æŸ¥ï¼Œå¯¹äºç”¨æˆ·è¾“å…¥è¿›è¡Œæ ¼å¼æ£€æŸ¥ã€‚ ç§»é™¤ç”¨æˆ·ä¸Šä¼ çš„ DOM å±æ€§ï¼Œå¦‚ onerror äº‹ä»¶ç­‰ã€‚ ç§»é™¤ç”¨æˆ·ä¸Šä¼ çš„ style èŠ‚ç‚¹ã€script èŠ‚ç‚¹ã€iframe èŠ‚ç‚¹ã€‚ vue ä¸­è¾“å‡ºåŸç”Ÿ html éœ€è¦ä½¿ç”¨ v-html react ä¸­å¯ä»¥ä½¿ç”¨ dangerouslySetInnerHTML CSRF csrfï¼šè·¨ç«™è¯·æ±‚ä¼ªé€ (Cross-Site Request Forgeries)ï¼Œå†’å……ç”¨æˆ·å‘èµ·è¯·æ±‚ï¼Œå®Œæˆä¸€äº›è¿èƒŒç”¨æˆ·æ„æ„¿çš„äº‹æƒ…ã€‚ é˜²å¾¡æªæ–½ æäº¤æ•°æ®ä½¿ç”¨ post è¯·æ±‚ Token éªŒè¯ï¼š ç¬¬ä¸€æ­¥ï¼šåç«¯éšæœºäº§ç”Ÿä¸€ä¸ª tokenï¼ŒæŠŠè¿™ä¸ª token ä¿å­˜åœ¨ session çŠ¶æ€ä¸­ï¼ŒåŒæ—¶åç«¯æŠŠ token äº¤ç»™å‰ç«¯é¡µé¢ï¼› ç¬¬äºŒæ­¥ï¼šå‰ç«¯é¡µé¢æäº¤è¯·æ±‚æ—¶ï¼ŒæŠŠ token åŠ å…¥åˆ°è¯·æ±‚æ•°æ®æˆ–è€…å¤´ä¿¡æ¯ä¸­ï¼Œä¸€èµ·ä¼ ç»™åç«¯ï¼› åç«¯éªŒè¯å‰ç«¯ä¼ æ¥çš„ token ä¸ session æ˜¯å¦ä¸€è‡´ï¼Œä¸€è‡´åˆ™åˆæ³•ï¼Œå¦åˆ™éæ³•è¯·æ±‚ã€‚ Referer checkï¼šè¯·æ±‚æ¥æºéªŒè¯ï¼Œä½†æ˜¯ä¸èƒ½ä¿è¯ 100%æœ‰æ•ˆï¼Œå› ä¸ºæœåŠ¡å™¨å¹¶ä¸æ˜¯ä»€ä¹ˆæ—¶å€™éƒ½èƒ½å–åˆ° Refererï¼Œè€Œä¸”ä½ç‰ˆæœ¬æµè§ˆå™¨å­˜åœ¨ä¼ªé€  Referer çš„é£é™©ã€‚ éªŒè¯ç ï¼šå¼ºåˆ¶ç”¨æˆ·å¿…é¡»å’Œåº”ç”¨è¿›è¡Œäº¤äº’ï¼Œå®Œæˆæœ€ç»ˆè¯·æ±‚ï¼Œä½†ç”¨æˆ·ä½“éªŒæ¯”è¾ƒå·®ã€‚ clickjacking clickjacking: ç‚¹å‡»åŠ«æŒï¼Œåˆ©ç”¨é€æ˜çš„æŒ‰é’®æˆ–è¿æ¥åšæˆé™·é˜±ï¼Œè¦†ç›–åœ¨ web é¡µé¢ä¹‹ä¸Šï¼Œç„¶åè¯±ä½¿ç”¨æˆ·åœ¨ä¸çŸ¥çš„æƒ…å†µä¸‹ï¼Œç‚¹å‡»é‚£ä¸ªé“¾æ¥è®¿é—®å†…å®¹çš„ä¸€ç§æ”»å‡»æ‰‹æ®µã€‚åˆç§°ä¸ºç•Œé¢ä¼ªè£…ã€‚ å¤§æ¦‚æœ‰ä¸¤ç§æ–¹å¼ï¼š æ”»å‡»è€…ä½¿ç”¨ä¸€ä¸ªé€æ˜ iframeï¼Œè¦†ç›–åœ¨ä¸€ä¸ªç½‘é¡µä¸Šï¼Œç„¶åè¯±ä½¿ç”¨æˆ·åœ¨è¯¥é¡µé¢ä¸Šè¿›è¡Œæ“ä½œï¼Œæ­¤æ—¶ç”¨å°†åœ¨ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹ç‚¹å‡»é€æ˜çš„ iframe é¡µé¢ã€‚ æ”»å‡»è€…ä½¿ç”¨ä¸€å¼ å›¾ç‰‡è¦†ç›–åœ¨ç½‘é¡µï¼Œé®æŒ¡ç½‘é¡µåŸæœ‰çš„ä½ç½®å«ä¹‰ã€‚ é˜²å¾¡æªæ–½ï¼š X-FRAME-OPTIONS å“åº”å¤´æ˜¯ç”¨æ¥ç»™æµè§ˆå™¨æŒ‡ç¤ºå…è®¸ä¸€ä¸ªé¡µé¢å¯å¦åœ¨&lt;frame&gt;,&lt;iframe&gt; æˆ–è€… &lt;object&gt; ä¸­å±•ç°çš„æ ‡è®°ã€‚ç½‘ç«™å¯ä»¥ä½¿ç”¨æ­¤åŠŸèƒ½ï¼Œæ¥ç¡®ä¿è‡ªå·±ç½‘ç«™å†…å®¹æ²¡æœ‰è¢«åµŒåˆ°åˆ«äººçš„ç½‘ç«™ä¸­å»ï¼Œä¹Ÿä»è€Œé¿å…ç‚¹å‡»åŠ«æŒçš„æ”»å‡»ã€‚ æ§åˆ¶å°æ³¨å…¥ä»£ç é™„ï¼šä¼˜åŒ–è¯·æ±‚å¤´ï¼ˆä½¿ç”¨ helmet åè®®è§„èŒƒï¼‰","link":"/2019/10/10/%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8/"},{"title":"koa-generatorå¿«é€Ÿæ­å»ºkoaæœåŠ¡","text":"1.å…¨å±€å®‰è£…koa-generatorè„šæ‰‹æ¶ 123npm install -g koa-generator# oryarn global add koa-generator åˆ›å»ºkoaé¡¹ç›®1234koa2 project-name// ä½¿ç”¨ejså¼•æ“koa2 -e project-name è¿›å…¥é¡¹ç›®å®‰è£…ä¾èµ–12cd project-nameyarn install é¡¹ç›®è¿è¡Œ1234npm start# ornpm run dev# or... ä½¿ç”¨ pm2 å¯åŠ¨ koa é¡¹ç›®123456// å…¨å±€å®‰è£…npm install -g pm2// å¯åŠ¨é¡¹ç›®pm2 start ./bin/www// pm2è‡ªåŠ¨é‡å¯pm2 start ./bin/www/ --watch pm2 ç›¸å…³å‘½ä»¤ï¼ˆwww æ˜¯é¡¹ç›®åï¼‰12345pm2 list #æŸ¥çœ‹æ‰€æœ‰å·²å¯åŠ¨é¡¹ç›®pm2 start #å¯åŠ¨pm2 restart www #é‡å¯pm2 stop www #åœæ­¢pm2 delete www #åˆ é™¤","link":"/2022/03/08/koa-generator%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BAkoa%E6%9C%8D%E5%8A%A1/"},{"title":"å®ç°ç²¾ç®€ç‰ˆuseSize","text":"ahooksæ˜¯é˜¿é‡Œå¼€æºçš„ä¸€å¥— React Hooks åº“ï¼Œé‡Œé¢å°è£…äº†å¤§é‡å¥½ç”¨çš„ Hooksï¼Œæœ€è¿‘ä¹Ÿåœ¨é¡¹ç›®ä¸­é¢‘ç¹ä½¿ç”¨åˆ°äº†åº“ä¸­useSizeè¿™ä¸ªé’©å­å‡½æ•°ï¼Œäºæ˜¯å°±å­¦ä¹ äº†ä¸€ä¸‹å®ƒçš„æºç å®ç°ï¼Œå¹¶ä¸”å®ç°äº†ä¸€ä¸ªç²¾ç®€ç‰ˆuseSizeã€‚ è¦ç‚¹ä¸€ï¼šResizeObserverç›‘å¬ Element å†…å®¹åŒºåŸŸçš„è¾¹ç•Œæ¡†æ”¹å˜ è¦ç‚¹äºŒï¼šrequestAnimationFrameä¼˜åŒ–é«˜é¢‘åˆ·æ–°æƒ…å†µä¸‹çš„æ•°æ®æ›´æ–° ä»£ç å®ç°12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576import { MutableRefObject, useCallback, useEffect, useLayoutEffect, useRef, useState,} from &quot;react&quot;;type TargetValue&lt;T&gt; = T | undefined | null;type TargetType = HTMLElement | Element | Window | Document;export type BasicTarget&lt;T extends TargetType = Element&gt; = | (() =&gt; TargetValue&lt;T&gt;) | TargetValue&lt;T&gt; | MutableRefObject&lt;TargetValue&lt;T&gt;&gt;;type Size = { width: number; height: number };export default function useSize(target: BasicTarget): Size | undefined { const [state, setState] = useState&lt;Size | undefined&gt;(); const ref = useRef(0); const [resizeObserver, setResizeObserver] = useState&lt;ResizeObserver&gt;(); const setRafState = useCallback( (value: Size | ((prevState?: Size) =&gt; Size)) =&gt; { cancelAnimationFrame(ref.current); ref.current = requestAnimationFrame(() =&gt; { setState(value); }); }, [] ); useEffect( () =&gt; () =&gt; { resizeObserver?.disconnect(); cancelAnimationFrame(ref.current); }, [] ); useLayoutEffect(() =&gt; { if (!target) return; let targetEl: TargetValue&lt;TargetType&gt;; if (&quot;current&quot; in target) { targetEl = target.current; } else if (typeof target === &quot;function&quot;) { targetEl = target(); } else { targetEl = target; } if (!targetEl) return; const resizeObserver = new ResizeObserver((entries) =&gt; { entries.forEach((entry) =&gt; { const { clientWidth, clientHeight } = entry.target; setRafState({ width: clientWidth, height: clientHeight, }); }); }); setResizeObserver(resizeObserver); resizeObserver?.observe(targetEl); }, []); return state;} å…·ä½“ä½¿ç”¨12345678910111213export default function App() { const ref = useRef(null); const size = useSize(ref); return ( &lt;div ref={ref} style={{ border: &quot;1px solid red&quot; }}&gt; &lt;p&gt;Try to resize the preview window &lt;/p&gt; &lt;p&gt; width: {size?.width}px, height: {size?.height}px &lt;/p&gt; &lt;/div&gt; );} ä»…ä½œä¸ºè‡ªå·±çš„å­¦ä¹ ç§¯ç´¯ï¼Œæœ‰ä»€ä¹ˆéœ€è¦æ”¹è¿›çš„åœ°æ–¹è¯·å¤§å®¶å¤šå¤šæ‰¹è¯„æŒ‡ç‚¹ ğŸ˜…ï¼","link":"/2022/08/04/%E5%AE%9E%E7%8E%B0%E7%B2%BE%E7%AE%80%E7%89%88useSize/"},{"title":"å¸¸è§è®¾è®¡æ¨¡å¼","text":"SOLID äº”å¤§è®¾è®¡åŸåˆ™ S å•ä¸€èŒè´£åŸåˆ™ ä¸€ä¸ªç¨‹åºåªåšå¥½ä¸€ä»¶äº‹ï¼Œå¦‚æœåŠŸèƒ½è¿‡äºå¤æ‚å°±æ‹†åˆ†å¼€ï¼Œæ¯ä¸ªéƒ¨åˆ†ä¿æŒç‹¬ç«‹ O å¼€æ”¾å°é—­åŸåˆ™ å¯¹ä¿®æ”¹å°é—­ï¼Œå¯¹æ‰©å±•å¼€æ”¾ L ææ°ç½®æ¢åŸåˆ™ å­ç±»èƒ½è¦†ç›–çˆ¶ç±» I æ¥å£ç‹¬ç«‹åŸåˆ™ ä¿æŒæ¥å£çš„å•ä¸€ç‹¬ç«‹ï¼Œé¿å…å‡ºç°èƒ–æ¥å£ D ä¾èµ–å€’ç½®åŸåˆ™ é¢å‘æ¥å£ç¼–ç¨‹ï¼Œä¾èµ–äºæŠ½è±¡è€Œä¸ä¾èµ–äºå…·ä½“ã€‚å†™ä»£ç æ—¶ç”¨åˆ°å…·ä½“ç±»æ—¶ï¼Œä¸ä¸å…·ä½“ç±»äº¤äº’ï¼Œè€Œä¸å…·ä½“ç±»çš„ä¸Šå±‚æ¥å£äº¤äº’ã€‚ å¸¸è§çš„è®¾è®¡æ¨¡å¼ å·¥å‚æ¨¡å¼ jqueryã€react createElement å•ä¾‹æ¨¡å¼ è‡ªå®šä¹‰äº‹ä»¶ EventBus å…¨å±€å”¯ä¸€ Vuex Redux çš„ store å…¨å±€å”¯ä¸€ 12345678910111213141516class SingleTon { private constructor() {} private static instance: SingleTon | null; static getInstance(): SingleTon { if (SingleTon.instance === null) { SingleTon.instance = new SingleTon(); } return SingleTon.instance; }}SingleTon.getInstance(); // æ­£ç¡®SingleTon.instance; // æŠ¥é”™new SingleTon(); // æŠ¥é”™ æ„é€ å‡½æ•°æ¨¡å¼ å»ºé€ è€…æ¨¡å¼ ä»£ç†æ¨¡å¼ å‘½ä»¤æ¨¡å¼ è§‚å¯Ÿè€…æ¨¡å¼ é€‚é…å™¨æ¨¡å¼ èŒè´£é“¾æ¨¡å¼","link":"/2019/09/27/%E5%B8%B8%E8%A7%81%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"},{"title":"å¾®ä¿¡å°ç¨‹åº","text":"å¾®ä¿¡å°ç¨‹åº æ–‡ä»¶ä¸»è¦ç›®å½•åŠæ–‡ä»¶ä½œç”¨ component ç»„ä»¶æ–‡ä»¶å¤¹ navBar åº•éƒ¨ç»„ä»¶ navBar.js åº•éƒ¨ç»„ä»¶çš„ js ä»£ç  navBar.json åº•éƒ¨ç»„ä»¶çš„é…ç½®æ–‡ä»¶ navBar.wxml åº•éƒ¨ç»„ä»¶çš„ html ä»£ç  navBar.wxss åº•éƒ¨ç»„ä»¶çš„ css ä»£ç  pages é¡µé¢æ–‡ä»¶å¤¹ index é¦–é¡µ index.js é¦–é¡µçš„ js ä»£ç  index.json é¦–é¡µçš„é…ç½®æ–‡ä»¶ index.wxml é¦–é¡µçš„ html ä»£ç  index.wxss é¦–é¡µçš„ css ä»£ç  public å›¾ç‰‡æ–‡ä»¶å¤¹ utils å·¥å…·æ–‡ä»¶å¤¹ api.js æ§åˆ¶ api çš„æ–‡ä»¶ md5.js å·¥å…·ï¼šMD5 åŠ å¯†æ–‡ä»¶ timestamp.js å·¥å…·ï¼šäº‹ä»¶æˆ³æ–‡ä»¶ app.json è®¾ç½®å…¨å±€çš„åŸºç¡€æ•°æ®ç­‰ app.wxss å…¬å…±æ ·å¼ï¼Œå¯é€šè¿‡ import å¯¼å…¥æ›´å¤š project.config.json é¡¹ç›®é…ç½®æ–‡ä»¶ å¾®ä¿¡å°ç¨‹åºç”Ÿå‘½å‘¨æœŸ onLoad(): é¡µé¢åŠ è½½æ—¶è§¦å‘ï¼Œä¸€ä¸ªé¡µé¢åªä¼šè°ƒç”¨ä¸€æ¬¡ï¼Œå¯ä»¥åœ¨ onLoad ä¸­è·å–æ‰“å¼€å½“å‰é¡µé¢æ‰€è°ƒç”¨çš„ query å‚æ•°ã€‚ onShow(): é¡µé¢æ˜¾ç¤º/åˆ‡å…¥å‰å°æ—¶è§¦å‘ï¼Œæ¯æ¬¡æ‰“å¼€é¡µé¢éƒ½ä¼šè°ƒç”¨ä¸€æ¬¡ã€‚ onReady(): é¡µé¢åˆæ¬¡æ¸²æŸ“å®Œæˆæ—¶è§¦å‘ï¼Œä¸€ä¸ªé¡µé¢åªä¼šè°ƒç”¨ä¸€æ¬¡ã€‚ onHide(): é¡µé¢éšè—/åˆ‡å…¥åå°æ—¶è§¦å‘ï¼Œå½“ navigateTo æˆ–åº•éƒ¨ tab åˆ‡æ¢æ—¶è°ƒç”¨ã€‚ onUnload(): é¡µé¢å¸è½½æ—¶è§¦å‘ã€‚ app.json æ˜¯å¯¹å½“å‰å°ç¨‹åºçš„å…¨å±€é…ç½®ï¼Œè®²è¿°ä¸‰ä¸ªé…ç½®å„ä¸ªé¡¹çš„å«ä¹‰? pages å­—æ®µï¼šç”¨äºæè¿°å½“å‰å°ç¨‹åºæ‰€æœ‰é¡µé¢è·¯å¾„ï¼Œä¸ºäº†è®©å¾®ä¿¡å®¢æˆ·ç«¯çŸ¥é“å½“å‰å°ç¨‹åºé¡µé¢å®šä¹‰åœ¨é‚£ä¸ªç›®å½•ã€‚ window å­—æ®µï¼šå°ç¨‹åºæ‰€æœ‰é¡µé¢çš„é¡¶éƒ¨èƒŒæ™¯é¢œè‰²ï¼Œæ–‡å­—é¢œè‰²å®šä¹‰ç­‰ã€‚ tab å­—æ®µï¼šå°ç¨‹åºå…¨å±€é¡¶éƒ¨ tab æˆ–åº•éƒ¨ tabã€‚ å°ç¨‹åºçš„ wxss å’Œ css æœ‰å“ªäº›ä¸ä¸€æ ·çš„åœ°æ–¹ï¼Ÿ æ–°åƒç´ å•ä½ rpx æ ·å¼å¯ç›´æ¥ä½¿ç”¨ import å¯¼å…¥ å°ç¨‹åº wxml å’Œæ ‡å‡†çš„ html çš„å¼‚åŒï¼Ÿéƒ½æ˜¯ç”¨æ¥æè¿°é¡µé¢çš„ç»“æ„ï¼Œéƒ½æ˜¯ç”±æ ‡ç­¾ã€å±æ€§ç­‰æ„æˆã€‚ æ ‡ç­¾åå­—ä¸ä¸€æ ·ï¼Œä¸”å°ç¨‹åºæ ‡ç­¾æ›´å°‘ï¼Œå•ä¸€æ ‡ç­¾æ›´å¤šã€‚ å¤šäº†ä¸€äº› wx:if è¿™æ ·çš„å±æ€§å’ŒåŒå¤§æ‹¬å·è¿™æ ·çš„è¡¨è¾¾å¼ã€‚ wxml åªèƒ½åœ¨å¾®ä¿¡å°ç¨‹åºå¼€å‘è€…å·¥å…·ä¸­é¢„è§ˆï¼Œhtml å¯ä»¥åœ¨æµè§ˆå™¨å†…é¢„è§ˆã€‚ ç»„ä»¶å°è£…ä¸åŒï¼Œwxml å¯¹ç»„ä»¶è¿›è¡Œäº†é‡æ–°å°è£…ã€‚ å°ç¨‹åºè¿è¡Œåœ¨ JS Core å†…ï¼Œæ²¡æœ‰ DOM æ ‘å’Œ window å¯¹è±¡ï¼Œå°ç¨‹åºæ— æ³•ä½¿ç”¨ window å¯¹è±¡å’Œ documentå¯¹è±¡ã€‚ å°ç¨‹åº wxss å’Œ css çš„å¼‚åŒï¼Ÿéƒ½æ˜¯ç”¨æ¥æè¿°é¡µé¢çš„æ ·å­ wxss å…·æœ‰ css å¤§éƒ¨åˆ†çš„ç‰¹æ€§ï¼Œä¹Ÿåšäº†ä¸€äº›æ‰©å……å’Œä¿®æ”¹ã€‚ wxss æ–°å¢äº†å°ºå¯¸å•ä½ï¼Œwxss åœ¨åº•å±‚æ”¯æŒæ–°çš„å°ºå¯¸å•ä½ rpxã€‚ wxss ä»…æ”¯æŒéƒ¨åˆ† css é€‰æ‹©å™¨ã€‚ wxss æä¾›å…¨å±€æ ·å¼å’Œå±€éƒ¨æ ·å¼ã€‚ å°ç¨‹åºé¡µé¢é—´æœ‰å“ªäº›ä¼ é€’æ•°æ®çš„æ–¹æ³•ï¼Ÿ ä½¿ç”¨å…¨å±€å˜é‡å®ç°æ•°æ®ä¼ é€’ é¡µé¢è·³è½¬æˆ–é‡å®šå‘æ—¶ï¼Œä½¿ç”¨ url å¸¦å‚æ•°ä¼ é€’æ•°æ® ä½¿ç”¨ç»„ä»¶æ¨¡æ¿ template ä¼ é€’å‚æ•° ä½¿ç”¨æ•°æ®åº“ä¼ é€’æ•°æ®","link":"/2019/10/19/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"title":"é›†åˆ","text":"ä»€ä¹ˆæ˜¯æ•°æ®ç»“æ„ä¸ç®—æ³•ï¼Ÿ æ•°æ®ç»“æ„å°±æ˜¯åœ¨è®¡ç®—æœºä¸­ï¼Œå­˜å‚¨å’Œç»„ç»‡æ•°æ®çš„æ–¹å¼ã€‚ + å¸¸è§çš„æ•°æ®ç»“æ„ï¼š &lt;img src=&quot;http://vamknight.com/%E5%B8%B8%E8%A7%81%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.png&quot;&gt; &lt;!--more--&gt; ç®—æ³•ï¼ˆAlgorithmï¼‰çš„å®šä¹‰ï¼š ç®—æ³•å°±æ˜¯è§£å†³é—®é¢˜çš„æ–¹æ³•/æ­¥éª¤ï¼Œæ•°æ®ç»“æ„çš„å®ç°ç¦»ä¸å¼€ç®—æ³•ã€‚ ä¸€ä¸ªæœ‰é™æŒ‡ä»¤é›†ï¼Œæ¯æ¡æŒ‡ä»¤çš„æè¿°ä¸ä¾èµ–äºè¯­è¨€ æ¥å—ä¸€äº›è¾“å…¥ï¼ˆæœ‰äº›æƒ…å†µä¸éœ€è¦è¾“å…¥ï¼‰ äº§ç”Ÿè¾“å‡º ä¸€å®šåœ¨æœ‰é™æ­¥éª¤ä¹‹åç»ˆæ­¢ é›†åˆ é›†åˆé€šå¸¸æ˜¯ç”±ä¸€ç»„æ— åºçš„ï¼Œä¸èƒ½é‡å¤çš„å…ƒç´ æ„æˆã€‚å¯ä»¥çœ‹æˆæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ•°ç»„ï¼Œç‰¹æ®Šä¹‹å¤„åœ¨äºé‡Œé¢çš„å…ƒç´ æ²¡æœ‰é¡ºåºå°±æ„å‘³ç€ä¸èƒ½é€šè¿‡ä¸‹æ ‡å€¼è¿›è¡Œè®¿é—®ï¼Œä¸èƒ½é‡å¤æ„å‘³ç€ç›¸åŒçš„å¯¹è±¡åœ¨åŒä¸€ä¸ªé›†åˆä¸­åªèƒ½å­˜åœ¨ä¸€ä»½ã€‚ é›†åˆéƒ½æœ‰å“ªäº›å¸¸è§çš„æ“ä½œæ–¹æ³•å‘¢ï¼Ÿ add(value)ï¼šå‘é›†åˆæ·»åŠ ä¸€ä¸ªæ–°çš„é¡¹ã€‚ remove(value)ï¼šä»é›†åˆç§»é™¤ä¸€ä¸ªå€¼ã€‚ has(value)ï¼šå¦‚æœå€¼åœ¨é›†åˆä¸­ï¼Œè¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚ clear()ï¼šç§»é™¤é›†åˆä¸­çš„æ‰€æœ‰é¡¹ã€‚ size()ï¼šè¿”å›é›†åˆæ‰€åŒ…å«å…ƒç´ çš„æ•°é‡ã€‚ä¸æ•°ç»„çš„ length å±æ€§ç±»ä¼¼ã€‚ values()ï¼šè¿”å›ä¸€ä¸ªåŒ…å«é›†åˆä¸­æ‰€æœ‰å€¼çš„æ•°ç»„ã€‚ é›†åˆä¹‹é—´éƒ½æœ‰å“ªäº›æ“ä½œå‘¢ï¼Ÿ å¹¶é›†ï¼šå¯¹äºä¸¤ä¸ªç»™å®šçš„é›†åˆï¼Œè¿”å›ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªé›†åˆä¸­æ‰€æœ‰å…ƒç´ çš„æ–°é›†åˆã€‚ äº¤é›†ï¼šå¯¹äºä¸¤ä¸ªç»™å®šçš„é›†åˆï¼Œè¿”å›ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªé›†åˆä¸­å…¬æœ‰å…ƒç´ çš„æ–°é›†åˆã€‚ å·®é›†ï¼šå¯¹äºä¸¤ä¸ªç»™å®šçš„é›†åˆï¼Œè¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰å­˜åœ¨äºç¬¬ä¸€ä¸ªé›†åˆä¸”ä¸å­˜åœ¨äºç¬¬äºŒä¸ªé›†åˆçš„æ–°é›†åˆã€‚ å­é›†ï¼šéªŒè¯ä¸€ä¸ªç»™å®šé›†åˆæ˜¯å¦æ˜¯å¦ä¸€ä¸ªé›†åˆçš„å­é›†ã€‚ é›†åˆå°è£…çš„å®Œæ•´ä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128// å°è£…é›†åˆçš„æ„é€ å‡½æ•°function Set() { // ä½¿ç”¨ä¸€ä¸ªå¯¹è±¡æ¥ä¿å­˜é›†åˆçš„å…ƒç´  this.items = {} // é›†åˆçš„æ“ä½œæ–¹æ³• // åˆ¤æ–­é›†åˆä¸­æ˜¯å¦æœ‰æŸä¸ªå…ƒç´  Set.prototype.has = function (value) { return this.items.hasOwnProperty(value) } // å‘é›†åˆä¸­æ·»åŠ å…ƒç´  Set.prototype.add = function (value) { // 1.åˆ¤æ–­é›†åˆä¸­æ˜¯å¦å·²ç»åŒ…å«äº†è¯¥å…ƒç´  if (this.has(value)) return false // 2.å°†å…ƒç´ æ·»åŠ åˆ°é›†åˆä¸­ this.items[value] = value return true } // ä»é›†åˆä¸­åˆ é™¤æŸä¸ªå…ƒç´  Set.prototype.remove = function (value) { // 1.åˆ¤æ–­é›†åˆä¸­æ˜¯å¦åŒ…å«è¯¥å…ƒç´  if (!this.has(value)) return false // 2.åŒ…å«è¯¥å…ƒç´ , é‚£ä¹ˆå°†å…ƒç´ åˆ é™¤ delete this.items[value] return true } // æ¸…ç©ºé›†åˆä¸­æ‰€æœ‰çš„å…ƒç´  Set.prototype.clear = function () { this.items = {} } // è·å–é›†åˆçš„å¤§å° Set.prototype.size = function () { return Object.keys(this.items).length /* è€ƒè™‘å…¼å®¹æ€§é—®é¢˜, ä½¿ç”¨ä¸‹é¢çš„ä»£ç  var count = 0 for (var value in this.items) { if (this.items.hasOwnProperty(value)) { count++ } } return count */ } // è·å–é›†åˆä¸­æ‰€æœ‰çš„å€¼ Set.prototype.values = function () { return Object.keys(this.items) /* è€ƒè™‘å…¼å®¹æ€§é—®é¢˜, ä½¿ç”¨ä¸‹é¢çš„ä»£ç  var keys = [] for (var value in this.items) { keys.push(value) } return keys */ } //é›†åˆä¹‹é—´çš„æ“ä½œ //å¹¶é›† Set.prototype.union = function (otherSet) { //this:é›†åˆå¯¹è±¡A //otherSet:é›†åˆå¯¹è±¡B //1.åˆ›å»ºæ–°çš„é›†åˆ var unionSet = new Set() //2.å°†Aé›†åˆä¸­æ‰€æœ‰çš„å…ƒç´ æ·»åŠ åˆ°æ–°é›†åˆä¸­ var values = this.values() for(var i = 0; i &lt; values.length; i++) { unionSet.add(values[i]) } //3.å–å‡ºBé›†åˆä¸­çš„å…ƒç´ ï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦æ·»åŠ åˆ°æ–°é›†åˆ values = otherSet.values() for(var i = 0; i &lt; values.length; i++) { unionSet.add(values[i]) } return unionSet } //äº¤é›† Set.prototype.intersection = function (otherSet) { var intersectionSet = new Set() var values = this.values() //å–å‡ºAé›†åˆä¸€ä¸ªä¸ªå…ƒç´ ï¼Œåˆ¤æ–­æ˜¯å¦åŒæ—¶å­˜åœ¨äºBä¸­ï¼Œå­˜åœ¨Bä¸­ï¼Œåˆ™æ·»åŠ åˆ°æ–°é›†åˆä¸­ for (var i = 0; i &lt; values.length; i++) { var item = values[i] if (otherSet.has(item)) { intersectionSet.add(item) } } return intersectionSet } //å·®é›† Set.prototype.difference = function (otherSet) { var differenceSet = new Set() var values = this.values() //å–å‡ºAé›†åˆä¸€ä¸ªä¸ªå…ƒç´ ï¼Œåˆ¤æ–­æ˜¯å¦åŒæ—¶å­˜åœ¨äºBä¸­ï¼Œä¸å­˜åœ¨Bä¸­ï¼Œåˆ™æ·»åŠ åˆ°æ–°é›†åˆä¸­ for (var i = 0; i &lt; values.length; i++) { var item = values[i] if (!otherSet.has(item)) { differenceSet.add(item) } } return differenceSet } // å­é›† Set.prototype.subset = function (otherSet) { var values = this.values() for (var i = 0; i &lt; values.length; i++) { var item = values[i] if (!otherSet.has(item)) { return false } } return true }} é˜Ÿåˆ—ï¼ˆQueueï¼‰ é˜Ÿåˆ—æ˜¯ä¸€ç§å—é™çš„çº¿æ€§è¡¨ï¼Œå…ˆè¿›å…ˆå‡ºï¼ˆFIFO First In First Outï¼‰ã€‚ å®ƒåªå…è®¸åœ¨è¡¨çš„å‰ç«¯ï¼ˆfrontï¼‰è¿›è¡Œåˆ é™¤æ“ä½œ åœ¨è¡¨çš„åç«¯ï¼ˆrearï¼‰è¿›è¡Œæ’å…¥æ“ä½œ å¸¸è§åº”ç”¨åœºæ™¯ï¼š + é˜Ÿåˆ—ä¸»è¦ç”¨åœ¨å’Œæ—¶é—´æœ‰å…³çš„åœ°æ–¹ï¼Œç‰¹åˆ«æ˜¯æ“ä½œç³»ç»Ÿä¸­ï¼Œé˜Ÿåˆ—æ˜¯å®ç°å¤šä»»åŠ¡çš„é‡è¦æœºåˆ¶ã€‚ + æ¶ˆæ¯æœºåˆ¶å¯ä»¥é€šè¿‡é˜Ÿåˆ—æ¥å®ç°ï¼Œè¿›ç¨‹è°ƒåº¦ä¹Ÿæ˜¯ä½¿ç”¨é˜Ÿåˆ—æ¥å®ç°ã€‚ é˜Ÿåˆ—æœ‰å“ªäº›å¸¸è§çš„æ“ä½œå‘¢ï¼Ÿ enqueue(element): å‘é˜Ÿåˆ—å°¾éƒ¨æ·»åŠ ä¸€ä¸ªï¼ˆæˆ–å¤šä¸ªï¼‰æ–°çš„é¡¹ã€‚ dequeue(): ç§»é™¤é˜Ÿåˆ—çš„ç¬¬ä¸€é¡¹ï¼Œå¹¶è¿”å›è¢«ç§»é™¤çš„å…ƒç´ ã€‚ front(): è¿”å›é˜Ÿåˆ—ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œé˜Ÿåˆ—ä¸åšä»»ä½•æ”¹åŠ¨ã€‚ isEmpty(): å¦‚æœé˜Ÿåˆ—ä¸­ä¸åŒ…å«ä»»ä½•å…ƒç´ ï¼Œè¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚ size(): è¿”å›é˜Ÿåˆ—åŒ…å«çš„å…ƒç´ ä¸ªæ•°ï¼Œä¸æ•°ç»„ length ç±»ä¼¼ã€‚ toString(): å°†é˜Ÿåˆ—ä¸­çš„å†…å®¹ï¼Œè½¬æˆå­—ç¬¦ä¸²å½¢å¼ã€‚ é˜Ÿåˆ—å¸¸è§æ“ä½œçš„å°è£…ï¼š 1234567891011121314151617181920212223242526272829303132333435363738//å°è£…é˜Ÿåˆ—function Queue() { //å±æ€§ this.items = [] //å°†å…ƒç´ åŠ å…¥åˆ°é˜Ÿåˆ—ä¸­ Queue.prototype.enqueue = function(element) { this.items.push(element) } //ä»é˜Ÿåˆ—ä¸­åˆ é™¤å‰ç«¯å…ƒç´  Queue.prototype.dequeue = function() { return this.items.shift() } //æŸ¥çœ‹å‰ç«¯çš„å…ƒç´  Queue.prototype.front = function() { return this.items[0] } //æŸ¥çœ‹é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º Queue.prototype.isEmpty = function() { return this.items.length == 0 } //æŸ¥çœ‹é˜Ÿåˆ—ä¸­å…ƒç´ çš„ä¸ªæ•° Queue.prototype.size = function() { return this.items.length } //toStringæ–¹æ³• Queue.prototype.toString = function() { var resultString = '' for (var i = 0; i&lt; this.items.length; i++) { resultString += this.items[i] + ' ' } return resultString }}//è°ƒç”¨é˜Ÿåˆ—å‡½æ•°var queue = new Queue()queue.enqueue(20)alert(queue) é¢è¯•é¢˜ï¼š å‡»é¼“ä¼ èŠ± 12345678910111213141516171819//é¢è¯•é¢˜: å‡»é¼“ä¼ èŠ±function passGame(nameList, num) { //åˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—ç»“æ„ var queue = new Queue() //å°†æ‰€æœ‰äººåŠ å…¥åˆ°é˜Ÿåˆ—ä¸­ for(var i = 0; i &lt; nameList.length; i++) { queue.enqueue(nameList[i]) } //å¼€å§‹æ•°æ•°å­— while (queue.size() &gt; 1) { //ä¸æ˜¯numé‡æ–°åŠ å…¥é˜Ÿåˆ—æœ«å°¾ //æ˜¯numä»é˜Ÿåˆ—ä¸­åˆ é™¤ for (var i = 0; i&lt; num - 1; i++) { queue.enqueue(queue.dequeue()) } queue.dequeue() } return queque.front()} å°è£…ä¼˜å…ˆé˜Ÿåˆ— 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465//å°è£…ä¼˜å…ˆçº§é˜Ÿåˆ—function PriorityQueue() { //å†…éƒ¨åˆ›å»ºä¸€ä¸ªæ„é€ ç±» function QueueElement(element, priority) { this.element = element this.priority = priority } //å±æ€§ this.items = [] //å®ç°é˜Ÿåˆ—å…ƒç´ çš„æ’å…¥ PriorityQueue.prototype.enqueue = function(element, priority) { //åˆ›å»ºQueueElementå¯¹è±¡ var queueElement = new QueueElement(element, priority) //åˆ¤æ–­ä¸ºé˜Ÿåˆ—æ˜¯å¦ä¸ºç©º if (this.items.length == 0) { this.items.push(queueElement) } else { var added = false for (var i = 0; i &lt; this.items.length; i++) { if (queueElement.priority &lt; this.items[i].priority) { this.items.splice(i, 0, queueElement) added = true break } } if (!added) { this.items.push(queueElement) } } } //ä»é˜Ÿåˆ—ä¸­åˆ é™¤å‰ç«¯å…ƒç´  PriorityQueue.prototype.dequeue = function() { return this.items.shift() } //æŸ¥çœ‹å‰ç«¯çš„å…ƒç´  PriorityQueue.prototype.front = function() { return this.items[0] } //æŸ¥çœ‹é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º PriorityQueue.prototype.isEmpty = function() { return this.items.length == 0 } //æŸ¥çœ‹é˜Ÿåˆ—ä¸­å…ƒç´ çš„ä¸ªæ•° PriorityQueue.prototype.size = function() { return this.items.length } //toStringæ–¹æ³• PriorityQueue.prototype.toString = function() { var resultString = '' for (var i = 0; i&lt; this.items.length; i++) { resultString += this.items[i].element + '-' + this.items[i].priority + ' ' } return resultString }}//æµ‹è¯•ä»£ç var pq = new PriorityQueue()pq.enqueue('a',10)pq.enqueue('b',100)pq.enqueue('c',50)alert(pq) é“¾è¡¨ ä»€ä¹ˆæ˜¯é“¾è¡¨ï¼Ÿ + é“¾è¡¨çš„å…ƒç´ åœ¨å†…å­˜ä¸­ä¸å¿…æ˜¯è¿ç»­çš„ç©ºé—´ï¼Œé“¾è¡¨çš„æ¯ä¸ªå…ƒç´ ç”±ä¸€ä¸ªå­˜å‚¨å…ƒç´ æœ¬èº«çš„èŠ‚ç‚¹å’Œä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ çš„å¼•ç”¨ç»„æˆã€‚ ç›¸å¯¹äºæ•°ç»„ï¼Œé“¾è¡¨éƒ½æœ‰å“ªäº›ä¼˜åŠ¿ï¼Ÿ å†…å­˜ç©ºé—´ä¸æ˜¯æ¯”æ˜¯è¿ç»­çš„. å¯ä»¥å……åˆ†åˆ©ç”¨è®¡ç®—æœºçš„å†…å­˜. å®ç°çµæ´»çš„å†…å­˜åŠ¨æ€ç®¡ç†ã€‚ é“¾è¡¨ä¸å¿…åœ¨åˆ›å»ºæ—¶å°±ç¡®å®šå¤§å°, å¹¶ä¸”å¤§å°å¯ä»¥æ— é™çš„å»¶ä¼¸ä¸‹å»ã€‚ é“¾è¡¨åœ¨æ’å…¥å’Œåˆ é™¤æ•°æ®æ—¶, æ—¶é—´å¤æ‚åº¦å¯ä»¥è¾¾åˆ° O(1). ç›¸å¯¹æ•°ç»„æ•ˆç‡é«˜å¾ˆå¤šã€‚ ç›¸å¯¹äºæ•°ç»„ï¼Œé“¾è¡¨éƒ½æœ‰å“ªäº›ç¼ºç‚¹ï¼Ÿ + é“¾è¡¨è®¿é—®ä»»ä½•ä¸€ä¸ªä½ç½®çš„å…ƒç´ æ—¶, éƒ½éœ€è¦ä»å¤´å¼€å§‹è®¿é—®.(æ— æ³•è·³è¿‡ç¬¬ä¸€ä¸ªå…ƒç´ è®¿é—®ä»»ä½•ä¸€ä¸ªå…ƒç´ )ã€‚ + æ— æ³•é€šè¿‡ä¸‹æ ‡ç›´æ¥è®¿é—®å…ƒç´ , éœ€è¦ä»å¤´ä¸€ä¸ªä¸ªè®¿é—®, ç›´åˆ°æ‰¾åˆ°å¯¹åº”çš„é—®é¢˜ã€‚ é“¾è¡¨çš„æ•°æ®ç»“æ„ï¼š é“¾è¡¨æœ‰å“ªäº›å¸¸è§æ“ä½œï¼Ÿ + append(element)ï¼šå‘åˆ—è¡¨å°¾éƒ¨æ·»åŠ ä¸€ä¸ªæ–°çš„é¡¹ + insert(position, element)ï¼šå‘åˆ—è¡¨çš„ç‰¹å®šä½ç½®æ’å…¥ä¸€ä¸ªæ–°çš„é¡¹ã€‚ + update(position, element): ä¿®æ”¹æŸä¸€ä¸ªä½ç½®ä¸Šçš„å…ƒç´ ã€‚ + remove(element)ï¼šä»åˆ—è¡¨ä¸­ç§»é™¤ä¸€é¡¹ã€‚ + indexOf(element)ï¼šè¿”å›å…ƒç´ åœ¨åˆ—è¡¨ä¸­çš„ç´¢å¼•ã€‚å¦‚æœåˆ—è¡¨ä¸­æ²¡æœ‰è¯¥å…ƒç´ åˆ™è¿”å›-1ã€‚ // é“¾è¡¨ä¸­çš„å±æ€§ this.length = 0 this.head = null // é“¾è¡¨å°¾éƒ¨è¿½åŠ å…ƒç´ æ–¹æ³• LinkedList.prototype.append = function (element) { // 1.æ ¹æ®æ–°å…ƒç´ åˆ›å»ºèŠ‚ç‚¹ var newNode = new Node(element) // 2.åˆ¤æ–­åŸæ¥é“¾è¡¨æ˜¯å¦ä¸ºç©º if (this.head === null) { / + removeAt(position)ï¼šä»åˆ—è¡¨çš„ç‰¹å®šä½ç½®ç§»é™¤ä¸€é¡¹ã€‚ this.next = null}/ é“¾è¡¨å°¾ç©ºthis.head = newNode} else { // é“¾è¡¨ä¸ä¸ºç©º// 2.1.å®šä¹‰å˜é‡, ä¿å­˜å½“å‰æ‰¾åˆ°çš„èŠ‚ç‚¹var current = this.headwhile (current.next) {current = current.next} // 2.2.æ‰¾åˆ°æœ€åä¸€é¡¹, å°†å…¶nextèµ‹å€¼ä¸ºnode current.next = newNode } // 3.é“¾è¡¨é•¿åº¦å¢åŠ 1 this.length++ } // é“¾è¡¨çš„toStringæ–¹æ³• LinkedList.prototype.toString = function () { // 1.å®šä¹‰ä¸¤ä¸ªå˜é‡ var current = this.head var listString = &quot;&quot; // 2.å¾ªç¯è·å–é“¾è¡¨ä¸­æ‰€æœ‰çš„å…ƒç´  while (current) { listString += &quot;,&quot; + current.element current = current.next } // 3.è¿”å›æœ€ç»ˆç»“æœ return listString.slice(1) } // æ ¹æ®ä¸‹æ ‡åˆ é™¤å…ƒç´  LinkedList.prototype.insert = function (position, element) { // 1.æ£€æµ‹è¶Šç•Œé—®é¢˜: è¶Šç•Œæ’å…¥å¤±è´¥ if (position &lt; 0 || position &gt; this.length) return false // 2.å®šä¹‰å˜é‡, ä¿å­˜ä¿¡æ¯ var newNode = new Node(element) var current = this.head var previous = null index = 0 // 3.åˆ¤æ–­æ˜¯å¦åˆ—è¡¨æ˜¯å¦åœ¨ç¬¬ä¸€ä¸ªä½ç½®æ’å…¥ if (position == 0) { newNode.next = current this.head = newNode } else { while (index++ &lt; position) { previous = current current = current.next } newNode.next = current previous.next = newNode } // 4.length+1 this.length++ return true } //updateæ–¹æ³• LinkedList.prototype.update = function (position, newData) { if (position &lt; 0 || position &gt;= this.length) return null var current = this.head var index = 0 while (index++ &lt; position) { current = current.next } current.data = newData return true } // æ ¹æ®ä½ç½®ç§»é™¤èŠ‚ç‚¹ LinkedList.prototype.removeAt = function (position) { // 1.æ£€æµ‹è¶Šç•Œé—®é¢˜: è¶Šç•Œç§»é™¤å¤±è´¥, è¿”å›null if (position &lt; 0 || position &gt;= this.length) return null // 2.å®šä¹‰å˜é‡, ä¿å­˜ä¿¡æ¯ var current = this.head var previous = null var index = 0 // 3.åˆ¤æ–­æ˜¯å¦æ˜¯ç§»é™¤ç¬¬ä¸€é¡¹ if (position === 0) { this.head = current.next } else { while (index++ &lt; position) { previous = current current = current.next } previous.next = current.next } // 4.length-1 this.length-- // 5.è¿”å›ç§»é™¤çš„æ•°æ® return current.element } // æ ¹æ®å…ƒç´ è·å–é“¾è¡¨ä¸­çš„ä½ç½® LinkedList.prototype.indexOf = function (element) { // 1.å®šä¹‰å˜é‡, ä¿å­˜ä¿¡æ¯ var current = this.head index = 0 // 2.æ‰¾åˆ°å…ƒç´ æ‰€åœ¨çš„ä½ç½® while (current) { if (current.element === element) { return index } index++ current = current.next } // 3.æ¥åˆ°è¿™ä¸ªä½ç½®, è¯´æ˜æ²¡æœ‰æ‰¾åˆ°, åˆ™è¿”å›-1 return -1 } // æ ¹æ®å…ƒç´ åˆ é™¤ä¿¡æ¯ LinkedList.prototype.remove = function (element) { var index = this.indexOf(element) return this.removeAt(index) } // åˆ¤æ–­é“¾è¡¨æ˜¯å¦ä¸ºç©º LinkedList.prototype.isEmpty = function () { return this.length == 0 } // è·å–é“¾è¡¨çš„é•¿åº¦ LinkedList.prototype.size = function () { return this.length } // è·å–ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ LinkedList.prototype.getFirst = function () { return this.head.element } } 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950- ä»¥ä¸Šæ“ä½œçš„éƒ½æ˜¯å•å‘é“¾è¡¨ï¼Œä¸‹é¢æ¥è®¤è¯†ä¸€ä¸‹åŒå‘é“¾è¡¨ã€‚- å•å‘é“¾è¡¨çš„ç¼ºç‚¹ï¼š + åªèƒ½ä»å¤´éå†åˆ°å°¾ï¼Œä¹Ÿå°±æ˜¯é“¾è¡¨çš„ç›¸è¿çš„è¿‡ç¨‹æ˜¯å•å‘çš„ï¼Œå®ç°çš„åŸç†æ˜¯ä¸Šä¸€ä¸ªé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªçš„å¼•ç”¨ã€‚ + æˆ‘ä»¬å¯ä»¥è½»æ¾çš„åˆ°è¾¾ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä½†æ˜¯å›åˆ°ä¸Šä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¾ˆéš¾çš„ï¼Œåªèƒ½ä»å¤´éå†ã€‚ + ä½†æ˜¯ï¼Œå®é™…å¼€å‘ä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°å›åˆ°ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„æƒ…å†µã€‚- åŒå‘é“¾è¡¨ï¼š + æ—¢å¯ä»¥ä»å¤´éå†åˆ°å°¾ï¼Œåˆå¯ä»¥ä»å°¾éå†åˆ°å¤´ã€‚ + ä¹Ÿå°±æ˜¯é“¾è¡¨ç›¸è¿çš„è¿‡ç¨‹æ˜¯åŒå‘çš„ã€‚ + å®ç°çš„åŸç†å°±æ˜¯æ—¢æœ‰å…ˆå‰è¿æ¥çš„å¼•ç”¨ï¼Œä¹Ÿæœ‰ä¸€ä¸ªå‘åè¿æ¥çš„å¼•ç”¨ã€‚ + åŒå‘é“¾è¡¨å¯ä»¥æœ‰æ•ˆçš„è§£å†³å•å‘é“¾è¡¨çš„é—®é¢˜ã€‚- åŒå‘é“¾è¡¨çš„ä¸€äº›ç¼ºç‚¹ï¼š + æ¯æ¬¡åœ¨æ’å…¥æˆ–åˆ é™¤æŸä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œéœ€è¦å¤„ç†å››ä¸ªå¼•ç”¨ï¼Œå®ç°èµ·æ¥æ¯”è¾ƒå¤æ‚ã€‚ + ç›¸å¯¹äºå•å‘é“¾è¡¨å ç”¨çš„å†…å­˜æ›´å¤§ä¸€äº›ã€‚- åŒå‘é“¾è¡¨çš„ç»“æ„å›¾ï¼š&lt;img src=&quot;http://vamknight.com/%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A8.png&quot;&gt;- åŒå‘é“¾è¡¨çš„ç‰¹ç‚¹ï¼š + å¯ä»¥ä½¿ç”¨ä¸€ä¸ªheadå’Œä¸€ä¸ªtailåˆ†åˆ«æŒ‡å‘å¤´éƒ¨å’Œå°¾éƒ¨çš„èŠ‚ç‚¹ã€‚ + æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼šå‰ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆï¼ˆprevï¼‰ã€ä¿å­˜çš„å…ƒç´ ï¼ˆitemï¼‰ã€åä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆï¼ˆnextï¼‰ã€‚ + åŒå‘é“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„prevæ˜¯nullã€‚ + åŒå‘é“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„nextæ˜¯nullã€‚- åŒå‘é“¾è¡¨éƒ½æœ‰å“ªäº›å¸¸è§æ“ä½œï¼Ÿ + append(element)ï¼šå‘åˆ—è¡¨å°¾éƒ¨æ·»åŠ ä¸€ä¸ªæ–°çš„é¡¹ + insert(position, element)ï¼šå‘åˆ—è¡¨çš„ç‰¹å®šä½ç½®æ’å…¥ä¸€ä¸ªæ–°çš„é¡¹ã€‚ + update(position, element): ä¿®æ”¹æŸä¸€ä¸ªä½ç½®ä¸Šçš„å…ƒç´ ã€‚ + get(position): è·å–å¯¹åº”ä½ç½®çš„å…ƒç´ ã€‚ + remove(element)ï¼šä»åˆ—è¡¨ä¸­ç§»é™¤ä¸€é¡¹ã€‚ + indexOf(element)ï¼šè¿”å›å…ƒç´ åœ¨åˆ—è¡¨ä¸­çš„ç´¢å¼•ã€‚å¦‚æœåˆ—è¡¨ä¸­æ²¡æœ‰è¯¥å…ƒç´ åˆ™è¿”å›-1ã€‚ + removeAt(position)ï¼šä»åˆ—è¡¨çš„ç‰¹å®šä½ç½®ç§»é™¤ä¸€é¡¹ã€‚ + isEmpty()ï¼šå¦‚æœé“¾è¡¨ä¸­ä¸åŒ…å«ä»»ä½•å…ƒç´ ï¼Œè¿”å›trueï¼Œå¦‚æœé“¾è¡¨é•¿åº¦å¤§äº0åˆ™è¿”å›falseã€‚ + size()ï¼šè¿”å›é“¾è¡¨åŒ…å«çš„å…ƒç´ ä¸ªæ•°ã€‚ä¸æ•°ç»„çš„lengthå±æ€§ç±»ä¼¼ã€‚ + toString()ï¼šç”±äºåˆ—è¡¨é¡¹ä½¿ç”¨äº†Nodeç±»ï¼Œå°±éœ€è¦é‡å†™ç»§æ‰¿è‡ªJavaScriptå¯¹è±¡é»˜è®¤çš„toStringæ–¹æ³•ï¼Œè®©å…¶åªè¾“å‡ºå…ƒç´ çš„å€¼ã€‚ + forwardString(): è¿”å›æ­£å‘éå†çš„èŠ‚ç‚¹å­—ç¬¦ä¸²å½¢å¼ã€‚ + backwardString(): è¿”å›åå‘éå†çš„èŠ‚ç‚¹å­—ç¬¦ä¸²å½¢å¼ã€‚- åŒå‘é“¾è¡¨å¸¸è§æ–¹æ³•çš„å°è£…ï¼š // åˆ›å»ºåŒå‘é“¾è¡¨çš„æ„é€ å‡½æ•°function DoublyLinkedList() {// åˆ›å»ºèŠ‚ç‚¹æ„é€ å‡½æ•°function Node(element) {this.element = elementthis.next = nullthis.prev = null // æ–°æ·»åŠ çš„} // å®šä¹‰å±æ€§ this.length = 0 this.head = null this.tail = null // æ–°æ·»åŠ çš„ // å®šä¹‰ç›¸å…³æ“ä½œæ–¹æ³• // åœ¨å°¾éƒ¨è¿½åŠ æ•°æ® DoublyLinkedList.prototype.append = function (element) { // 1.æ ¹æ®å…ƒç´ åˆ›å»ºèŠ‚ç‚¹ var newNode = new Node(element) // 2.åˆ¤æ–­åˆ—è¡¨æ˜¯å¦ä¸ºç©ºåˆ—è¡¨ if (this.head == null) { this.head = newNode this.tail = newNode } else { this.tail.next = newNode newNode.prev = this.tail this.tail = newNode } // 3.length+1 this.length++ } // åœ¨ä»»æ„ä½ç½®æ’å…¥æ•°æ® DoublyLinkedList.prototype.insert = function (position, element) { // 1.åˆ¤æ–­è¶Šç•Œçš„é—®é¢˜ if (position &lt; 0 || position &gt; this.length) return false // 2.åˆ›å»ºæ–°çš„èŠ‚ç‚¹ var newNode = new Node(element) // 3.åˆ¤æ–­æ’å…¥çš„ä½ç½® if (position === 0) { // åœ¨ç¬¬ä¸€ä¸ªä½ç½®æ’å…¥æ•°æ® // åˆ¤æ–­é“¾è¡¨æ˜¯å¦ä¸ºç©º if (this.head == null) { this.head = newNode this.tail = newNode } else { this.head.prev = newNode newNode.next = this.head this.head = newNode } } else if (position === this.length) { // æ’å…¥åˆ°æœ€åçš„æƒ…å†µ // æ€è€ƒ: è¿™ç§æƒ…å†µæ˜¯å¦éœ€è¦åˆ¤æ–­é“¾è¡¨ä¸ºç©ºçš„æƒ…å†µå‘¢? ç­”æ¡ˆæ˜¯ä¸éœ€è¦, ä¸ºä»€ä¹ˆ? this.tail.next = newNode newNode.prev = this.tail this.tail = newNode } else { // åœ¨ä¸­é—´ä½ç½®æ’å…¥æ•°æ® // å®šä¹‰å±æ€§ var index = 0 var current = this.head var previous = null // æŸ¥æ‰¾æ­£ç¡®çš„ä½ç½® while (index++ &lt; position) { previous = current current = current.next } // äº¤æ¢èŠ‚ç‚¹çš„æŒ‡å‘é¡ºåº newNode.next = current newNode.prev = previous current.prev = newNode previous.next = newNode } // 4.length+1 this.length++ return true } // æ ¹æ®ä½ç½®åˆ é™¤å¯¹åº”çš„å…ƒç´  DoublyLinkedList.prototype.removeAt = function (position) { // 1.åˆ¤æ–­è¶Šç•Œçš„é—®é¢˜ if (position &lt; 0 || position &gt;= this.length) return null // 2.åˆ¤æ–­ç§»é™¤çš„ä½ç½® var current = this.head if (position === 0) { if (this.length == 1) { this.head = null this.tail = null } else { this.head = this.head.next this.head.prev = null } } else if (position === this.length -1) { current = this.tail this.tail = this.tail.prev this.tail.next = null } else { var index = 0 var previous = null while (index++ &lt; position) { previous = current current = current.next } previous.next = current.next current.next.prev = previous } // 3.length-1 this.length-- return current.element } // æ ¹æ®å…ƒç´ è·å–åœ¨é“¾è¡¨ä¸­çš„ä½ç½® DoublyLinkedList.prototype.indexOf = function (element) { // 1.å®šä¹‰å˜é‡ä¿å­˜ä¿¡æ¯ var current = this.head var index = 0 // 2.æŸ¥æ‰¾æ­£ç¡®çš„ä¿¡æ¯ while (current) { if (current.element === element) { return index } index++ current = current.next } // 3.æ¥åˆ°è¿™ä¸ªä½ç½®, è¯´æ˜æ²¡æœ‰æ‰¾åˆ°, åˆ™è¿”å›-1 return -1 } // æ ¹æ®å…ƒç´ åˆ é™¤ DoublyLinkedList.prototype.remove = function (element) { var index = this.indexOf(element) return this.removeAt(index) } // åˆ¤æ–­æ˜¯å¦ä¸ºç©º DoublyLinkedList.prototype.isEmpty = function () { return this.length === 0 } // è·å–é“¾è¡¨é•¿åº¦ DoublyLinkedList.prototype.size = function () { return this.length } // è·å–ç¬¬ä¸€ä¸ªå…ƒç´  DoublyLinkedList.prototype.getHead = function () { return this.head.element } // è·å–æœ€åä¸€ä¸ªå…ƒç´  DoublyLinkedList.prototype.getTail = function () { return this.tail.element } // éå†æ–¹æ³•çš„å®ç° // æ­£å‘éå†çš„æ–¹æ³• DoublyLinkedList.prototype.forwardString = function () { var current = this.head var forwardStr = &quot;&quot; while (current) { forwardStr += &quot;,&quot; + current.element current = current.next } return forwardStr.slice(1) } // åå‘éå†çš„æ–¹æ³• DoublyLinkedList.prototype.reverseString = function () { var current = this.tail var reverseStr = &quot;&quot; while (current) { reverseStr += &quot;,&quot; + current.element current = current.prev } return reverseStr.slice(1) } // å®ç°toStringæ–¹æ³• DoublyLinkedList.prototype.toString = function () { return this.forwardString() } } 1 æ ˆ æˆ‘ä»¬çŸ¥é“æ•°ç»„æ˜¯ä¸€ç§çº¿æ€§ç»“æ„ï¼Œå¯ä»¥åœ¨æ•°ç»„çš„ä»»æ„ä½ç½®æ’å…¥æˆ–åˆ é™¤æ•°æ®ã€‚ä½†æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬ä¸ºäº†å®ç°æŸç§åŠŸèƒ½ï¼Œå¿…é¡»å¯¹è¿™ç§ ä»»æ„æ€§ åŠ ä»¥é™åˆ¶ï¼Œè€Œæˆ‘ä»¬çš„æ ˆå’Œé˜Ÿåˆ—å°±æ˜¯æ¯”è¾ƒå¸¸è§çš„ å—é™çš„çº¿æ€§ç»“æ„ã€‚ æ ˆæ˜¯ä¸€ç§å…ˆè¿›åå‡ºæˆ–**åè¿›å…ˆå‡º(LIFO Last In First Out)**çš„æ•°æ®ç»“æ„ï¼Œæ ˆå†…çš„å…ƒç´ åªèƒ½é€šè¿‡åˆ—è¡¨çš„ä¸€ç«¯è®¿é—®ï¼Œè¿™ä¸€ç«¯ç§°ä¸ºæ ˆé¡¶ï¼Œå› ä¸ºæ•°æ®åªèƒ½åœ¨æ ˆé¡¶æ·»åŠ æˆ–åˆ é™¤ï¼Œæ‰€ä»¥åªè¦æ•°æ®çš„ä¿å­˜æ»¡è¶³â€œå…ˆè¿›åå‡ºæˆ–åè¿›å…ˆå‡ºâ€çš„åŸç†ï¼Œéƒ½ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨æ ˆã€‚ æ ˆçš„ç»“æ„ç¤ºæ„å›¾ï¼š æ ˆå¸¸è§æœ‰å“ªäº›æ“ä½œï¼Ÿ pushï¼ˆelementï¼‰ï¼šæ·»åŠ ä¸€ä¸ªæ–°å…ƒç´ åˆ°æ ˆé¡¶ä½ç½®ã€‚ popï¼ˆï¼‰ï¼šç§»é™¤æ ˆé¡¶çš„å…ƒç´ ï¼ŒåŒæ—¶è¿”å›è¢«ç§»é™¤çš„å…ƒç´ ã€‚ peekï¼ˆï¼‰ï¼šè¿”å›æ ˆé¡¶çš„å…ƒç´ ï¼Œä¸å¯¹æ ˆåšä»»ä½•ä¿®æ”¹ã€‚ isEmptyï¼ˆï¼‰ï¼šå¦‚æœæ ˆé‡Œæ²¡æœ‰ä»»ä½•å…ƒç´ è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚ sizeï¼ˆï¼‰ï¼šè¿”å›æ ˆé‡Œçš„å…ƒç´ ä¸ªæ•°ï¼Œç±»ä¼¼æ•°ç»„ä¸­çš„ lengthã€‚ toStringï¼ˆï¼‰ï¼šå°†æ ˆç»“æ„çš„å†…å®¹ä»¥å­—ç¬¦å½¢å¼è¿”å›ã€‚ æ ˆå¸¸è§æ“ä½œçš„å°è£…ï¼š 1234567891011121314151617181920212223242526272829303132333435function Stack() { this.items = [] //å°†å…ƒç´ å‹å…¥æ ˆ Stack.prototype.push = function(element) { this.items.push(element) } //ä»æ ˆä¸­ç§»é™¤å…ƒç´  Stack.prototype.pop = function() { return this.items.pop() } //æŸ¥çœ‹æ ˆé¡¶å…ƒç´  Stack.prototype.peek = function() { return this.items[this.items.length - 1] } //åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º Stack.prototype.isEmpty = function() { return this.items.length == 0 } //åˆ¤æ–­æ ˆä¸­å…ƒç´ ä¸ªæ•° Stack.prototype.size = function() { return this.items.length } //toStringæ–¹æ³• Stack.prototype.toString = function() { var resultString = '' for (var i = 0; i&lt; this.items.length; i++) { resultString += this.items[i] + ' ' } return resultString }}//æ ˆçš„ä½¿ç”¨var s = new Stack()s.push(23)alert(s) 12345678910111213141516171819//å‡½æ•°åè¿›åˆ¶è½¬ä¸ºäºŒè¿›åˆ¶function dec2bin(decNumber) { //å®šä¹‰æ ˆå¯¹è±¡ var stack = new Stack() while (decNumber &gt; 0) { //è·å–ä½™æ•°æ”¾å…¥æ ˆä¸­ stack.push(decNumber % 2) //è·å–é™¤åçš„ç»“æœ,ä½œä¸ºä¸‹æ¬¡æ“ä½œçš„å¯¹è±¡ decNumber = Math.floor(decNumber / 2) } //ä»æ ˆä¸­å–å‡º0å’Œ1 var binaryString = '' while (!stack.isEmpty()) { binaryString += stack.pop() } return binaryString}//è°ƒç”¨å‡½æ•°alert(dec2bin(100)) æ•°æ®ç»“æ„ä¸ç®—æ³• äº”å¤§ç®—æ³• è´ªå¿ƒç®—æ³• åˆ†æ²»ç®—æ³• åŠ¨æ€è§„åˆ’ å›æº¯æ³• åˆ†æ”¯é™ç•Œæ³• å†’æ³¡æ’åº1234567891011function bubleSort(arr) { var len = arr.length; for (let outer = len ; outer &gt;= 2; outer--) { for(let inner = 0; inner &lt;=outer - 1; inner++) { if(arr[inner] &gt; arr[inner + 1]) { [arr[inner],arr[inner+1]] = [arr[inner+1],arr[inner]] } } } return arr;} é€‰æ‹©æ’åº1234567891011function selectSort(arr) { var len = arr.length; for(let i = 0 ;i &lt; len - 1; i++) { for(let j = i ; j&lt;len; j++) { if(arr[j] &lt; arr[i]) { [arr[i],arr[j]] = [arr[j],arr[i]]; } } } return arr} æ’å…¥æ’åº123456789101112function insertSort(arr) { for(let i = 1; i &lt; arr.length; i++) { //å¤–å¾ªç¯ä»1å¼€å§‹ï¼Œé»˜è®¤arr[0]æ˜¯æœ‰åºæ®µ for(let j = i; j &gt; 0; j--) { //j = i,å°†arr[j]ä¾æ¬¡æ’å…¥æœ‰åºæ®µä¸­ if(arr[j] &lt; arr[j-1]) { [arr[j],arr[j-1]] = [arr[j-1],arr[j]]; } else { break; } } } return arr;} å¿«é€Ÿæ’åº12345678910111213141516function quickSort(arr) { if(arr.length &lt;= 1) { return arr; //é€’å½’å‡ºå£ } var left = [], right = [], current = arr.splice(0,1); for(let i = 0; i &lt; arr.length; i++) { if(arr[i] &lt; current) { left.push(arr[i]) //æ”¾åœ¨å·¦è¾¹ } else { right.push(arr[i]) //æ”¾åœ¨å³è¾¹ } } return quickSort(left).concat(current,quickSort(right));} 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173//åˆ›å»ºåˆ—è¡¨ç±»function ArrayList() { this.array = [] //æ–¹æ³• //æ’å…¥æ–¹æ³• ArrayList.prototype.insert = function(item){ this.array.push(item) } //toString æ–¹ä¾¿æµ‹è¯• ArrayList.prototype.toString = function(){ return this.array.join('-') }}&lt;!--var arr = new ArrayList()--&gt;&lt;!--arr.insert(1)--&gt;&lt;!--arr.insert(2)--&gt;&lt;!--arr.insert(3)--&gt;//å®ç°æ’åºç®—æ³•//å†’æ³¡æ’åºArrayList.prototype.bubbleSort = function () { // 1.è·å–æ•°ç»„çš„é•¿åº¦ var length = this.array.length // 2.åå‘å¾ªç¯, å› æ­¤æ¬¡æ•°è¶Šæ¥è¶Šå°‘ for (var i = length - 1; i &gt;= 0; i--) { // 3.æ ¹æ®içš„æ¬¡æ•°, æ¯”è¾ƒå¾ªç¯åˆ°iä½ç½® for (var j = 0; j &lt; i; j++) { // 4.å¦‚æœjä½ç½®æ¯”j+1ä½ç½®çš„æ•°æ®å¤§, é‚£ä¹ˆå°±äº¤æ¢ if (this.array[j] &gt; this.array[j+1]) { // äº¤æ¢ this.swap(j, j+1) } } }}ArrayList.prototype.swap = function (m, n) { var temp = this.array[m] this.array[m] = this.array[n] this.array[n] = temp}//é€‰æ‹©æ’åºArrayList.prototype.selectionSort = function () { // 1.è·å–æ•°ç»„çš„é•¿åº¦ var length = this.array.length // 2.å¤–å±‚å¾ªç¯: ä»0ä½ç½®å¼€å§‹å–å‡ºæ•°æ®, ç›´åˆ°length-2ä½ç½® for (var i = 0; i &lt; length - 1; i++) { // 3.å†…å±‚å¾ªç¯: ä»i+1ä½ç½®å¼€å§‹, å’Œåé¢çš„å†…å®¹æ¯”è¾ƒ var min = i for (var j = min + 1; j &lt; length; j++) { // 4.å¦‚æœiä½ç½®çš„æ•°æ®å¤§äºjä½ç½®çš„æ•°æ®, é‚£ä¹ˆè®°å½•æœ€å°çš„ä½ç½® if (this.array[min] &gt; this.array[j]) { min = j } } // 5.äº¤æ¢minå’Œiä½ç½®çš„æ•°æ® this.swap(min, i) }}//æ’å…¥æ’åºArrayList.prototype.insertionSort = function () { // 1.è·å–æ•°ç»„çš„é•¿åº¦ var length = this.array.length // 2.å¤–å±‚å¾ªç¯: å¤–å±‚å¾ªç¯æ˜¯ä»1ä½ç½®å¼€å§‹, ä¾æ¬¡éå†åˆ°æœ€å for (var i = 1; i &lt; length; i++) { // 3.è®°å½•é€‰å‡ºçš„å…ƒç´ , æ”¾åœ¨å˜é‡tempä¸­ var j = i var temp = this.array[i] // 4.å†…å±‚å¾ªç¯: å†…å±‚å¾ªç¯ä¸ç¡®å®šå¾ªç¯çš„æ¬¡æ•°, æœ€å¥½ä½¿ç”¨whileå¾ªç¯ while (j &gt; 0 &amp;&amp; this.array[j-1] &gt; temp) { this.array[j] = this.array[j-1] j-- } // 5.å°†é€‰å‡ºçš„jä½ç½®, æ”¾å…¥tempå…ƒç´  this.array[j] = temp }}//å¸Œå°”æ’åºArrayList.prototype.shellSort = function () { // 1.è·å–æ•°ç»„çš„é•¿åº¦ var length = this.array.length // 2.æ ¹æ®é•¿åº¦è®¡ç®—å¢é‡ var gap = Math.floor(length / 2) // 3.å¢é‡ä¸æ–­å˜é‡å°, å¤§äº0å°±ç»§ç»­æ’åº while (gap &gt; 0) { // 4.å®ç°æ’å…¥æ’åº for (var i = gap; i &lt; length; i++) { // 4.1.ä¿å­˜ä¸´æ—¶å˜é‡ var j = i var temp = this.array[i] // 4.2.æ’å…¥æ’åºçš„å†…å±‚å¾ªç¯ while (j &gt; gap - 1 &amp;&amp; this.array[j - gap] &gt; temp) { this.array[j] = this.array[j - gap] j -= gap } // 4.3.å°†é€‰å‡ºçš„jä½ç½®è®¾ç½®ä¸ºtemp this.array[j] = temp } // 5.é‡æ–°è®¡ç®—æ–°çš„é—´éš” gap = Math.floor(gap / 2) }}//å¿«é€Ÿæ’åº // é€‰æ‹©æ¢çº½ ArrayList.prototype.median = function (left, right) { // 1.æ±‚å‡ºä¸­é—´çš„ä½ç½® var center = Math.floor((left + right) / 2) // 2.åˆ¤æ–­å¹¶ä¸”è¿›è¡Œäº¤æ¢ if (this.array[left] &gt; this.array[center]) { this.swap(left, center) } if (this.array[center] &gt; this.array[right]) { this.swap(center, right) } if (this.array[left] &gt; this.array[right]) { this.swap(left, right) } // 3.å·§å¦™çš„æ“ä½œ: å°†centerç§»åŠ¨åˆ°right - 1çš„ä½ç½®. this.swap(center, right - 1) // 4.è¿”å›pivot return this.array[right - 1] } // å¿«é€Ÿæ’åºå®ç° ArrayList.prototype.quickSort = function () { this.quickSortRec(0, this.array.length - 1) } ArrayList.prototype.quickSortRec = function (left, right) { // 0.é€’å½’ç»“æŸæ¡ä»¶ if (left &gt;= right) return // 1.è·å–æ¢çº½ var pivot = this.median(left, right) // 2.å¼€å§‹è¿›è¡Œäº¤æ¢ // 2.1.è®°å½•å·¦è¾¹å¼€å§‹ä½ç½®å’Œå³è¾¹å¼€å§‹ä½ç½® var i = left var j = right - 1 // 2.2.å¾ªç¯æŸ¥æ‰¾ä½ç½® while (true) { while (this.array[++i] &lt; pivot) { } while (this.array[--j] &gt; pivot) { } if (i &lt; j) { // 2.3.äº¤æ¢ä¸¤ä¸ªæ•°å€¼ this.swap(i, j) } else { // 2.4.å½“i&lt;jçš„æ—¶å€™(ä¸€å®šä¸ä¼š=, çœ‹ä¸‹é¢è§£é‡Šä¸­çš„åºå·3), åœæ­¢å¾ªç¯å› ä¸ºä¸¤è¾¹å·²ç»æ‰¾åˆ°äº†ç›¸åŒçš„ä½ç½® break } } // 3.å°†æ¢çº½æ”¾åœ¨æ­£ç¡®çš„ä½ç½® this.swap(i, right - 1) // 4.é€’å½’è°ƒç”¨å·¦è¾¹ this.quickSortRec(left, i - 1) this.quickSortRec(i + 1, right) } å®Œæ•´ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160// å°è£…ArrayList function ArrayList() { this.array = [] ArrayList.prototype.insert = function (item) { this.array.push(item) } ArrayList.prototype.toString = function () { return this.array.join() } ArrayList.prototype.bubbleSort = function () { // 1.è·å–æ•°ç»„çš„é•¿åº¦ var length = this.array.length // 2.åå‘å¾ªç¯, å› æ­¤æ¬¡æ•°è¶Šæ¥è¶Šå°‘ for (var i = length - 1; i &gt;= 0; i--) { // 3.æ ¹æ®içš„æ¬¡æ•°, æ¯”è¾ƒå¾ªç¯åˆ°iä½ç½® for (var j = 0; j &lt; i; j++) { // 4.å¦‚æœjä½ç½®æ¯”j+1ä½ç½®çš„æ•°æ®å¤§, é‚£ä¹ˆå°±äº¤æ¢ if (this.array[j] &gt; this.array[j+1]) { // äº¤æ¢ this.swap(j, j+1) } } } } ArrayList.prototype.selectionSort = function () { // 1.è·å–æ•°ç»„çš„é•¿åº¦ var length = this.array.length // 2.å¤–å±‚å¾ªç¯: ä»0ä½ç½®å¼€å§‹å–å‡ºæ•°æ®, ç›´åˆ°length-2ä½ç½® for (var i = 0; i &lt; length - 1; i++) { // 3.å†…å±‚å¾ªç¯: ä»i+1ä½ç½®å¼€å§‹, å’Œåé¢çš„å†…å®¹æ¯”è¾ƒ var min = i for (var j = min + 1; j &lt; length; j++) { // 4.å¦‚æœiä½ç½®çš„æ•°æ®å¤§äºjä½ç½®çš„æ•°æ®, è®°å½•æœ€å°çš„ä½ç½® if (this.array[min] &gt; this.array[j]) { min = j } } this.swap(min, i) } } ArrayList.prototype.insertionSort = function () { // 1.è·å–æ•°ç»„çš„é•¿åº¦ var length = this.array.length // 2.å¤–å±‚å¾ªç¯: å¤–å±‚å¾ªç¯æ˜¯ä»1ä½ç½®å¼€å§‹, ä¾æ¬¡éå†åˆ°æœ€å for (var i = 1; i &lt; length; i++) { // 3.è®°å½•é€‰å‡ºçš„å…ƒç´ , æ”¾åœ¨å˜é‡tempä¸­ var j = i var temp = this.array[i] // 4.å†…å±‚å¾ªç¯: å†…å±‚å¾ªç¯ä¸ç¡®å®šå¾ªç¯çš„æ¬¡æ•°, æœ€å¥½ä½¿ç”¨whileå¾ªç¯ while (j &gt; 0 &amp;&amp; this.array[j-1] &gt; temp) { this.array[j] = this.array[j-1] j-- } // 5.å°†é€‰å‡ºçš„jä½ç½®, æ”¾å…¥tempå…ƒç´  this.array[j] = temp } } ArrayList.prototype.shellSort = function () { // 1.è·å–æ•°ç»„çš„é•¿åº¦ var length = this.array.length // 2.æ ¹æ®é•¿åº¦è®¡ç®—å¢é‡ var gap = Math.floor(length / 2) // 3.å¢é‡ä¸æ–­å˜é‡å°, å¤§äº0å°±ç»§ç»­æ’åº while (gap &gt; 0) { // 4.å®ç°æ’å…¥æ’åº for (var i = gap; i &lt; length; i++) { // 4.1.ä¿å­˜ä¸´æ—¶å˜é‡ var j = i var temp = this.array[i] // 4.2.æ’å…¥æ’åºçš„å†…å­˜å¾ªç¯ while (j &gt; gap - 1 &amp;&amp; this.array[j - gap] &gt; temp) { this.array[j] = this.array[j - gap] j -= gap } // 4.3.å°†é€‰å‡ºçš„jä½ç½®è®¾ç½®ä¸ºtemp this.array[j] = temp } // 5.é‡æ–°è®¡ç®—æ–°çš„é—´éš” gap = Math.floor(gap / 2) } } ArrayList.prototype.swap = function (m, n) { var temp = this.array[m] this.array[m] = this.array[n] this.array[n] = temp } // é€‰æ‹©æ¢çº½ ArrayList.prototype.median = function (left, right) { // 1.æ±‚å‡ºä¸­é—´çš„ä½ç½® var center = Math.floor((left + right) / 2) // 2.åˆ¤æ–­å¹¶ä¸”è¿›è¡Œäº¤æ¢ if (this.array[left] &gt; this.array[center]) { this.swap(left, center) } if (this.array[center] &gt; this.array[right]) { this.swap(center, right) } if (this.array[left] &gt; this.array[right]) { this.swap(left, right) } // 3.å·§å¦™çš„æ“ä½œ: å°†centerç§»åŠ¨åˆ°right - 1çš„ä½ç½®. this.swap(center, right - 1) // 4.è¿”å›pivot return this.array[right - 1] } // å¿«é€Ÿæ’åºå®ç° ArrayList.prototype.quickSort = function () { this.quickSortRec(0, this.array.length - 1) } ArrayList.prototype.quickSortRec = function (left, right) { // 0.é€’å½’ç»“æŸæ¡ä»¶ if (left &gt;= right) return // 1.è·å–æ¢çº½ var pivot = this.median(left, right) // 2.å¼€å§‹è¿›è¡Œäº¤æ¢ var i = left var j = right - 1 while (true) { while (this.array[++i] &lt; pivot) { } while (this.array[--j] &gt; pivot) { } if (i &lt; j) { this.swap(i, j) } else { break } } // 3.å°†æ¢çº½æ”¾åœ¨æ­£ç¡®çš„ä½ç½® this.swap(i, right - 1) // 4.é€’å½’è°ƒç”¨å·¦è¾¹ this.quickSortRec(left, i - 1) this.quickSortRec(i + 1, right) } } å“ˆå¸Œè¡¨ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174// åˆ›å»ºHashTableæ„é€ å‡½æ•°function HashTable() { // å®šä¹‰å±æ€§ this.storage = [] this.count = 0 this.limit = 8 // å®šä¹‰ç›¸å…³æ–¹æ³• // åˆ¤æ–­æ˜¯å¦æ˜¯è´¨æ•° HashTable.prototype.isPrime = function (num) { var temp = parseInt(Math.sqrt(num)) // 2.å¾ªç¯åˆ¤æ–­ for (var i = 2; i &lt;= temp; i++) { if (num % i == 0) { return false } } return true } // è·å–è´¨æ•° HashTable.prototype.getPrime = function (num) { while (!isPrime(num)) { num++ } return num } // å“ˆå¸Œå‡½æ•° HashTable.prototype.hashFunc = function(str, max) { // 1.åˆå§‹åŒ–hashCodeçš„å€¼ var hashCode = 0 // 2.éœçº³ç®—æ³•, æ¥è®¡ç®—hashCodeçš„æ•°å€¼ for (var i = 0; i &lt; str.length; i++) { hashCode = 37 * hashCode + str.charCodeAt(i) } // 3.å–æ¨¡è¿ç®— hashCode = hashCode % max return hashCode } // æ’å…¥æ•°æ®æ–¹æ³• HashTable.prototype.put = function (key, value) { // 1.è·å–keyå¯¹åº”çš„index var index = this.hashFunc(key, this.limit) // 2.å–å‡ºæ•°ç»„(ä¹Ÿå¯ä»¥ä½¿ç”¨é“¾è¡¨) // æ•°ç»„ä¸­æ”¾ç½®æ•°æ®çš„æ–¹å¼: [[ [k,v], [k,v], [k,v] ] , [ [k,v], [k,v] ] [ [k,v] ] ] var bucket = this.storage[index] // 3.åˆ¤æ–­è¿™ä¸ªæ•°ç»„æ˜¯å¦å­˜åœ¨ if (bucket === undefined) { // 3.1åˆ›å»ºæ¡¶ bucket = [] this.storage[index] = bucket } // 4.åˆ¤æ–­æ˜¯æ–°å¢è¿˜æ˜¯ä¿®æ”¹åŸæ¥çš„å€¼. var override = false for (var i = 0; i &lt; bucket.length; i++) { var tuple = bucket[i] if (tuple[0] === key) { tuple[1] = value override = true } } // 5.å¦‚æœæ˜¯æ–°å¢, å‰ä¸€æ­¥æ²¡æœ‰è¦†ç›– if (!override) { bucket.push([key, value]) this.count++ if (this.count &gt; this.limit * 0.75) { var primeNum = this.getPrime(this.limit * 2) this.resize(primeNum) } } } // è·å–å­˜æ”¾çš„æ•°æ® HashTable.prototype.get = function (key) { // 1.è·å–keyå¯¹åº”çš„index var index = this.hashFunc(key, this.limit) // 2.è·å–å¯¹åº”çš„bucket var bucket = this.storage[index] // 3.å¦‚æœbucketä¸ºnull, é‚£ä¹ˆè¯´æ˜è¿™ä¸ªä½ç½®æ²¡æœ‰æ•°æ® if (bucket == null) { return null } // 4.æœ‰bucket, åˆ¤æ–­æ˜¯å¦æœ‰å¯¹åº”çš„key for (var i = 0; i &lt; bucket.length; i++) { var tuple = bucket[i] if (tuple[0] === key) { return tuple[1] } } // 5.æ²¡æœ‰æ‰¾åˆ°, return null return null } // åˆ é™¤æ•°æ® HashTable.prototype.remove = function (key) { // 1.è·å–keyå¯¹åº”çš„index var index = this.hashFunc(key, this.limit) // 2.è·å–å¯¹åº”çš„bucket var bucket = this.storage[index] // 3.åˆ¤æ–­åŒæ˜¯å¦ä¸ºnull, ä¸ºnullåˆ™è¯´æ˜æ²¡æœ‰å¯¹åº”çš„æ•°æ® if (bucket == null) { return null } // 4.éå†bucket, å¯»æ‰¾å¯¹åº”çš„æ•°æ® for (var i = 0; i &lt; bucket.length; i++) { var tuple = bucket[i] if (tuple[0] === key) { bucket.splice(i, 1) this.count-- // ç¼©å°æ•°ç»„çš„å®¹é‡ if (this.limit &gt; 7 &amp;&amp; this.count &lt; this.limit * 0.25) { var primeNum = this.getPrime(Math.floor(this.limit / 2)) this.resize(primeNum) } } return tuple[1] } // 5.æ¥åˆ°è¯¥ä½ç½®, è¯´æ˜æ²¡æœ‰å¯¹åº”çš„æ•°æ®, é‚£ä¹ˆè¿”å›null return null } // isEmptyæ–¹æ³• HashTable.prototype.isEmpty = function () { return this.count == 0 } // sizeæ–¹æ³• HashTable.prototype.size = function () { return this.count } // å“ˆå¸Œè¡¨æ‰©å®¹ HashTable.prototype.resize = function (newLimit) { // 1.ä¿å­˜æ—§çš„æ•°ç»„å†…å®¹ var oldStorage = this.storage // 2.é‡ç½®å±æ€§ this.limit = newLimit this.count = 0 this.storage = [] // 3.éå†æ—§æ•°ç»„ä¸­çš„æ‰€æœ‰æ•°æ®é¡¹, å¹¶ä¸”é‡æ–°æ’å…¥åˆ°å“ˆå¸Œè¡¨ä¸­ oldStorage.forEach(function (bucket) { // 1.bucketä¸ºnull, è¯´æ˜è¿™é‡Œé¢æ²¡æœ‰æ•°æ® if (bucket == null) { return } // 2.bucketä¸­æœ‰æ•°æ®, é‚£ä¹ˆå°†é‡Œé¢çš„æ•°æ®é‡æ–°å“ˆå¸ŒåŒ–æ’å…¥ for (var i = 0; i &lt; bucket.length; i++) { var tuple = bucket[i] this.put(tuple[0], tuple[1]) } }).bind(this) }}","link":"/2019/06/26/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"},{"title":"è·å–å”¯ä¸€idçš„ä¸‰ç§æ–¹æ³•","text":"uuid 1234567891011const UUID = (len = 32) =&gt; { return &quot;xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx&quot; .replace(/[xy]/g, function replace(c) { /* eslint-disable no-bitwise */ const r = (Math.random() * 16) | 0; const v = c === &quot;x&quot; ? r : (r &amp; 0x3) | 0x8; return v.toString(16); }) .substring(0, len);}; nanoid1234567891011121314151617const nanoid = (t = 21) =&gt; { let e = &quot;&quot;, r = crypto.getRandomValues(new Uint8Array(t)); for (; t--; ) { let n = 63 &amp; r[t]; e += n &lt; 36 ? n.toString(36) : n &lt; 62 ? (n - 26).toString(36).toUpperCase() : n &lt; 63 ? &quot;_&quot; : &quot;-&quot;; } return e;}; åŸç”Ÿæ–¹æ³•1const id = URL.createObjectURL(new Blob()).substr(-36)","link":"/2022/01/04/%E8%8E%B7%E5%8F%96%E5%94%AF%E4%B8%80id%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E6%B3%95/"},{"title":"è¯´ä¸€ä¸‹æµè§ˆå™¨çš„ç¼“å­˜æœºåˆ¶","text":"å‰è¨€ ç¼“å­˜å¯ä»¥ç®€å•é«˜æ•ˆçš„æé«˜æ€§èƒ½ä¼˜åŒ–ï¼Œå¯¹äºä¸€ä¸ªæ•°æ®è¯·æ±‚æ¥è¯´ï¼Œåˆ†ä¸ºç½‘ç»œè¯·æ±‚ã€åç«¯å¤„ç†ã€æµè§ˆå™¨ å“åº”ä¸‰ä¸ªæ­¥éª¤ï¼Œæµè§ˆå™¨ç¼“å­˜å¯ä»¥ä¼˜åŒ–ç½‘ç»œè¯·æ±‚å’Œå“åº”éƒ¨åˆ†ã€‚æ¯”å¦‚ï¼šç›´æ¥æ¢ç”¨ç¼“å­˜è€Œä¸å‘èµ·è¯·æ±‚ï¼Œ æˆ–è€…å‘èµ·è¯·æ±‚ä½†åç«¯å­˜å‚¨çš„æ•°æ®å’Œå‰ç«¯ä¸€è‡´ï¼Œå°±æ²¡æœ‰å¿…è¦å°†æ•°æ®å›ä¼ ï¼Œè¿™æ ·å°±å‡å°‘çš„å“åº”æ•°æ®ï¼Œ ä½¿å¾—ç¼“å­˜æ–‡ä»¶å¯ä»¥é‡å¤åˆ©ç”¨ï¼Œå‡å°‘å¸¦å®½ï¼Œå‡ä½ç½‘ç»œè´Ÿè·ã€‚ ç¼“å­˜ä½ç½®ç½‘ç»œè¯·æ±‚ä¼šå…ˆä»ç¼“å­˜ä½ç½®ä¸Šé¢æŸ¥æ‰¾ç¼“å­˜ï¼Œå¦‚æœéƒ½æ²¡æœ‰å‘½ä¸­ï¼Œæ‰ä¼šå»è¯·æ±‚ç½‘ç»œèµ„æºï¼Œä»ç¼“å­˜ä½ç½® åˆ†ä¸ºå››ç§ï¼Œå¹¶ä¸”å„è‡ªæœ‰ä¼˜å…ˆçº§ï¼š - Service Worker - Memory Cache - Disk Cache - Push Cache Service Worker: Service Worker æ˜¯è¿è¡Œåœ¨æµè§ˆå™¨èƒŒåçš„ç‹¬ç«‹çº¿ç¨‹ï¼Œä¸€èˆ¬å¯ä»¥ç”¨ æ¥å®ç°ç¼“å­˜åŠŸèƒ½ã€‚ä½¿ç”¨ Service Worker çš„è¯ï¼Œä¼ è¾“åè®®å¿…é¡»ä¸º HTTPSã€‚å› ä¸º Service Worker ä¸­æ¶‰åŠåˆ°è¯·æ±‚æ‹¦æˆªï¼Œæ‰€ä»¥å¿…é¡»ä½¿ç”¨ HTTPS åè®®æ¥ä¿éšœå®‰å…¨ã€‚ Service Worker çš„ç¼“å­˜ä¸æµè§ˆå™¨å…¶ä»–å†…å»ºçš„ç¼“å­˜æœºåˆ¶ä¸åŒï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬è‡ªç”±æ§åˆ¶ç¼“å­˜å“ªäº›æ–‡ä»¶ã€ å¦‚ä½•åŒ¹é…ç¼“å­˜ã€å¦‚ä½•è¯»å–ç¼“å­˜ï¼Œå¹¶ä¸”ç¼“å­˜æ˜¯æŒç»­æ€§çš„ã€‚ Service Worker å®ç°ç¼“å­˜åŠŸèƒ½ä¸€èˆ¬åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼šé¦–å…ˆéœ€è¦å…ˆæ³¨å†Œ Service Workerï¼Œç„¶åç›‘å¬åˆ° install äº‹ä»¶ä»¥åå°±å¯ä»¥ç¼“å­˜éœ€è¦çš„æ–‡ä»¶ï¼Œé‚£ä¹ˆåœ¨ä¸‹æ¬¡ç”¨æˆ·è®¿é—® çš„æ—¶å€™å°±å¯ä»¥é€šè¿‡æ‹¦æˆªè¯·æ±‚çš„æ–¹å¼æŸ¥è¯¢æ˜¯å¦å­˜åœ¨ç¼“å­˜ï¼Œå­˜åœ¨ç¼“å­˜çš„è¯å°±å¯ä»¥ç›´æ¥è¯»å–ç¼“å­˜æ–‡ä»¶ï¼Œ å¦åˆ™å°±å»è¯·æ±‚æ•°æ®ã€‚ å½“ Service Worker æ²¡æœ‰å‘½ä¸­ç¼“å­˜çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å»è°ƒç”¨ fetch å‡½æ•° è·å–æ•°æ®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰åœ¨ Service Worker å‘½ä¸­ç¼“å­˜çš„è¯ï¼Œä¼šæ ¹æ®ç¼“å­˜æŸ¥æ‰¾ä¼˜å…ˆçº§ å»æŸ¥æ‰¾æ•°æ®ã€‚ä½†æ˜¯ä¸ç®¡æˆ‘ä»¬æ˜¯ä» Memory Cache ä¸­è¿˜æ˜¯ä»ç½‘ç»œè¯·æ±‚ä¸­è·å–çš„æ•°æ®ï¼Œæµè§ˆå™¨éƒ½ä¼šæ˜¾ ç¤ºæˆ‘ä»¬æ˜¯ä» Service Worker ä¸­è·å–çš„å†…å®¹ã€‚ Memory Cache: Memory Cache ä¹Ÿå°±æ˜¯å†…å­˜ä¸­çš„ç¼“å­˜ï¼Œä¸»è¦åŒ…å«çš„æ˜¯å½“å‰ä¸­é¡µé¢ä¸­å·²ç»æŠ“å–åˆ°çš„èµ„æº,ä¾‹å¦‚é¡µé¢ ä¸Šå·²ç»ä¸‹è½½çš„æ ·å¼ã€è„šæœ¬ã€å›¾ç‰‡ç­‰ã€‚è¯»å–å†…å­˜ä¸­çš„æ•°æ®è‚¯å®šæ¯”ç£ç›˜å¿«,å†…å­˜ç¼“å­˜è™½ç„¶è¯»å–é«˜æ•ˆï¼Œ å¯æ˜¯ç¼“å­˜æŒç»­æ€§å¾ˆçŸ­ï¼Œä¼šéšç€è¿›ç¨‹çš„é‡Šæ”¾è€Œé‡Šæ”¾ã€‚ ä¸€æ—¦æˆ‘ä»¬å…³é—­ Tab é¡µé¢ï¼Œå†…å­˜ä¸­çš„ç¼“å­˜ä¹Ÿå°± è¢«é‡Šæ”¾äº†ã€‚ Disk Cache: Disk Cache ä¹Ÿå°±æ˜¯å­˜å‚¨åœ¨ç¡¬ç›˜ä¸­çš„ç¼“å­˜ï¼Œè¯»å–é€Ÿåº¦æ…¢ç‚¹ï¼Œä½†æ˜¯ä»€ä¹ˆéƒ½èƒ½å­˜å‚¨åˆ°ç£ç›˜ä¸­ï¼Œæ¯”ä¹‹ Memory Cache èƒœåœ¨å®¹é‡å’Œå­˜å‚¨æ—¶æ•ˆæ€§ä¸Šã€‚ åœ¨æ‰€æœ‰æµè§ˆå™¨ç¼“å­˜ä¸­ï¼ŒDisk Cache è¦†ç›–é¢åŸºæœ¬æ˜¯æœ€å¤§çš„ã€‚å®ƒä¼š æ ¹æ® HTTP Herder ä¸­çš„å­—æ®µåˆ¤æ–­å“ªäº›èµ„æºéœ€è¦ç¼“å­˜ï¼Œå“ªäº›èµ„æºå¯ä»¥ä¸è¯·æ±‚ç›´æ¥ä½¿ç”¨ï¼Œå“ªäº›èµ„æº å·²ç»è¿‡æœŸéœ€è¦é‡æ–°è¯·æ±‚ã€‚å¹¶ä¸”å³ä½¿åœ¨è·¨ç«™ç‚¹çš„æƒ…å†µä¸‹ï¼Œç›¸åŒåœ°å€çš„èµ„æºä¸€æ—¦è¢«ç¡¬ç›˜ç¼“å­˜ä¸‹æ¥ï¼Œå°±ä¸ ä¼šå†æ¬¡å»è¯·æ±‚æ•°æ®ã€‚ Push Cache: Push Cacheï¼ˆæ¨é€ç¼“å­˜ï¼‰æ˜¯ HTTP/2 ä¸­çš„å†…å®¹ï¼Œå½“ä»¥ä¸Šä¸‰ç§ ç¼“å­˜éƒ½æ²¡æœ‰å‘½ä¸­æ—¶ï¼Œå®ƒæ‰ä¼šè¢«ä½¿ç”¨ã€‚å®ƒåªåœ¨ä¼šè¯ï¼ˆSessionï¼‰ä¸­å­˜åœ¨ï¼Œä¸€æ—¦ä¼šè¯ç»“æŸå°±è¢«é‡Šæ”¾ï¼Œ å¹¶ä¸”ç¼“å­˜æ—¶é—´ä¹Ÿå¾ˆçŸ­æš‚ï¼Œåœ¨ Chrome æµè§ˆå™¨ä¸­åªæœ‰ 5 åˆ†é’Ÿå·¦å³ï¼ŒåŒæ—¶å®ƒä¹Ÿå¹¶éä¸¥æ ¼æ‰§è¡Œ HTTP å¤´ä¸­ çš„ç¼“å­˜æŒ‡ä»¤ã€‚ `å¦‚æœä»¥ä¸Šå››ç§ç¼“å­˜éƒ½æ²¡æœ‰å‘½ä¸­çš„è¯ï¼Œåªèƒ½å‘èµ·ç½‘ç»œè¯·æ±‚æ¥è·å–èµ„æºäº†ã€‚ ä¸ºäº†æ€§èƒ½ä¸Šçš„è€ƒè™‘ï¼Œå¤§éƒ¨åˆ†æ¥å£éƒ½åº”è¯¥é€‰æ‹©å¥½ç¼“å­˜ç­–ç•¥ï¼Œ æµè§ˆå™¨ç¼“å­˜ç­–ç•¥åˆ†ä¸ºä¸¤ç§ï¼šå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜ï¼Œå¹¶ä¸”ç¼“å­˜ç­–ç•¥éƒ½æ˜¯é€šè¿‡è®¾ç½®HTTP Headeræ¥å®ç°çš„ã€‚` å¼ºç¼“å­˜å¼ºç¼“å­˜ï¼šä¸ä¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œç›´æ¥ä»ç¼“å­˜ä¸­è¯»å–èµ„æºï¼Œå¯ä»¥é€šè¿‡HTTP Headerå®ç°ï¼šExpires å’ŒCache-Controlã€‚ + Expiresï¼šç¼“å­˜è¿‡æœŸæ—¶é—´ï¼Œç”¨æ¥æŒ‡å®šèµ„æºåˆ°æœŸçš„æ—¶é—´ï¼Œæ˜¯æœåŠ¡ç«¯çš„å…·ä½“çš„æ—¶é—´ç‚¹ï¼Œç»“åˆLast-modified ä½¿ç”¨ï¼ŒExpiresæ˜¯HTTP/1.0çš„äº§ç‰©ï¼Œå—é™äºæœ¬åœ°æ—¶é—´ï¼Œå¦‚æœä¿®æ”¹äº†æœ¬åœ°æ—¶é—´ï¼Œå¯èƒ½ä¼šé€ æˆç¼“å­˜å¤±æ•ˆã€‚ + Cache-Control(http/1.1)ï¼šå’Œå¤šä¸ªæŒ‡ä»¤(privateã€no-storeã€no-cache)é…åˆä½¿ç”¨ï¼Œå®ç°èµ„æºç¼“å­˜ã€‚ + Expireså’ŒCache-ControlåŒæ—¶å­˜åœ¨ï¼ŒCache-Controlä¼˜å…ˆçº§é«˜äºExpiresã€‚ åå•†ç¼“å­˜åå•†ç¼“å­˜å°±æ˜¯å¼ºç¼“å­˜å¤±æ•ˆåï¼Œæµè§ˆå™¨æºå¸¦ç¼“å­˜è¡¨ç¤ºå‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œç”±æœåŠ¡å™¨æ ¹æ®ç¼“å­˜è¡¨ç¤ºå†³å®š æ˜¯å¦ä½¿ç”¨ç¼“å­˜çš„è¿‡ç¨‹ï¼Œä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š + åå•†ç¼“å­˜ç”Ÿæ•ˆï¼Œè¿”å›304å’ŒNot Modified + åå•†ç¼“å­˜å¤±æ•ˆï¼Œè¿”å›200å’Œè¯·æ±‚ç»“æœã€‚ + åå•†ç¼“å­˜å¯ä»¥é€šè¿‡è®¾ç½®ä¸¤ç§HTTP Headerå®ç°ï¼šLast-Modifiedå’ŒETagã€‚ + ETagæ˜¯æœåŠ¡å™¨å“åº”è¯·æ±‚æ—¶ï¼Œè¿”å›å½“å‰èµ„æºæ–‡ä»¶çš„ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ï¼ˆæœ‰æœåŠ¡å™¨ç”Ÿæˆï¼‰ï¼Œåªè¦èµ„æºæœ‰å˜åŒ– ï¼ŒETagå°±ä¼šé‡æ–°ç”Ÿæˆã€‚ ç¼“å­˜æœºåˆ¶å¼ºåˆ¶ç¼“å­˜ä¼˜å…ˆäºåå•†ç¼“å­˜è¿›è¡Œï¼Œè‹¥å¼ºåˆ¶ç¼“å­˜(Expireså’ŒCache-Control)ç”Ÿæ•ˆåˆ™ç›´æ¥ä½¿ç”¨ ç¼“å­˜ï¼Œè‹¥ä¸ç”Ÿæ•ˆåˆ™è¿›è¡Œåå•†ç¼“å­˜(Last-Modified / If-Modified-Sinceå’Œ Etag / If-None-Match)ï¼Œåå•†ç¼“å­˜ç”±æœåŠ¡å™¨å†³å®šæ˜¯å¦ä½¿ç”¨ç¼“å­˜ï¼Œè‹¥åå•†ç¼“å­˜å¤±æ•ˆï¼Œ é‚£ä¹ˆä»£è¡¨è¯¥è¯·æ±‚çš„ç¼“å­˜å¤±æ•ˆï¼Œè¿”å›200ï¼Œé‡æ–°è¿”å›èµ„æºå’Œç¼“å­˜æ ‡è¯†ï¼Œå†å­˜å…¥æµè§ˆå™¨ç¼“å­˜ä¸­ï¼› ç”Ÿæ•ˆåˆ™è¿”å›304ï¼Œç»§ç»­ä½¿ç”¨ç¼“å­˜ http ç¼“å­˜ï¼Ÿ å¼ºåˆ¶ç¼“å­˜ å¼ºåˆ¶ç¼“å­˜è¿‡æœŸåä¼šå»æœåŠ¡ç«¯é‡æ–°è¯·æ±‚ åå•†ç¼“å­˜ æœåŠ¡ç«¯ç¼“å­˜ç­–ç•¥ æœåŠ¡ç«¯åˆ¤æ–­å®¢æˆ·ç«¯èµ„æºï¼Œæ˜¯å¦å’ŒæœåŠ¡ç«¯èµ„æºä¸€æ · ä¸€è‡´åˆ™è¿”å› 304ï¼Œå¦åˆ™è¿”å› 200 å’Œæœ€æ–°çš„èµ„æº åœ¨ Response Headers ä¸­ï¼Œæœ‰ä¸¤ç§ï¼š Last-Modified èµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´ Etag èµ„æºçš„å”¯ä¸€æ ‡è¯† Last-Modified å’Œ Etag ä¼šä¼˜å…ˆä½¿ç”¨ Etag Last-Modified åªèƒ½ç²¾ç¡®åˆ°ç§’çº§ å¦‚æœèµ„æºè¢«é‡å¤ç”Ÿæˆï¼Œè€Œå†…å®¹ä¸å˜ï¼Œåˆ™ Etag æ›´ç²¾ç¡® ç»¼è¿° åˆ·æ–°æ“ä½œå¯¹ç¼“å­˜çš„å½±å“ï¼Ÿ æ­£å¸¸æ“ä½œï¼šåœ°å€è¾“å…¥ urlï¼Œè·³è½¬é“¾æ¥ï¼Œå‰è¿›åé€€ç­‰ å¼ºåˆ¶ç¼“å­˜æœ‰æ•ˆï¼Œåå•†ç¼“å­˜æœ‰æ•ˆ æ‰‹åŠ¨åˆ·æ–°ï¼šF5ï¼Œç‚¹å‡»åˆ·æ–°æŒ‰é’®ï¼Œå³å‡»èœå•åˆ·æ–° å¼ºåˆ¶ç¼“å­˜å¤±æ•ˆï¼Œåå•†ç¼“å­˜æœ‰æ•ˆ å¼ºåˆ¶åˆ·æ–°ï¼šctrl + F5 å¼ºåˆ¶ç¼“å­˜å¤±æ•ˆï¼Œåå•†ç¼“å­˜å¤±æ•ˆ","link":"/2019/07/10/%E8%AF%B4%E4%B8%80%E4%B8%8B%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6/"},{"title":"å•é¡µé¢åº”ç”¨å‰ç«¯è·¯ç”±åŸç†","text":"ä»€ä¹ˆæ˜¯å•é¡µé¢åº”ç”¨ï¼Ÿ å•é¡µé¢åº”ç”¨æ˜¯æŒ‡ç¬¬ä¸€æ¬¡è¿›å…¥é¡µé¢çš„æ—¶å€™ä¼šè¯·æ±‚ä¸€ä¸ª html æ–‡ä»¶ï¼Œåˆ‡æ¢åˆ°å…¶ä»–ç»„ä»¶çš„æ—¶å€™ï¼Œè™½ç„¶è·¯å¾„ä¼šå‘ç”Ÿç›¸åº”çš„å˜åŒ–ï¼Œä½†æ˜¯æ²¡æœ‰æ–°çš„ html æ–‡ä»¶è¯·æ±‚ï¼ŒåŸç†æ˜¯ js ä¼šæ„ŸçŸ¥åˆ° url çš„å˜åŒ–ï¼Œjs ä¼šåŠ¨æ€çš„å°†å½“å‰é¡µé¢çš„å†…å®¹æ¸…é™¤æ‰ï¼Œç„¶åå°†ä¸‹ä¸€ä¸ªé¡µé¢çš„å†…å®¹æŒ‚è½½åˆ°å½“å‰é¡µé¢ä¸Šï¼Œè¿™æ—¶å€™çš„è·¯ç”±ä¸æ˜¯åç«¯åšçš„è€Œæ˜¯ç”±å‰ç«¯æ¥åšï¼Œæ¥åˆ¤æ–­é¡µé¢åˆ°åº•æ˜¾ç¤ºå“ªä¸ªç»„ä»¶ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯å•é¡µé¢çš„åº”ç”¨ã€‚ å•é¡µé¢åº”ç”¨çš„ä¼˜ç¼ºç‚¹ä¼˜ç‚¹ï¼šé¡µé¢åˆ‡æ¢å¿«ï¼Œå› ä¸ºé¡µé¢æ¯æ¬¡åˆ‡æ¢çš„æ—¶å€™ï¼Œå¹¶ä¸éœ€è¦åš html æ–‡ä»¶çš„è¯·æ±‚ï¼Œè¿™æ ·å°±å‡å°‘çš„å¾ˆå¤š http å‘é€çš„æ—¶å»¶ã€‚ ç¼ºç‚¹ï¼šå•é¡µé¢åº”ç”¨çš„é¦–å±åŠ è½½æ—¶é—´æ¯”è¾ƒæ…¢ï¼Œé¦–å±åŠ è½½éœ€è¦ä¸€æ¬¡ html è¯·æ±‚å’Œä¸€æ¬¡ js è¯·æ±‚ï¼Œæ—¶é—´ç›¸å¯¹è¾ƒæ…¢ï¼Œè€Œä¸” SEO æ•ˆæœå·®ï¼Œå› ä¸ºæœç´¢å¼•æ“åªè®¤è¯† html ä¸­çš„å†…å®¹ï¼Œä½†æ˜¯å•é¡µé¢åº”ç”¨ä¸­å†…å®¹å¾ˆå¤šéœ€è¦é  js æ¸²æŸ“å‡ºæ¥ï¼Œæœç´¢å¼•æ“ä¸è¯†åˆ«è¿™éƒ¨åˆ†å†…å®¹ï¼Œå°±ä¼šå¯¼è‡´ SEO æ•ˆæœä¸å¥½ã€‚ ä»€ä¹ˆæ˜¯å¤šé¡µé¢åº”ç”¨ï¼Ÿå¤šé¡µé¢åº”ç”¨æ˜¯æŒ‡æ¯ä¸€æ¬¡é¡µé¢è·³è½¬çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„ html æ–‡æ¡£ï¼Œè¿™ç§ç±»å‹çš„åº”ç”¨å«åšå¤šé¡µåº”ç”¨ã€‚ å¤šé¡µé¢åº”ç”¨çš„ä¼˜ç¼ºç‚¹ä¼˜ç‚¹ï¼šé¦–å±åŠ è½½å¿«ï¼ŒSEO æ•ˆæœå¥½ï¼Œå› ä¸ºå®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘èµ·è¯·æ±‚çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ä¹‹è¿”å›äº†ä¸€ä¸ª html é¡µé¢ï¼Œæ‰€ä»¥åŠ è½½æ¯”è¾ƒå¿«ã€‚ ç¼ºé’±ï¼šé¡µé¢åˆ‡æ¢æ¯”è¾ƒæ…¢ å•é¡µé¢åº”ç”¨å’Œå¤šé¡µé¢åº”ç”¨çš„åŒºåˆ«1.åº”ç”¨æ„æˆä¸åŒå¤šé¡µé¢åº”ç”¨æ˜¯ç”±å¤šä¸ªä¸åŒçš„é¡µé¢æ„æˆï¼Œå•é¡µé¢åº”ç”¨æ˜¯ä¸€ä¸ªå¤–å£³é¡µé¢å’Œå¤šä¸ªé¡µé¢ç‰‡æ®µæ„æˆã€‚ 2.é¡µé¢è·³è½¬æ–¹å¼ä¸åŒå¤šé¡µé¢åº”ç”¨çš„é¡µé¢è·³è½¬æ˜¯ä»ä¸€ä¸ªé¡µé¢è·³è½¬åˆ°å¦ä¸€ä¸ªé¡µé¢ï¼Œè€Œå•é¡µé¢åˆ™æ˜¯æŠŠä¸€ä¸ªé¡µé¢åˆ¤æ–­åˆ é™¤æˆ–éšè—ï¼ŒåŠ è½½å¦ä¸€ä¸ªé¡µé¢ç‰‡æ®µã€‚ 3.è·³è½¬åå…¬å…±èµ„æºæ˜¯å¦é‡æ–°åŠ è½½è·³è½¬åå¤šé¡µé¢åº”ç”¨éœ€è¦é‡æ–°è¿›è¡ŒåŠ è½½ï¼Œä½†æ˜¯å•é¡µé¢ä¸éœ€è¦é‡æ–°åŠ è½½ 4.ç”¨æˆ·ä½“éªŒä¸åŒå¤šé¡µé¢åº”ç”¨é¦–å±åŠ è½½å¿«ä½†æ˜¯åˆ‡æ¢æ…¢ï¼Œå•é¡µé¢åº”ç”¨é¦–å±åŠ è½½æ…¢ä½†æ˜¯åˆ‡æ¢å¿« 5.é¡µé¢ä¼ é€’æ•°æ®æ–¹å¼ä¸åŒå¤šé¡µé¢åº”ç”¨ä¾é  urlã€cookieã€localstorage æ¥ä¼ é€’æ•°æ®ï¼Œå•é¡µé¢åº”ç”¨åˆ™æ˜¯é ç»„ä»¶è¿›è¡Œé€šä¿¡ï¼Œç›¸å¯¹æ›´åŠ ç®€å•ã€‚ å‰ç«¯è·¯ç”±çš„åŸç†å‰ç«¯è·¯ç”±çš„åŸç†æœ¬è´¨ä¸Šå°±æ˜¯é€šè¿‡ä¸åˆ·æ–°æµè§ˆå™¨çš„è¯·æ±‚ä¸‹ä¿®æ”¹ urlã€æ£€æµ‹ url çš„å˜åŒ–ï¼Œæˆªè· url çš„åœ°å€ï¼Œé€šè¿‡è§£æã€åŒ¹é…è·¯ç”±è§„åˆ™ä»è€Œå®ç° UI çš„æ›´æ–°ï¼Œè·¯ç”±çš„å®ç°é€šå¸¸æœ‰ä¸¤ç§å®ç°ï¼šhash æ¨¡å¼ã€history æ¨¡å¼ hash è·¯ç”±çš„åŸç†åœ¨ hash æ¨¡å¼ä¸‹ï¼Œåœ¨ url ä¸­#åé¢çš„éƒ¨åˆ†è¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯çŠ¶æ€ï¼Œå½“è¿™éƒ¨åˆ†å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œæµè§ˆå™¨æœ¬èº«å°±ä¸ä¼šåˆ·æ–°ï¼Œè¿™æ ·å°±æ»¡è¶³äº†ç¬¬ä¸€ä¸ªæ¡ä»¶ï¼Œå³åœ¨ä¸åˆ·æ–°æµè§ˆå™¨çš„æƒ…å†µä¸‹ä¿®æ”¹æµè§ˆå™¨é“¾æ¥ï¼ŒåŒäº‹é€šè¿‡ç›‘å¬ hashChange äº‹ä»¶æ¥ç›‘å¬ url ä¸­ hash å€¼çš„å˜åŒ–ï¼Œè§¦å‘ç›¸å…³å‡½æ•°ï¼Œæ”¹å˜ç›¸å…³ç»„ä»¶ã€‚ history è·¯ç”±çš„åŸç†history æ¨¡å¼åˆ©ç”¨ html5 ä¸­ history APIï¼Œhistory.pushState å’Œ history.replaceState è¿™ä¸¤ä¸ªæ–¹æ³•å¯ä»¥åœ¨ä¸åˆ·æ–°é¡µé¢çš„æƒ…å†µä¸‹ï¼Œæ“ä½œæµè§ˆå™¨çš„å†å²è®°å½•ï¼Œç„¶åé€šè¿‡ popState äº‹ä»¶æ¥ç›‘å¬ url çš„å˜åŒ–ï¼Œä»è€Œè§¦å‘ç›¸å…³å‡½æ•°ï¼Œæ”¹å˜ç›¸å…³ç»„ä»¶ã€‚ history.back()ã€history.forward()ã€history.go()ä¼šè§¦å‘ popstate äº‹ä»¶history.pushState()ã€history.replaceState ä¸ä¼šå‡ºå‘ popstate äº‹ä»¶ï¼Œéœ€è¦å¯¹ replaceState å’Œ pushState åˆ›å»ºå…¨å±€ Event äº‹ä»¶ï¼Œç„¶å window.addEventListener ç›‘å¬æˆ‘ä»¬åŠ çš„ event äº‹ä»¶","link":"/2022/03/14/%E5%8D%95%E9%A1%B5%E9%9D%A2%E5%BA%94%E7%94%A8%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1%E5%8E%9F%E7%90%86/"},{"title":"lernaå¼€å‘","text":"åˆ›å»º npm ç§æœ verdaccio æ˜¯ä¸€ä¸ªç®€å•ã€é›¶é…ç½®çš„æœ¬åœ°ç§æœ‰åŒ– npm ä»“åº“ 123456cnpm install verdaccio -gverdacciohttp://localhost:4873npm adduser --registry http://localhost:4873/npm publish --registry http://localhost: 4873/ lerna å¸¸ç”¨å‘½ä»¤é¡¹ç›®åˆå§‹åŒ–| å‘½ä»¤ | è¯´æ˜ || â€” | â€” || lerna init â€“independent | åˆå§‹åŒ–é¡¹ç›® | åˆ›å»ºåŒ…| å‘½ä»¤ | è¯´æ˜ || â€” | â€” || lerna create module-1 | åˆ›å»º package || lerna add | å®‰è£…ä¾èµ– || lerna link | é“¾æ¥ä¾èµ– | å¼€å‘å’Œæµ‹è¯•| å‘½ä»¤ | è¯´æ˜ || â€” | â€” || lerna exec | æ‰§è¡Œ shell è„šæœ¬ || lerna run | æ‰§è¡Œ npm å‘½ä»¤ || lerna clean | æ¸…ç©ºä¾èµ–|| lerna bootstrap | é‡æ–°å®‰è£…ä¾èµ– | package ä¾èµ– 1234567891011121.ç»™æŒ‡å®špackageå®‰è£…ä¾èµ–$ lerna add lodash packages/module-1$ lerna add lodash --scope=module-1$ lerna add lodash **/module-1$yarn workspace module-1 add lodash2.ç»™æ‰€æœ‰packageå®‰è£…ä¾èµ–$ lerna add lodash3.workspaceä¹‹é—´çš„ä¾èµ–$ lerna add module-2 packages/module-1$ lerna add module-2 --scope module-1 å‘å¸ƒ 1$ lerna publish lerna.json version: å½“å‰ä»“åº“çš„ç‰ˆæœ¬ï¼Œindependent mode è¯·è®¾ç½®ä¸º independent. lerna å¯¹äºåŒ…çš„ç®¡ç†æœ‰ä¸¤ç§æ¨¡å¼ï¼šå›ºå®šæ¨¡å¼ fixedã€ç‹¬ç«‹æ¨¡å¼ independentã€‚ å›ºå®šæ¨¡å¼æ‰€æœ‰åŒ…æ˜¯ç»Ÿä¸€çš„ç‰ˆæœ¬å·ï¼Œæ¯æ¬¡å‡çº§æ‰€æœ‰åŒ…ç»Ÿä¸€æ›´æ–°ï¼Œæ— è®ºè¿™ä¸ªåŒ…å†…å®¹æ˜¯å¦æ”¹å˜ã€‚ *å…·ä½“ä½“ç°åœ¨ lerna çš„é…ç½®æ–‡ä»¶ä¸­ lerna.json ä¸­æ°¸è¿œä¼šå­˜åœ¨ä¸€ä¸ªç¡®å®šç‰ˆæœ¬å·ï¼š{â€œversionâ€: â€œ0.0.1â€} ç‹¬ç«‹æ¨¡å¼ï¼Œæ¯ä¸ªåŒ…éƒ½æ˜¯å•ç‹¬çš„ç‰ˆæœ¬å·ï¼Œæ¯æ¬¡ lerna è§¦å‘å‘å¸ƒå‘½ä»¤ï¼Œæ¯ä¸ªåŒ…çš„ç‰ˆæœ¬éƒ½ä¼šå•ç‹¬å˜åŒ–ï¼Œå…·ä½“ä½“ç°åœ¨ lerna çš„é…ç½®æ–‡ä»¶ lerna.json ä¸­æ²¡æœ‰ä¸€ä¸ªç¡®å®šçš„ç‰ˆæœ¬å·ï¼Œè€Œæ˜¯{â€œversionâ€:â€independentâ€} npmClient: æŒ‡å®šè¿è¡Œçš„å®¢æˆ·ç«¯ç¨‹åº é»˜è®¤ä¸º npm ignoreChanges: ä¸€ä¸ªä¸åŒ…å«åœ¨lerna changed/publishçš„ glob æ•°ç»„ï¼Œä½¿ç”¨è¿™ä¸ªé˜»æ­¢å‘å¸ƒä¸å¿…è¦çš„æ›´æ–°ï¼Œæ¯”å¦‚ä¿®å¤README.md 123456789101112131415161718192021222324{ &quot;useWorkspaces&quot;: true, // ä½¿ç”¨ workspaces é…ç½®ã€‚æ­¤é¡¹ä¸º true çš„è¯ï¼Œå°†ä½¿ç”¨ package.json çš„ &quot;workspaces&quot;ï¼Œä¸‹é¢çš„ &quot;packages&quot; å­—æ®µå°†ä¸ç”Ÿæ•ˆ &quot;version&quot;: &quot;0.1.0&quot;, // æ‰€æœ‰åŒ…ç‰ˆæœ¬å·ï¼Œç‹¬ç«‹æ¨¡å¼-&quot;independent&quot; &quot;npmClient&quot;: &quot;cnpm&quot;, // npm clientï¼Œå¯è®¾ç½®ä¸º cnpmã€yarn ç­‰ &quot;packages&quot;: [ // åŒ…æ‰€åœ¨ç›®å½•ï¼Œå¯æŒ‡å®šå¤šä¸ª &quot;packages/*&quot; ], &quot;command&quot;: { // lerna å‘½ä»¤ç›¸å…³é…ç½® &quot;publish&quot;: { // å‘å¸ƒç›¸å…³ &quot;ignoreChanges&quot;: [ // æŒ‡å®šæ–‡ä»¶æˆ–ç›®å½•çš„å˜æ›´ï¼Œä¸è§¦å‘ publish &quot;.gitignore&quot;, &quot;*.log&quot;, &quot;*.md&quot; ] }, &quot;bootstrap&quot;: { // bootstrap ç›¸å…³ &quot;ignore&quot;: &quot;npm-*&quot;, // ä¸å— bootstrap å½±å“çš„åŒ… &quot;npmClientArgs&quot;: [ // bootstr æ‰§è¡Œå‚æ•° &quot;--no-package-lock&quot; ] } }} CRA + lerna + react + typescript é¡¹ç›®æ­å»º12345678910111213141.create-react-app demo --template typescript2.cd demo3.npm run eject4.lerna init5.lerna create builder-script6.è‡ªå®šä¹‰builder-scriptsè„šæœ¬å‘½ä»¤7.è‡ªå®šä¹‰ eslintrcã€tsconfigã€webpackç­‰é…ç½®é¡¹","link":"/2021/11/01/lerna%E5%BC%80%E5%8F%91/"},{"title":"vue3æºç è°ƒè¯•","text":"vue3 æºç è°ƒè¯•æ­¥éª¤ clone é¡¹ç›®1git clone https://github.com/vuejs/vue-next.git å®‰è£…ä¾èµ–1yarn --ignore-scripts ä¿®æ”¹é…ç½®ä¿®æ”¹package.jsonä¸­çš„ scripts ä¸‹ dev çš„é…ç½®ï¼Œåé¢æ·»åŠ  â€“sourcemap 123&quot;dev&quot;: &quot;node scripts/dev.js&quot;// â¬‡&quot;dev&quot;: &quot;node scripts/dev.js --sourcemap&quot; ç¼–è¯‘1yarn run dev å½“ç»ˆç«¯å‡ºç°waiting for changesâ€¦è¡¨ç¤ºç¼–è¯‘æˆåŠŸï¼Œå¯ä»¥ctrl+cç»“æŸè¿›ç¨‹æŸ¥çœ‹æºç äº† æ‰“åŒ…å®Œæˆä¹‹åï¼Œexamples ä¸‹é¢çš„æ–‡ä»¶ä¼šå¼•ç”¨ dist æ–‡ä»¶ä¸‹çš„æ–‡ä»¶ï¼ˆdist æ–‡ä»¶æ˜¯æˆ‘ä»¬åˆšæ‰ç¼–è¯‘åç”Ÿæˆçš„æ–‡ä»¶ï¼‰ debuggeræˆ‘ä»¬ç›´æ¥åœ¨package/vue/examplesç›®å½•ä¸‹æ·»åŠ demo/test.htmlæ–‡ä»¶ï¼Œå¹¶å¼•ç”¨**../../dist/vue.global.js**æ–‡ä»¶å°±å¯ä»¥ä½¿ç”¨ vue3 äº†ï¼Œä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt; &lt;title&gt;Document&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;app&quot;&gt;&lt;/div&gt; &lt;script src=&quot;../../dist/vue.global.js&quot;&gt;&lt;/script&gt; &lt;template id=&quot;foo&quot;&gt; &lt;h2&gt;{{name}}&lt;/h2&gt; &lt;/template&gt; &lt;script&gt; const App = { template: '#foo', data: function () { return { name: 'foolishmax' } } } Vue.createApp(App).mount('#app') &lt;/script&gt; &lt;/body&gt;&lt;/html&gt; æ¥ä¸‹æ¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€å°±å¯ä»¥è¿›è¡Œ vue3 çš„ä»£ç è°ƒè¯•äº†ã€‚","link":"/2022/01/02/vue3%E6%BA%90%E7%A0%81%E8%B0%83%E8%AF%95/"},{"title":"å¾®å‰ç«¯æºç å‰–æ","text":"ä¸ºä»€ä¹ˆéœ€è¦å¾®å‰ç«¯ï¼Ÿ å°†ä¸åŒçš„åŠŸèƒ½æŒ‰ç…§ä¸åŒç»´åº¦æ‹†åˆ†æˆå¤šä¸ªå­åº”ç”¨ï¼ˆå°†å­åº”ç”¨æ‰“åŒ…æˆä¸€ä¸ªä¸ª libï¼‰ï¼Œå½“è·¯å¾„åˆ‡æ¢æ—¶é€šè¿‡ä¸»åº”ç”¨æ¥åŠ è½½è¿™äº›å­åº”ç”¨å½“è·¯å¾„åˆ‡æ¢æ—¶é€šè¿‡ä¸»åº”ç”¨æ¥åŠ è½½è¿™äº›å­åº”ç”¨å½“è·¯å¾„åˆ‡æ¢æ—¶é€šè¿‡ä¸»åº”ç”¨æ¥åŠ è½½è¿™äº›å­åº”ç”¨ æ ¸å¿ƒï¼šå…ˆæ‹†-&gt;ååˆ å¾®å‰ç«¯è§£å†³çš„é—®é¢˜ï¼Ÿ ä¸åŒå›¢é˜Ÿï¼ˆæŠ€æœ¯æ ˆä¸åŒï¼‰ï¼Œå¼€å‘åŒä¸€ä¸ªåº”ç”¨ æ¯ä¸ªå›¢é˜Ÿå¼€å‘çš„æ¨¡å—ç‹¬ç«‹å¼€å‘ï¼Œç‹¬ç«‹éƒ¨ç½² å¢é‡è¿ç§» å®ç°å¾®å‰ç«¯æŠ€æœ¯æ–¹æ¡ˆï¼Ÿ å®ç°å¾®å‰ç«¯è€ƒè™‘è¦ç‚¹ å¦‚ä½•è¿›è¡Œåº”ç”¨æ‹†åˆ† å¦‚ä½•è¿›è¡Œåº”ç”¨é€šä¿¡ å¦‚ä½•è¿›è¡Œåº”ç”¨éš”ç¦» æŠ€æœ¯æ–¹æ¡ˆ iframe é€šè¿‡ postMessage é€šä¿¡ è‡ªå¸¦çš„æ²™ç®±æœºåˆ¶å¯ä»¥è¿›è¡Œåº”ç”¨éš”ç¦» ç¼ºç‚¹ï¼šç”¨æˆ·ä½“éªŒå·®ï¼Œå¼¹æ¡†åªèƒ½åœ¨ iframe ä¸­ã€å†…éƒ¨åˆ·æ–°åˆ‡æ¢çŠ¶æ€ä¸¢å¤±ç­‰ Web Components å°†å‰ç«¯åº”ç”¨ç¨‹åºåˆ†è§£ä¸ºè‡ªå®šä¹‰ html å…ƒç´  é€šè¿‡ CustomEvent é€šä¿¡ Shadow DOM å¤©ç”Ÿçš„ä½œç”¨åŸŸéš”ç¦» ç¼ºç‚¹ï¼šå…¼å®¹é—®é¢˜ã€å­¦ä¹ æˆæœ¬ã€è°ƒè¯•å›°éš¾ single-spa é€šè¿‡è·¯ç”±åŠ«æŒï¼Œé‡‡ç”¨ SystemJSï¼Œå­åº”ç”¨æš´éœ²å›ºå®šé’©å­ bootstrapã€mountã€unmount æ¥å…¥åè®® åŸºäº props è¿›è¡Œé€šä¿¡ æ— æ²™ç®±æœºåˆ¶ï¼Œéœ€è¦è‡ªå·±å®ç° JS æ²™ç®±å’Œ CSS æ²™ç®± ç¼ºç‚¹ï¼šå­¦ä¹ æˆæœ¬ã€æ— æ²™ç®±æœºåˆ¶ã€åº”ç”¨æ”¹é€ ã€èµ„æºé‡å¤åŠ è½½é—®é¢˜ Module federation é€šè¿‡æ¨¡å—è”é‚¦å°†ç»„ä»¶æ‰“åŒ…å¯¼å‡º å…±äº«æ¨¡å—é€šä¿¡ æ—  CSS æ²™ç®±å’Œ JS æ²™ç®± ç¼ºç‚¹ï¼šéœ€è¦ webpack5 ç®€æ˜“ç‰ˆ single-spa æºç å®ç°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt; &lt;title&gt;Document&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;a onclick=&quot;go('#/a')&quot;&gt;aåº”ç”¨&lt;/a&gt; &lt;a onclick=&quot;go('#/b')&quot;&gt;båº”ç”¨&lt;/a&gt; &lt;!-- navigation-event.js --&gt; &lt;script&gt; // å¯¹ç”¨æˆ·çš„è·¯å¾„åˆ‡æ¢ è¿›è¡ŒåŠ«æŒï¼ŒåŠ«æŒåï¼Œé‡æ–°è°ƒç”¨rerouteæ–¹æ³•ï¼Œè¿›è¡Œè®¡ç®—åº”ç”¨çš„åŠ è½½ function urlRoute() { reroute(arguments); } window.addEventListener('hashchange', urlRoute); window.addEventListener('popstate', urlRoute); // æµè§ˆå™¨å†å²åˆ‡æ¢çš„æ—¶å€™ä¼šæ‰§è¡Œæ­¤æ–¹æ³• // ä½†æ˜¯å½“è·¯ç”±åˆ‡æ¢çš„æ—¶å€™ æˆ‘ä»¬è§¦å‘single-spaçš„addEventLister, åº”ç”¨ä¸­å¯èƒ½ä¹ŸåŒ…å«addEventLister // éœ€è¦åŠ«æŒåŸç”Ÿçš„è·¯ç”±ç³»ç»Ÿï¼Œä¿è¯å½“æˆ‘ä»¬åŠ è½½å®Œåå†åˆ‡æ¢è·¯ç”± const capturedEventListeners = { hashchange: [], popstate: [], }; const listentingTo = ['hashchange', 'popstate']; const originalAddEventListener = window.addEventListener; const originalRemoveEventListener = window.removeEventListener; window.addEventListener = function (eventName, callback) { // æœ‰è¦ç›‘å¬çš„äº‹ä»¶ï¼Œ å‡½æ•°ä¸èƒ½é‡å¤ if ( listentingTo.includes(eventName) &amp;&amp; !capturedEventListeners[eventName].some( (listener) =&gt; listener === callback ) ) { return capturedEventListeners[eventName].push(callback); } return originalAddEventListener.apply(this, arguments); }; window.removeEventListener = function (eventName, callback) { // æœ‰è¦ç›‘å¬çš„äº‹ä»¶ï¼Œ å‡½æ•°ä¸èƒ½é‡å¤ if (listentingTo.includes(eventName)) { capturedEventListeners[eventName] = capturedEventListeners[ eventName ].filter((fn) =&gt; fn !== callback); return; } return originalRemoveEventListener.apply(this, arguments); }; function callCaptureEventListeners(e) { if (e) { const eventType = e[0].type; if (listentingTo.includes(eventType)) { capturedEventListeners[eventType].forEach((listener) =&gt; { listener.apply(this, e); }); } } } function patchFn(updateState, methodName) { return function () { const urlBefore = window.location.href; const r = updateState.apply(this, arguments); // è°ƒç”¨æ­¤æ–¹æ³• ç¡®å®å‘ç”Ÿäº†è·¯å¾„çš„å˜åŒ– const urlAfter = window.location.href; if (urlBefore !== urlAfter) { // æ‰‹åŠ¨æ´¾å‘popstateäº‹ä»¶ window.dispatchEvent(new PopStateEvent('popstate')); } return r; }; } window.history.pushState = patchFn(window.history.pushState, 'pushState'); window.history.replaceState = patchFn( window.history.replaceState, 'replaceState' ); &lt;/script&gt; &lt;!-- app.helpers.js --&gt; &lt;script&gt; // app status const NOT_LOADED = 'NOT_LOADED'; // æ²¡æœ‰è¢«åŠ è½½ const LOADING_SOURCE_CODE = 'LOADING_SOURCE_CODE'; // è·¯å¾„åŒ¹é…äº† è¦å»åŠ è½½è¿™ä¸ªèµ„æº const LOAD_ERROR = 'LOAD_ERROR'; // å¯åŠ¨çš„è¿‡ç¨‹ const NOT_BOOTSTRAPED = 'NOT_BOOTSTRAPED'; // èµ„æºåŠ è½½å®Œæ¯•äº† éœ€è¦å¯åŠ¨ï¼Œæ­¤æ—¶è¿˜æ²¡æœ‰å¯åŠ¨ const BOOTSTRAPING = 'BOOTSTRAPING'; // å¯åŠ¨ä¸­ const NOT_MOUNTED = 'NOT_MOUNTED'; // æ²¡æœ‰è¢«æŒ‚è½½ // æŒ‚è½½æµç¨‹ const MOUNTING = 'MOUNTING'; // æ­£åœ¨æŒ‚è½½ const MOUNTED = 'MOUNTED'; // æŒ‚è½½å®Œæˆ // å¸è½½æµç¨‹ const UNMOUNTING = 'UNMOUNTING'; // å¸è½½ä¸­ // åŠ è½½æ­£åœ¨ä¸‹è½½åº”ç”¨ LOADING_SOURCE_CODEï¼Œæ¿€æ´»å·²ç»è¿è¡Œäº† // çœ‹ä¸€ä¸‹è¿™ä¸ªåº”ç”¨æ˜¯å¦æ­£åœ¨è¢«æ¿€æ´» function isActive(app) { return app.status === MOUNTED; // æ­¤åº”ç”¨æ­£åœ¨è¢«æ¿€æ´» } // çœ‹ä¸€ä¸‹æ­¤åº”ç”¨æ˜¯å¦è¢«æ¿€æ´» function shouldBeActive(app) { return app.activeWhen(window.location); } function getAppChanges() { const appsToLoad = []; const appsToMount = []; const appsToUnmount = []; apps.forEach((app) =&gt; { let appShouldBeActive = shouldBeActive(app); switch (app.status) { case NOT_LOADED: case LOADING_SOURCE_CODE: // 1ï¼‰ æ ‡è®°å½“å‰è·¯å¾„ä¸‹ å“ªäº›åº”ç”¨è¦è¢«åŠ è½½ if (appShouldBeActive) { appsToLoad.push(app); } break; case NOT_BOOTSTRAPED: case BOOTSTRAPING: case NOT_MOUNTED: // 2) å½“å‰è·¯å¾„ä¸‹ å“ªäº›åº”ç”¨è¦è¢«æŒ‚åœ¨ if (appShouldBeActive) { appsToMount.push(app); } break; case MOUNTED: // 3ï¼‰ å½“å‰è·¯å¾„ä¸‹ å“ªäº›åº”ç”¨è¦è¢«å¸è½½ if (!appShouldBeActive) { appsToUnmount.push(app); } break; default: break; } }); return { appsToLoad, appsToMount, appsToUnmount }; } &lt;/script&gt; &lt;!-- lifecycles --&gt; &lt;script&gt; // load function flattenArrayToPromise(fns) { fns = Array.isArray(fns) ? fns : [fns]; return function (props) { // redux return fns.reduce( (rPromise, fn) =&gt; rPromise.then(() =&gt; fn(props)), Promise.resolve() ); }; } function toLoadPromise(app) { return Promise.resolve().then(() =&gt; { if (app.status !== NOT_LOADED) { // æ­¤åº”ç”¨åŠ è½½å®Œæ¯•äº† return app; } app.status = LOADING_SOURCE_CODE; // æ­£åœ¨åŠ è½½åº”ç”¨ // loadApp å¯¹äºä¹‹å‰çš„å†…å®¹ System.import() return app.loadApp(app.customProps).then((v) =&gt; { const { bootstrap, mount, unmount } = v; app.status = NOT_BOOTSTRAPED; app.bootstrap = flattenArrayToPromise(bootstrap); app.mount = flattenArrayToPromise(mount); app.unmount = flattenArrayToPromise(unmount); return app; }); }); } // mount function toMountPromise(app) { return Promise.resolve().then(() =&gt; { if (app.status !== NOT_MOUNTED) { return app; } return app.mount(app.customProps).then(() =&gt; { app.status = MOUNTED; return app; }); }); } // unmount function toUnmountPromise(app) { return Promise.resolve().then(() =&gt; { if (app.status !== MOUNTED) { return app; } app.status = UNMOUNTING; // app.unmount æ–¹æ³•ç”¨æˆ·å¯èƒ½å†™çš„æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚ã€‚ã€‚ã€‚ã€‚ return app.unmount(app.customProps).then(() =&gt; { app.status = NOT_MOUNTED; }); }); } // bootstrap function toBootstrapPromise(app) { return Promise.resolve().then(() =&gt; { if (app.status !== NOT_BOOTSTRAPED) { // æ­¤åº”ç”¨åŠ è½½å®Œæ¯•äº† return app; } app.status = BOOTSTRAPING; return app.bootstrap(app.customProps).then(() =&gt; { app.status = NOT_MOUNTED; return app; }); }); } &lt;/script&gt; &lt;!-- reroute --&gt; &lt;script&gt; // åç»­è·¯å¾„å˜åŒ– ä¹Ÿéœ€è¦èµ°è¿™é‡Œï¼Œ é‡æ–°è®¡ç®—å“ªäº›åº”ç”¨è¢«åŠ è½½æˆ–è€…å†™åœ¨ let appChangeUnderWay = false; let peopleWaitingOnAppChange = []; function reroute(event) { // å¦‚æœå¤šæ¬¡è§¦å‘reroute æ–¹æ³•æˆ‘ä»¬å¯ä»¥åˆ›é€ ä¸€ä¸ªé˜Ÿåˆ—æ¥å±è”½è¿™ä¸ªé—®é¢˜ if (appChangeUnderWay) { return new Promise((resolve, reject) =&gt; { peopleWaitingOnAppChange.push({ resolve, reject, }); }); } // è·å–appå¯¹åº”çš„çŠ¶æ€ è¿›è¡Œåˆ†ç±» const { appsToLoad, appsToMount, appsToUnmount } = getAppChanges(); // åŠ è½½å®Œæ¯•å éœ€è¦å»æŒ‚è½½çš„åº”ç”¨ if (started) { appChangeUnderWay = true; // ç”¨æˆ·è°ƒç”¨äº†startæ–¹æ³• æˆ‘ä»¬éœ€è¦å¤„ç†å½“å‰åº”ç”¨è¦æŒ‚è½½æˆ–è€…å¸è½½ return performAppChange(); } // å…ˆæ‹¿åˆ°åº”ç”¨å»åŠ è½½ -ã€‹ return loadApps(); function loadApps() { // åº”ç”¨çš„åŠ è½½ return Promise.all(appsToLoad.map(toLoadPromise)).then( callEventListener ); // ç›®å‰æˆ‘ä»¬æ²¡æœ‰è°ƒç”¨start } function performAppChange() { // å°†ä¸éœ€è¦çš„åº”ç”¨å¸è½½æ‰, è¿”å›ä¸€ä¸ªå¸è½½çš„promise // 1) ç¨åæµ‹è¯•é”€æ¯é€»è¾‘ const unmountAllPromises = Promise.all( appsToUnmount.map(toUnmountPromise) ); // æµç¨‹åŠ è½½éœ€è¦çš„åº”ç”¨ -ã€‹ å¯åŠ¨å¯¹åº”çš„åº”ç”¨ -ã€‹ å¸è½½ä¹‹å‰çš„ -ã€‹ æŒ‚è½½å¯¹åº”çš„åº”ç”¨ // 2) åŠ è½½éœ€è¦çš„åº”ç”¨ï¼ˆå¯èƒ½è¿™ä¸ªåº”ç”¨åœ¨æ³¨å†Œçš„æ—¶å€™å·²ç»è¢«åŠ è½½äº†ï¼‰ // é»˜è®¤æƒ…å†µæ³¨å†Œçš„æ—¶å€™ è·¯å¾„æ˜¯ /a , ä½†æ˜¯å½“æˆ‘ä»¬startçš„æ—¶å€™åº”ç”¨æ˜¯/b const loadMountPromises = Promise.all( appsToLoad.map((app) =&gt; toLoadPromise(app).then((app) =&gt; { // å½“åº”ç”¨åŠ è½½å®Œæ¯•å éœ€è¦å¯åŠ¨å’ŒæŒ‚è½½ï¼Œä½†æ˜¯è¦ä¿è¯æŒ‚è½½å‰ å…ˆå¸è½½æ‰æ¥çš„åº”ç”¨ return tryBootstrapAndMount(app, unmountAllPromises); }) ) ); // å¦‚æœåº”ç”¨ æ²¡æœ‰åŠ è½½ åŠ è½½ -ã€‹å¯åŠ¨æŒ‚è½½ å¦‚æœåº”ç”¨å·²ç»åŠ è½½è¿‡äº† æŒ‚è½½ const MountPromises = Promise.all( appsToMount.map((app) =&gt; tryBootstrapAndMount(app, unmountAllPromises) ) ); function tryBootstrapAndMount(app, unmountAllPromises) { if (shouldBeActive(app)) { // ä¿è¯å¸è½½å®Œæ¯•åœ¨æŒ‚è½½ return toBootstrapPromise(app).then((app) =&gt; unmountAllPromises.then(() =&gt; toMountPromise(app)) ); } } return Promise.all([loadMountPromises, MountPromises]).then(() =&gt; { // å¸è½½å®Œæ¯•å callEventListener(); appChangeUnderWay = false; if (peopleWaitingOnAppChange.length &gt; 0) { peopleWaitingOnAppChange = []; // å¤šæ¬¡æ“ä½œ æˆ‘ç¼“å­˜èµ·æ¥ï¼Œã€‚ã€‚ã€‚ã€‚ } }); } function callEventListener() { callCaptureEventListeners(event); } } &lt;/script&gt; &lt;!-- registerApplication --&gt; &lt;script&gt; const apps = []; function registerApplication(appName, loadApp, activeWhen, customProps) { const registeration = { name: appName, loadApp, activeWhen, customProps, status: NOT_LOADED, }; apps.push(registeration); reroute(); // é‡å†™è·¯ç”± } &lt;/script&gt; &lt;!-- start --&gt; &lt;script&gt; let started = false; // é»˜è®¤æ²¡æœ‰è°ƒç”¨startæ–¹æ³• function start() { started = true; // ç”¨æˆ·å¯åŠ¨äº† reroute(); } &lt;/script&gt; &lt;!-- å…¥å£ --&gt; &lt;script type=&quot;module&quot;&gt; let app1 = { bootstrap: [ async () =&gt; console.log('app1 bootstrap1'), async () =&gt; console.log('app1 bootstrap2'), ], mount: [ async (props) =&gt; { // new Vue().$mount()... console.log('app1 mount1', props); }, async () =&gt; { // new Vue().$mount()... console.log('app1 mount2'); }, ], unmount: async (props) =&gt; { console.log('app1 unmount'); }, }; let app2 = { bootstrap: async () =&gt; console.log('app2 bootstrap1'), mount: [ async () =&gt; { // new Vue().$mount()... return new Promise((resolve, reejct) =&gt; { setTimeout(() =&gt; { console.log('app2 mount'); resolve(); }, 1000); }); }, ], unmount: async () =&gt; { console.log('app2 unmount'); }, }; registerApplication( 'a', async () =&gt; app1, (location) =&gt; location.hash.startsWith('#/a'), { a: 1 } ); registerApplication( 'b', async () =&gt; app2, (location) =&gt; location.hash.startsWith('#/b'), { a: 1 } ); // å¼€å¯è·¯å¾„çš„ç›‘æ§ï¼Œè·¯å¾„åˆ‡æ¢çš„æ—¶å€™ å¯ä»¥è°ƒç”¨å¯¹åº”çš„mount unmount start(); // è¿™ä¸ªç›‘æ§æ“ä½œ åº”è¯¥è¢«å»¶è¿Ÿåˆ° å½“åº”ç”¨æŒ‚æŒ‚è½½å®Œæ¯•åå†è¡Œ window.addEventListener('hashchange', function () { console.log(window.location.hash, 'p----'); }); &lt;/script&gt; &lt;script&gt; function go(url) { // ç”¨æˆ·è°ƒç”¨pushState replaceState æ­¤æ–¹æ³•ä¸ä¼šè§¦å‘é€»è¾‘reroute history.pushState({}, null, url); } &lt;/script&gt; &lt;/body&gt;&lt;/html&gt;","link":"/2023/03/22/%E5%BE%AE%E5%89%8D%E7%AB%AF%E5%89%96%E6%9E%90/"},{"title":"è®¡ç®—æœºç½‘ç»œ","text":"ç½‘ç»œæ¨¡å‹OSI(open system interconnect)å‚è€ƒæ¨¡å‹ åº”ç”¨å±‚ï¼ˆä¸ºåº”ç”¨ç¨‹åºæä¾›ç½‘ç»œæœåŠ¡ï¼‰ è¡¨ç¤ºå±‚ï¼ˆæ•°æ®æ ¼å¼åŒ–ï¼ŒåŠ å¯†ç­‰ï¼‰ ä¼šè¯å±‚ï¼ˆå»ºç«‹ã€ç»´æŠ¤ç®¡ç†ä¼šè¯è¿æ¥ï¼‰ ä¼ è¾“å±‚ï¼ˆå»ºç«‹ã€ç»´æŠ¤ç®¡ç†åˆ°ç«¯è¿æ¥ï¼‰ ç½‘ç»œå±‚ï¼ˆIP å¯»å€å’Œè·¯ç”±é€‰æ‹©ï¼‰ å¯»å€å°±æ˜¯æ ¹æ® IP åœ°å€æ‰¾åˆ°å…·ä½“çš„è®¾å¤‡ è·¯ç”±å°±æ˜¯é€‰æ‹©æ•°æ®ä¼ è¾“çš„çº¿è·¯ æ•°æ®é“¾è·¯å±‚ï¼ˆæ§åˆ¶ç½‘ç»œå±‚å’Œç‰©ç†å±‚ä¹‹é—´é€šä¿¡ï¼‰ ç‰©ç†å±‚ï¼ˆé€šè¿‡å…‰ç¼†ã€æ— çº¿ç”µæ³¢ç­‰æ–¹å¼è¿æ¥ç»„ç½‘ï¼‰ TCP/IP æ¨¡å‹ åº”ç”¨å±‚ï¼ˆåº”ç”¨å±‚å°±æ˜¯å‘ç”¨æˆ·æä¾›é€šä¿¡æœåŠ¡çš„æ´»åŠ¨ï¼Œæä¾›ç”¨æˆ·ç¨‹åºæ¥å£ HTTPã€FTPã€DNSï¼‰ ä¼ è¾“å±‚ï¼ˆä¼ è¾“å±‚ä¸ºä¸¤å°ä¸»æœºä¸Šçš„åº”ç”¨ç¨‹åºæä¾›ç«¯åˆ°ç«¯çš„é€šä¿¡ TCPï¼ŒUDPï¼‰ ç½‘ç»œå±‚ï¼ˆç½‘ç»œå±‚å®ç°æ•°æ®åŒ…çš„é€‰è·¯å’Œè½¬å‘ï¼‰ æ•°æ®é“¾è·¯å±‚ï¼ˆARP åœ°å€è§£æåè®®ã€RARP é€†åœ°å€è§£æåè®®ï¼Œä½¿ç”¨ç‰©ç†åœ°å€å¯»æ‰¾ä¸€å°æœºå™¨ï¼‰ WebSocketWebSocketæ˜¯html5å®šä¹‰çš„æ–°åè®®ï¼Œç‰¹ç‚¹æ˜¯å³æ—¶é€šä¿¡ã€æ›¿ä»£è½®è®­ ä¸ä¼ ç»Ÿhttpåè®®ä¸åŒï¼Œå®ç°äº†æµè§ˆå™¨å’ŒæœåŠ¡å™¨çš„å…¨åŒå·¥é€šä¿¡ HTTP å’Œ WebSocket ç›¸åŒç‚¹ï¼š éƒ½æ˜¯åŸºäº TCP å¯é ä¼ è¾“åè®® ä¸åŒç‚¹ï¼š WebSocket æ˜¯å…¨åŒå·¥é€šä¿¡åè®®ï¼Œé€šä¿¡åŒæ–¹å¯ä»¥åŒæ—¶å‘é€å’Œæ¥æ”¶æ¶ˆæ¯ï¼Œhttp æ˜¯å•å‘çš„ WebSocket æ²¡æœ‰ Request å’Œ Response æ¦‚å¿µ WebSocket éœ€è¦ä¾èµ– http åè®®è¿›è¡Œä¸€æ¬¡æ¡æ‰‹ï¼Œæ¡æ‰‹æˆåŠŸåç›´æ¥ä» TCP é€šé“ä¼ è¾“ï¼Œä¸ http æ— å…³ WebSocket æ•°æ®æ ¼å¼è¾ƒè½»é‡ï¼Œæ•°æ®åŒ…å¤´éƒ¨è¾ƒå°ï¼Œhttp åè®®æ¯æ¬¡é€šä¿¡éœ€è¦æºå¸¦å®Œæˆå¤´éƒ¨ä¿¡æ¯ WebSocket æ— è·¨åŸŸé—®é¢˜ WebSocket å¤šäº†ä¸¤ä¸ªå±æ€§ Upgrade: webSocketã€Connection: Upgradeï¼ŒæœåŠ¡ç«¯è¿”å› 101 æˆåŠŸçŠ¶æ€ç  å•å·¥ã€åŠåŒå·¥å’Œå…¨åŒå·¥é€šä¿¡ å•å·¥é€šä¿¡ï¼šæŒ‡æ¶ˆæ¯åªèƒ½å•å‘ä¼ è¾“çš„å·¥ä½œæ–¹å¼ï¼Œæ•°æ®ä¿¡æ¯ä»ä¸€ç«¯åˆ°å¦ä¸€ç«¯æ˜¯å•å‘çš„ã€‚ä¾‹å¦‚ï¼šå¹¿æ’­ åŠåŒå·¥é€šä¿¡ï¼šå¯ä»¥åŒå‘é€šä¿¡ï¼Œä½†å¿…é¡»äº¤æ›¿è¿›è¡Œã€‚ä¾‹å¦‚ï¼šå¯¹è®²æœº å…¨åŒå·¥é€šä¿¡ï¼šæŒ‡åœ¨é€šä¿¡çš„ä»»æ„æ—¶åˆ»ï¼Œéƒ½å…è®¸æ•°æ®åŒæ—¶åœ¨ä¸¤ä¸ªæ–¹å‘ä¸Šä¼ è¾“ï¼Œé€šè®¯åŒæ–¹éƒ½è®¾ç½®äº†å‘é€å™¨å’Œæ¥æ”¶å™¨ã€‚","link":"/2023/03/22/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"},{"title":"DOMåŸºæœ¬æ“ä½œ","text":"ä¸€ã€èŠ‚ç‚¹èŠ‚ç‚¹å±æ€§ 12345678910111213141516171819Node.nodeName //è¿”å›èŠ‚ç‚¹åç§°ï¼Œåªè¯»Node.nodeType //è¿”å›èŠ‚ç‚¹ç±»å‹çš„å¸¸æ•°å€¼ï¼Œåªè¯»Node.nodeValue //è¿”å›Textæˆ–CommentèŠ‚ç‚¹çš„æ–‡æœ¬å€¼ï¼Œåªè¯»Node.textContent //è¿”å›å½“å‰èŠ‚ç‚¹å’Œå®ƒçš„æ‰€æœ‰åä»£èŠ‚ç‚¹çš„æ–‡æœ¬å†…å®¹ï¼Œå¯è¯»å†™Node.baseURI //è¿”å›å½“å‰ç½‘é¡µçš„ç»å¯¹è·¯å¾„Node.ownerDocument //è¿”å›å½“å‰èŠ‚ç‚¹æ‰€åœ¨çš„é¡¶å±‚æ–‡æ¡£å¯¹è±¡ï¼Œå³documentNode.nextSibling //è¿”å›ç´§è·Ÿåœ¨å½“å‰èŠ‚ç‚¹åé¢çš„ç¬¬ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹Node.previousSibling //è¿”å›å½“å‰èŠ‚ç‚¹å‰é¢çš„ã€è·ç¦»æœ€è¿‘çš„ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹Node.parentNode //è¿”å›å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹Node.parentElement //è¿”å›å½“å‰èŠ‚ç‚¹çš„çˆ¶ElementèŠ‚ç‚¹Node.childNodes //è¿”å›å½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹Node.firstChild //è¿”å›å½“å‰èŠ‚ç‚¹çš„ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹Node.lastChild //è¿”å›å½“å‰èŠ‚ç‚¹çš„æœ€åä¸€ä¸ªå­èŠ‚ç‚¹Node.children //è¿”å›å½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰Elementå­èŠ‚ç‚¹Node.firstElementChild //è¿”å›å½“å‰èŠ‚ç‚¹çš„ç¬¬ä¸€ä¸ªElementå­èŠ‚ç‚¹Node.lastElementChild //è¿”å›å½“å‰èŠ‚ç‚¹çš„æœ€åä¸€ä¸ªElementå­èŠ‚ç‚¹Node.childElementCount //è¿”å›å½“å‰èŠ‚ç‚¹æ‰€æœ‰Elementå­èŠ‚ç‚¹çš„æ•°ç›® æ“ä½œ123456789101112131415Node.appendChild(node) //å‘èŠ‚ç‚¹æ·»åŠ æœ€åçš„å­èŠ‚ç‚¹Node.hasChildNodes() //è¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå½“å‰èŠ‚ç‚¹æ˜¯å¦æœ‰å­èŠ‚ç‚¹Node.cloneNode(true) //é»˜è®¤ä¸ºfalse(å…‹éš†èŠ‚ç‚¹),true(å…‹éš†èŠ‚ç‚¹åŠå…¶å±æ€§ï¼Œä»¥åŠåä»£)Node.insertBefore(newNode,oldNode) //åœ¨æŒ‡å®šå­èŠ‚ç‚¹å‰æ’å…¥æ–°çš„å­èŠ‚ç‚¹Node.removeChild(node) //åˆ é™¤èŠ‚ç‚¹ï¼Œåœ¨è¦åˆ é™¤èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸Šæ“ä½œNode.replaceChild(newChild,oldChild) //æ›¿æ¢èŠ‚ç‚¹Node.contains(node) //è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°èŠ‚ç‚¹æ˜¯å¦ä¸ºå½“å‰èŠ‚ç‚¹çš„åä»£èŠ‚ç‚¹Node.compareDocumentPosition(node) //è¿”å›ä¸€ä¸ª7ä¸ªæ¯”ç‰¹ä½çš„äºŒè¿›åˆ¶å€¼ï¼Œè¡¨ç¤ºå‚æ•°èŠ‚ç‚¹å’Œå½“å‰èŠ‚ç‚¹çš„å…³ç³»Node.isEqualNode(node) //è¿”å›å¸ƒå°”å€¼ï¼Œç”¨äºæ£€æŸ¥ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦æƒ³ç­‰ï¼Œæ‰€è°“çš„ç›¸ç­‰èŠ‚ç‚¹ï¼ŒæŒ‡çš„çš„ä¸¤ä¸ªèŠ‚ç‚¹çš„ç±»å‹ã€å±æ€§ã€å­èŠ‚ç‚¹éƒ½ç›¸åŒNode.normalize() //ç”¨äºæ¸…ç†å½“å‰èŠ‚ç‚¹å†…éƒ¨çš„æ‰€æœ‰TextèŠ‚ç‚¹ã€‚å®ƒä¼šå»é™¤ç©ºçš„æ–‡æœ¬èŠ‚ç‚¹ï¼Œå¹¶ä¸”å°†æ¯—é‚»çš„æ–‡æœ¬èŠ‚ç‚¹åˆå¹¶æˆä¸€ä¸ªChildNode.remove() //ç”¨äºåˆ é™¤å½“å‰èŠ‚ç‚¹ChildNode.before() //åœ¨ChildNodeå‰æ’å…¥å…ƒç´ èŠ‚ç‚¹æˆ–è€…æ–‡æœ¬èŠ‚ç‚¹ChildNode.after() //åœ¨ChildNodeåæ’å…¥å…ƒç´ æˆ–æ–‡æœ¬èŠ‚ç‚¹ChildNode.replaceWith() //æ›¿æ¢è¯¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸‹çš„å­èŠ‚ç‚¹ï¼Œå¯ä»¥ä¸ºæ–‡æœ¬æˆ–å…ƒç´ å¯¹è±¡ Document èŠ‚ç‚¹Document èŠ‚ç‚¹çš„å±æ€§1234567891011121314151617181920212223242526document.doctype //è¿”å›å½“å‰æ–‡æ¡£å…³è”çš„æ–‡æ¡£ç±»å‹å®šä¹‰(DTD)document.documentElement //è¿”å›å½“å‰æ–‡æ¡£çš„æ ¹èŠ‚ç‚¹(html)document.defaultView //è¿”å›documentå¯¹è±¡æ‰€åœ¨çš„windowå¯¹è±¡document.body //è¿”å›å½“å‰æ–‡æ¡£çš„&lt;body&gt;èŠ‚ç‚¹document.head //è¿”å›å½“å‰æ–‡æ¡£çš„&lt;head&gt;èŠ‚ç‚¹document.activeElement //è¿”å›å½“å‰æ–‡æ¡£ä¸­è·å¾—ç„¦ç‚¹çš„é‚£ä¸ªå…ƒç´ document.links //è¿”å›å½“å‰æ–‡æ¡£çš„æ‰€æœ‰aå…ƒç´ document.forms //è¿”å›é¡µé¢ä¸­æ‰€æœ‰è¡¨å•å…ƒç´ document.images //è¿”å›é¡µé¢ä¸­æ‰€æœ‰å›¾ç‰‡å…ƒç´ document.embeds //è¿”å›ç½‘é¡µä¸­æ‰€æœ‰åµŒå…¥å¯¹è±¡document.scripts //è¿”å›å½“å‰æ–‡æ¡£çš„æ‰€æœ‰è„šæœ¬document.styleSheets //è¿”å›å½“å‰ç½‘é¡µçš„æ‰€æœ‰æ ·å¼è¡¨document.documentURI //è¡¨ç¤ºå½“å‰æ–‡æ¡£çš„ç½‘å€document.URI //è¿”å›å½“å‰æ–‡æ¡£çš„ç½‘å€document.domain //è¿”å›å½“å‰æ–‡æ¡£çš„åŸŸådocument.lastModified //è¿”å›å½“å‰æ–‡æ¡£æœ€åä¿®æ”¹çš„æ—¶é—´æˆ³document.location //è¿”å›locationå¯¹è±¡ï¼Œæä¾›å½“å‰æ–‡æ¡£çš„URLä¿¡æ¯document.referrer //è¿”å›å½“å‰æ–‡æ¡£çš„è®¿é—®æ¥æºdocument.title //è¿”å›å½“å‰æ–‡æ¡£çš„æ ‡é¢˜document.characterSet //å±æ€§è¿”å›æ¸²æŸ“å½“å‰æ–‡æ¡£çš„å­—ç¬¦é›†ï¼Œæ¯”å¦‚UTF-8document.readyState //è¿”å›å½“å‰æ–‡æ¡£çš„çŠ¶æ€document.designMode //æ§åˆ¶å½“å‰æ–‡æ¡£æ˜¯å¦å¯ç¼–è¾‘ï¼Œå¯è¯»å†™document.compatMode //è¿”å›æµè§ˆå™¨å¤„ç†æ–‡æ¡£çš„æ¨¡å¼document.cookie //ç”¨æ¥æ“ä½œCookie Document èŠ‚ç‚¹çš„æ–¹æ³•è¯»å†™æ–¹æ³•1234document.open() //ç”¨äºæ–°å»ºå¹¶æ‰“å¼€ä¸€ä¸ªæ–‡æ¡£document.close() //å…³é—­openæ–¹æ³•æ‰€æ–°å»ºçš„æ–‡æ¡£document.write() //ç”¨äºå‘å½“å‰æ–‡æ¡£å†™å…¥å†…å®¹document.writeIn() //ç”¨äºå‘å½“å‰æ–‡æ¡£å†™å…¥å†…å®¹ï¼Œå°¾éƒ¨æ·»åŠ æ¢è¡Œç¬¦ æŸ¥æ‰¾èŠ‚ç‚¹1234567document.querySelector(selectors) //æ¥æ”¶ä¸€ä¸ªCSSé€‰æ‹©å™¨ä½œä¸ºå‚æ•°ï¼Œè¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…è¯¥é€‰æ‹©å™¨çš„å…ƒç´ èŠ‚ç‚¹document.querySelectorAll(selectors) //æ¥æ”¶ä¸€ä¸ªCSSé€‰æ‹©å™¨ä½œä¸ºå‚æ•°ï¼Œè¿”å›æ‰€æœ‰åŒ¹é…è¯¥é€‰æ‹©å™¨çš„å…ƒç´ èŠ‚ç‚¹document.getElementsByTagName(tagName) //è¿”å›æ‰€æœ‰æŒ‡å®šHTMLæ ‡ç­¾çš„å…ƒç´ document.getElementsByClassName(className) //è¿”å›åŒ…æ‹¬äº†æ‰€æœ‰classåå­—ç¬¦åˆæŒ‡å®šæ¡ä»¶çš„å…ƒç´ document.getElementsByName(name) //ç”¨äºé€‰æ‹©æ‹¥æœ‰nameå±æ€§çš„HTMLå…ƒç´ (æ¯”å¦‚&lt;form&gt;ã€&lt;radio&gt;ã€&lt;img&gt;ã€&lt;frame&gt;ã€&lt;object&gt;ç­‰)document.getElementById(id) //è¿”å›åŒ¹é…æŒ‡å®šidå±æ€§çš„å…ƒç´ èŠ‚ç‚¹document.elementFromPoint(x,y) //è¿”å›ä½äºé¡µé¢æŒ‡å®šä½ç½®æœ€ä¸Šå±‚çš„Elementå­èŠ‚ç‚¹ ç”ŸæˆèŠ‚ç‚¹1234document.createElement(tagName) //ç”¨æ¥ç”ŸæˆHTMLå…ƒç´ èŠ‚ç‚¹document.createTextNode(text) //ç”¨æ¥ç”Ÿæˆæ–‡æœ¬èŠ‚ç‚¹document.createAttribute(name) //ç”Ÿæˆä¸€ä¸ªæ–°çš„å±æ€§å¯¹è±¡èŠ‚ç‚¹ï¼Œå¹¶è¿”å›document.createDocumentFragment() //ç”Ÿæˆä¸€ä¸ªDocumentFragmentå¯¹è±¡ äº‹ä»¶æ–¹æ³•1234document.createEvent(type) //ç”Ÿæˆä¸€ä¸ªäº‹ä»¶å¯¹è±¡ï¼Œè¯¥å¯¹è±¡èƒ½è¢«element.dispatchEvent()æ–¹æ³•ä½¿ç”¨document.addEventListener(type,listener,capture) //æ³¨å†Œäº‹ä»¶document.removeEventListener(type,listener,capture) //æ³¨é”€äº‹ä»¶document.dispatchEvent(event) //è§¦å‘äº‹ä»¶ å…¶ä»–123document.hasFocus() //è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå½“å‰æ–‡æ¡£ä¹‹ä¸­æ˜¯å¦æœ‰å…ƒç´ è¢«æ¿€æ´»æˆ–è·å¾—ç„¦ç‚¹document.adoptNode(externalNode) //å°†æŸä¸ªèŠ‚ç‚¹ï¼Œä»å…¶åŸæ¥æ‰€åœ¨çš„æ–‡æ¡£ç§»é™¤ï¼Œæ’å…¥å½“å‰æ–‡æ¡£ï¼Œå¹¶è¿”å›æ’å…¥åçš„æ–°èŠ‚ç‚¹document.importNode(externalNode,deep) //ä»å¤–éƒ¨æ–‡æ¡£æ‹·è´æŒ‡å®šèŠ‚ç‚¹ï¼Œæ’å…¥å½“å‰æ–‡æ¡£ Element èŠ‚ç‚¹Element èŠ‚ç‚¹çš„å±æ€§ç‰¹æ€§å±æ€§12345678Element.attributes //è¿”å›å½“å‰å…ƒç´ èŠ‚ç‚¹çš„æ‰€æœ‰å±æ€§èŠ‚ç‚¹Element.id //è¿”å›æŒ‡å®šå…ƒç´ çš„idå±æ€§ï¼Œå¯è¯»å†™Element.tagName //è¿”å›æŒ‡å®šå…ƒç´ çš„å¤§å†™æ ‡ç­¾åElement.innerHTML //è¿”å›è¯¥å…ƒç´ åŒ…å«çš„HTMLä»£ç ï¼Œå¯è¯»å†™Element.outerHTML //è¿”å›è¯¥å…ƒç´ èŠ‚ç‚¹çš„æ‰€æœ‰HTMLä»£ç ï¼ŒåŒ…æ‹¬è‡ªèº«å’Œæ‰€æœ‰å­å…ƒç´ ï¼Œå¯è¯»å†™Element.className //è¿”å›å½“å‰å…ƒç´ çš„classå±æ€§ï¼Œå¯è¯»å†™Element.classList //è¿”å›å½“å‰å…ƒç´ èŠ‚ç‚¹çš„æ‰€æœ‰classé›†åˆElement.dataset //è¿”å›å…ƒç´ èŠ‚ç‚¹ä¸­æ‰€æœ‰data-*å±æ€§ å°ºå¯¸å±æ€§12345678910111213141516Element.clientHeight //è¿”å›å…ƒç´ èŠ‚ç‚¹å¯è§éƒ¨åˆ†çš„é«˜åº¦Element.clientWidth //è¿”å›å…ƒç´ èŠ‚ç‚¹å¯è§éƒ¨åˆ†çš„å®½åº¦Element.clientLeft //è¿”å›å…ƒç´ èŠ‚ç‚¹å·¦è¾¹æ¡†çš„å®½åº¦Element.clientTop //è¿”å›å…ƒç´ èŠ‚ç‚¹é¡¶éƒ¨è¾¹æ¡†çš„å®½åº¦Element.scrollHeight //è¿”å›å…ƒç´ èŠ‚ç‚¹çš„æ€»é«˜åº¦Element.scrollWidth //è¿”å›å…ƒç´ èŠ‚ç‚¹çš„æ€»å®½åº¦Element.scrollLeft //è¿”å›å…ƒç´ èŠ‚ç‚¹çš„æ°´å¹³æ»šåŠ¨æ¡å‘å³æ»šåŠ¨çš„åƒç´ æ•°å€¼ï¼Œé€šè¿‡è®¾ç½®è¿™ä¸ªå±æ€§å¯ä»¥æ”¹å˜å…ƒç´ æ»šåŠ¨çš„ä½ç½®Element.scrollTop //è¿”å›å…ƒç´ èŠ‚ç‚¹çš„å‚ç›´æ»šåŠ¨å‘ä¸‹æ»šåŠ¨çš„åƒç´ æ•°å€¼Element.offsetHeight //è¿”å›å…ƒç´ çš„å‚ç›´é«˜åº¦(åŒ…å«borderï¼Œpadding)Element.offsetWidth //è¿”å›å…ƒç´ çš„æ°´å¹³å®½åº¦(åŒ…å«borderï¼Œpadding)Element.offsetLeft //è¿”å›å½“å‰å…ƒç´ å·¦ä¸Šè§’ç›¸å¯¹äºElement.offsetParentèŠ‚ç‚¹çš„å‚ç›´åç§»Element.offsetTop //è¿”å›æ°´å¹³ä½ç§»Element.style //è¿”å›å…ƒç´ èŠ‚ç‚¹çš„è¡Œå†…æ ·å¼ èŠ‚ç‚¹ç›¸å…³å±æ€§1234567Element.children //åŒ…æ‹¬å½“å‰å…ƒç´ èŠ‚ç‚¹çš„æ‰€æœ‰å­å…ƒç´ Element.childElementCount //è¿”å›å½“å‰å…ƒç´ èŠ‚ç‚¹åŒ…å«çš„å­HTMLå…ƒç´ èŠ‚ç‚¹çš„ä¸ªæ•°Element.firstElementChild //è¿”å›å½“å‰èŠ‚ç‚¹çš„ç¬¬ä¸€ä¸ªElementå­èŠ‚ç‚¹Element.lastElementChild //è¿”å›å½“å‰èŠ‚ç‚¹çš„æœ€åä¸€ä¸ªElementå­èŠ‚ç‚¹Element.nextElementSibling //è¿”å›å½“å‰å…ƒç´ èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå…„å¼ŸHTMLå…ƒç´ èŠ‚ç‚¹Element.previousElementSibling //è¿”å›å½“å‰å…ƒç´ èŠ‚ç‚¹çš„å‰ä¸€ä¸ªå…„å¼ŸHTMLå…ƒç´ èŠ‚ç‚¹Element.offsetParent //è¿”å›å½“å‰å…ƒç´ èŠ‚ç‚¹çš„æœ€é è¿‘ã€å¹¶ä¸”CSSçš„positionå±æ€§ä¸ç­‰äºstaticçš„çˆ¶å…ƒç´  Element èŠ‚ç‚¹çš„æ–¹æ³•ä½ç½®æ–¹æ³•12getBoundingClientRect() //è·å–å…ƒç´ ä½ç½®getClientRects() //è¿”å›å½“å‰å…ƒç´ åœ¨é¡µé¢ä¸Šçš„çŸ©å½¢åŒºåŸŸ å±æ€§æ–¹æ³•1234Element.getAttribute() //è¯»å–æŒ‡å®šå±æ€§Element.setAttribute() //è®¾ç½®æŒ‡å®šå±æ€§Element.hasAttribute() //è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå½“å‰å…ƒç´ èŠ‚ç‚¹æ˜¯å¦æœ‰æŒ‡å®šå±æ€§Element.removeAttribute() //ç§»é™¤æŒ‡å®šå±æ€§ æŸ¥æ‰¾æ–¹æ³•1234Element.querySelector()Element.querySelectorAll()Element.getElementByTagName()Element.getElementByClassName() äº‹ä»¶æ–¹æ³•1234567891011121314151617181920Element.addEventListener() //æ·»åŠ äº‹ä»¶çš„å›è°ƒå‡½æ•°Element.removeEventListener() //ç§»é™¤äº‹ä»¶ç›‘å¬å‡½æ•°Element.dispatchEvent() //è§¦å‘äº‹ä»¶//ie8Element.attachEvent(oneventName,listener)Element.detachEvent(oneventName,listener)//eventå¯¹è±¡var event = window.event||event//äº‹ä»¶çš„ç›®æ ‡èŠ‚ç‚¹var target = event.target || event.srcElement//äº‹ä»¶ä»£ç†ul.addEventListener('click',function(event){ if(event.target.tagName.toLowerCase() === 'li'){ console.log(event.target.innerHTML) }}) 123456789101112Element.scrollIntoView() //æ»šåŠ¨å½“å‰å…ƒç´ ï¼Œè¿›å…¥æµè§ˆå™¨çš„å¯è§åŒºåŸŸ//è§£æHTMLå­—ç¬¦ä¸²ï¼Œç„¶åå°†ç”Ÿæˆçš„èŠ‚ç‚¹æ’å…¥DOMæ ‘çš„æŒ‡å®šä½ç½®ã€‚Element.insertAdjacentHTML(where, htmlString);Element.insertAdjacentHTML('beforeBegin', htmlString); // åœ¨è¯¥å…ƒç´ å‰æ’å…¥Element.insertAdjacentHTML('afterBegin', htmlString); // åœ¨è¯¥å…ƒç´ ç¬¬ä¸€ä¸ªå­å…ƒç´ å‰æ’å…¥Element.insertAdjacentHTML('beforeEnd', htmlString); // åœ¨è¯¥å…ƒç´ æœ€åä¸€ä¸ªå­å…ƒç´ åé¢æ’å…¥Element.insertAdjacentHTML('afterEnd', htmlString); // åœ¨è¯¥å…ƒç´ åæ’å…¥Element.remove() //ç”¨äºå°†å½“å‰å…ƒç´ èŠ‚ç‚¹ä»DOMä¸­ç§»é™¤Element.focus() //ç”¨äºå°†å½“å‰é¡µé¢çš„ç„¦ç‚¹ï¼Œè½¬ç§»åˆ°æŒ‡å®šå…ƒç´ ä¸Š äºŒã€CSS æ“ä½œç±»åæ“ä½œ1234567891011121314151617181920//ie8ä»¥ä¸‹Element.className //è·å–å…ƒç´ èŠ‚ç‚¹çš„ç±»åElement.className += ' ' + newClassName //æ–°å¢ä¸€ä¸ªç±»å//åˆ¤æ–­æ˜¯å¦æœ‰æŸä¸ªç±»åfunction hasClass(element,className){ return new RegExp(className,'gi').test(element.className);}//ç§»é™¤classfunction removeClass(element,className){ element.className = element.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'),'');}//ie10element.classList.add(className) //æ–°å¢element.classList.remove(className) //åˆ é™¤element.classList.contains(className) //æ˜¯å¦åŒ…å«element.classList.toggle(className) //toggle class style æ“ä½œ123456789101112131415161718element.setAttribute('style','')element.style.backgroundColor = 'red'element.style.cssText //ç”¨æ¥è¯»å†™æˆ–åˆ é™¤æ•´ä¸ªstyleå±æ€§element.style.setProperty(propertyName,value) //è®¾ç½®csså±æ€§element.style.getPropertyValue(property) //è·å–csså±æ€§element.style.removeProperty(property) //åˆ é™¤csså±æ€§æ“ä½œéå†…è”æ ·å¼//ie8element.currentStyle[attrName]//ie9+window.getComputedStyle(el,null)[attrName]window.getComputedStyle(el,null).getPropertyValue(attrName)//ä¼ªç±»window.getComputedStyle(el,':after')[attrName] å¯¹è±¡Object å¯¹è±¡ç”Ÿæˆå®ä¾‹å¯¹è±¡var o = new Object() å±æ€§Object.prototype //è¿”å›åŸå‹å¯¹è±¡ æ–¹æ³•Object.keys(o) //éå†å¯¹è±¡çš„å¯æšä¸¾å±æ€§ Object.getOwnPropertyName(o) //éå†å¯¹è±¡ä¸å¯æšä¸¾çš„å±æ€§ å¯¹è±¡å®ä¾‹çš„æ–¹æ³•valueOf() //è¿”å›å½“å‰å¯¹è±¡å¯¹åº”çš„å€¼ toString() //è¿”å›å½“å‰å¯¹è±¡å¯¹åº”çš„å­—ç¬¦ä¸²å½¢å¼ toLocaleString() //è¿”å›å½“å‰å¯¹è±¡å¯¹åº”çš„æœ¬åœ°å­—ç¬¦ä¸²å½¢å¼ hasOwnProperty() //åˆ¤æ–­æŸä¸ªå±æ€§æ˜¯å¦ä¸ºå½“å‰å¯¹è±¡è‡ªèº«çš„å±æ€§ï¼Œè¿˜æ˜¯ç»§æ‰¿è‡ªåŸå‹å¯¹è±¡çš„å±æ€§ isPrototypeof() //åˆ¤æ–­å½“å‰å¯¹è±¡æ˜¯å¦ä¸ºå¦ä¸€ä¸ªå¯¹è±¡çš„åŸå‹ propertyIsEnumerable() //åˆ¤æ–­æŸä¸ªå±æ€§æ˜¯å¦å¯æšä¸¾ Array å¯¹è±¡ç”Ÿæˆå®ä¾‹å¯¹è±¡var a = new Array() å±æ€§a.length //é•¿åº¦ Array.isArray()Array.isArray(a) //ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºæ•°ç»„ Array å®ä¾‹çš„æ–¹æ³•a.valueof() //è¿”å›æ•°ç»„æœ¬èº« a.toString() //è¿”å›æ•°ç»„çš„å­—ç¬¦ä¸²å½¢å¼ a.push(value,vlaue....) //ç”¨äºåœ¨æ•°ç»„çš„æœ«ç«¯æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›æ·»åŠ æ–°å…ƒç´ åçš„æ•°ç»„é•¿åº¦ã€‚ pop() //ç”¨äºåˆ é™¤æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›è¯¥å…ƒç´  join() //ä»¥å‚æ•°ä½œä¸ºåˆ†éš”ç¬¦ï¼Œå°†æ‰€æœ‰æ•°ç»„æˆå‘˜ç»„æˆä¸€ä¸ªå­—ç¬¦ä¸²è¿”å›ã€‚å¦‚æœä¸æä¾›å‚æ•°ï¼Œé»˜è®¤ç”¨é€—å·åˆ†éš”ã€‚ concat() //ç”¨äºå¤šä¸ªæ•°ç»„çš„åˆå¹¶ã€‚å®ƒå°†æ–°æ•°ç»„çš„æˆå‘˜ï¼Œæ·»åŠ åˆ°åŸæ•°ç»„çš„å°¾éƒ¨ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼ŒåŸæ•°ç»„ä¸å˜ã€‚ shift() //ç”¨äºåˆ é™¤æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›è¯¥å…ƒç´ ã€‚ unshift(value) //ç”¨äºåœ¨æ•°ç»„çš„ç¬¬ä¸€ä¸ªä½ç½®æ·»åŠ å…ƒç´ ï¼Œå¹¶è¿”å›æ·»åŠ æ–°å…ƒç´ åçš„æ•°ç»„é•¿åº¦ã€‚ reverse() //ç”¨äºé¢ å€’æ•°ç»„ä¸­å…ƒç´ çš„é¡ºåºï¼Œè¿”å›æ”¹å˜åçš„æ•°ç»„ slice(start_index, upto_index); //ç”¨äºæå–åŸæ•°ç»„çš„ä¸€éƒ¨åˆ†ï¼Œè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼ŒåŸæ•°ç»„ä¸å˜ã€‚ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºèµ·å§‹ä½ç½®ï¼ˆä»0å¼€å§‹ï¼‰ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºç»ˆæ­¢ä½ç½®ï¼ˆä½†è¯¥ä½ç½®çš„å…ƒç´ æœ¬èº«ä¸åŒ…æ‹¬åœ¨å†…ï¼‰ã€‚å¦‚æœçœç•¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œåˆ™ä¸€ç›´è¿”å›åˆ°åŸæ•°ç»„çš„æœ€åä¸€ä¸ªæˆå‘˜ã€‚è´Ÿæ•°è¡¨ç¤ºå€’æ•°ç¬¬å‡ ä¸ªã€‚ splice(index, count_to_remove, addElement1, addElement2, ...); //ç”¨äºåˆ é™¤åŸæ•°ç»„çš„ä¸€éƒ¨åˆ†æˆå‘˜ï¼Œå¹¶å¯ä»¥åœ¨è¢«åˆ é™¤çš„ä½ç½®æ·»åŠ å…¥æ–°çš„æ•°ç»„æˆå‘˜ï¼Œè¿”å›å€¼æ˜¯è¢«åˆ é™¤çš„å…ƒç´ ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯åˆ é™¤çš„èµ·å§‹ä½ç½®ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯è¢«åˆ é™¤çš„å…ƒç´ ä¸ªæ•°ã€‚å¦‚æœåé¢è¿˜æœ‰æ›´å¤šçš„å‚æ•°ï¼Œåˆ™è¡¨ç¤ºè¿™äº›å°±æ˜¯è¦è¢«æ’å…¥æ•°ç»„çš„æ–°å…ƒç´ ã€‚ sort() //å¯¹æ•°ç»„æˆå‘˜è¿›è¡Œæ’åºï¼Œé»˜è®¤æ˜¯æŒ‰ç…§å­—å…¸é¡ºåºæ’åºã€‚æ’åºåï¼ŒåŸæ•°ç»„å°†è¢«æ”¹å˜ã€‚å¦‚æœæƒ³è®©sortæ–¹æ³•æŒ‰ç…§è‡ªå®šä¹‰æ–¹å¼æ’åºï¼Œå¯ä»¥ä¼ å…¥ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¡¨ç¤ºæŒ‰ç…§è‡ªå®šä¹‰æ–¹æ³•è¿›è¡Œæ’åºã€‚è¯¥å‡½æ•°æœ¬èº«åˆæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºè¿›è¡Œæ¯”è¾ƒçš„ä¸¤ä¸ªå…ƒç´ ã€‚å¦‚æœè¿”å›å€¼å¤§äº0ï¼Œè¡¨ç¤ºç¬¬ä¸€ä¸ªå…ƒç´ æ’åœ¨ç¬¬äºŒä¸ªå…ƒç´ åé¢ï¼›å…¶ä»–æƒ…å†µä¸‹ï¼Œéƒ½æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ æ’åœ¨ç¬¬äºŒä¸ªå…ƒç´ å‰é¢ã€‚ map() //å¯¹æ•°ç»„çš„æ‰€æœ‰æˆå‘˜ä¾æ¬¡è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œæ ¹æ®å‡½æ•°ç»“æœè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚ map(elem,index,arr) //mapæ–¹æ³•æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ã€‚è¯¥å‡½æ•°è°ƒç”¨æ—¶ï¼Œmapæ–¹æ³•ä¼šå°†å…¶ä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯å½“å‰æˆå‘˜ã€å½“å‰ä½ç½®å’Œæ•°ç»„æœ¬èº«ã€‚ forEach() //éå†æ•°ç»„çš„æ‰€æœ‰æˆå‘˜ï¼Œæ‰§è¡ŒæŸç§æ“ä½œ,å‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚å®ƒæ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯å½“å‰ä½ç½®çš„å€¼ã€å½“å‰ä½ç½®çš„ç¼–å·å’Œæ•´ä¸ªæ•°ç»„ã€‚ filter() //å‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ‰€æœ‰æ•°ç»„æˆå‘˜ä¾æ¬¡æ‰§è¡Œè¯¥å‡½æ•°ï¼Œè¿”å›ç»“æœä¸ºtrueçš„æˆå‘˜ç»„æˆä¸€ä¸ªæ–°æ•°ç»„è¿”å›ã€‚è¯¥æ–¹æ³•ä¸ä¼šæ”¹å˜åŸæ•°ç»„ã€‚ some() //ç”¨æ¥åˆ¤æ–­æ•°ç»„æˆå‘˜æ˜¯å¦ç¬¦åˆæŸç§æ¡ä»¶ã€‚æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œæ‰€æœ‰æ•°ç»„æˆå‘˜ä¾æ¬¡æ‰§è¡Œè¯¥å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚è¯¥å‡½æ•°æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œä¾æ¬¡æ˜¯å½“å‰ä½ç½®çš„æˆå‘˜ã€å½“å‰ä½ç½®çš„åºå·å’Œæ•´ä¸ªæ•°ç»„ã€‚åªè¦æœ‰ä¸€ä¸ªæ•°ç»„æˆå‘˜çš„è¿”å›å€¼æ˜¯trueï¼Œåˆ™æ•´ä¸ªsomeæ–¹æ³•çš„è¿”å›å€¼å°±æ˜¯trueï¼Œå¦åˆ™falseã€‚ every() //ç”¨æ¥åˆ¤æ–­æ•°ç»„æˆå‘˜æ˜¯å¦ç¬¦åˆæŸç§æ¡ä»¶ã€‚æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œæ‰€æœ‰æ•°ç»„æˆå‘˜ä¾æ¬¡æ‰§è¡Œè¯¥å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚è¯¥å‡½æ•°æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œä¾æ¬¡æ˜¯å½“å‰ä½ç½®çš„æˆå‘˜ã€å½“å‰ä½ç½®çš„åºå·å’Œæ•´ä¸ªæ•°ç»„ã€‚æ‰€æœ‰æ•°ç»„æˆå‘˜çš„è¿”å›å€¼éƒ½æ˜¯trueï¼Œæ‰è¿”å›trueï¼Œå¦åˆ™falseã€‚ reduce() //ä¾æ¬¡å¤„ç†æ•°ç»„çš„æ¯ä¸ªæˆå‘˜ï¼Œæœ€ç»ˆç´¯è®¡ä¸ºä¸€ä¸ªå€¼ã€‚ä»å·¦åˆ°å³å¤„ç†ï¼ˆä»ç¬¬ä¸€ä¸ªæˆå‘˜åˆ°æœ€åä¸€ä¸ªæˆå‘˜ï¼‰ reduceRight() //ä¾æ¬¡å¤„ç†æ•°ç»„çš„æ¯ä¸ªæˆå‘˜ï¼Œæœ€ç»ˆç´¯è®¡ä¸ºä¸€ä¸ªå€¼ã€‚ä»å³åˆ°å·¦ï¼ˆä»æœ€åä¸€ä¸ªæˆå‘˜åˆ°ç¬¬ä¸€ä¸ªæˆå‘˜ï¼‰ indexOf(s) //è¿”å›ç»™å®šå…ƒç´ åœ¨æ•°ç»„ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œå¦‚æœæ²¡æœ‰å‡ºç°åˆ™è¿”å›-1ã€‚å¯ä»¥æ¥å—ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºæœç´¢çš„å¼€å§‹ä½ç½® lastIndexOf() //è¿”å›ç»™å®šå…ƒç´ åœ¨æ•°ç»„ä¸­æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œå¦‚æœæ²¡æœ‰å‡ºç°åˆ™è¿”å›-1ã€‚ Number å¯¹è±¡ç”Ÿæˆå¯¹è±¡var n = new Number() Number å¯¹è±¡çš„å±æ€§Number.POSITIVE_INFINITYï¼šæ­£çš„æ— é™ï¼ŒæŒ‡å‘Infinityã€‚ Number.NEGATIVE_INFINITYï¼šè´Ÿçš„æ— é™ï¼ŒæŒ‡å‘-Infinityã€‚ Number.NaNï¼šè¡¨ç¤ºéæ•°å€¼ï¼ŒæŒ‡å‘NaNã€‚ Number.MAX_VALUEï¼šè¡¨ç¤ºæœ€å¤§çš„æ­£æ•°ï¼Œç›¸åº”çš„ï¼Œæœ€å°çš„è´Ÿæ•°ä¸º-Number.MAX_VALUEã€‚ Number.MIN_VALUEï¼šè¡¨ç¤ºæœ€å°çš„æ­£æ•°ï¼ˆå³æœ€æ¥è¿‘0çš„æ­£æ•°ï¼Œåœ¨64ä½æµ®ç‚¹æ•°ä½“ç³»ä¸­ä¸º5e-324ï¼‰ï¼Œç›¸åº”çš„ï¼Œæœ€æ¥è¿‘0çš„è´Ÿæ•°ä¸º-Number.MIN_VALUEã€‚ Number.MAX_SAFE_INTEGERï¼šè¡¨ç¤ºèƒ½å¤Ÿç²¾ç¡®è¡¨ç¤ºçš„æœ€å¤§æ•´æ•°ï¼Œå³9007199254740991ã€‚ Number.MIN_SAFE_INTEGERï¼šè¡¨ç¤ºèƒ½å¤Ÿç²¾ç¡®è¡¨ç¤ºçš„æœ€å°æ•´æ•°ï¼Œå³-9007199254740991ã€‚ Number å¯¹è±¡å®ä¾‹çš„æ–¹æ³•toString() //ç”¨æ¥å°†ä¸€ä¸ªæ•°å€¼è½¬ä¸ºå­—ç¬¦ä¸²å½¢å¼.å¯ä»¥æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºè¾“å‡ºçš„è¿›åˆ¶ã€‚å¦‚æœçœç•¥è¿™ä¸ªå‚æ•°ï¼Œé»˜è®¤å°†æ•°å€¼å…ˆè½¬ä¸ºåè¿›åˆ¶ï¼Œå†è¾“å‡ºå­—ç¬¦ä¸²ï¼›å¦åˆ™ï¼Œå°±æ ¹æ®å‚æ•°æŒ‡å®šçš„è¿›åˆ¶ï¼Œå°†ä¸€ä¸ªæ•°å­—è½¬åŒ–æˆæŸä¸ªè¿›åˆ¶çš„å­—ç¬¦ä¸²ã€‚ toFixed() //ç”¨äºå°†ä¸€ä¸ªæ•°è½¬ä¸ºæŒ‡å®šä½æ•°çš„å°æ•°ï¼Œè¿”å›è¿™ä¸ªå°æ•°å¯¹åº”çš„å­—ç¬¦ä¸²ã€‚ toExponential() //ç”¨äºå°†ä¸€ä¸ªæ•°è½¬ä¸ºç§‘å­¦è®¡æ•°æ³•å½¢å¼ã€‚å¯ä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œå‚æ•°è¡¨ç¤ºå°æ•°ç‚¹åæœ‰æ•ˆæ•°å­—çš„ä½æ•°ï¼ŒèŒƒå›´ä¸º0åˆ°20ï¼Œè¶…å‡ºè¿™ä¸ªèŒƒå›´ï¼Œä¼šæŠ›å‡ºä¸€ä¸ªRangeErrorã€‚ toPrecision() //ç”¨äºå°†ä¸€ä¸ªæ•°è½¬ä¸ºæŒ‡å®šä½æ•°çš„æœ‰æ•ˆæ•°å­—ã€‚ String å¯¹è±¡ç”Ÿæˆå®ä¾‹å¯¹è±¡var s = new String() String å¯¹è±¡çš„å±æ€§s.length //è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ æ–¹æ³•s.chatAt(index) //è¿”å›æŒ‡å®šä½ç½®çš„å­—ç¬¦ s.fromCharCode() //è¯¥æ–¹æ³•çš„å‚æ•°æ˜¯ä¸€ç³»åˆ—Unicodeç ç‚¹ï¼Œè¿”å›å¯¹åº”çš„å­—ç¬¦ä¸²ã€‚ s.charCodeAt(index) //è¿”å›ç»™å®šä½ç½®å­—ç¬¦çš„Unicodeç ç‚¹ï¼ˆåè¿›åˆ¶è¡¨ç¤ºï¼‰ s.concat(s2) //ç”¨äºè¿æ¥ä¸¤ä¸ªå­—ç¬¦ä¸² s.slice(start,end) //ç”¨äºä»åŸå­—ç¬¦ä¸²å–å‡ºå­å­—ç¬¦ä¸²å¹¶è¿”å›ï¼Œä¸æ”¹å˜åŸå­—ç¬¦ä¸²ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å­å­—ç¬¦ä¸²çš„ç»“æŸä½ç½®ï¼ˆä¸å«è¯¥ä½ç½®ï¼‰ã€‚å¦‚æœå‚æ•°æ˜¯è´Ÿå€¼ï¼Œè¡¨ç¤ºä»ç»“å°¾å¼€å§‹å€’æ•°è®¡ç®—çš„ä½ç½®ï¼Œå³è¯¥è´Ÿå€¼åŠ ä¸Šå­—ç¬¦ä¸²é•¿åº¦ã€‚ s.substring(start,end) //ç”¨äºä»åŸå­—ç¬¦ä¸²å–å‡ºå­å­—ç¬¦ä¸²å¹¶è¿”å›ï¼Œä¸æ”¹å˜åŸå­—ç¬¦ä¸².ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºå­å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ï¼Œç¬¬äºŒä¸ªä½ç½®è¡¨ç¤ºç»“æŸä½ç½®ã€‚ s.substr(start,length) //ç”¨äºä»åŸå­—ç¬¦ä¸²å–å‡ºå­å­—ç¬¦ä¸²å¹¶è¿”å›ï¼Œä¸æ”¹å˜åŸå­—ç¬¦ä¸²ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å­å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è´Ÿæ•°ï¼Œè¡¨ç¤ºå€’æ•°è®¡ç®—çš„å­—ç¬¦ä½ç½®ã€‚å¦‚æœç¬¬äºŒä¸ªå‚æ•°æ˜¯è´Ÿæ•°ï¼Œå°†è¢«è‡ªåŠ¨è½¬ä¸º0ï¼Œå› æ­¤ä¼šè¿”å›ç©ºå­—ç¬¦ä¸²ã€‚ s.indexOf(s) //è¿”å›ç»™å®šå…ƒç´ åœ¨å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œå¦‚æœæ²¡æœ‰å‡ºç°åˆ™è¿”å›-1ã€‚å¯ä»¥æ¥å—ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºæœç´¢çš„å¼€å§‹ä½ç½® s.lastIndexOf() //è¿”å›ç»™å®šå…ƒç´ åœ¨å­—ç¬¦ä¸²ä¸­æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œå¦‚æœæ²¡æœ‰å‡ºç°åˆ™è¿”å›-1ã€‚ s.trim() //ç”¨äºå»é™¤å­—ç¬¦ä¸²ä¸¤ç«¯çš„ç©ºæ ¼ï¼Œè¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸² s.toLowerCase() //ç”¨äºå°†ä¸€ä¸ªå­—ç¬¦ä¸²å…¨éƒ¨è½¬ä¸ºå°å†™,è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œä¸æ”¹å˜åŸå­—ç¬¦ä¸²ã€‚ s.toUpperCase() //å…¨éƒ¨è½¬ä¸ºå¤§å†™ s.localeCompare(s2) //ç”¨äºæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²ã€‚å®ƒè¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œå¦‚æœå°äº0ï¼Œè¡¨ç¤ºç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²å°äºç¬¬äºŒä¸ªå­—ç¬¦ä¸²ï¼›å¦‚æœç­‰äº0ï¼Œè¡¨ç¤ºä¸¤è€…ç›¸ç­‰ï¼›å¦‚æœå¤§äº0ï¼Œè¡¨ç¤ºç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²å¤§äºç¬¬äºŒä¸ªå­—ç¬¦ä¸²ã€‚ s.match(regexp) //ç”¨äºç¡®å®šåŸå­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…æŸä¸ªå­å­—ç¬¦ä¸²ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜ä¸ºåŒ¹é…çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°åŒ¹é…ï¼Œåˆ™è¿”å›nullã€‚ s.search() //è¿”å›å€¼ä¸ºåŒ¹é…çš„ç¬¬ä¸€ä¸ªä½ç½®ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°åŒ¹é…ï¼Œåˆ™è¿”å›-1ã€‚ s.replace(oldValue,newValue) //ç”¨äºæ›¿æ¢åŒ¹é…çš„å­å­—ç¬¦ä¸²ï¼Œä¸€èˆ¬æƒ…å†µä¸‹åªæ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…ï¼ˆé™¤éä½¿ç”¨å¸¦æœ‰gä¿®é¥°ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ï¼‰ã€‚ s.split() //æŒ‰ç…§ç»™å®šè§„åˆ™åˆ†å‰²å­—ç¬¦ä¸²ï¼Œè¿”å›ä¸€ä¸ªç”±åˆ†å‰²å‡ºæ¥çš„å­å­—ç¬¦ä¸²ç»„æˆçš„æ•°ç»„ã€‚è¿˜å¯ä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œå†³å®šäº†è¿”å›æ•°ç»„çš„æˆå‘˜æ•°ã€‚ Math å¯¹è±¡å±æ€§Math.Eï¼šå¸¸æ•°eã€‚ Math.LN2ï¼š2çš„è‡ªç„¶å¯¹æ•°ã€‚ Math.LN10ï¼š10çš„è‡ªç„¶å¯¹æ•°ã€‚ Math.LOG2Eï¼šä»¥2ä¸ºåº•çš„eçš„å¯¹æ•°ã€‚ Math.LOG10Eï¼šä»¥10ä¸ºåº•çš„eçš„å¯¹æ•°ã€‚ Math.PIï¼šå¸¸æ•°Piã€‚ Math.SQRT1_2ï¼š0.5çš„å¹³æ–¹æ ¹ã€‚ Math.SQRT2ï¼š2çš„å¹³æ–¹æ ¹ã€‚ æ•°å­¦æ–¹æ³•Math.abs()ï¼šè¿”å›å‚æ•°çš„ç»å¯¹å€¼ Math.ceil()ï¼šå‘ä¸Šå–æ•´ï¼Œæ¥å—ä¸€ä¸ªå‚æ•°ï¼Œè¿”å›å¤§äºè¯¥å‚æ•°çš„æœ€å°æ•´æ•°ã€‚ Math.floor()ï¼šå‘ä¸‹å–æ•´ Math.max(n,n1,...)ï¼šå¯æ¥å—å¤šä¸ªå‚æ•°ï¼Œè¿”å›æœ€å¤§å€¼ Math.min(n,n1,..)ï¼šå¯æ¥å—å¤šä¸ªå‚æ•°ï¼Œè¿”å›æœ€å°å€¼ Math.pow(n,e)ï¼šæŒ‡æ•°è¿ç®—, è¿”å›ä»¥ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºåº•æ•°ã€ç¬¬äºŒä¸ªå‚æ•°ä¸ºå¹‚çš„æŒ‡æ•°å€¼ã€‚ Math.sqrt()ï¼šè¿”å›å‚æ•°å€¼çš„å¹³æ–¹æ ¹ã€‚å¦‚æœå‚æ•°æ˜¯ä¸€ä¸ªè´Ÿå€¼ï¼Œåˆ™è¿”å›NaNã€‚ Math.log()ï¼šè¿”å›ä»¥eä¸ºåº•çš„è‡ªç„¶å¯¹æ•°å€¼ã€‚ Math.exp()ï¼šè¿”å›eçš„æŒ‡æ•°ï¼Œä¹Ÿå°±æ˜¯å¸¸æ•°eçš„å‚æ•°æ¬¡æ–¹ã€‚ Math.round()ï¼šå››èˆäº”å…¥ Math.random()ï¼šè¿”å›0åˆ°1ä¹‹é—´çš„ä¸€ä¸ªä¼ªéšæœºæ•°ï¼Œå¯èƒ½ç­‰äº0ï¼Œä½†æ˜¯ä¸€å®šå°äº1ã€‚ ä¸‰è§’å‡½æ•°æ–¹æ³•Math.sin()ï¼šè¿”å›å‚æ•°çš„æ­£å¼¦ Math.cos()ï¼šè¿”å›å‚æ•°çš„ä½™å¼¦ Math.tan()ï¼šè¿”å›å‚æ•°çš„æ­£åˆ‡ Math.asin()ï¼šè¿”å›å‚æ•°çš„åæ­£å¼¦ï¼ˆå¼§åº¦å€¼ï¼‰ Math.acos()ï¼šè¿”å›å‚æ•°çš„åä½™å¼¦ï¼ˆå¼§åº¦å€¼ï¼‰ Math.atan()ï¼šè¿”å›å‚æ•°çš„åæ­£åˆ‡ï¼ˆå¼§åº¦å€¼ï¼‰ JSON å¯¹è±¡æ–¹æ³•JSON.stringify() //ç”¨äºå°†ä¸€ä¸ªå€¼è½¬ä¸ºå­—ç¬¦ä¸²ã€‚è¯¥å­—ç¬¦ä¸²åº”è¯¥ç¬¦åˆJSONæ ¼å¼ï¼Œå¹¶ä¸”å¯ä»¥è¢«JSON.parseæ–¹æ³•è¿˜åŸã€‚ //ï¼ˆJSON.stringify(obj, selectedProperties)ï¼‰è¿˜å¯ä»¥æ¥å—ä¸€ä¸ªæ•°ç»„ï¼Œä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ï¼ŒæŒ‡å®šéœ€è¦è½¬æˆå­—ç¬¦ä¸²çš„å±æ€§ã€‚ //è¿˜å¯ä»¥æ¥å—ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œç”¨äºå¢åŠ è¿”å›çš„JSONå­—ç¬¦ä¸²çš„å¯è¯»æ€§ã€‚å¦‚æœæ˜¯æ•°å­—ï¼Œè¡¨ç¤ºæ¯ä¸ªå±æ€§å‰é¢æ·»åŠ çš„ç©ºæ ¼ï¼ˆæœ€å¤šä¸è¶…è¿‡10ä¸ªï¼‰ï¼›å¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼ˆä¸è¶…è¿‡10ä¸ªå­—ç¬¦ï¼‰ï¼Œåˆ™è¯¥å­—ç¬¦ä¸²ä¼šæ·»åŠ åœ¨æ¯è¡Œå‰é¢ã€‚ JSON.parse() //ç”¨äºå°†JSONå­—ç¬¦ä¸²è½¬åŒ–æˆå¯¹è±¡ã€‚ console å¯¹è±¡æ–¹æ³•console.log(text,text2,...) //ç”¨äºåœ¨consoleçª—å£è¾“å‡ºä¿¡æ¯ã€‚å®ƒå¯ä»¥æ¥å—å¤šä¸ªå‚æ•°ï¼Œå°†å®ƒä»¬çš„ç»“æœè¿æ¥èµ·æ¥è¾“å‡ºã€‚å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ ¼å¼å­—ç¬¦ä¸²ï¼ˆä½¿ç”¨äº†æ ¼å¼å ä½ç¬¦ï¼‰ï¼Œconsole.logæ–¹æ³•å°†ä¾æ¬¡ç”¨åé¢çš„å‚æ•°æ›¿æ¢å ä½ç¬¦ï¼Œç„¶åå†è¿›è¡Œè¾“å‡ºã€‚ console.info() //åœ¨consoleçª—å£è¾“å‡ºä¿¡æ¯ï¼ŒåŒæ—¶ï¼Œä¼šåœ¨è¾“å‡ºä¿¡æ¯çš„å‰é¢ï¼ŒåŠ ä¸Šä¸€ä¸ªè“è‰²å›¾æ ‡ã€‚ console.debug() //åœ¨consoleçª—å£è¾“å‡ºä¿¡æ¯ï¼ŒåŒæ—¶ï¼Œä¼šåœ¨è¾“å‡ºä¿¡æ¯çš„å‰é¢ï¼ŒåŠ ä¸Šä¸€ä¸ªè“è‰²å›¾æ ‡ã€‚ console.warn() //è¾“å‡ºä¿¡æ¯æ—¶ï¼Œåœ¨æœ€å‰é¢åŠ ä¸€ä¸ªé»„è‰²ä¸‰è§’ï¼Œè¡¨ç¤ºè­¦å‘Šï¼› console.error() //è¾“å‡ºä¿¡æ¯æ—¶ï¼Œåœ¨æœ€å‰é¢åŠ ä¸€ä¸ªçº¢è‰²çš„å‰ï¼Œè¡¨ç¤ºå‡ºé”™ï¼ŒåŒæ—¶ä¼šæ˜¾ç¤ºé”™è¯¯å‘ç”Ÿçš„å †æ ˆ console.table() //å¯ä»¥å°†å¤åˆç±»å‹çš„æ•°æ®è½¬ä¸ºè¡¨æ ¼æ˜¾ç¤ºã€‚ console.count() //ç”¨äºè®¡æ•°ï¼Œè¾“å‡ºå®ƒè¢«è°ƒç”¨äº†å¤šå°‘æ¬¡ã€‚ console.dir() //ç”¨æ¥å¯¹ä¸€ä¸ªå¯¹è±¡è¿›è¡Œæ£€æŸ¥ï¼ˆinspectï¼‰ï¼Œå¹¶ä»¥æ˜“äºé˜…è¯»å’Œæ‰“å°çš„æ ¼å¼æ˜¾ç¤ºã€‚ console.dirxml() //ç”¨äºä»¥ç›®å½•æ ‘çš„å½¢å¼ï¼Œæ˜¾ç¤ºDOMèŠ‚ç‚¹ã€‚ console.assert() //æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¡¨è¾¾å¼ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²ã€‚åªæœ‰å½“ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºfalseï¼Œæ‰ä¼šè¾“å‡ºç¬¬äºŒä¸ªå‚æ•°ï¼Œå¦åˆ™ä¸ä¼šæœ‰ä»»ä½•ç»“æœã€‚ //è¿™ä¸¤ä¸ªæ–¹æ³•ç”¨äºè®¡æ—¶ï¼Œå¯ä»¥ç®—å‡ºä¸€ä¸ªæ“ä½œæ‰€èŠ±è´¹çš„å‡†ç¡®æ—¶é—´ã€‚ console.time() console.timeEnd() //timeæ–¹æ³•è¡¨ç¤ºè®¡æ—¶å¼€å§‹ï¼ŒtimeEndæ–¹æ³•è¡¨ç¤ºè®¡æ—¶ç»“æŸã€‚å®ƒä»¬çš„å‚æ•°æ˜¯è®¡æ—¶å™¨çš„åç§°ã€‚è°ƒç”¨timeEndæ–¹æ³•ä¹‹åï¼Œconsoleçª—å£ä¼šæ˜¾ç¤ºâ€œè®¡æ—¶å™¨åç§°: æ‰€è€—è´¹çš„æ—¶é—´â€ã€‚ console.profile() //ç”¨æ¥æ–°å»ºä¸€ä¸ªæ€§èƒ½æµ‹è¯•å™¨ï¼ˆprofileï¼‰ï¼Œå®ƒçš„å‚æ•°æ˜¯æ€§èƒ½æµ‹è¯•å™¨çš„åå­—ã€‚ console.profileEnd() //ç”¨æ¥ç»“æŸæ­£åœ¨è¿è¡Œçš„æ€§èƒ½æµ‹è¯•å™¨ã€‚ console.group() console.groupend() //ä¸Šé¢è¿™ä¸¤ä¸ªæ–¹æ³•ç”¨äºå°†æ˜¾ç¤ºçš„ä¿¡æ¯åˆ†ç»„ã€‚å®ƒåªåœ¨è¾“å‡ºå¤§é‡ä¿¡æ¯æ—¶æœ‰ç”¨ï¼Œåˆ†åœ¨ä¸€ç»„çš„ä¿¡æ¯ï¼Œå¯ä»¥ç”¨é¼ æ ‡æŠ˜å /å±•å¼€ã€‚ console.groupCollapsed() //ç”¨äºå°†æ˜¾ç¤ºçš„ä¿¡æ¯åˆ†ç»„ï¼Œè¯¥ç»„çš„å†…å®¹ï¼Œåœ¨ç¬¬ä¸€æ¬¡æ˜¾ç¤ºæ—¶æ˜¯æ”¶èµ·çš„ï¼ˆcollapsedï¼‰ï¼Œè€Œä¸æ˜¯å±•å¼€çš„ã€‚ console.trace() //æ˜¾ç¤ºå½“å‰æ‰§è¡Œçš„ä»£ç åœ¨å †æ ˆä¸­çš„è°ƒç”¨è·¯å¾„ã€‚ console.clear() //ç”¨äºæ¸…é™¤å½“å‰æ§åˆ¶å°çš„æ‰€æœ‰è¾“å‡ºï¼Œå°†å…‰æ ‡å›ç½®åˆ°ç¬¬ä¸€è¡Œã€‚ DOM åŸºæœ¬æ“ä½œ è·å– Dom èŠ‚ç‚¹ document ä»£è¡¨æ•´ä¸ªæ–‡æ¡£ document.getElementById() document.getElementByTagName() document.getElementByName() //åªæœ‰éƒ¨åˆ†æ ‡ç­¾ name å¯ç”Ÿæ•ˆï¼Œè¡¨å•ä¹‹ç±»çš„ document.getElementByClassName() querySelector() //é™æ€çš„ï¼Œä¸æ˜¯å®æ—¶çš„ï¼Œä¿å­˜çš„æ˜¯å½“æ—¶çš„çŠ¶æ€ï¼Œæ˜¯ä¸€ä¸ªå‰¯æœ¬ querySelectorAll() //å³ä½¿ä»¥åå…ƒç´ å‘ç”Ÿäº†æ”¹å˜ï¼Œè¯¥å€¼ä¹Ÿä¸ä¼šæ”¹å˜ éå†èŠ‚ç‚¹æ ‘ parentNode -&gt; çˆ¶èŠ‚ç‚¹ï¼ˆæœ€é¡¶ç«¯ parentNode ä¸º#documentï¼‰ childNodes -&gt; å­èŠ‚ç‚¹ä»¬ firstChild -&gt; ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹ lastChild -&gt; æœ€åä¸€ä¸ªå­èŠ‚ç‚¹ nextSibling -&gt; åä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹ previousSibling -&gt;å‰ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹ éå†å…ƒç´ èŠ‚ç‚¹æ ‘ parentElement -&gt; è¿”å›å½“å‰å…ƒç´ çš„çˆ¶å…ƒç´ èŠ‚ç‚¹ï¼ˆIE9 ä»¥ä¸‹ä¸å…¼å®¹ï¼‰ children -&gt; è¿”å›å½“å‰å…ƒç´ çš„å…ƒç´ å­èŠ‚ç‚¹ node.childElementCount === node.children.length è¿”å›å½“å‰å…ƒç´ çš„å­å…ƒç´ èŠ‚ç‚¹ä¸ªæ•°ï¼ˆIE9 ä»¥ä¸‹ä¸å…¼å®¹ï¼‰ firstElementChild -&gt; è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ èŠ‚ç‚¹ï¼ˆIE9 ä»¥ä¸‹ä¸å…¼å®¹ï¼‰ lastElementChild -&gt; è¿”å›æœ€åä¸€ä¸ªå…ƒç´ èŠ‚ç‚¹ï¼ˆIE9 ä»¥ä¸‹ä¸å…¼å®¹ï¼‰ nextElementSibling -&gt; è¿”å›åä¸€ä¸ªå…ƒç´ èŠ‚ç‚¹ï¼ˆIE9 ä»¥ä¸‹ä¸å…¼å®¹ï¼‰ previousElementSibling -&gt; è¿”å›å‰ä¸€ä¸ªå…ƒç´ èŠ‚ç‚¹ï¼ˆIE9 ä»¥ä¸‹ä¸å…¼å®¹ï¼‰ èŠ‚ç‚¹çš„ç±»å‹ å…ƒç´ èŠ‚ç‚¹ â€”â€” 1 å±æ€§èŠ‚ç‚¹ â€”â€” 2 æ–‡æœ¬èŠ‚ç‚¹ â€”â€” 3 æ³¨é‡ŠèŠ‚ç‚¹ï¼ˆCommentï¼‰â€”â€” 8 document â€”â€” 9 DocumentFragment â€”â€” 11 è·å–èŠ‚ç‚¹ç±»å‹ nodeType èŠ‚ç‚¹çš„å››ä¸ªå±æ€§ nodeName å…ƒç´ çš„æ ‡ç­¾åï¼Œä»¥å¤§å†™å½¢å¼è¡¨ç¤ºï¼Œåªè¯» nodeValue Text èŠ‚ç‚¹æˆ– Comment èŠ‚ç‚¹çš„æ–‡æœ¬å†…å®¹ï¼Œå¯è¯»å†™ nodeType è¯¥èŠ‚ç‚¹çš„ç±»å‹ï¼Œåªè¯» attributes Element èŠ‚ç‚¹çš„å±æ€§é›†åˆ èŠ‚ç‚¹çš„ä¸€ä¸ªæ–¹æ³• Node.hasChildNodes() æ‰€æœ‰èŠ‚ç‚¹éƒ½æœ‰ hasChildNodes()æ–¹æ³•ï¼Œåˆ¤æ–­æœ‰æ— å­èŠ‚ç‚¹ï¼Œæœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè¿”å› true Dom åŸºæœ¬æ“ä½œâ€”â€”å¢ document.createElement() document.createTextNode() document.createComment() document.createDocumentFragment() Dom åŸºæœ¬æ“ä½œâ€”â€”æ’ parentNode.appendChild() parentNode.insertBefore(a, b) Dom åŸºæœ¬æ“ä½œâ€”â€”åˆ  parent.removeChild() child.remove() Dom åŸºæœ¬æ“ä½œ-æ›¿æ¢ parent.replaceChild(new, origin) Element èŠ‚ç‚¹çš„ä¸€äº›å±æ€§ innerHTML innerText(ç«ç‹ä¸å…¼å®¹)/textContent(è€ç‰ˆæœ¬ IE ä¸å…¼å®¹) Element èŠ‚ç‚¹çš„ä¸€äº›æ–¹æ³• ele.setAttribute() ele.getAttribute() æŸ¥çœ‹å…ƒç´ çš„å‡ ä½•å°ºå¯¸ domEle.getBoundingClientRect() å…¼å®¹æ€§å¾ˆå¥½ è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œé‡Œé¢æœ‰ leftã€topã€rightã€bottomã€widthã€heightã€‚ left å’Œ top ä»£è¡¨å…ƒç´ å·¦ä¸Šè§’çš„ X å’Œ Y åæ ‡ï¼Œright å’Œ bottom ä»£è¡¨å…ƒç´ å³ä¸‹è§’çš„ X å’Œ Y åæ ‡ height å’Œ width å±æ€§è€ç‰ˆæœ¬ IE æœªå®ç° è¿”å›çš„ç»“æœä¸æ˜¯â€œå®æ—¶çš„â€ æŸ¥çœ‹å…ƒç´ çš„å®½é«˜å°ºå¯¸dom.offsetWidth dom.offsetHeight æŸ¥çœ‹å…ƒç´ çš„ä½ç½®dom.offsetLeft dom.offsetTop å¯¹äºæ— å®šä½çˆ¶çº§çš„å…ƒç´ ï¼Œè¿”å›ç›¸å¯¹æ–‡æ¡£çš„åæ ‡ã€‚ å¯¹äºæœ‰å®šä½çš„çˆ¶çº§å…ƒç´ ï¼Œè¿”å›ç›¸å¯¹æœ€è¿‘çš„æœ‰å®šä½çš„çˆ¶çº§çš„åæ ‡ï¼Œæ— è®ºè·ç¦»æ˜¯æ€ä¹ˆäº§ç”Ÿçš„ dom.offsetParentè¿”å›æœ€è¿‘çš„æœ‰å®šä½çš„çˆ¶çº§ï¼Œè‹¥æ— ï¼Œè¿”å› bodyï¼Œbody.offsetParent è¿”å› nul è®©æ»šåŠ¨æ¡æ»šåŠ¨ window ä¸Šçš„ä¸‰ä¸ªæ–¹æ³•ï¼šscroll()==scrollTo()ã€scrollBy() scroll()å’Œ scrollTo()å°† xã€y åæ ‡ä¼ å…¥ï¼Œè®©æ»šåŠ¨æ¡æ»šåŠ¨åˆ°å½“å‰ä½ç½® scrollBy() ä¼šåœ¨ä¹‹å‰çš„æ•°æ®åŸºç¡€ä¸Šç´¯åŠ ï¼Œå¯ä»¥åˆ©ç”¨ scrollBy()å®ç°å¿«é€Ÿé˜…è¯»çš„åŠŸèƒ½ æŸ¥è¯¢è®¡ç®—æ ·å¼ window.getComputedStyle(ele, null)[style] ç¬¬äºŒä¸ªå‚æ•° nullï¼Œæ”¾çš„æ˜¯ä¼ªå…ƒç´ ï¼Œå¯ä»¥è·å–ä¼ªå…ƒç´ çš„å±æ€§ è®¡ç®—æ ·å¼åªè¯» è¿”å›çš„è®¡ç®—æ ·å¼éƒ½æ˜¯ç»å¯¹å€¼ï¼Œæ²¡æœ‰ç›¸å¯¹å•ä½ -IE8 åŠä»¥ä¸‹ä¸å…¼å®¹ï¼ˆele.currentStyle[style]ï¼‰ å°è£…å‡½æ•°ï¼Œè¿”å›å…ƒç´ çš„ç¬¬ n å±‚ç¥–å…ˆå…ƒç´ èŠ‚ç‚¹ 12345678function retParent(elem, n) { while(elem &amp;&amp; n) { elem = elem.parentElement n-- } return elem}var i = document.getElementByTagName('i')[0] åŸå‹ä¸Šå°è£…å‡½æ•° myChildren è·å–å­å…ƒç´ ï¼Œè§£å†³ä¸€åƒæµè§ˆå™¨çš„å…¼å®¹æ€§é—®é¢˜ 123456789101112Element.prototype.myChildren = function () { var child = this.childNodes var len = child.length for (var i = 0;i &lt; len; i++) { if(child[i].nodeType == 1) { arr.push(child[i]) } } return arr}var div = document.getElementByTagName('div')[0] è‡ªå·±å°è£… hasChildren()æ–¹æ³•ï¼Œä¸å¯ç”¨ children å±æ€§ 123456789101112Element.prototype.hasChildren = function () { var child = this.childNodes var len = child.length for (var i = 0;i &lt; len; i++) { if(child[i].nodeType == 1) { return true } } return false}var div = document.getElementByTagName('div')[0] å°è£…å‡½æ•°ï¼Œè¿”å›å…ƒç´  e çš„ç¬¬ n ä¸ªå…„å¼Ÿå…ƒç´ èŠ‚ç‚¹ï¼Œn ä¸ºæ­£ï¼Œè¿”å›åé¢çš„å…„å¼Ÿå…ƒç´ èŠ‚ç‚¹ï¼Œn ä¸ºè´Ÿï¼Œè¿”å›å‰é¢çš„ï¼Œn ä¸º 0ï¼Œè¿”å›è‡ªå·± 12345678910111213141516171819function retSibling(e, n) { while(e &amp;&amp; n) { if(n &gt; 0) { if(e.nextElementSibling) { e.nextElementSibling } else { for(e = e.nextSibling; e &amp;&amp; e.nodeType != 1; e = e.nextSibling) } n-- }else { if(e.previousElementSibling) { e = e.previousElementSibling } else { for(e = e.previousSibling; e &amp;&amp; e.nodeType != 1; e = e.previousSibling) } n++ } }} å°è£… insertAfter(),åŠŸèƒ½ç±»ä¼¼ä¸ insertBefore(new, origin),ç›´æ¥åœ¨ Element.prototype ä¸Šç¼–ç¨‹ 12345678Element.prototype.insertAfter = function(new, origin) { var beforeNode = origin.nextElementSibling if (beforeNode == null) { this.appendChild(new) } else { this.insertBefore(new, beforeNode) }} å°è£…æ»šåŠ¨æ¡çš„ x è½´ã€y è½´çš„è·ç¦»å‡½æ•° 12345678910111213function getScrollOffset() { if (window.pageXOffset) { return { x: window.pageXOffset, y: window.pageYOffset } } else { return { x: document.body.scrollLeft + document.documentElement.scrollLeft, y: document.body.scrollTop + document.documentElement.scrollTop } }} å°è£…å¯è§†åŒºçª—å£å¤§å°çš„å‡½æ•° 1234567891011121314151617181920function getViewportOffset() { if (window.innerWidth) { return { w: window.innerWidth, h: window.innerHeight } } else { if (document.compatMode === 'BackCompat') { return { w: document.body.clientWidth, h: document.body.clientHeight } } else { return { w: document.documentElement.clientWidth, h: document.documentElement.clientHeight } } }} å°è£…æ ·å¼è·å–çš„æ–¹æ³• 1234567function getStyle(elem, prop) { if(window.getComputedStyle) { return window.getComputedStyle(elem, null)[prop] } else { return elem.currentStyle[prop] }}","link":"/2019/08/11/dom%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/"},{"title":"vueåŸºç¡€çŸ¥è¯†","text":"vue çš„ç‰¹ç‚¹ï¼ˆä¼˜ç‚¹ï¼‰ vue å…³æ³¨è§†å›¾å±‚ï¼Œç”¨æ•°æ®æ“ä½œçš„æ–¹å¼ä»£æ›¿äº† dom æ“ä½œ vue é€šè¿‡å“åº”å¼çš„æ•°æ®ç»‘å®šå®ç°äº†æ•°æ®å’Œè§†å›¾ä¹‹é—´çš„æ›´æ–°äº¤äº’ vue é€šè¿‡ç»„ä»¶åŒ–å¼€å‘è®©å·¥ç¨‹ç»“æ„æ›´åŠ æ˜ç¡®ï¼Œæ›´æ˜“äºç»´æŠ¤ vue é€šè¿‡è™šæ‹Ÿ DOMï¼Œä¼˜åŒ–äº† DOM æ“ä½œï¼Œå®ç°äº†æ€§èƒ½æé«˜ vue æ‹¥æœ‰è‡ªå·±çš„ vue-cli è„šæ‰‹æ¶å·¥å…·ï¼Œå¯¹è‰¯å¥½çš„å·¥ç¨‹åŒ–æ€§èƒ½ Vue çš„åŒå‘æ•°æ®ç»‘å®šåŸç†æ˜¯ä»€ä¹ˆï¼Ÿvue.js æ˜¯é‡‡ç”¨ æ•°æ®åŠ«æŒ ç»“åˆ å‘å¸ƒ-è®¢é˜…è€… æ¨¡å¼çš„æ–¹å¼ï¼Œé€šè¿‡Object.defineProperty() æ¥åŠ«æŒå„ä¸ªå±æ€§çš„setterï¼Œgetterï¼Œåœ¨æ•°æ®å˜åŠ¨æ—¶å‘å¸ƒæ¶ˆæ¯ç»™è®¢é˜…è€…ï¼Œè§¦å‘ç›¸åº”çš„ç›‘å¬å›è°ƒã€‚ å…·ä½“æ­¥éª¤ï¼š 1.å½“æŠŠä¸€ä¸ªæ™®é€šJavaScriptå¯¹è±¡ä¼ ç»™Vueå®ä¾‹å½“ä½œå®ƒçš„dataé€‰é¡¹çš„æ—¶å€™ï¼ŒVueä¼šéå†å®ƒçš„å±æ€§ï¼Œ ç”¨Object.definePropertyåŠ«æŒå„ä¸ªå±æ€§çš„setterã€getterï¼Œç»™è¿™ä¸ªå¯¹è±¡çš„æŸä¸€ä¸ªå€¼èµ‹å€¼ï¼Œ å°±ä¼šè§¦å‘setterï¼Œå°±èƒ½ç›‘å¬åˆ°æ•°æ®çš„å˜åŒ– 2. compileè§£ææ¨¡æ¿æŒ‡ä»¤ï¼Œå°†æ¨¡æ¿ä¸­çš„å˜é‡æ›¿æ¢æˆæ•°æ®ï¼Œç„¶åæ¸²æŸ“é¡µé¢è§†å›¾ï¼Œå¹¶å°†æ¯ä¸ªæŒ‡ä»¤å¯¹åº”çš„ èŠ‚ç‚¹æ·»åŠ ç›‘å¬æ•°æ®çš„è®¢é˜…è€…Watcherï¼Œä¸€æ—¦æ•°æ®ç”±å˜åŠ¨ï¼Œæ”¶åˆ°é€šçŸ¥æ›´æ–°è§†å›¾ 3. é€šè¿‡Observeræ¥ç›‘å¬modelæ•°æ®å˜åŒ–ï¼Œé€šè¿‡Compileæ¥è§£æç¼–è¯‘æ¨¡æ¿æŒ‡ä»¤ï¼Œæœ€ç»ˆåˆ©ç”¨Watcheræ­ èµ·Observerå’ŒCompileä¹‹é—´çš„æ¡¥æ¢ï¼Œè¾¾åˆ°æ•°æ®å˜åŒ–-&gt;è§†å›¾æ›´æ–°ï¼Œè§†å›¾å˜åŒ–-&gt;æ•°æ®æ›´æ–°ã€‚ Proxy ä¸ Object.defineProperty ä¼˜åŠ£å¯¹æ¯”ï¼Ÿ Proxy çš„ä¼˜åŠ¿å¦‚ä¸‹ï¼š Proxy å¯ä»¥ç›‘å¬å¯¹è±¡ï¼Œè€Œ Object.defineProperty åªèƒ½ç›‘å¬å±æ€§ã€‚ Proxy è¿˜å¯ä»¥ç›´æ¥ç›‘å¬æ•°ç»„çš„å˜åŒ–ã€‚ Proxy æœ‰å¤šå¤§ 13 ç§çš„æ‹¦æˆªæ–¹æ³•ï¼Œä¸é™äº applyã€ownKeysã€deletePreperty ç­‰ï¼Œè¿™äº›éƒ½æ˜¯ Object.defineProperty ä¸å…·å¤‡çš„ã€‚ Object.defineProperty çš„ä¼˜åŠ¿ï¼š å…¼å®¹æ€§å¥½ï¼Œæ”¯æŒ IE9ï¼Œè€Œ Proxy å­˜åœ¨æµè§ˆå™¨å…¼å®¹é—®é¢˜ã€‚ è§£é‡Šå•å‘æ•°æ®æµå’ŒåŒå‘æ•°æ®ç»‘å®šå•å‘æ•°æ®æµï¼š æ•°æ®æµæ˜¯å•å‘çš„ï¼Œæ•°æ®æµåŠ¨æ–¹å‘å¯ä»¥è¿½è¸ªï¼ŒæµåŠ¨å•ä¸€ï¼Œè¿½æŸ¥é—®é¢˜å¯ä»¥æ›´åŠ æ–¹ä¾¿å¿«æ·ï¼Œ ç¼ºç‚¹å°±æ˜¯å†™èµ·æ¥ä¸å¤ªæ–¹ä¾¿ï¼Œè¦æ˜¯UIå‘ç”Ÿå˜æ›´å°±å¿…é¡»åˆ›å»ºå„ç§actionæ¥ç»´æŠ¤å¯¹åº”çš„state åŒå‘æ•°æ®ç»‘å®šï¼š æ•°æ®ä¹‹é—´æ˜¯ç›¸åŒçš„ï¼Œå°†æ•°æ®å˜æ›´çš„æ“ä½œéšè—åœ¨æ¡†æ¶å†…éƒ¨ã€‚ä¼˜ç‚¹æ˜¯åœ¨è¡¨å•äº¤äº’è¾ƒå¤šçš„ åœºæ™¯ä¸‹ï¼Œä¼šç®€åŒ–å¤§é‡ä¸ä¸šåŠ¡æ— å…³çš„ä»£ç ã€‚ç¼ºç‚¹å°±æ˜¯æ— æ³•è¿½è¸ªå±€éƒ¨çŠ¶æ€çš„å˜åŒ–ï¼Œæ·»åŠ äº†å‡ºé”™debugçš„éš¾åº¦ è¯·è¯¦ç»†è¯´ä¸‹ä½ å¯¹ Vue ç”Ÿå‘½å‘¨æœŸçš„ç†è§£ï¼Ÿæ€»å…±åˆ†ä¸º8ä¸ªé˜¶æ®µåˆ›å»ºå‰/åï¼Œè½½å…¥å‰/åï¼Œæ›´æ–°å‰/åï¼Œé”€æ¯å‰/å beforeCreate åˆ›å»ºå‰æ‰§è¡Œï¼ˆvueå®ä¾‹çš„æŒ‚è½½å…ƒç´ $elå’Œæ•°æ®å¯¹è±¡dataéƒ½ä¸ºundefinedï¼Œè¿˜æœªåˆå§‹åŒ–ï¼‰ created å®Œæˆåˆ›å»º ï¼ˆå®Œæˆäº†dataæ•°æ®åˆå§‹åŒ–ï¼Œelè¿˜æœªåˆå§‹åŒ–ï¼‰ beforeMount è½½å…¥å‰ï¼ˆvueå®ä¾‹çš„$elå’Œdataéƒ½åˆå§‹åŒ–äº†ï¼Œä½†è¿˜æ˜¯æŒ‚è½½ä¹‹å‰ä¸ºè™šæ‹Ÿçš„domèŠ‚ç‚¹ï¼Œdata.messageè¿˜æœªæ›¿æ¢ã€‚ï¼‰ mounted è½½å…¥åhtmlå·²ç»æ¸²æŸ“(vueå®ä¾‹æŒ‚è½½å®Œæˆï¼Œdata.messageæˆåŠŸæ¸²æŸ“ã€‚) beforeUpdate æ›´æ–°å‰çŠ¶æ€ï¼ˆviewå±‚çš„æ•°æ®å˜åŒ–å‰ï¼Œä¸æ˜¯dataä¸­çš„æ•°æ®æ”¹å˜å‰ï¼‰ updated æ›´æ–°çŠ¶æ€å beforeDestroy é”€æ¯å‰ destroyed é”€æ¯å ï¼ˆåœ¨æ‰§è¡Œdestroyæ–¹æ³•åï¼Œå¯¹dataçš„æ”¹å˜ä¸ä¼šå†è§¦å‘å‘¨æœŸå‡½æ•°ï¼Œè¯´æ˜æ­¤æ—¶vueå®ä¾‹å·²ç»è§£é™¤äº†äº‹ä»¶ç›‘å¬ä»¥åŠå’Œdomçš„ç»‘å®šï¼Œä½†æ˜¯domç»“æ„ä¾ç„¶å­˜åœ¨ï¼‰ è¯´ä¸€ä¸‹æ¯ä¸€ä¸ªé˜¶æ®µå¯ä»¥åšçš„äº‹æƒ… beforeCreate:å¯ä»¥åœ¨è¿™é‡ŒåŠ ä¸€ä¸ªloadingäº‹ä»¶ï¼Œåœ¨åŠ è½½å®ä¾‹æ—¶è§¦å‘ã€‚ created: åˆå§‹åŒ–å®Œæˆæ—¶çš„äº‹ä»¶å†™è¿™é‡Œï¼Œå¦‚æœè¿™é‡Œç»“æŸäº†loadingäº‹ä»¶ï¼Œå¼‚æ­¥è¯·æ±‚ä¹Ÿåœ¨è¿™é‡Œè°ƒç”¨ã€‚ mounted: æŒ‚è½½å…ƒç´ ï¼Œè·å–åˆ°DOMèŠ‚ç‚¹ updated: å¯¹æ•°æ®è¿›è¡Œå¤„ç†çš„å‡½æ•°å†™è¿™é‡Œã€‚ beforeDestroy: å¯ä»¥å†™ä¸€ä¸ªç¡®è®¤åœæ­¢äº‹ä»¶çš„ç¡®è®¤æ¡†ã€‚ vue-router æœ‰å“ªå‡ ç§å¯¼èˆªé’©å­ï¼Ÿä¸‰ç§ 1. å…¨å±€å¯¼èˆªé’©å­ï¼ˆè·³è½¬å‰è¿›è¡Œåˆ¤æ–­æ‹¦æˆªï¼‰ + to: Route:å³å°†è¦è¿›å…¥çš„ç›®æ ‡ è·¯ç”±å¯¹è±¡ + from: Route:å½“å‰å¯¼èˆªæ­£è¦ç¦»å¼€çš„è·¯ç”± + next: Function: ä¸€å®šè¦è°ƒç”¨è¯¥æ–¹æ³•æ¥resolveè¿™ä¸ªé’©å­ï¼Œæ‰§è¡Œç»“æœä¾èµ–äºnextæ–¹æ³•çš„è°ƒç”¨å‚æ•° - next(): è¿›è¡Œç®¡é“ä¸­çš„ä¸‹ä¸€ä¸ªé’©å­ã€‚å¦‚æœå…¨éƒ¨é’©å­æ‰§è¡Œå®Œäº†ï¼Œåˆ™å¯¼èˆªçš„çŠ¶æ€å°±æ˜¯ confirmed ï¼ˆç¡®è®¤çš„ï¼‰ã€‚ - next(false): ä¸­æ–­å½“å‰çš„å¯¼èˆªã€‚å¦‚æœæµè§ˆå™¨çš„ URL æ”¹å˜äº†ï¼ˆå¯èƒ½æ˜¯ç”¨æˆ·æ‰‹åŠ¨æˆ–è€…æµè§ˆå™¨åé€€æŒ‰é’®ï¼‰ï¼Œé‚£ä¹ˆ URL åœ°å€ä¼šé‡ç½®åˆ° from è·¯ç”±å¯¹åº”çš„åœ°å€ã€‚ - next('/') æˆ–è€… next({ path: '/' }): è·³è½¬åˆ°ä¸€ä¸ªä¸åŒçš„åœ°å€ã€‚å½“å‰çš„å¯¼èˆªè¢«ä¸­æ–­ï¼Œç„¶åè¿›è¡Œä¸€ä¸ªæ–°çš„å¯¼èˆªã€‚ - next(error): (2.4.0+) å¦‚æœä¼ å…¥ next çš„å‚æ•°æ˜¯ä¸€ä¸ª Error å®ä¾‹ï¼Œåˆ™å¯¼èˆªä¼šè¢«ç»ˆæ­¢ä¸”è¯¥é”™è¯¯ä¼šè¢«ä¼ é€’ç»™ router.onError() æ³¨å†Œè¿‡çš„å›è°ƒã€‚ router.beforeEach(to, from, next), //å…¨å±€å‰ç½®å®ˆå« router.beforeResolve(to, from, next), //å…¨å±€è§£æå®ˆå«ï¼Œåœ¨ 2.5.0+ ä½ å¯ä»¥ç”¨ router.beforeResolve æ³¨å†Œä¸€ä¸ªå…¨å±€å®ˆå«ã€‚è¿™å’Œ router.beforeEach ç±»ä¼¼ï¼ŒåŒºåˆ«æ˜¯åœ¨å¯¼èˆªè¢«ç¡®è®¤ä¹‹å‰ï¼ŒåŒæ—¶åœ¨æ‰€æœ‰ç»„ä»¶å†…å®ˆå«å’Œå¼‚æ­¥è·¯ç”±ç»„ä»¶è¢«è§£æä¹‹åï¼Œ è§£æå®ˆå«å°±è¢«è°ƒç”¨ã€‚ router.afterEach(to, from ) //å…¨å±€åç½®å®ˆå«ï¼Œé’©å­ä¸ä¼šæ¥å— next å‡½æ•°ä¹Ÿä¸ä¼šæ”¹å˜å¯¼èˆªæœ¬èº« 2. ç»„ä»¶å†…é’©å­ beforeRouteEnter(to, from, next) //è·³è½¬åˆ°è¿™ä¸ªç»„ä»¶æ—¶ beforeRouteUpdate(to, from, next) //å½“å‰è·¯ç”±æ”¹å˜ï¼Œä½†æ˜¯è¯¥ç»„ä»¶è¢«å¤ç”¨æ—¶è°ƒç”¨ beforeRouteLeave(to, from, next) //ç¦»å¼€è¿™ä¸ªç»„ä»¶æ—¶ 3. å•ç‹¬è·¯ç”±ç‹¬äº«ç»„ä»¶ ç”¨æ³•åŒå…¨å±€å®ˆå«ï¼Œåªæ˜¯å°†å…¶å†™è¿›å…¶ä¸­ä¸€ä¸ªè·¯ç”±å¯¹è±¡ä¸­ï¼Œåªåœ¨è¿™ä¸ªè·¯ç”±ä¸‹èµ·ä½œç”¨ã€‚ beforeEnter(to, from, next) å®Œæ•´çš„å¯¼èˆªè§£ææµç¨‹ï¼š 1. å¯¼èˆªè¢«è§¦å‘ã€‚ 2. åœ¨å¤±æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨ç¦»å¼€å®ˆå«ã€‚ 3. è°ƒç”¨å…¨å±€çš„ beforeEach å®ˆå«ã€‚ 4. åœ¨é‡ç”¨çš„ç»„ä»¶é‡Œè°ƒç”¨ beforeRouteUpdate å®ˆå« (2.2+)ã€‚ 5. åœ¨è·¯ç”±é…ç½®é‡Œè°ƒç”¨ beforeEnterã€‚ 6. è§£æå¼‚æ­¥è·¯ç”±ç»„ä»¶ã€‚ 7. åœ¨è¢«æ¿€æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨ beforeRouteEnterã€‚ 8. è°ƒç”¨å…¨å±€çš„ beforeResolve å®ˆå« (2.5+)ã€‚ 9. å¯¼èˆªè¢«ç¡®è®¤ã€‚ 10. è°ƒç”¨å…¨å±€çš„ afterEach é’©å­ã€‚ 11. è§¦å‘ DOM æ›´æ–°ã€‚ 12. ç”¨åˆ›å»ºå¥½çš„å®ä¾‹è°ƒç”¨ beforeRouteEnter å®ˆå«ä¸­ä¼ ç»™ next çš„å›è°ƒå‡½æ•°ã€‚ åŠ¨æ€è·¯ç”±å®šä¹‰å’Œè·å–ï¼Ÿåœ¨ router ç›®å½•ä¸‹çš„ index.js æ–‡ä»¶ä¸­ï¼Œå¯¹ path å±æ€§åŠ ä¸Š /:idã€‚ ä½¿ç”¨ router å¯¹è±¡çš„ params.id è·å– key å€¼çš„ä½œç”¨ï¼Ÿkeyæ˜¯ä¸ºäº†é«˜æ•ˆçš„å®ç°DOMæ¸²æŸ“ã€‚ v-model åŸç†1.v-bindç»‘å®šä¸€ä¸ªvalueå±æ€§ï¼Œç›‘å¬message 2.v-onæŒ‡ä»¤ç»™å½“å‰å…ƒç´ ç»‘å®šinputäº‹ä»¶ 123456789&lt;input type=&quot;text&quot; v-model=&quot;message&quot;&gt;&lt;!--ç­‰ä»·äºä¸‹é¢--&gt;&lt;input type=&quot;text&quot; v-bind:value=&quot;message&quot; v-on:input=&quot;message=$event.target.value&quot;&gt;&lt;h2&gt;{{message}}&lt;/h2&gt; v-model ä¿®é¥°ç¬¦ 1.lazy ä¿®é¥°ç¬¦ 1.1 é»˜è®¤æƒ…å†µä¸‹ï¼Œv-model é»˜è®¤æ˜¯åœ¨ input äº‹ä»¶ä¸­åŒæ­¥è¾“å…¥æ¡†çš„æ•°æ®çš„ 1.2 ä¸€æ—¦æœ‰æ•°æ®å‘ç”Ÿæ”¹å˜å¯¹åº”çš„ data ä¸­çš„æ•°æ®å°±ä¼šè‡ªåŠ¨å‘ç”Ÿæ”¹å˜ 1.3 lazy æ˜¯ä¿®é¥°ç¬¦å¯ä»¥è®©æ•°æ®åœ¨å¤±å»ç„¦ç‚¹æˆ–è€…å›è½¦æ—¶æ‰ä¼šæ›´æ–° 2.number ä¿®é¥°ç¬¦ 2.1 é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨è¾“å…¥æ¡†ä¸­æˆ‘ä»¬è¾“å…¥æ•°å­—è¿˜æ˜¯å­—æ¯ï¼Œéƒ½ä¼šè¢«å½“ä½œå­—ç¬¦ä¸²ç±»å‹è¿›è¡Œå¤„ç† 2.2 ä½†æ˜¯å¦‚æœæˆ‘ä»¬å¸Œæœ›å¤„ç†çš„æ˜¯æ˜¯æ•°å­—ç±»å‹ï¼Œé‚£ä¹ˆæœ€å¥½ç›´æ¥å°†å†…å®¹å½“ä½œæ•°å­—å¤„ç† 2.3 number ä¿®é¥°ç¬¦å¯ä»¥è®©è¾“å…¥æ¡†ä¸­è¾“å…¥çš„å†…å®¹è‡ªåŠ¨è½¬æˆæ•°å­—ç±»å‹ 3.trim ä¿®é¥°ç¬¦ï¼ˆç§»é™¤çš„å­—ç¬¦åŒ…æ‹¬ç©ºæ ¼ã€è¡Œç»ˆæ­¢ç¬¦ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ã€å›è½¦ç¬¦ã€æ¢é¡µç¬¦ç­‰ï¼‰ å¦‚æœè¾“å…¥çš„å†…å®¹é¦–å°¾æœ‰å¾ˆå¤šç©ºæ ¼ï¼Œé€šå¸¸æˆ‘ä»¬å¸Œæœ›å°†å…¶å»é™¤ trim ä¿®é¥°ç¬¦å¯ä»¥è¿‡æ»¤å†…å®¹å·¦å³ä¸¤è¾¹çš„ç©ºæ ¼ è¡¥å……ï¼šstr.replace(/\\s/g, â€œâ€); //å»é™¤å­—ç¬¦ä¸²æ‰€æœ‰ç©ºæ ¼ v-on ä¿®é¥°ç¬¦ .stop è°ƒç”¨ event.stopPropagation() .prevent è°ƒç”¨ event.preventDefault() .{keyCode|keyAlias} åªå½“äº‹ä»¶æ˜¯ä»ç‰¹å®šé”®è§¦å‘æ—¶æ‰è§¦å‘å›è°ƒ .native ç›‘å¬ç»„ä»¶æ ¹å…ƒç´ çš„åŸç”Ÿäº‹ä»¶ .once åªèƒ½è§¦å‘ä¸€æ¬¡å›è°ƒ Vue.set//Vueä¸­ä¸å…è®¸åŠ¨æ€æ·»åŠ æ ¹çº§åˆ«çš„å“åº”å¼å±æ€§ï¼ŒVue.setæ–¹æ³•å¯ä»¥å‘åµŒå¥—å¯¹è±¡æ·»åŠ  å“åº”å¼å±æ€§ã€‚ //å‚æ•°ä¸€ï¼šè¦ä¿®æ”¹çš„å¯¹è±¡ //å‚æ•°äºŒï¼šç´¢å¼•å€¼ //å‚æ•°ä¸‰ï¼šä¿®æ”¹åçš„å€¼ Vue.set(vm.obj, 2, 'b') vm.$set(vm.obj, 2, 'b') vue-router ä½¿ç”¨ params ä¸ query ä¼ å‚æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿvue-routerå¯ä»¥é€šè¿‡paramsä¸queryè¿›è¡Œä¼ å‚ 1234567//ä¼ é€’this.$router.push({path: './xxx', params: {xx:xxx}})this.$router.push({path: './xxx', query: {xx:xxx}})//æ¥å—this.$route.paramsthis.$route.query params æ˜¯è·¯ç”±çš„ä¸€éƒ¨åˆ†,å¿…é¡»è¦æœ‰ã€‚query æ˜¯æ‹¼æ¥åœ¨ url åé¢çš„å‚æ•°ï¼Œæ²¡æœ‰ä¹Ÿæ²¡å…³ç³» params ä¸è®¾ç½®çš„æ—¶å€™ï¼Œåˆ·æ–°é¡µé¢æˆ–è€…è¿”å›å‚æ•°ä¼šä¸¢ï¼Œquery åˆ™ä¸ä¼šæœ‰è¿™ä¸ªé—®é¢˜ Vue å¦‚ä½•å–å‡º URL ä¸­çš„ #vue-router é»˜è®¤ä½¿ç”¨hashæ¨¡å¼ï¼Œæ‰€ä»¥è·¯ç”±åŠ è½½æ—¶å€™ï¼Œé¡¹ç›®ä¸­çš„urlä¼šè‡ªå¸¦#ï¼Œå¦‚æœä¸æƒ³ä½¿ç”¨#ï¼Œå¯ä»¥ä½¿ç”¨ vue-router çš„å¦ä¸€ç§æ¨¡å¼history new Router ({ mode: 'history', routes: [] }) å¯¹ MVCã€MVVM çš„ç†è§£ï¼Ÿ1. MVCï¼šæ‰€æœ‰çš„é€šä¿¡éƒ½æ˜¯å•å‘çš„ Viewä¼ é€æŒ‡ä»¤åˆ°Controller Controller å®Œæˆä¸šåŠ¡é€»è¾‘åï¼Œè¦æ±‚Modelæ”¹å˜çŠ¶æ€ Modelå°†æ–°çš„æ•°æ®å‘é€åˆ°Viewï¼Œç”¨æˆ·å¾—åˆ°åé¦ˆ 2.MVVMï¼ˆç±»ä¼¼MVPâ€”â€”Model View Presenterï¼‰ Viewå±‚ï¼šè§†å›¾å±‚ Modelå±‚ï¼šæ•°æ®å±‚ ViewModelå±‚ï¼šè§†å›¾æ¨¡å‹å±‚ è§†å›¾æ¨¡å‹å±‚æ—¶viewå’Œmodelæ²Ÿé€šçš„æ¡¥æ¢ ä¸€æ–¹é¢å®ç°äº†Data Bindingï¼Œæ•°æ®ç»‘å®šï¼Œå°†modelçš„æ”¹å˜å®æ—¶ååº”åˆ°viewä¸­ å¦ä¸€æ–¹é¢å®ç°äº†DOM Listenerï¼Œä¹Ÿå°±æ˜¯DOMç›‘å¬ï¼Œå‘ç”Ÿäº‹ä»¶æ”¹å˜ï¼Œæ”¹å˜å¯¹åº”çš„data ä¸€ç§å‰ç«¯æ¶æ„æ¨¡å¼ï¼Œmodelä¸ºæ•°æ®æ¨¡å‹ï¼Œviewä¸ºè§†å›¾UIå±‚,viewå’Œmodelä¹‹é—´ å¹¶æ²¡æœ‰ç›´æ¥çš„è”ç³»ï¼Œé€šè¿‡viewmodelå®ç°åŒå‘æ•°æ®çš„ç»‘å®šã€‚å„éƒ¨åˆ†é€šä¿¡éƒ½æ˜¯åŒå‘çš„ å› æ­¤å¼€å‘è€…åªéœ€å…³æ³¨ä¸šåŠ¡å±‚ï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œDOMï¼Œæ— éœ€å…³å¿ƒæ•°æ®çŠ¶æ€çš„åŒæ­¥é—®é¢˜ï¼Œå¤æ‚ çš„æ•°æ®çŠ¶æ€ç»´æŠ¤å®Œå…¨ç”±MVVMæ¥ç»Ÿä¸€ç®¡ç†ã€‚ é‡‡ç”¨åŒå‘æ•°æ®ç»‘å®šï¼ŒViewçš„å˜åŠ¨è‡ªåŠ¨ååº”åœ¨ViewModelï¼Œåä¹‹äº¦ç„¶ è™šæ‹Ÿ DOMä¸ºä»€ä¹ˆéœ€è¦è™šæ‹ŸDOMï¼Ÿ æµè§ˆå™¨åŠ è½½ä¸€ä¸ªHTMLæ–‡ä»¶éœ€è¦åšé‚£äº›äº‹ï¼Ÿ åˆ›å»ºDOM tree â€”â€”&gt; åˆ›å»ºCSS tree â€”â€”&gt; æ„å»ºRender tree â€”â€”&gt; å¸ƒå±€Layout â€”â€”&gt; ç»˜åˆ¶Painting å¦‚æœç”¨ä¼ ç»Ÿçš„åŸç”Ÿapiæˆ–jQueryæ“ä½œDOMæ—¶ï¼Œæµè§ˆå™¨ä¼šä»æ„å»ºDOMæ ‘å¼€å§‹ä»å¤´åˆ°å°¾ æ‰§è¡Œä¸€è¾¹æµç¨‹ï¼Œå°±ä¼šæµªè´¹æ‰å¾ˆå¤šæ€§èƒ½ã€‚ 1. stateæ•°æ® 2.ï¼ˆJSXï¼‰æ¨¡æ¿ 3. æ•°æ® + æ¨¡æ¿ç”Ÿæˆè™šæ‹ŸDOMï¼ˆè™šæ‹ŸDOMå°±æ˜¯ä¸€ä¸ªJSå¯¹è±¡ï¼Œç”¨æ¥æè¿°çœŸå®çš„DOMï¼‰ 4. ç”¨è™šæ‹ŸDOMçš„ç»“æ„ç”ŸæˆçœŸå®çš„DOMæ¥æ˜¾ç¤º 5. stateæ•°æ®å‘ç”Ÿæ”¹å˜ 6. æ•°æ® + æ¨¡æ¿ç”Ÿæˆæ–°çš„è™šæ‹ŸDOM 7. æ¯”è¾ƒåŸå§‹è™šæ‹ŸDOMå’Œæ–°çš„è™šæ‹ŸDOMçš„åŒºåˆ«ï¼Œæ‰¾åˆ°ä¸åŒç‚¹ é€šè¿‡diffç®—æ³•ï¼Œå°†ä¸åŒçš„æ¯”è¾ƒå†…å®¹ç»“æœä¿å­˜åˆ°æœ¬åœ°çš„ä¸€ä¸ªjså¯¹è±¡ä¸­ï¼Œæœ€ç»ˆä¸€æ¬¡æ€§ çš„å°†è¿™ä¸ªjså¯¹è±¡attachåº”ç”¨åˆ°DOMæ ‘ä¸Šï¼Œé€šçŸ¥æµè§ˆå™¨æ‰§è¡Œç»˜åˆ¶å·¥ä½œï¼Œé¿å…äº†å¤§é‡çš„ æ— ç•è®¡ç®—ã€‚ 8. ç›´æ¥æ“ä½œDOMï¼Œæ”¹å˜å†…å®¹ã€‚ nextTick çš„åº”ç”¨åœºæ™¯Vue.nextTick ç”¨äºå»¶è¿Ÿæ‰§è¡Œä¸€æ®µä»£ç ï¼Œå®ƒçš„å›è°ƒå‡½æ•°ä¼šåœ¨ DOM æ›´æ–°å®Œæˆåè°ƒç”¨ã€‚ åœ¨ Vue ç”Ÿå‘½å‘¨æœŸçš„ created()é’©å­å‡½æ•°è¿›è¡Œçš„ DOM æ“ä½œä¸€å®šè¦æ”¾åœ¨ Vue.nextTick()çš„å›è°ƒå‡½æ•°ä¸­ åœ¨ created()é’©å­å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ DOM å…¶å®å¹¶æœªè¿›è¡Œä»»ä½•æ¸²æŸ“ï¼Œè€Œæ­¤æ—¶è¿›è¡Œ DOM æ“ä½œæ— å¼‚äºå¾’åŠ³ï¼Œæ‰€ä»¥æ­¤å¤„ä¸€å®šè¦å°† DOM æ“ä½œçš„ js ä»£ç æ”¾è¿› Vue.nextTick()çš„å›è°ƒå‡½æ•°ä¸­ã€‚ åŸç†ï¼švue é‡‡ç”¨å¼‚æ­¥æ›´æ–°ç­–ç•¥ï¼Œå½“åšæŒºåˆ°æ•°æ®å˜åŒ–çš„æ—¶å€™ä¸ä¼šç«‹å³æ›´æ–° DOMï¼Œè€Œæ˜¯å¼€å¯ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ï¼Œå°†å¤šæ¬¡æ•°æ®æ›´æ–°åˆå¹¶ä¸ºä¸€æ¬¡ï¼Œå‡å°‘ DOM æ“ä½œæ¬¡æ•°ï¼ŒnextTick æ¥æ”¶ä¸€ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå°†å›è°ƒå»¶è¿Ÿåˆ°ä¸‹æ¬¡ dom æ›´æ–°å¾ªç¯ä¹‹åæ‰§è¡Œã€‚nextTick æœ¬è´¨æ˜¯åˆ›å»ºä¸€ä¸ªå¾®ä»»åŠ¡ï¼Œä½†æ˜¯ DOM æ›´æ–°æ“ä½œä¹Ÿæ˜¯å¾®ä»»åŠ¡ï¼Œä¸¤è€…å±äºåŒä¸€ä¼˜å…ˆçº§ï¼Œæ‰§è¡Œå…ˆååªå’Œå…¥é˜Ÿçš„å…ˆåæœ‰å…³ã€‚ åœºæ™¯ï¼šåŸºäºæœ€æ–°æ•°æ®ç”Ÿæˆçš„ DOM æ“ä½œæ—¶ï¼Œå°†è¿™ä¸ªæ“ä½œæ”¾åœ¨ nextTick çš„å›è°ƒä¸­ Vue ç»„ä»¶ä¸­ data ä¸ºä»€ä¹ˆå¿…é¡»æ˜¯å‡½æ•°ï¼Ÿå¦‚æœ data æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆ ç”±äºå¯¹è±¡æœ¬èº«å±äºå¼•ç”¨ç±»å‹ï¼Œå½“æˆ‘ä»¬ä¿®æ”¹å…¶ä¸­ä¸€ä¸ªå±æ€§å€¼çš„ä¹‹åï¼Œä¼šå½±å“åˆ°æ‰€æœ‰ Vue å®ä¾‹çš„æ•°æ®ã€‚å¦‚æœå°† data ä½œä¸ºä¸€ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆæ¯ä¸€ä¸ªå®ä¾‹çš„ dataå±æ€§éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œç›¸äº’ä¸ä¼šå½±å“ã€‚ä¾‹å¦‚ï¼šåœ¨åŒä¸€ä¸ªç»„ä»¶å¤ç”¨çš„æ—¶å€™ï¼Œå°±ç±»ä¼¼ç»™æ¯ä¸ªç»„ä»¶å®ä¾‹åˆ›å»ºäº†ä¸€ä¸ªç§æœ‰çš„æ•°æ®ç©ºé—´ï¼Œè®©å„è‡ªçš„ç»„ä»¶å®ä¾‹ç»´æŠ¤å„è‡ªçš„æ•°æ®ã€‚ è®¡ç®—å±æ€§ computedã€watch å’Œäº‹ä»¶ methods æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿcomputedï¼š è®¡ç®—å±æ€§æ˜¯ä¼šåŸºäºå®ƒä»¬çš„ä¾èµ–è¿›è¡Œç¼“å­˜çš„ï¼Œåªæœ‰åœ¨å®ƒçš„ç›¸å…³ä¾èµ–å‘ç”Ÿæ”¹å˜æ—¶ æ‰ä¼šé‡æ–°æ±‚å€¼ã€‚ computedå±æ€§æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼šsetã€get `fullName: { //èµ‹å€¼ set: function(newValue){const names = newValue.split(' '); this.firstName = names[0];this.lastName = names[1];},//ä¸€èˆ¬ç”¨ä¸ç€,ä½¿ç”¨çš„æ—¶å€™æœ‰å‚æ•° //å–å€¼ get: function(){return this.firstName + ' ' + this.lastName} } ` watchï¼šæ›´å¤šçš„çš„æ˜¯è§‚å¯Ÿä½œç”¨ï¼Œç±»ä¼¼äºæŸäº›æ•°æ®çš„ç›‘å¬å›è°ƒï¼Œæ¯å½“ç›‘å¬çš„æ•°æ®å˜åŒ–æ—¶éƒ½ ä¼šæ‰§è¡Œç›¸åº”çš„å›è°ƒè¿›è¡Œåç»­çš„æ“ä½œã€‚ methodï¼šä¸ç®¡æ•°æ®æ˜¯å¦æ”¹å˜ï¼Œåªè¦å‘ç”Ÿé‡æ–°æ¸²æŸ“ï¼Œmethodséƒ½ä¼šè°ƒç”¨æ‰§è¡Œã€‚ è¿ç”¨åœºæ™¯ï¼š å½“éœ€è¦è¿›è¡Œæ•°å€¼è®¡ç®—ï¼Œå¹¶ä¸”ä¾èµ–äºå…¶ä»–æ•°æ®æ—¶ï¼Œåº”è¯¥ä½¿ç”¨ computedï¼Œåˆ©ç”¨ computed çš„ç¼“å­˜ç‰¹æ€§ï¼Œé¿å…æ¯æ¬¡è·å–å€¼æ—¶ï¼Œéƒ½éœ€è¦é‡æ–°è®¡ç®—ã€‚ å½“éœ€è¦åœ¨æ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå¼‚æ­¥æˆ–è€…å¼€é”€è¾ƒå¤§çš„æ“ä½œæ—¶ï¼Œä½¿ç”¨ watchã€‚ Vue çˆ¶å­ç»„ä»¶ä¹‹é—´å¦‚ä½•ä¼ å€¼ï¼Ÿçˆ¶ç»„ä»¶ä»åç«¯è·å–æ•°æ®ï¼Œvueå®˜æ–¹æ¨èä½¿ç”¨axiosæ¥è¿›è¡Œå‰åç«¯äº¤äº’ï¼Œä½¿ç”¨ axios.get(),è¿”å›ä¸€ä¸ªPromiseï¼Œç„¶åç”¨.then()åœ¨é‡Œé¢å†™ä¸ªæ¥æ”¶å‡½æ•°æ¥æ¥å—è¿”å›å€¼retï¼Œ retçš„è¿”å›å€¼å°±å¯ä»¥å¯¹åº”çš„èµ‹å€¼ç»™dataé‡Œé¢å®šä¹‰çš„key-valueå€¼ã€‚ çˆ¶ä¼ å­ï¼š åœ¨çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨çš„å­ç»„ä»¶æ ‡ç­¾ä¸Šé€šè¿‡ v-bind:xxx=&quot;&quot;,ç„¶åå†å›åˆ°å­ç»„ä»¶ä¸­ï¼Œ é€šè¿‡props{list: Array}æ¥æ¥æ”¶ä»çˆ¶ç»„ä»¶ä¼ è¿‡æ¥çš„å€¼ï¼Œæ¥æ”¶çš„å€¼å°±å¯ä»¥åœ¨å­ç»„ä»¶ä¸­ä½¿ç”¨ï¼Œ è¿™æ ·å°±å®Œæˆäº†å°†æ•°æ®ä¼ è¾“åˆ°å­ç»„ä»¶çš„å…¨è¿‡ç¨‹ã€‚ å­ä¼ çˆ¶ï¼š å­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ å€¼ä¸€èˆ¬éƒ½æ˜¯é€šè¿‡äº‹ä»¶å†³å®šï¼Œä¾‹å¦‚clickï¼Œå½“å­ç»„ä»¶ä¸Šç»‘å®š è¢«ç‚¹å‡»äº‹ä»¶è§¦å‘æ—¶ï¼Œå¯ä»¥åœ¨è¿™ä¸ªè§¦å‘äº‹ä»¶çš„å‡½æ•°ä¸­ï¼Œä½¿ç”¨vueè‡ªå¸¦çš„ this.$emit('çˆ¶ç»„ä»¶æ¥æ”¶çš„äº‹ä»¶å'ï¼Œ è¦ä¼ è¾“çš„å‚æ•°)ï¼Œç„¶åå†çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨çš„å­ç»„ä»¶ æ ‡ç­¾ä¸Šé€šè¿‡ @äº‹ä»¶å = 'func'ï¼Œç„¶åå†çˆ¶ç»„ä»¶çš„methodä¸­è¡¥å…¨è¿™ä¸ªfuncï¼Œç„¶åfunc ä¸­å°†ä»å­ç»„ä»¶ä¸­ä¼ é€’è¿‡æ¥çš„å€¼èµ‹ç»™çˆ¶ç»„ä»¶çš„dataä¸­ï¼Œè¿™æ ·å°±å®Œæˆäº†å­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ å€¼äº†ã€‚ props æ•°æ®éªŒè¯ï¼š `ä¸æ”¯æŒé©¼å³°æ ‡è¯†ï¼Œé©¼å³°éœ€è¦æ”¹æˆ **-** è¿æ¥ çš„å½¢å¼` 1.éƒ½æ”¯æŒå“ªæ•°æ®ç±»å‹? Stringã€Numberã€Booleanã€Arrayã€Objectã€Dateã€Functionã€Symbol 2.propsä¹Ÿæ”¯æŒè‡ªå®šä¹‰ç±»å‹ï¼š Vue.component('my-component', { props: { //åŸºç¡€ç±»å‹æ£€æŸ¥ï¼ˆ'null'åŒ¹é…ä»»ä½•ç±»å‹ï¼‰ propA: Number, //å¤šä¸ªå¯èƒ½çš„å€¼ç±»å‹ propB: [String, Number], //æ˜¯å¦æ˜¯å¿…å¡«çš„å­—ç¬¦ä¸² propC: { type: String, required: true }, //å¸¦æœ‰é»˜è®¤å€¼çš„æ•°å­— propD: { type: Number, default: 100 }, //å¯¹è±¡æˆ–æ•°ç»„é»˜è®¤å€¼å¿…é¡»ä»ä¸€ä¸ªå·¥å‚å‡½æ•°è·å– propE: { type: Object, default: function(){ return {} } ======== type: Array, default: function(){ return [] } }, //è‡ªå®šä¹‰éªŒè¯å‡½æ•° propF: { validate: function(value){ return ['success','warning','danger'].indexOf(value)!== -1 } } } }) ä¸ºä»€ä¹ˆéœ€è¦æµ…æ‹·è´ï¼Ÿjså˜é‡çš„å¼•ç”¨ç±»å‹åœ¨è¿›è¡Œå¤åˆ¶æ“ä½œçš„æ—¶å€™ä¼šå¤åˆ¶åœ°å€ï¼Œå¯¼è‡´ä¸¤ä¸ªå˜é‡æŒ‡å‘åŒä¸€ä»½æ•°æ®ã€‚ åœ¨å¯¹ä¸€ä¸ªå¯¹è±¡è¿›è¡Œæ“ä½œå¹¶ä¸”ä¸å¸Œæœ›å½±å“åŸå¯¹è±¡çš„æ—¶å€™ï¼Œåº”è¯¥å…ˆè¿›è¡Œæ‹·è´æ“ä½œã€‚ çˆ¶å­ç»„ä»¶çš„è®¿é—®æ–¹å¼ çˆ¶ç»„ä»¶è®¿é—®å­ç»„ä»¶ï¼š $children â€”â€”ç”¨çš„æ¯”è¾ƒå°‘ $refs â€”â€”ç”¨çš„è¾ƒå¤š å­ç»„ä»¶è®¿é—®çˆ¶ç»„ä»¶ï¼š $parent â€”â€”ç”¨çš„è¾ƒå°‘ å­ç»„ä»¶è®¿é—®æ ¹ç»„ä»¶ï¼š $root â€”â€”ç”¨çš„è¾ƒå¤š æ’æ§½ æ’æ§½ å…·åæ’æ§½ ä½œç”¨åŸŸæ’æ§½ï¼šçˆ¶ç»„ä»¶æ›¿æ¢æ’æ§½çš„æ ‡ç­¾ï¼Œä½†æ˜¯å†…å®¹æœ‰å­ç»„ä»¶æ¥æä¾›ã€‚ keep-alive é‡è§ vue-router keep-alive æ˜¯ vue å†…ç½®çš„ä¸€ä¸ªç»„ä»¶ï¼Œå¯ä»¥ä½¿è¢«åŒ…å«çš„ç»„ä»¶ä¿ç•™çŠ¶æ€ï¼Œæˆ–é¿å…é‡æ–°æ¸²æŸ“ ä¸¤ä¸ªé‡è¦çš„å±æ€§ï¼š include - å­—ç¬¦ä¸²æˆ–æ­£åˆ™è¡¨è¾¾ï¼Œåªæœ‰åŒ¹é…çš„ç»„ä»¶ä¼šè¢«ç¼“å­˜ exclude - å­—ç¬¦ä¸²æˆ–æ­£åˆ™è¡¨è¾¾ï¼Œä»»ä½•åŒ¹é…çš„ç»„ä»¶ä¸ä¼šè¢«ç¼“å­˜ router-view ä¹Ÿæ˜¯ä¸€ä¸ªç»„ä»¶ï¼Œå¦‚æœç›´æ¥è¢«åŒ…åœ¨ keep-aive é‡Œé¢ï¼Œæ‰€æœ‰è·¯å¾„åŒ¹é…çš„è§†å›¾ç»„ä»¶éƒ½ä¼šè¢«ç¼“å­˜ã€‚ å¯¹åº”ä¸¤ä¸ªé’©å­å‡½æ•° activated å’Œ deactivatedï¼Œå½“ç»„ä»¶è¢«æ¿€æ´»æ—¶ï¼Œè§¦å‘ activatedï¼Œç»„ä»¶è¢«ç§»é™¤æ—¶ï¼Œè§¦å‘ deactivatedã€‚ ä¸ºä»€ä¹ˆé€‰æ‹© axiosï¼Ÿ axiosï¼šajax i/o system(ä¸ªäººç†è§£) å°¤å¤§ åœ¨ 2016-11-3ï¼Œå…¬å‘Šä»¥å vue-resource ä¸å†ç»´æŠ¤ï¼Œå®˜æ–¹æ¨èæ–°çš„ ajax åº“ç”¨ axiosã€‚ åŠŸèƒ½ç‰¹ç‚¹ åœ¨æµè§ˆå™¨ä¸­å‘é€ XMLHttpRequest è¯·æ±‚ åœ¨ node.js ä¸­å‘é€ http è¯·æ±‚ æ”¯æŒ Promise API æ‹¦æˆªè¯·æ±‚å’Œå“åº” è½¬æ¢è¯·æ±‚å’Œå“åº”æ•°æ® â€¦ è°ˆè°ˆå¯¹ Vue SSR çš„ç†è§£ SSR å¤§è‡´çš„æ„æ€å°±æ˜¯ vue åœ¨å®¢æˆ·ç«¯å°†æ ‡ç­¾æ¸²æŸ“æˆçš„æ•´ä¸ª html ç‰‡æ®µçš„å·¥ä½œåœ¨æœåŠ¡ç«¯å®Œæˆï¼ŒæœåŠ¡ç«¯å½¢æˆ html ç‰‡æ®µç›´æ¥è¿”å›ç»™å®¢æˆ·ç«¯è¿™ä¸ªè¿‡ç¨‹å°±äº¤ç§ŸæœåŠ¡ç«¯æ¸²æŸ“ã€‚ æœåŠ¡ç«¯æ¸²æŸ“ SSR çš„ä¼˜ç¼ºç‚¹ï¼š ä¼˜ç‚¹ï¼š æ›´å¥½çš„ SEOï¼šå› ä¸º SPA é¡µé¢çš„å†…å®¹æ˜¯é€šè¿‡ Ajax è·å–ï¼Œè€Œæœç´¢å¼•æ“çˆ¬å–å·¥å…·å¹¶ä¸ä¼šç­‰å¾… Ajax å¼‚æ­¥å®Œæˆåå†æŠ“å–é¡µé¢å†…å®¹ï¼Œæ‰€ä»¥åœ¨ SPA ä¸­æ˜¯æŠ“å–ä¸åˆ°é¡µé¢é€šè¿‡ Ajax è·å–åˆ°çš„å†…å®¹ï¼›è€Œ SSR æ˜¯ç›´æ¥ç”±æœåŠ¡ç«¯è¿”å›å·²ç»æ¸²æŸ“å¥½çš„é¡µé¢ï¼ˆæ•°æ®å·²ç»åŒ…å«åœ¨é¡µé¢ä¸­ï¼‰ï¼Œæ‰€ä»¥æœç´¢å¼•æ“çˆ¬å–å·¥å…·å¯ä»¥æŠ“å–æ¸²æŸ“å¥½çš„é¡µé¢ï¼› é¦–å±åŠ è½½æ›´å¿«ï¼šSPA ä¼šç­‰å¾…æ‰€æœ‰ Vue ç¼–è¯‘åçš„ js æ–‡ä»¶éƒ½ä¸‹è½½å®Œæˆåï¼Œæ‰å¼€å§‹è¿›è¡Œé¡µé¢çš„æ¸²æŸ“ï¼Œæ–‡ä»¶ä¸‹è½½ç­‰éœ€è¦ä¸€å®šçš„æ—¶é—´ç­‰ï¼Œæ‰€ä»¥é¦–å±æ¸²æŸ“éœ€è¦ä¸€å®šçš„æ—¶é—´ï¼›SSR ç›´æ¥ç”±æœåŠ¡ç«¯æ¸²æŸ“å¥½é¡µé¢ç›´æ¥è¿”å›æ˜¾ç¤ºï¼Œæ— éœ€ç­‰å¾…ä¸‹è½½ js æ–‡ä»¶åŠå†å»æ¸²æŸ“ç­‰ï¼Œæ‰€ä»¥ SSR æœ‰æ›´å¿«çš„å†…å®¹åˆ°è¾¾æ—¶é—´ï¼› ç¼ºç‚¹ï¼š æ›´å¤šçš„å¼€å‘æ¡ä»¶é™åˆ¶ï¼šä¾‹å¦‚æœåŠ¡ç«¯æ¸²æŸ“åªæ”¯æŒ beforCreate å’Œ created ä¸¤ä¸ªé’©å­å‡½æ•°ï¼Œè¿™ä¼šå¯¼è‡´ä¸€äº›å¤–éƒ¨æ‰©å±•åº“éœ€è¦ç‰¹æ®Šå¤„ç†ï¼Œæ‰èƒ½åœ¨æœåŠ¡ç«¯æ¸²æŸ“åº”ç”¨ç¨‹åºä¸­è¿è¡Œï¼›å¹¶ä¸”ä¸å¯ä»¥éƒ¨ç½²åœ¨ä»»ä½•é™æ€æ–‡ä»¶æœåŠ¡å™¨ä¸Šçš„å®Œå…¨é™æ€å•é¡µé¢åº”ç”¨ç¨‹åº SPAä¸åŒï¼ŒæœåŠ¡ç«¯æ¸²æŸ“åº”ç”¨ç¨‹åºï¼Œéœ€è¦å¤„äº Node.js server è¿è¡Œç¯å¢ƒï¼› æ›´å¤šçš„æœåŠ¡å™¨è´Ÿè½½ï¼šæ›´å¤šçš„æœåŠ¡å™¨è´Ÿè½½ï¼šåœ¨ Node.js ä¸­æ¸²æŸ“å®Œæ•´çš„åº”ç”¨ç¨‹åºï¼Œæ˜¾ç„¶ä¼šæ¯”ä»…ä»…æä¾›é™æ€æ–‡ä»¶çš„ server æ›´åŠ å¤§é‡å ç”¨ CPU èµ„æº(CPU-intensive - CPU å¯†é›†)ï¼Œå› æ­¤å¦‚æœä½ é¢„æ–™åœ¨é«˜æµé‡ç¯å¢ƒ ( high traffic )ä¸‹ä½¿ç”¨ï¼Œè¯·å‡†å¤‡ç›¸åº”çš„æœåŠ¡å™¨è´Ÿè½½ï¼Œå¹¶æ˜æ™ºåœ°é‡‡ç”¨ç¼“å­˜ç­–ç•¥ã€‚ ä½ æœ‰å¯¹ Vue é¡¹ç›®è¿›è¡Œå“ªäº›ä¼˜åŒ–ï¼Ÿ ä»£ç å±‚é¢çš„ä¼˜åŒ–ï¼š v-if å’Œ v-show åŒºåˆ†ä½¿ç”¨åœºæ™¯ åˆç†ä½¿ç”¨ computed å’Œ watch v-for éå†å¿…é¡»ä¸º item æ·»åŠ  keyï¼Œä¸”é¿å…åŒæ—¶ä½¿ç”¨ v-if é•¿åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–(é€šè¿‡ Object.freeze å†»ç»“ä¸€ä¸ªå¯¹è±¡ï¼Œä¹‹åå°±ä¸èƒ½ä¿®æ”¹äº†ï¼Œé¿å…äº† Object.defineProperty å¯¹æ•°æ®çš„åŠ«æŒ) äº‹ä»¶çš„é”€æ¯(åœ¨ js ä¸­ä½¿ç”¨ addEventListener ç­‰æ–¹å¼åˆ›å»ºçš„äº‹ä»¶ä¸ä¼šè‡ªåŠ¨é”€æ¯ï¼Œéœ€è¦æ‰‹åŠ¨ç§»é™¤å¯¹è¿™äº›äº‹ä»¶çš„ç›‘å¬ï¼Œé¿å…é€ æˆå†…å­˜æ³„æ¼) å›¾ç‰‡èµ„æºæ‡’åŠ è½½(vue-lazyload æ’ä»¶) è·¯ç”±æ‡’åŠ è½½ ç¬¬ä¸‰æ–¹æ’ä»¶çš„æŒ‰éœ€å¼•å…¥ æœåŠ¡ç«¯æ¸²æŸ“ SSR or é¢„æ¸²æŸ“ Webpack å±‚é¢çš„ä¼˜åŒ– webpack å¯¹å›¾ç‰‡è¿›è¡Œå‹ç¼© å¤šä¸ªé¡µé¢çš„å…¬å…±ä»£ç æŠ½ç¦»æˆå•ç‹¬çš„æ–‡ä»¶ åŸºç¡€çš„ Web æŠ€æœ¯ä¼˜åŒ– å¼€å¯ gzip å‹ç¼© æµè§ˆå™¨ç¼“å­˜ CDN çš„ä½¿ç”¨ ä½¿ç”¨ Chrome Performance æŸ¥æ‰¾æ€§èƒ½ç“¶é¢ˆ","link":"/2019/07/29/vue3%E6%8A%80%E6%9C%AF%E6%8F%AD%E7%A7%98/"},{"title":"Vuex &amp; Reduxå·¥ä½œæµç¨‹","text":"Vue æ ¸å¿ƒåŸç† Store : ç»Ÿä¸€çš„çŠ¶æ€ç®¡ç†å®¹å™¨å¯¹è±¡ Vue Components : Vue ç»„ä»¶ dispatch : æ“ä½œè¡Œä¸ºè§¦å‘æ–¹æ³•ï¼Œæ˜¯å”¯ä¸€èƒ½æ‰§è¡Œ action çš„æ–¹æ³• actions : æ“ä½œè¡Œä¸ºå¤„ç†æ¨¡å—ã€‚ è´Ÿè´£å¤„ç† Vue Components æ¥æ”¶çš„æ‰€æœ‰äº¤äº’è¡Œä¸ºï¼Œ commit : çŠ¶æ€æ”¹å˜æäº¤æ“ä½œæ–¹æ³•ï¼Œå¯¹ mutation è¿›è¡Œæäº¤ï¼Œæ˜¯å”¯ä¸€èƒ½æ‰§è¡Œ mutationçš„æ–¹æ³• mutation : çŠ¶æ€æ”¹å˜æ“ä½œæ–¹æ³•ï¼ŒVuex ä¸­ä¿®æ”¹ state çš„å”¯ä¸€æ¨èæ–¹æ³•ï¼Œè¯¥æ–¹æ³•åªèƒ½è¿›è¡ŒåŒæ­¥æ“ä½œ getter : state å¯¹è±¡è¯»å–æ–¹æ³•ï¼Œç±»ä¼¼ computed è®¡ç®—å±æ€§ã€‚ è¿‡ç¨‹ï¼šVue ç»„ä»¶æ¥æ”¶äº¤äº’è¡Œä¸ºï¼Œè°ƒç”¨ dispatch æ–¹æ³•è§¦å‘ action ç›¸å…³å¤„ç†ï¼Œè‹¥é¡µé¢çŠ¶æ€éœ€è¦æ”¹å˜ï¼Œåˆ™è°ƒç”¨ commit æ–¹æ³•æäº¤ mutation ä¿®æ”¹ stateï¼Œé€šè¿‡ getters è·å–åˆ° state æ–°å€¼ï¼Œé‡æ–°æ¸²æŸ“ Vue Componentsï¼Œç•Œé¢éšä¹‹æ›´æ–°ã€‚ Redux æ ¸å¿ƒåŸç† åªä½¿ç”¨ reduxï¼Œæµç¨‹æ˜¯è¿™æ ·çš„ï¼š component â€“&gt; dispatch(action) â€“&gt; reducer â€“&gt; subscribe â€“&gt; getState â€“&gt; component ä½¿ç”¨ react-redux ä¹‹åï¼Œæµç¨‹æ˜¯è¿™æ ·çš„ï¼š component â€“&gt; actionCreator(data) â€“&gt; reducer â€“&gt; component store çš„ä¸‰å¤§åŠŸèƒ½ï¼šdispatch,subscribe,getState éƒ½ä¸éœ€è¦æ‰‹åŠ¨æ¥å†™äº†ï¼Œreact-redux å¸®æˆ‘ä»¬åšäº†è¿™äº›ï¼ŒåŒæ—¶æä¾›äº† Provider å’Œ connect æ³¨æ„ç‚¹: store æ˜¯å”¯ä¸€çš„ åªæœ‰ store èƒ½å¤Ÿæ”¹å˜è‡ªå·±çš„å†…å®¹ reducer å¿…é¡»æ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼ˆç»™å®šå›ºå®šçš„è¾“å…¥ï¼Œä¸€å®šä¼šæœ‰å›ºå®šçš„è¾“å‡ºï¼Œä¸ä¼šäº§ç”Ÿå‰¯ä½œç”¨ï¼‰ æ ¸å¿ƒ API createStore(reducer) åˆ›å»º storeï¼Œå¹¶å°† reducer ä¼ é€’ç»™ store store.dispatch(action) åˆ›å»º action ä¹‹åï¼Œè´Ÿè´£å°† action ä¼ ç»™ store action æ˜¯ä¸€ä¸ªå¯¹è±¡å½¢å¼ï¼Œä¼šåŒ…å« Type(å‘Šè¯‰ store è¦åšçš„äº‹æƒ…)ã€Value(å‚æ•°ç»“æœ) store.getState() è·å– store å†…å®¹ store.subscribe() è®¢é˜… store æ”¹å˜ï¼Œåªè¦ store å‘ç”Ÿæ”¹å˜ï¼Œå…¶ä¸­çš„å›è°ƒå‡½æ•°å°±ä¼šè¢«æ‰§è¡Œ Vuex å’Œ Redux çš„åŒºåˆ«ï¼Ÿ éƒ½æ˜¯çŠ¶æ€ç®¡ç†ç³»ç»Ÿï¼Œé™¤äº†å…·å¤‡åºŠæŸœçš„çŠ¶æ€ç®¡ç†çš„åŠŸèƒ½ä¹‹å¤–ï¼Œä¹Ÿé’ˆå¯¹è‡ªèº«æ¡†æ¶è¿›è¡Œä¸€äº›ä¼˜åŒ–ç‰¹æ€§ã€‚ çŠ¶æ€æ³¨å…¥ç»„ä»¶ï¼š React-Redux: é€šè¿‡&lt;Provider/&gt;ç»„ä»¶æ‹¿åˆ° store ä¹‹åï¼Œè¿˜éœ€è¦æ˜¾ç¤ºæŒ‡å®šå®¹å™¨ç»„ä»¶ï¼Œå³ç”¨ connect åŒ…è£…ä¸€ä¸‹è¯¥ç»„ä»¶ã€‚ Vue é€šè¿‡ Vue.use(Vuex)å°† vuex åº”ç”¨ä¸ºå…¨å±€çš„æ’ä»¶ï¼Œå°† store ä¼ å…¥è·Ÿå®ä¾‹ï¼Œå°±å¯ä»¥ä½¿å¾— store å¯¹è±¡è¿è¡Œåœ¨ä»»ä½• vue ç»„ä»¶ä¸­ã€‚ vuex å€Ÿé‰´ reduxï¼Œé€šè¿‡å¼±åŒ–æ¦‚å¿µï¼ˆactionã€reducerï¼‰ï¼Œå¼±åŒ–äº† dispatch çš„å­˜åœ¨æ„Ÿï¼Œä»»ä½•ä¸œè¥¿éƒ½æ²¡åšå®è´¨æ€§æ¶ˆå‡ï¼Œä½†åŒæ—¶ä½¿å¾—æ•´å¥—æ¡†æ¶æ›´åŠ æ˜“äºç†è§£äº†","link":"/2019/09/18/vuex%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/"},{"title":"TypeScript","text":"ä»€ä¹ˆæ˜¯ TypeScriptï¼Ÿ TypeScript æ˜¯ JavaScript çš„è¶…é›†ï¼Œä»»ä½•åˆæ³•çš„ js ç¨‹åºéƒ½æ˜¯åˆæ³•çš„ TypeScript ç¨‹åº TypeScript é€šè¿‡å‘ JavaScript å¢åŠ å¯é€‰çš„é™æ€ç±»å‹å£°æ˜æŠŠ JavaScript å˜æˆå¼ºç±»å‹ç¨‹åºè¯­è¨€ æä¾›é™æ€ç±»å‹å£°æ˜å¯çº¦æŸå‡½æ•°ã€å˜é‡ã€å±æ€§ç­‰ç¨‹åºå®ä½“ ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ TypeScriptï¼Ÿ æä¾›äº†é™æ€ç±»å‹ç³»ç»Ÿï¼Œå¤§å¤§å¢å¼ºäº†ä»£ç çš„å¯è¯»æ€§ä»¥åŠå¯ç»´æŠ¤æ€§ æä¾›æœ€æ–°å’Œä¸æ–­å‘å±•çš„ javascript ç‰¹æ€§ï¼Œèƒ½è®©æˆ‘ä»¬å»ºç«‹ æ›´å¥å£®çš„ç»„ä»¶ TS å…·æœ‰é˜²æ‚£äºæœªç„¶çš„é™æ€æ£€æŸ¥ï¼Œä»¥åŠå¹²å‡€åˆ©è½çš„åªèƒ½æç¤º TypeScript ä¸­çš„æ•°æ®ç±»å‹ typescript ä¸­ä¸ºäº†ä½¿ç¼–å†™çš„ä»£ç æ›´è§„èŒƒï¼Œæ›´åˆ©äºç»´æŠ¤ï¼Œå¢åŠ äº†ç±»å‹æ ¡éªŒï¼Œåœ¨ typescript ä¸­ä¸»è¦æä¾›äº†ä»¥ä¸‹æ•°æ®ç±»å‹ï¼š å¸ƒå°”ç±»å‹ bolean æ•°å­—ç±»å‹ number å­—ç¬¦ä¸²ç±»å‹ string æ•°ç»„ç±»å‹ array å…ƒç»„ç±»å‹ tuple æšä¸¾ç±»å‹ enum ä»»æ„ç±»å‹ any null å’Œ undefined void ç±»å‹ never ç±»å‹ typescript ä¸­ä¸ºäº†ä½¿ç¼–å†™çš„ä»£ç æ›´è§„èŒƒï¼Œæ›´æœ‰åˆ©äºç»´æŠ¤ï¼Œå¢åŠ äº†ç±»å‹æ ¡éªŒï¼Œå†™ ts ä»£ç å¿…é¡»æŒ‡å®šç±»å‹ æœªå£°æ˜ç±»å‹çš„å˜é‡: å¦‚æœå˜é‡åœ¨å£°æ˜çš„æ—¶å€™ï¼ŒæœªæŒ‡å®šå…¶ç±»å‹ï¼Œé‚£ä¹ˆä»–ä¼šè¢«è¯†åˆ«ä¸ºä»»æ„ç±»123456let something;something = &quot;seven&quot;;something = 7;//ä¸ä¼šæŠ¥é”™ å¦‚æœæ²¡æœ‰æ˜ç¡®çš„æŒ‡å®šç±»å‹ï¼Œé‚£ä¹ˆ typescript ä¼šä¾ç…§ç±»å‹æ¨è®ºçš„è§„åˆ™æ¨å¯¼å‡ºä¸€ä¸ªè§„åˆ™1234567let num = &quot;seven&quot;;num = 7;//ä¼šæŠ¥é”™//ä¸Šé¢ä»£ç ç­‰ä»·äºï¼šlet num: string = &quot;seven&quot;;num = 7;//typescriptè‡ªåŠ¨æ¨æµ‹å‡ºnumå±äºstringç±»å‹ è”åˆç±»å‹ï¼šè¡¨ç¤ºå–å€¼å¯ä»¥ä¸ºå¤šç§ç±»å‹ä¸­çš„ä¸€ç§12345678910111213141516171819202122232425let flag:string | numberflag = 'seven'flag = 7//è”åˆç±»å‹ä½¿ç”¨ | åˆ†éš”æ¯ä¸ªç±»å‹ï¼Œè¡¨ç¤ºå…è®¸flagä¸ºstringç±»å‹æˆ–è€…numberç±»å‹---------------------------------------//è®¿é—®è”åˆç±»å‹çš„å±æ€§æˆ–è€…æ–¹æ³•//å½“typescriptä¸ç¡®å®šä¸€ä¸ªè”åˆç±»å‹çš„å˜é‡åˆ°åº•æ˜¯å“ªä¸ªç±»å‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªèƒ½è®¿é—®è”åˆç±»å‹çš„æ‰€æœ‰ç±»å‹ä¸­å…±æœ‰çš„å±æ€§å’Œæ–¹æ³•function getLength(something:string|number):number{ return something.length}//ä¸Šé¢ä»£ç ä¼šæŠ¥é”™ï¼Œå› ä¸ºlengthä¸æ˜¯stringå’Œnumberå…±æœ‰çš„å±æ€§//å¯ä»¥è®¿é—®å…±æœ‰å±æ€§toString()function getString(something:string|number):string { return something.toString()}---------------------------------------//è”åˆå±æ€§åœ¨èµ‹å€¼çš„æ—¶å€™ï¼Œä¼šæ ¹æ®ç±»å‹æ¨è®ºçš„è§„åˆ™æ¨æ–­å‡ºä¸€ä¸ªç±»å‹let a:string|numbera = 'seven'console.log(a.length) //5ï¼Œaè¢«æ¨æ–­ä¸ºstringï¼Œæœ‰lengthå±æ€§a = 7console.log(a.length) //ç¼–è¯‘æ—¶æŠ¥é”™ï¼Œè¢«æ¨æ–­ä¸ºnumberï¼Œæ— lengthå±æ€§ æ•°ç»„ç±»å‹123456789101112131415161718//æ•°ç»„ç±»å‹å®šä¹‰(ä¸å…è®¸å‡ºç°å…¶ä»–ç±»å‹ï¼Œæ•°ç»„æ–¹æ³•å‚æ•°ä¹Ÿæœ‰é™åˆ¶ï¼Œå¦‚push('7')ä¼šæŠ¥é”™ï¼Œä¸èƒ½ä¸ºå­—ç¬¦ä¸²)let arr:number[] = [1,2,3]let arr:(number | string)[] = [1,'1',2]---------------------------------//æ•°ç»„æ³›å‹let arr:Array&lt;number&gt; = [1,2,3]----------------------------------//ç”¨æ¥å£è¡¨ç¤ºæ•°ç»„interface NumberArray { [index:number]:number}let arr:NumberArray = [1,2,3]//NumberArrayè¡¨ç¤ºï¼Œåªè¦indexçš„ç±»å‹æ—¶numberï¼Œé‚£ä¹ˆå€¼çš„ç±»å‹ä¹Ÿå¿…é¡»æ—¶number-----------------------------------//anyåœ¨æ•°ç»„ä¸­çš„åº”ç”¨let arr:any[] = ['hello', 24, {a:1}] å‡½æ•°ç±»å‹12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455//å‡½æ•°å£°æ˜ï¼ˆä¸å…è®¸è¾“å…¥å¤šä½™æˆ–è€…å°‘äºè¦æ±‚çš„å‚æ•°ï¼‰function sum(x:number, y: number):number { return x + y}sum(1,2) //rightsum(1,2,3) //falsesum(1) //false----------------------------------------------//å‡½æ•°è¡¨è¾¾å¼let sum:(x:number, y: number) =&gt; number = function(x:number, y:number):number { return x + y}-----------------------------------------------//å¯é€‰å‚æ•°ï¼ˆä½¿ç”¨ ? è¡¨ç¤ºå¯é€‰çš„å‚æ•°ï¼Œåªèƒ½æ”¾åœ¨å‚æ•°çš„æœ€åï¼Œåé¢ä¸å…è®¸å‡ºç°å¿…é¡»å‚æ•°ï¼‰function buildName(firstName:string, lastName?:string):string { if (lastName) { return firstName + ' ' + lastName } else { return firstName }}let tomcat = buildName('tom', 'cat')let tom = buildName('tom')--------------------------------------------------//å‚æ•°é»˜è®¤å€¼ï¼ˆtypescriptä¼šå°†æ·»åŠ äº†é»˜è®¤å€¼çš„å‚æ•°è¯†åˆ«ä¸ºå¯é€‰å‚æ•°ï¼‰ function buildName(firstName:string, lastName:string = 'cat'):string { if (lastName) { return firstName + ' ' + lastName } else { return firstName } } let tomcat = buildName('tom', 'cat') let tom = buildName('tom')----------------------------------------------------//å‰©ä½™å‚æ•°ï¼Œå¯ä»¥ä½¿ç”¨...restçš„æ–¹å¼è·å–å‡½æ•°ä¸­çš„å‰©ä½™å‚æ•°function push(array: any[], ...items:any[]) { items.forEach(function(item) { array.push(item) })}let a = []push(a, 1,2,3,4)-------------------------------------------------------//é‡è½½ï¼šå…è®¸ä¸€ä¸ªå‡½æ•°æ¥å—ä¸åŒæ•°é‡æˆ–è€…ç±»å‹çš„å‚æ•°æ—¶ï¼Œåšå‡ºä¸åŒçš„å¤„ç†//ä¾‹å¦‚ï¼Œæ•°å­—æˆ–è€…å­—ç¬¦ä¸²çš„åè½¬è¾“å‡ºfunction reverse(x: number): number;function reverse(x: string): string;function reverse(x: number | string): number | string { if (typeof x === 'number') { return Number(x.toString().split('').reverse().join('')); } else if (typeof x === 'string') { return x.split('').reverse().join(''); }} æ³›å‹ï¼ˆæ³¨æ„ç‚¹ï¼‰12345type A1 = &quot;x&quot; extends &quot;x&quot; ? string : number; // stringtype A2 = &quot;x&quot; | &quot;y&quot; extends &quot;x&quot; ? string : number; // numbertype P&lt;T&gt; = T extends &quot;x&quot; ? string : number;type A3 = P&lt;&quot;x&quot; | &quot;y&quot;&gt;; // ? è¿™é‡Œçš„extendsæ˜¯æŒ‡ç±»å‹ A å¯ä»¥åˆ†é…ç»™ç±»å‹ Bï¼Œè€Œä¸æ˜¯è¯´ç±»å‹ A æ˜¯ç±»å‹ B çš„å­é›†ã€‚P æ˜¯å¸¦å‚æ•° T çš„æ³›å‹ç±»å‹ï¼ŒA1 å’Œ A2 çš„å½¢å¼ä¸€æ ·ï¼Œç»“æœä¹Ÿå¾ˆå¥½ç†è§£ï¼ŒA3 æ˜¯æ³›å‹ç±»å‹ P ä¼ å…¥å‚æ•°**â€™xâ€™ | â€˜yâ€™**å¾—åˆ°çš„ç±»å‹ï¼Œå¦‚æœå°† â€˜xâ€™ | â€˜Yâ€™ ä»£å…¥æ³›å‹ç±»çš„è¡¨è¾¾å¼ï¼Œé‚£åº”è¯¥ä¼šå¾—åˆ°å’Œ A2 ç±»å‹çš„å½¢å¼å®Œå…¨ä¸€æ ·çš„ç»“æœï¼Œè¿™é‡Œç›´æ¥ç»™ç»“è®ºäº† 12type P&lt;T&gt; = T extends 'x' ? string : number;type A3 = P&lt;'x' | 'y'&gt; // A3çš„ç±»å‹æ˜¯ string ï½œ number ç»“æœæ˜¯ä¸æ˜¯å‡ºäººæ„æ–™ï¼ŸåŸå› å°±æ˜¯åˆ†é…æ¡ä»¶ç±»å‹,åœ¨ TS ä¸­å¯¹äº extends å…³é”®å­—çš„æ¡ä»¶ç±»å‹ï¼ˆå³ä¸Šé¢çš„ä¸‰å…ƒè¡¨è¾¾å¼ç±»å‹ï¼‰ï¼Œå¦‚æœextendså‰é¢çš„å‚æ•°æ˜¯ä¸€ä¸ª(è£¸ç±»å‹)æ³›å‹ç±»å‹ï¼Œå½“ä¼ å…¥è¯¥å‚æ•°çš„æ˜¯è”åˆç±»å‹ï¼Œåˆ™ä½¿ç”¨åˆ†é…å¾‹è®¡ç®—æœ€ç»ˆç»“æœã€‚ åˆ†é…å¾‹æ˜¯æŒ‡ï¼Œå°†è”åˆå‹ç±»çš„è”åˆé¡¹æ‹†åˆ†æˆå•é¡¹ï¼Œåˆ†åˆ«ä»£å…¥æ¡ä»¶ç±»å‹ï¼Œç„¶åå°†æ¯ä¸ªå•é¡¹ä»£å…¥ï¼Œå†å°†å¾—åˆ°çš„ç»“æœè”åˆèµ·æ¥ï¼Œå¾—åˆ°æœ€ç»ˆçš„ç»“æœã€‚ ç‰¹æ®Šçš„ never é‚£ä¹ˆï¼Œæˆ‘ä»¬åœ¨çœ‹ä¸€ä¸ªä¾‹å­ï¼š 12345type A1 = never extends &quot;x&quot; ? string : number;type P&lt;T&gt; = T extends &quot;x&quot; ? string : number;type A2 = P&lt;never&gt;; // never ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒA2 å’Œ A1 çš„ç»“æœç«Ÿç„¶ä¸ä¸€æ ·ï¼Œçœ‹èµ·æ¥neverå¹¶ä¸æ˜¯ä¸€ä¸ªè”åˆç±»å‹å•Šï¼Œæ‰€ä»¥ç›´æ¥ä»£å…¥æ¡ä»¶ç±»å‹è·å–çš„ç»“æœåº”è¯¥å’Œ A1 ç›¸åŒæ‰å¯¹å•Šï¼Ÿ å®é™…ä¸Šï¼Œnever è¢«è®¤ä¸ºæ˜¯ç©ºçš„è”åˆç±»å‹ï¼Œnever æ˜¯ä¸€ä¸ªæ²¡æœ‰è”åˆé¡¹çš„è”åˆç±»å‹ï¼Œæ‰€ä»¥è¿˜æ˜¯æ»¡è¶³ä¸Šé¢çš„åˆ†é…å¾‹ï¼Œåˆå› ä¸ºæ²¡æœ‰è”åˆé¡¹å¯ä»¥åˆ†é…ï¼Œæ‰€ä»¥*P*çš„è¡¨è¾¾å¼æ ¹æœ¬å°±æ²¡æœ‰æ‰§è¡Œï¼Œæ‰€ä»¥ A2 çš„å®šä¹‰å°±ç±»ä¼¼äºæ°¸è¿œæ²¡æœ‰è¿”å›çš„å‡½æ•°ä¸€æ ·ï¼Œæ˜¯ never ç±»å‹ã€‚ å¦‚ä½•é˜²æ­¢æ¡ä»¶åˆ¤æ–­ä¸­çš„åˆ†é… 12345type P&lt;T&gt; = [T] extends [&quot;x&quot;] ? string : number;type A1 = P&lt;&quot;x&quot; | &quot;y&quot;&gt;; // numbertype A2 = P&lt;never&gt;; // string åœ¨æ¡ä»¶åˆ¤æ–­ç±»å‹çš„å®šä¹‰ä¸­ï¼Œå°†æ³›å‹å‚æ•°ä½¿ç”¨ [] æ‹¬èµ·æ¥ï¼Œå³å¯é˜»æ–­æ¡ä»¶åˆ¤æ–­ç±»å‹çš„åˆ†é…ï¼Œæ­¤æ—¶ï¼Œä¼ å…¥çš„ T çš„ç±»å‹å°±ä¼šè¢«å½“ä½œä¸€ä¸ªæ•´ä½“ï¼Œä¸å†åˆ†é…ã€‚","link":"/2019/08/23/typescript/"},{"title":"TSè¿›é˜¶é¢˜ç›®","text":"åœ¨çº¿ TS åœ°å€ typescript ç¬¬ä¸€é¢˜ ä»¥ä¸‹ä»£ç ä¸ºä»€ä¹ˆä¼šæç¤ºé”™è¯¯ï¼Œåº”è¯¥å¦‚ä½•è§£å†³ä¸Šè¿°é—®é¢˜ï¼Ÿ 1234567891011type User = { id: number; kind: string;}function createCustomer&lt;T extends User&gt;(u: T): T { return { id: u.id, kind: 'customer' }} ç¬¬ä¸€ç§è§£å†³æ–¹æ¡ˆ 1234567891011type User = { id: number; kind: string;}function createCustomer&lt;T extends User&gt;(u: T): User { return { id: u.id, kind: 'customer', }} ç¬¬äºŒç§è§£å†³æ–¹æ¡ˆ 123456789101112type User = { id: number; kind: string;}function createCustomer&lt;t extends User&gt;(u: T): T { return { ...u, id: u.id, kind: 'customer' }} ç¬¬äºŒé¢˜ ä»¥ä¸‹å‡½æ•°æˆ‘ä»¬å¸Œæœ›å‚æ•°aå’Œbçš„ç±»å‹éƒ½æ˜¯ä¸€è‡´çš„ï¼Œå³aå’ŒbåŒæ—¶ä¸ºnumberæˆ–stringç±»å‹ï¼Œå½“å®ƒä»¬çš„ç±»å‹ä¸ä¸€è‡´æ—¶ï¼Œts ç±»å‹æ£€æŸ¥å™¨èƒ½è‡ªåŠ¨æç¤ºå¯¹åº”çš„é”™è¯¯ä¿¡æ¯ã€‚ 123456789101112function f(a: string | number,b: string | number) { if (typeof a === 'string') { return a + ':' + b; } else { return a + b; }}f(1, 2); // OKf('a', 'b'); // OKf('a', 2); // Errorf(1, 'b'); //Error ç¬¬ä¸€ç§è§£å†³æ–¹æ¡ˆ å‡½æ•°é‡è½½ 1234567891011121314function f(a: string, b: string): string;function f(a: number, b: number): number;function f(a: string | number, b: string | number): string | number { if (typeof a === 'string') { return a + ':' + b; } else { return (a as number) + (b as number); }}f(1, 2); // OKf('a', 'b'); // OKf(1, 'b'); // Errorf('a', 2); // Error ç¬¬äºŒç§è§£å†³æ–¹æ¡ˆ è‡ªå®šä¹‰è·¯ç”±å®ˆå« 1234567891011121314const isStringArray = (params: string[] | number[]): params is string[] =&gt; typeof params[0] === 'string';function f(...args: string[] | number[]) { if (isStringArray(args)) { return args[0] + ':' + args[1]; } else { return args[0] + args[1]; }}f(1, 2); // OKf('a', 'b'); // OKf(1, 'b'); // Errorf('a', 2); // Error ç¬¬ä¸‰ç§è§£å†³æ–¹æ¡ˆ èŒƒå‹ 123456789101112function f&lt;T extends string | number&gt;(a: T, b: T) { if (typeof a === 'string') { return a + ':' + b; } else { return (a as number) + (b as number); }}f(1, 2); // OKf('a', 'b'); // OKf(1, 'b'); // Errorf('a', 2); // Error ç¬¬ä¸‰é¢˜ å®ç° SetOptional å·¥å…·ç±»å‹ï¼Œæ”¯æŒæŠŠç»™å®šçš„ keys å¯¹åº”çš„å±æ€§å˜ä¸ºå¯é€‰ï¼Œå‚è€ƒPartial å®ç° SetRequired å·¥å…·ç±»å‹ï¼Œæ”¯æŒæŠŠç»™å®šçš„ keys å¯¹åº”çš„å±æ€§å˜æˆå¿…å¡«ï¼Œå‚è€ƒ Require 1234567891011121314151617181920212223242526272829// SetOptional æµ‹è¯•ç”¨ä¾‹type Foo = { a: number; b?: string; c: boolean;}type SomeOptional = SetOptional&lt;Foo, 'a' | 'b'&gt;type SomeOptional = { a?: number; //è¯¥å±æ€§å˜ä¸ºå¯é€‰çš„ b?: string; //ä¿æŒä¸å˜ c: boolean;}// SetRequired æµ‹è¯•ç”¨ä¾‹type Foo = { a: number; b?: string; c: boolean;}type SomeRequired = SetRequired&lt;Foo, 'a' | 'b'&gt;type SomeRequired = { a: number; //ä¿æŒä¸å˜ b: string; //è¯¥å±æ€§å˜ä¸ºå¿…é€‰çš„ c: boolean;} è§£å†³æ–¹æ¡ˆ 1 SetOptional 1234567891011121314type Foo = { a: number; b?: string; c: boolean;}// å¯¹äº¤å‰ç±»å‹è¿›è¡Œæ‰å¹³åŒ–å¤„ç†type Simplify&lt;T&gt; = { [P in keyof T]: T[P]}type SetOptional&lt;T, K extends keyof T&gt; = Simplify&lt;Partial&lt;Pick&lt;T, K&gt;&gt; &amp; Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;&gt;type SomeOptional = SetOptional&lt;Foo, 'a' | 'b'&gt; SetRequired 12345678910111213type Foo = { a: number; b?: string; c: boolean;}type Simplify&lt;T&gt; = { [P in keyof T]: T[P]}type SetRequired&lt;T, K extends keyof T&gt; = Simplify&lt;Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt; &amp; Required&lt;Pick&lt;T, K&gt;&gt;&gt;type SomeRequired = SetRequired&lt;Foo, 'b' | 'c'&gt; è§£å†³æ–¹æ¡ˆ 2 1234567891011121314151617type Foo = { a: number; b?: string; c: boolean;}type Simplely&lt;T&gt; = { [P in keyof T]: T[P]}type SetOptional&lt;T, K extends keyof T&gt; = Simplely&lt;{ [X in keyof Omit&lt;T, K&gt;]: T[X]; } &amp; { [P in K]?: T[P] }&gt;;type SetRequired&lt;T, K extends keyof T&gt; = Simplely&lt;{ [X in keyof Omit&lt;T, K&gt;]: T[X]; } &amp; { [P in K]-?: T[P] }&gt;;// æµ‹è¯•ç”¨ä¾‹type SomeOptional = SetOptional&lt;Foo, 'a' | 'b'&gt;;type SomeRequired = SetRequired&lt;Foo, 'b' | 'c'&gt;; è§£å†³æ–¹æ¡ˆ 3 1234567type Simplify&lt;T&gt; = { [P in keyof T]: T[P]}type SetOptional&lt;T, K extends keyof T&gt; = Simplify&lt;Partial&lt;Pick&lt;T, K&gt;&gt; &amp; Omit&lt;T, K&gt;&gt;;type SetRequired&lt;T, K extends keyof T&gt; = Simplify&lt;Required&lt;Pick&lt;T, K&gt;&gt; &amp; Omit&lt;T, K&gt;&gt; ç¬¬å››é¢˜ Pick&lt;T, K extends keyof T&gt; çš„ä½œç”¨æ˜¯å°†æŸä¸ªç±»å‹ä¸­çš„å­—å±æ€§æŒ‘å‡ºæ¥ï¼Œå¾—åˆ°åŒ…å«è¿™ä¸ªç±»å‹éƒ¨åˆ†å±æ€§çš„å­—ç±»å‹ã€‚ 123456789101112interface Todo { title: string; description: string; completed: boolean;}type TodoPreview = Pick&lt;Todo, &quot;title&quot; | &quot;completed&quot;&gt;;const todo: TodoPreview = { title: &quot;clean room&quot;, completed: false} é—®é¢˜ï¼šå¦‚ä½•å®šä¹‰ä¸€ä¸ªConditionalPickå·¥å…·ç±»å‹ï¼Œæ”¯æŒæ ¹æ®æŒ‡å®šçš„Conditionæ¡ä»¶æ¥ç”Ÿæˆæ–°çš„ç±»å‹ï¼Œå¯¹åº”çš„ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼š 12345678910interface Example { a: string; b: string | number; c: () =&gt; void; d: {}}// æµ‹è¯•ç”¨ä¾‹type StringKeyOnly = ConditionalPick&lt;Example, string&gt;;// =&gt; {a: string} è§£å†³æ–¹æ¡ˆ ç¥å¥‡çš„ as 1234567891011121314interface Example { a: string; b: string | number; c: () =&gt; void; d: {};}type ConditionalPick&lt;T, K&gt; = { [P in keyof T as (T[P] extends K ? P : never)]: T[P]}// æµ‹è¯•ç”¨ä¾‹type StringKeysOnly = ConditionalPick&lt;Example, string&gt;;// =&gt; {a: string} ç¬¬äº”é¢˜ å®šä¹‰ä¸€ä¸ªå·¥å…·ç±»å‹AppendArgument,ä¸ºå·²æœ‰å‡½æ•°ç´¯å¿ƒå¢åŠ æŒ‡å®šç±»å‹çš„å‚æ•°ï¼Œæ–°å¢çš„å‚æ•°åæ˜¯xï¼Œå°†ä½œä¸ºæ–°å‡½æ•°ç±»å‹çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 123456type Fn = (a: number, b: string) =&gt; number;type AppendArgument&lt;F, A&gt; = // ä½ çš„å®ç°ä»£ç // æµ‹è¯•ç”¨ä¾‹type FinalFn = AppendArgument&lt;Fn, boolean&gt;// (x: boolean, a: number, b: string) =&gt; number; è§£å†³æ–¹æ¡ˆ 1 å»¶ä¼¸é˜…è¯» æŒæ¡ TS è¿™äº›å·¥å…·ç±»å‹ï¼Œè®©ä½ å¼€å‘äº‹åŠåŠŸå€ 123456type AppendArgument&lt;F extends (...args: any) =&gt; any, A&gt; = (x: A, ...args: Parameters&lt;F&gt;) =&gt; ReturnType&lt;F&gt;type Fn = (a: number, b: string) =&gt; number;type FinalFn = AppendArgument&lt;Fn, boolean&gt;;// (x: boolean, a: number, b: string) =&gt; number; è§£å†³æ–¹æ¡ˆ 2 å»¶ä¼¸é˜…è¯» ç”¨ä¸Šè¿™å‡ æ‹›ï¼Œè½»æ¾å®ç° TS ç±»å‹æå– 123456type AppendArgument&lt;F, T&gt; = F extends (...args: infer Args) =&gt; infer Return ? (x: T, ...args: Args) =&gt; Return : never;type Fn = (a: number, b: string) =&gt; number;type FinalFn = AppendArgument&lt;Fn, boolean&gt;;// (x: boolean, a: number, b: string) =&gt; number ç¬¬å…­é¢˜ å®šä¹‰ä¸€ä¸ª NativeFlat å·¥å…·ç±»å‹ï¼Œæ”¯æŒæŠŠæ•°ç»„ç±»å‹æ‹å¹³(æ‰å¹³åŒ–),ç¤ºä¾‹å¦‚ä¸‹ï¼š 12345type NativeFlat&lt;T extends any[]&gt; = // å®ç°ä»£ç //æµ‹è¯•ç”¨ä¾‹type NativeResult = NativeFlat&lt;[['a'],['b','c'],['d']]&gt;;// =&gt; &quot;a&quot; | &quot;b&quot; | &quot;c&quot; | &quot;d&quot; åœ¨å®ŒæˆNativeFlatå·¥å…·ç±»å‹ä¹‹åï¼Œç»§ç»­å®ç°DeepFlatå·¥å…·ç±»å‹ï¼Œä»¥æ”¯æŒå¤šç»´æ•°ç»„ç±»å‹ï¼š 123456type DeepFlat&lt;T extends any[]&gt; = unknown // ä½ çš„å®ç°ä»£ç // æµ‹è¯•ç”¨ä¾‹type Deep = [['a'], ['b', 'c'], [['d']], [[[['e']]]]];type DeepTestResult = DeepFlat&lt;Deep&gt;// DeepTestResult: &quot;a&quot; | &quot;b&quot; | &quot;c&quot; | &quot;d&quot; | &quot;e&quot; è§£å†³æ–¹æ¡ˆ NativeFlat 123456type NaiveFlat&lt;T extends any[]&gt; = { [P in keyof T]: T[P] extends any[] ? T[P][number] : T[P]}[number]type NaiveResult = NaiveFlat&lt;[['a'], ['b', 'c'], ['d']]&gt;// NaiveResultçš„ç»“æœï¼š &quot;a&quot; | &quot;b&quot; | &quot;c&quot; | &quot;d&quot; DeepFlat 12345678type Deep = [['a'], ['b', 'c'], [['d']], [[[['e']]]]];type DeepFlat&lt;T extends any[]&gt; = { [K in keyof T]: T[K] extends any[] ? DeepFlat&lt;T[K]&gt; : T[K]}[number]type DeepTestResult = DeepFlat&lt;Deep&gt;// DeepTestResult: &quot;a&quot; | &quot;b&quot; | &quot;c&quot; | &quot;d&quot; | &quot;e&quot; ç¬¬ä¸ƒé¢˜ ä½¿ç”¨ç±»å‹åˆ«åå®šä¹‰ä¸€ä¸ªEmptyObjectç±»å‹ï¼Œæ˜¯çš„è¯¥ç±»å‹åªå…è®¸ç©ºå¯¹è±¡èµ‹å€¼ï¼š 1234567type EmptyObject = {}// æµ‹è¯•ç”¨ä¾‹const shouldPass: EmptyObject = {}; // OKconst shouldFail: EmptyObject = { // Error prop: &quot;TS&quot;} æ›´æ”¹ä»¥ä¸‹takeSomeTypeOnlyå‡½æ•°ç±»å‹å®šä¹‰ï¼Œè®©å‚æ•°åªå…è®¸ä¸¥æ ¼ SomeType ç±»å‹çš„å€¼ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 123456789101112type SomeType = { prop: string;}function takeSomeTypeOnly(x: SomeType) {return x};// æµ‹è¯•ç”¨ä¾‹const x = {prop: 'a'};takeSomeTypeOnly(x); // OKconst y = {prop: 'a', additionalProp: 'x'};takeSomeTypeOnly(y); // Error è§£å†³æ–¹æ¡ˆ EmptyObject 1234567891011// type PropertyKey = string | number | symbol;type EmptyObject = { [K in PropertyKey]: never;}// æµ‹è¯•ç”¨ä¾‹const shouldPass: EmptyObject = {}; // OKconst shouldFail: EmptyObject = { // Error prop: &quot;TS&quot;} takeSomeTypeOnly 12345678910111213141516type SomeType = { prop: string;}type Exclusive&lt;T1, T2 extends T1&gt; = { [K in keyof T2]: K extends keyof T1 ? T2[K] : never;}function takeSomeTypeOnly&lt;T extends SomeType&gt;(x: Exclusive&lt;SomeType, T&gt;) {return x};// æµ‹è¯•ç”¨ä¾‹const x = {prop: 'a'};takeSomeTypeOnly(x); // OKconst y = {prop: 'a', additionalProp: 'x'};takeSomeTypeOnly(y); // Error ç¬¬å…«é¢˜ å®šä¹‰ä¸€ä¸ªNonEmptyArrayå·¥å…·ç±»å‹ï¼Œç”¨äºç¡®ä¿æ•°æ®ä¸ºéç©ºæ•°ç»„ 1234type NonEmptyArray&lt;T&gt; = // ä»£ç å®ç°const err: NonEmptyArray&lt;string&gt; = []; // Errorconst succ: NonEmptyArray&lt;string&gt; = ['Hello Ts']; //Ok è§£å†³æ–¹æ¡ˆ 1 1234type NonEmptyArray&lt;T&gt; = [T, ...T[]];const err: NonEmptyArray&lt;string&gt; = []; // Errorconst succ: NonEmptyArray&lt;string&gt; = ['Hello Ts']; //Ok è§£å†³æ–¹æ¡ˆ 2 12345type NonEmptyArray&lt;T&gt; = T[] &amp; {0: T};const err: NonEmptyArray&lt;string&gt; = []; // Errorconst succ: NonEmptyArray&lt;string&gt; = ['Hello Ts']; //Ok è§£å†³æ–¹æ¡ˆ 3 12345678type NonEmptyArray&lt;T&gt; = { [P in number]: T;} &amp; { 0: T};const err: NonEmptyArray&lt;string&gt; = []; // Errorconst succ: NonEmptyArray&lt;string&gt; = ['Hello Ts']; //Ok ç¬¬ä¹é¢˜ å®šä¹‰ä¸€ä¸ªJoinStrArrayå·¥å…·ç±»å‹ï¼Œç”¨äºæ ¹æ®æŒ‡å®šçš„Separatoråˆ†éš”ç¬¦ï¼Œå¯¹å­—ç¬¦ä¸²æ•°æ®ç±»å‹è¿›è¡Œæ‹¼æ¥ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 1234567type JoinStrArray&lt;Arr extends string[], Separator extends string, Result extends string = &quot;&quot;&gt; = // ä½ çš„å®ç°ä»£ç // æµ‹è¯•ç”¨ä¾‹type Names = [&quot;Sem&quot;, &quot;Lolo&quot;, &quot;Kaquko&quot;]type NamesComma = JoinStrArray&lt;Names, &quot;,&quot;&gt; // &quot;Sem,Lolo,Kaquko&quot;type NamesSpace = JoinStrArray&lt;Names, &quot; &quot;&gt; // &quot;Sem Lolo Kaquko&quot;type NamesStars = JoinStrArray&lt;Names, &quot;â­ï¸&quot;&gt; // &quot;Semâ­ï¸Loloâ­ï¸Kaquko&quot; è§£å†³æ–¹æ¡ˆ 12345678910111213141516171819type JoinStrArray&lt; Arr extends string[], Separator extends string, Result extends string = &quot;&quot;&gt; =Arr extends [infer El,...infer Rest]? Rest extends string[]? El extends string? Result extends &quot;&quot;? JoinStrArray&lt;Rest, Separator,`${El}`&gt;: JoinStrArray&lt;Rest, Separator,`${Result}${Separator}${El}`&gt;: `${Result}`: `${Result}`: `${Result}`type Names = [&quot;Sem&quot;, &quot;Lolo&quot;, &quot;Kaquko&quot;]type NamesComma = JoinStrArray&lt;Names, &quot;,&quot;&gt; // &quot;Sem,Lolo,Kaquko&quot;type NamesSpace = JoinStrArray&lt;Names, &quot; &quot;&gt; // &quot;Sem Lolo Kaquko&quot;type NamesStars = JoinStrArray&lt;Names, &quot;â­ï¸&quot;&gt; // &quot;Semâ­ï¸Loloâ­ï¸Kaquko&quot; ç¬¬åé¢˜ å®ç°ä¸€ä¸ªTrimå·¥å…·ç±»å‹ï¼Œç”¨äºå¯¹å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹è¿›è¡Œå»ç©ºæ ¼å¤„ç†ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 123type Trim&lt;V extends string&gt; = // ä»£ç å®ç°type Result = Trim&lt;' foolishmax '&gt; è§£å†³æ–¹æ¡ˆ 123456type TrimLeft&lt;V extends string&gt; = V extends ` ${infer R}` ? TrimLeft&lt;R&gt; : V;type TrimRight&lt;V extends string&gt; = V extends `${infer R} `? TrimRight&lt;R&gt; : V;type Trim&lt;V extends string&gt; = TrimLeft&lt;TrimRight&lt;V&gt;&gt;;type Result = Trim&lt;' foolishmax '&gt; ç¬¬åä¸€é¢˜ å®ç°ä¸€ä¸ª*IsEqual&lt;A, B&gt;*å·¥å…·ç±»å‹ï¼Œç”¨äºæ¯”è¾ƒä¸¤ä¸ªç±»å‹æ˜¯å¦ç›¸ç­‰ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 123456type IsEqual&lt;A, B&gt; = // ä»£ç å®ç°// æµ‹è¯•ç”¨ä¾‹type E0 = IsEqual&lt;1, 2&gt;; // falsetype E1 = IsEqual&lt;{a : 1, {a: 1}}&gt;; // truetype E2 = IsEqual&lt;[1], []&gt;; // false è§£å†³æ–¹æ¡ˆï¼ˆåŸå§‹æ–¹æ¡ˆï¼‰ 1 123456789101112type IsEqual&lt;A, B&gt; = A extends B ? (B extends A ? true : false) : false;// æµ‹è¯•ç”¨ä¾‹type E0 = IsEqual&lt;1, 2&gt;; // falsetype E1 = IsEqual&lt;{a : 1}, {a: 1}&gt;; // truetype E2 = IsEqual&lt;[1], []&gt;; // false// errortype E3 = IsEqual&lt;true, boolean&gt; // booleantype E4 = IsEqual&lt;1 | 2, 1&gt; // booleanè¿™æ˜¯å› ä¸ºæ³›å‹å’Œ*extends*ä¸¤è€…ç»“åˆæ‰€äº§ç”Ÿçš„*distributive conditionial types*æ•ˆåº”å¯¼è‡´çš„ è§£å†³æ–¹æ¡ˆï¼ˆç¨å¾®ä¼˜åŒ–ï¼‰2 12345678910111213141516type IsEqual&lt;A, B&gt; = [A] extends [B] ? [B] extends [A] ? true : false : falseæˆ–type IsEqual&lt;A, B&gt; = [A, B] extends [B, A] ? true : false// æµ‹è¯•ç”¨ä¾‹type E0 = IsEqual&lt;1, 2&gt;; // falsetype E1 = IsEqual&lt;{a : 1}, {a: 1}&gt;; // truetype E2 = IsEqual&lt;[1], []&gt;; // false// errortype E3 = IsEqual&lt;any, string&gt; // truetype E4 = IsEqual&lt; { name: string }, { readonly name: string }&gt; // trueè¿™æ˜¯å› ä¸ºTsä¸­anyå¯ä»¥èµ‹å€¼ä¸ºä»»ä½•ç±»å‹ï¼Œä»»ä½•ç±»å‹ä¹Ÿå¯ä»¥èµ‹å€¼ç»™anyï¼Œè¿™å°±æ„å‘³ç€anyå’Œä»»æ„ç±»å‹ä¹‹é—´éƒ½æ˜¯assignableçš„ï¼Œå¯¹äºextendsè€Œè¨€å°±æ˜¯éƒ½å¯ä»¥ç›¸äº’extendsçš„ï¼Œæ‰€ä»¥E3æ˜¯trueã€‚readonlyä¸ä¼šæ”¹å˜assignableã€‚ è§£å†³æ–¹æ¡ˆ 4 12345678type IsEqual&lt;A, B&gt; =(&lt;G&gt;() =&gt; G extends A ? 1 : 2) extends(&lt;G&gt;() =&gt; G extends B ? 1 : 2) ? true : false;// æµ‹è¯•ç”¨ä¾‹type E0 = IsEqual&lt;1, 2&gt;; // falsetype E1 = IsEqual&lt;{a : 1}, {a: 1}&gt;; // truetype E2 = IsEqual&lt;[1], []&gt;; // false ç¬¬åäºŒé¢˜ å®ç°ä¸€ä¸ªHeadå·¥å…·ç±»å‹ï¼Œç”¨äºè·å–æ•°ç»„ç±»å‹çš„ç¬¬ä¸€ä¸ªç±»å‹ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 123456type Head&lt;T extends Array&lt;any&gt;&gt; = // ä»£ç å®ç°// æµ‹è¯•ç”¨ä¾‹type H0 = Head&lt;[]&gt; // nevertype H1 = Head&lt;[1]&gt; // 1type H2 = Head&lt;[2,3,4]&gt; // 2 è§£å†³æ–¹æ¡ˆ 1 123456type Head&lt;T extends Array&lt;any&gt;&gt; = T extends [] ? never : T[0];// æµ‹è¯•ç”¨ä¾‹type H0 = Head&lt;[]&gt; // nevertype H1 = Head&lt;[1]&gt; // 1type H2 = Head&lt;[2,3,4]&gt; // 2 è§£å†³æ–¹æ¡ˆ 2 123456type Head&lt;T extends Array&lt;any&gt;&gt; = T extends [head: infer H, ...rest: any[]] ? H : never;// æµ‹è¯•ç”¨ä¾‹type H0 = Head&lt;[]&gt; // nevertype H1 = Head&lt;[1]&gt; // 1type H2 = Head&lt;[2,3,4]&gt; // 2 ç¬¬åä¸‰é¢˜ å®ç°ä¸€ä¸ªTailå·¥å…·ç±»å‹ï¼Œç”¨äºè·å–æ•°ç»„ç±»å‹é™¤äº†ç¬¬ä¸€ä¸ªç±»å‹å¤–ï¼Œå‰©ä½™çš„ç±»å‹ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 123456type Tail&lt;T extends Array&lt;any&gt;&gt; = // ä»£ç å®ç°// æµ‹è¯•ç”¨ä¾‹type T0 = Tail&lt;[]&gt; //[]type T1 = Tail&lt;[1, 2]&gt; // [2]type T2 = Tail&lt;[1, 2, 3, 4, 5]&gt; //[2, 3, 4, 5] è§£å†³æ–¹æ¡ˆ 123456type Tail&lt;T extends Array&lt;any&gt;&gt; = T extends [infer A, ...infer B] ? B : [];// æµ‹è¯•ç”¨ä¾‹type T0 = Tail&lt;[]&gt; //[]type T1 = Tail&lt;[1, 2]&gt; // [2]type T2 = Tail&lt;[1, 2, 3, 4, 5]&gt; //[2, 3, 4, 5] ç¬¬åå››é¢˜ å®ç°ä¸€ä¸ªUnshiftå·¥å…·ç±»å‹ï¼Œç”¨äºæŠŠæŒ‡å®šç±»å‹ E ä½œä¸ºç¬¬ä¸€ä¸ªå…ƒç´ æ·»åŠ åˆ°Tæ•°ç»„ç±»å‹ä¸­ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 12345type Unshift&lt;T extends any[], E&gt; = // ä»£ç å®ç°// æµ‹è¯•ç”¨ä¾‹type U0 = Unshift&lt;[], 1&gt;; // [1]type U1 = Unshift&lt;[1, 2, 3], 0&gt;; //[0, 1, 2, 3] è§£å†³æ–¹æ¡ˆ 12345type Unshift&lt;T extends any[], E&gt; = [E, ...T];// æµ‹è¯•ç”¨ä¾‹type U0 = Unshift&lt;[], 1&gt;; // [1]type U1 = Unshift&lt;[1, 2, 3], 0&gt;; //[0, 1, 2, 3] ç¬¬åäº”é¢˜ å®ç°ä¸€ä¸ªShiftå·¥å…·ç±»å‹ï¼Œç”¨äºç§»é™¤Tæ•°ç»„ç±»å‹ä¸­çš„ç¬¬ä¸€ä¸ªç±»å‹ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 12345type Shift&lt;T extends any[]&gt; = // ä»£ç å®ç°// æµ‹è¯•ç”¨ä¾‹type S0 = Shift&lt;[1, 2, 3]&gt;type S1 = Shift&lt;[string, number, boolean]&gt; è§£å†³æ–¹æ¡ˆ 1234567type Shift&lt;T extends any[]&gt; = T extends [infer A, ...infer B] ? B : [];// æµ‹è¯•ç”¨ä¾‹type S0 = Shift&lt;[1, 2, 3]&gt;; // [2, 3]type S1 = Shift&lt;[string, number, boolean]&gt;; // [number, boolean]type S2 = Shift&lt;[]&gt;; // []type S3 = Shift&lt;[string]&gt;; // [] ç¬¬åå…­é¢˜ å®ç°ä¸€ä¸ªPushå·¥å…·ç±»å‹ï¼Œç”¨äºæŠŠæŒ‡å®šç±»å‹Eä½œä¸ºæœ€åä¸€ä¸ªå…ƒç´ æ·»åŠ åˆ°Tæ•°ç»„ç±»å‹ä¸­ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 12345type Push&lt;T extends any[], E&gt; = // ä»£ç å®ç°// æµ‹è¯•ç”¨ä¾‹type P0 = Push&lt;[], 1&gt;; // [1]type P1 = Push&lt;[1, 2, 3], 4&gt;; // [1, 2, 3, 4] è§£å†³æ–¹æ¡ˆ 1 12345type Push&lt;T extends any[], E&gt; = T extends [...infer U] ? [...U, E] : never;// æµ‹è¯•ç”¨ä¾‹type P0 = Push&lt;[], 1&gt;; // [1]type P1 = Push&lt;[1, 2, 3], 4&gt;; // [1, 2, 3, 4] è§£å†³æ–¹æ¡ˆ 2 123456type Push&lt;T extends any[], E&gt; = [...T, E];// æµ‹è¯•ç”¨ä¾‹type P0 = Push&lt;[], 1&gt;; // [1]type P1 = Push&lt;[1, 2, 3], 4&gt;; // [1, 2, 3, 4] ç¬¬åä¸ƒé¢˜ å®ç°ä¸€ä¸ªIncludeså·¥å…·ç±»å‹ï¼Œç”¨äºåˆ¤æ–­æŒ‡å®šçš„ç±»å‹Eï¼Œæ˜¯å¦åŒ…å«åœ¨Tæ•°ç»„ç±»å‹ä¸­ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 12345type Includes&lt;T extends any[], E&gt; = // ä»£ç å®ç°// æµ‹è¯•ç”¨ä¾‹type I0 = Includes&lt;[], 1&gt;; // falsetype I1 = Includes&lt;[2, 3], 2&gt;; // true è§£å†³æ–¹æ¡ˆ 1 12345type Includes&lt;T extends any[], E&gt; = E extends T[number] ? true : false;// æµ‹è¯•ç”¨ä¾‹type I0 = Includes&lt;[], 1&gt;; // falsetype I1 = Includes&lt;[2, 3], 2&gt;; // true è§£å†³æ–¹æ¡ˆ 2 123456type Includes&lt;T extends any[], E&gt; = T extends [infer A, ...infer R] ? E extends A ? true : Includes&lt;R, E&gt; : false;// æµ‹è¯•ç”¨ä¾‹type I0 = Includes&lt;[], 1&gt;; // falsetype I1 = Includes&lt;[2, 3], 2&gt;; // true ç¬¬åå…«é¢˜ å®ç°ä¸€ä¸ªUnionToIntersectionå·¥å…·ç±»å‹ï¼Œç”¨äºæŠŠè”åˆç±»å‹è½¬æ¢ä¸ºäº¤å‰ç±»å‹ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 12345type UnionToIntersection&lt;U&gt; = // ä»£ç å®ç°// æµ‹è¯•ç”¨ä¾‹type U0 = UnionToIntersection&lt;string | number&gt;; // nevertype U1 = UnionToIntersection&lt;{name: string} | {age: number}&gt;; // {name: string} &amp; {age: number} è§£å†³æ–¹æ¡ˆ é€†å˜åå˜ æ³¨é‡Š 12345678910type Fun&lt;X&gt; = (...args: X[]) =&gt; void;let f: Fun&lt;string&gt;let g: Fun&lt;string | number&gt;g = f // this cannot be assignedå½“fèµ‹å€¼ç»™gæ—¶ï¼Œæ–°çš„gä¸èƒ½ä½¿ç”¨numberç±»å‹çš„å‚æ•°ï¼Œæˆ‘ä»¬ä¸¢å¤±äº†gçš„ä¸€éƒ¨åˆ†ç±»å‹ï¼Œè¿™å°±å±äº é€†å˜(contra-variance),è¿™ä¸ªå’Œäº¤é›†çš„å·¥ä½œæœºåˆ¶ç±»ä¼¼ã€‚å½“æˆ‘ä»¬æŠŠé€†å˜ä½ç½®æ”¾åœ¨æ¡ä»¶ç±»å‹æ—¶ï¼šTypescriptä¼šåˆ›å»ºä¸€ä¸ªäº¤é›†ï¼Œæˆ‘ä»¬ä»å‡½æ•°å‚æ•°ä¸­inferäº†ä¸€ä¸ªç±»å‹ï¼ŒTypeScriptçŸ¥é“æˆ‘ä»¬å¿…é¡»ç¬¦åˆé€†å˜çš„æ¡ä»¶ï¼Œç„¶åTypeScriptä¼šè‡ªåŠ¨åˆ›å»ºå¹¶é›†ä¸­æ‰€æœ‰çš„æˆåˆ†çš„äº¤é›†ã€‚ 123456type UnionToIntersection&lt;U&gt; = (U extends any ? (k: U) =&gt; void : never) extends (k: infer I) =&gt; void ? I : never// æµ‹è¯•ç”¨ä¾‹type U0 = UnionToIntersection&lt;string | number&gt; // nevertype U1 = UnionToIntersection&lt;{ name: string } | { age: number }&gt; // { name: string; } &amp; { age: number; } ç¬¬åä¹é¢˜ å®ç°ä¸€ä¸ª OptionalKeys å·¥å…·ç±»å‹ï¼Œç”¨æ¥è·å–å¯¹è±¡ç±»å‹ä¸­å£°æ˜çš„å¯é€‰å±æ€§ï¼Œç¤ºä¾‹å¦‚ä¸‹: 12345678910type Person = { id: string; name: string; age: number; from?: string; speak?: string;}type OptionalKeys&lt;T&gt; = // ä»£ç å®ç°type PersonOptionsKeys = OptionalKeys&lt;Person&gt; // &quot;from&quot; | &quot;speak&quot; è§£å†³æ–¹æ¡ˆ 1 12345678910111213type Person = { id: string; name: string; age: number; from?: string; speak?: string;}type OptionalKeys&lt;T&gt; = NonNullable&lt;{ [P in keyof T]: undefined extends T[P] ? P : never}[keyof T]&gt;type PersonOptionsKeys = OptionalKeys&lt;Person&gt; // &quot;from&quot; | &quot;speak&quot; è§£å†³æ–¹æ¡ˆ 2 12345678910111213type Person = { id: string; name: string; age: number; from?: string; speak?: string;}type OptionalKeys&lt;T&gt; = keyof { [P in keyof T as undefined extends T[P] ? P : never]: T[P]}type PersonOptionsKeys = OptionalKeys&lt;Person&gt; // &quot;from&quot; | &quot;speak&quot; è§£å†³æ–¹æ¡ˆ 3 12345678910111213type Person = { id: string; name: string; age: number; from?: string; speak?: string;};type OptionalKeys&lt;T&gt; = Exclude&lt;{ [P in keyof T]: T extends T[P] ? never : T[P]}[keyof T], undefined&gt;type PersonOptionalKeys = OptionalKeys&lt;Person&gt;; // &quot;from&quot; | &quot;speak è§£å†³æ–¹æ¡ˆ 4 12345678910111213type Person = { id: string; name: string; age: number; from?: string; speak?: string;};type OptionalKeys&lt;T&gt; = { [P in keyof T]: (undefined extends T[P] ? P : never)}[keyof T] &amp; keyof Ttype PersonOptionalKeys = OptionalKeys&lt;Person&gt;; // &quot;from&quot; | &quot;speak ç¬¬äºŒåé¢˜ å®ç°ä¸€ä¸ªCurryå·¥å…·ç±»å‹ï¼Œç”¨æ¥å®ç°å‡½æ•°ç±»å‹çš„æŸ¯é‡ŒåŒ–å¤„ç†ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 123456789type Curry&lt; F extends (...args: any[]) =&gt; any, P extends any[] = Parameters&lt;F&gt;, R = ReturnType&lt;F&gt;&gt; = // ä»£ç å®ç°type C0 = Curry&lt;() =&gt; Date&gt;; // () =&gt; Datetype C1 = Curry&lt;(a:number) =&gt; Date&gt;; // (arg: number) =&gt; Datetype C2 = Curry&lt;(a: number, b: string) =&gt; Date&gt;; // (arg: number)=&gt;(arg: string) =&gt; Date è§£å†³æ–¹æ¡ˆ 12345678910111213type Curry&lt; F extends (...args: any[]) =&gt; any, P extends any[] = Parameters&lt;F&gt;, R = ReturnType&lt;F&gt;,&gt; = P extends [infer A, ...infer B] ? B extends [] ? (arg: A) =&gt; R : (arg: A) =&gt; Curry&lt;(...arg: B) =&gt; R&gt; : F;type C0 = Curry&lt;() =&gt; Date&gt;; // () =&gt; Datetype C1 = Curry&lt;(a:number) =&gt; Date&gt;; // (arg: number) =&gt; Datetype C2 = Curry&lt;(a: number, b: string) =&gt; Date&gt;; // (arg: number)=&gt;(arg: string) =&gt; Date ç¬¬äºŒåä¸€é¢˜ å®ç°ä¸€ä¸ªMergeå·¥å…·ç±»å‹ï¼Œç”¨äºæŠŠä¸¤ä¸ªç±»å‹åˆæˆä¸€ä¸ªæ–°çš„ç±»å‹ï¼Œç¬¬äºŒç±»å‹ï¼ˆSecondTypeï¼‰çš„Keyså°†ä¼šè¦†ç›–ç¬¬ä¸€ç§ç±»å‹ï¼ˆFirstTypeï¼‰çš„Keysï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 123456789101112type Foo = { a: number; b: string;}type Bar = { b: number;}type Merge&lt;FirstType, SecondType&gt; = // ä»£ç å®ç°type M = Merge&lt;Foo, Bar&gt;; // {a: number, b: number} è§£å†³æ–¹æ¡ˆ 1 å°† FirstType å’Œ SecondType åšäº¤å‰ç±»å‹ï¼Œå¹¶éå†æ¯ä¸€ä¸ªå±æ€§ï¼› å¦‚æœå½“å‰å±æ€§ååœ¨ SecondType ç±»å‹ä¸­ï¼Œåˆ™ä½¿ç”¨ SecondType ç±»å‹ä¸­çš„å½“å‰å±æ€§å€¼ï¼› å¦‚æœå½“å‰å±æ€§ååœ¨ FirstType ç±»å‹ä¸­ï¼Œåˆ™ä½¿ç”¨ FirstType ç±»å‹ä¸­çš„å½“å‰å±æ€§å€¼ï¼› å¦åˆ™ä¸º neverï¼› 123456789101112131415161718type Foo = { a: number; b: string;}type Bar = { b: number;}type Merge&lt;FirstType, SecondType&gt; ={ [K in keyof (FirstType &amp; SecondType)] : K extends keyof SecondType ? SecondType[K] : K extends keyof FirstType ? FirstType[K] : never}type M = Merge&lt;Foo, Bar&gt;; // {a: number, b: number} è§£å†³æ–¹æ¡ˆ 2 å…ˆå°† FirstType ç±»å‹ä¸­å·²ç»æœ‰çš„ï¼Œå’Œ SecondType ç±»å‹ä¸­ç›¸åŒçš„å±æ€§åˆ é™¤ï¼› å°†å‰é¢ç»“æœå’Œ SecondType åšäº¤å‰ç±»å‹ï¼Œè·å¾—åˆå¹¶åç»“æœã€‚ 123456789101112type Foo = { a: number; b: string;}type Bar = { b: number;}type Merge&lt;F, S&gt; = Omit&lt;F, keyof S&gt; &amp; S;type M = Merge&lt;Foo, Bar&gt;; // {a: number, b: number} ç¬¬äºŒåäºŒé¢˜ å®ç°ä¸€ä¸ªRequireAtLeastOneå·¥å…·ç±»å‹ï¼Œå®ƒå°†åˆ›å»ºä¸€ä¸ªè‡³å°‘å«æœ‰ä¸€ä¸ªç»™å®škeysçš„ç±»å‹ï¼Œå…¶ä½™keysç±»å‹ä¿æŒåŸæ ·ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 123456789101112131415type Responder = { text?: () =&gt; string; json?: () =&gt; string; secure?: boolean;}type RequireAtLeastOne&lt; ObjectType, KeysType extends keyof ObjectType = keyof ObjectType,&gt; = ä»£ç å®ç°const responder: RequireAtLeastOne&lt;Responder, 'text'|'json'&gt; = { json: () =&gt; '{&quot;message&quot;: &quot;ok&quot;}', secure: true} è§£å†³æ–¹æ¡ˆ 1 1234567891011121314151617181920212223type Responder = { text?: () =&gt; string; json?: () =&gt; string; secure?: boolean;}type RequireAtLeastOne&lt; ObjectType, KeysType extends keyof ObjectType = keyof ObjectType,&gt; = KeysType extends unknown ? ObjectType &amp; { [K in KeysType]-?: ObjectType[K]} : never;// è¡¨ç¤ºå½“å‰ç±»å‹è‡³å°‘åŒ…å« 'text' æˆ– 'json' é”®const responder: RequireAtLeastOne&lt;Responder, 'text' | 'json'&gt; = { json: () =&gt; '{&quot;message&quot;: &quot;ok&quot;}', secure: true};// @ts-expect-error å› ä¸ºæ²¡æœ‰'text'å’Œ'json'ä¸­çš„ä»»ä½•ä¸€ä¸ªï¼ŒæŠ¥é”™const responder2: RequireAtLeastOne&lt;Responder, 'text' | 'json'&gt; = { secure: true}; è§£å†³æ–¹æ¡ˆ 2 12345678910111213141516type Responder = { text?: () =&gt; string; json?: () =&gt; string; secure?: boolean;};type RequireAtLeastOne&lt;ObjectType, KeysType extends keyof ObjectType = keyof ObjectType&gt; = { [K in keyof ObjectType]: K extends KeysType ? ObjectType &amp; Required&lt;Pick&lt;ObjectType, K&gt;&gt; : never;}[keyof ObjectType]// è¡¨ç¤ºå½“å‰ç±»å‹è‡³å°‘åŒ…å« 'text' æˆ– 'json' é”®const responder: RequireAtLeastOne&lt;Responder, &quot;text&quot; | &quot;json&quot;&gt; = { json: () =&gt; '{&quot;message&quot;: &quot;ok&quot;}', secure: true,}; è§£å†³æ–¹æ¡ˆ 3 12345678910111213141516type Responder = { text?: () =&gt; string; json?: () =&gt; string; secure?: boolean;};type RequireAtLeastOne&lt;ObjectType, KeysType extends keyof ObjectType = KeysType extends unknown? Omit&lt;ObjectType, KeysType&gt; &amp; Require&lt;Pick&lt;ObjectType, KeysType&gt;&gt;: never// è¡¨ç¤ºå½“å‰ç±»å‹è‡³å°‘åŒ…å« 'text' æˆ– 'json' é”®const responder: RequireAtLeastOne&lt;Responder, &quot;text&quot; | &quot;json&quot;&gt; = { json: () =&gt; '{&quot;message&quot;: &quot;ok&quot;}', secure: true,}; ç¬¬äºŒåä¸‰é¢˜ å®ç°ä¸€ä¸ªRemoveIndexSignatureå·¥å…·ç±»å‹ï¼Œç”¨äºç§»é™¤å·²æœ‰ç±»å‹ä¸­çš„ç´¢å¼•ç­¾åï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 12345678910interface Foo { [key: string]: any; [key: number]: any; [key: symbol]: any; bar(): void;}type RemoveIndexSignature&lt;T&gt; = // ä»£ç å®ç°type R = RemoveIndexSignature&lt;Foo&gt;; // {bar: ()=&gt;void;} è§£å†³æ–¹æ¡ˆ 123456789101112interface Foo { [key: string]: any; [key: number]: any; [key: symbol]: any; bar(): void;}type RemoveIndexSignature&lt;T&gt; = { [K in keyof T as string extends K ? never : number extends K ? never : symbol extends K ? never : K]: T[K]}type R = RemoveIndexSignature&lt;Foo&gt;; // {bar: () =&gt; void;} ç¬¬äºŒåå››é¢˜ å®ç°ä¸€ä¸ª Mutable å·¥å…·ç±»å‹ï¼Œç”¨äºç§»é™¤å¯¹è±¡ç±»å‹ä¸Šæ‰€æœ‰å±æ€§æˆ–è€…éƒ¨åˆ†å±æ€§çš„ readonly ä¿®é¥°ç¬¦ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 123456789101112type Foo = { readonly a: number; readonly b: string; readonly c: boolean;}type Mutable&lt;T, Keys extends keyof T = keyof T&gt; = // ä»£ç å®ç°const mutableFoo: Mutable&lt;Foo, 'a'&gt; = { a: 1, b: '2', c: true };mutableFoo.a = 3; // okmutableFoo.b = '6'; // Cannot assign to 'b' because it is a read-only property. è§£å†³æ–¹æ¡ˆ 1 12345678910111213type Foo = { readonly a: number; readonly b: string; readonly c: boolean;}type Mutable&lt;T, Keys extends keyof T = keyof T&gt; ={-readonly [K in Keys]: T[K] } &amp; Pick&lt;T, Exclude&lt;keyof T, Keys&gt;&gt;;const mutableFoo: Mutable&lt;Foo, 'a'&gt; = { a: 1, b: '2', c: true };mutableFoo.a = 3; // okmutableFoo.b = '6'; // Cannot assign to 'b' because it is a read-only property. è§£å†³æ–¹æ¡ˆ 2 12345678910111213type Foo = { readonly a: number; readonly b: string; readonly c: boolean;}type Mutable&lt;T, Keys extends keyof T = keyof T&gt; ={-readonly [K in Keys]: T[K] : T[K]} &amp; Omit&lt;T, Keys&gt;;const mutableFoo: Mutable&lt;Foo, 'a'&gt; = { a: 1, b: '2', c: true };mutableFoo.a = 3; // okmutableFoo.b = '6'; // Cannot assign to 'b' because it is a read-only property. ç¬¬äºŒåäº”é¢˜ å®ç°ä¸€ä¸ª IsUnion å·¥å…·ç±»å‹ï¼Œåˆ¤æ–­æŒ‡å®šçš„ç±»å‹æ˜¯å¦ä¸ºè”åˆç±»å‹ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 12345type IsUnion&lt;T, U = T&gt; = // ä»£ç å®ç°type I0 = IsUnion&lt;string|number&gt; // truetype I1 = IsUnion&lt;string|never&gt; // falsetype I2 = IsUnion&lt;string|unknown&gt; //false è§£å†³æ–¹æ¡ˆ 12345type IsUnion&lt;T, U = T&gt; = T extends any ? [U] extends [T] ? false : true : never;type I0 = IsUnion&lt;string|number&gt; // truetype I1 = IsUnion&lt;string|never&gt; // falsetype I2 = IsUnion&lt;string|unknown&gt; //false çŸ¥è¯†ç‚¹ï¼š 1.è”åˆç±»å‹ä½œä¸ºæ³›å‹çš„æ—¶å€™ extends ä¼šè§¦å‘åˆ†å‘æ‰§è¡Œ 2.è”åˆç±»å‹ T å†™æˆ[T]å°±å˜æˆäº†æ™®é€šç±»å‹ï¼Œextends çš„æ—¶å€™ä¸ä¼šåˆ†å‘æ‰§è¡Œ è¿™é‡Œç¬¬ä¸€æ­¥T extends anyè‚¯å®šä¸ºçœŸï¼Œä¸€ä¸ªå…¶å®å°±æ˜¯åˆ©ç”¨å…¶åˆ†å‘çš„ç‰¹æ€§ï¼Œåé¢çš„[T]å°±æ˜¯ä¸€ä¸ªè”åˆç±»å‹æ‹†å¼€åçš„æŸä¸€ä¸ªï¼Œå› æ­¤å¦‚æœæ˜¯è”åˆç±»å‹çš„è¯[U] extends [T]ä¸€å®šä¸ºå¦ ç¬¬äºŒåå…­é¢˜ å®ç°ä¸€ä¸ªIsNeverå·¥å…·ç±»å‹ï¼Œåˆ¤æ–­æŒ‡å®šçš„ç±»å‹æ˜¯å¦ä¸ºneverç±»å‹ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 12345type IsNever&lt;T&gt; = // ä»£ç å®ç°type I0 = IsNever&lt;never&gt; // truetype I1 = IsNever&lt;never | string&gt; // falsetype I2 = IsNever&lt;null&gt; // false è§£å†³æ–¹æ¡ˆ ç”¨[]åŒ…è£¹ Tï¼Œå¦åˆ™æ³›å‹å‚æ•°ä¼šè¢«å½“ä½œä¸€ä¸ªè£¸ç±»å‹å¤„ç†ï¼Œèµ°æ¡ä»¶å¼åˆ†å¸ƒç±»å‹çš„åˆ¤æ–­é€»è¾‘ï¼Œå½“æ³›å‹å‚æ•°æ˜¯ any è¿™ç§ç‰¹æ®Šå€¼æ—¶ï¼Œä¼šå¾—åˆ°åˆ†å¸ƒåçš„ç±»å‹ã€‚ 12345type IsNever&lt;T&gt; = [T] extends [never] ? true : false;type I0 = IsNever&lt;never&gt; // truetype I1 = IsNever&lt;never | string&gt; // falsetype I2 = IsNever&lt;null&gt; // false ç¬¬äºŒåä¸ƒé¢˜ å®ç°ä¸€ä¸ªReverseå·¥å…·ç±»å‹ï¼Œç”¨äºå¯¹å…ƒç¥–ç±»å‹ä¸­å…ƒç´ çš„ä½ç½®é¢ å€’ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„ï¼Œå…ƒç¥–çš„ç¬¬ä¸€ä¸ªå…ƒç´ å°±ä¼šå˜æˆæœ€åä¸€ä¸ªï¼Œæœ€åä¸€ä¸ªå…ƒç´ å˜æˆç¬¬ä¸€ä¸ªã€‚ 1234567type Reverse&lt; T extends any[], R extends any[] = []&gt; = // ä»£ç å®ç°type R0 = Reverse&lt;[]&gt; // []type R1 = Reverse&lt;[1, 2, 3]&gt; // [3, 2, 1] è§£å†³æ–¹æ¡ˆ 1 1234567type Reverse&lt; T extends any[], R extends any[] = []&gt; = T extends [infer A, ...infer B] ? Reverse&lt;B, [A, ...R]&gt; : R;type R0 = Reverse&lt;[]&gt; // []type R1 = Reverse&lt;[1, 2, 3]&gt; // [3, 2, 1] è§£å†³æ–¹æ¡ˆ 2 123456type Reverse&lt; T extends any[]&gt; = T extends [infer A, ...infer B] ? [...Reverse&lt;B&gt;, A] : [];type R0 = Reverse&lt;[]&gt; // []type R1 = Reverse&lt;[1, 2, 3]&gt; // [3, 2, 1] ç¬¬äºŒåå…«é¢˜ å®ç°ä¸€ä¸ªSplitå·¥å…·ç±»å‹ï¼Œæ ¹æ®ç»™å®šçš„åˆ†å‰²ç¬¦(Delimiter)å¯¹åŒ…å«åˆ†å‰²ç¬¦çš„å­—ç¬¦ä¸²è¿›è¡Œåˆ‡å‰²ï¼Œå¯ç”¨äºå®šä¹‰String.prototype.splitæ–¹æ³•çš„è¿”å›å€¼ç±»å‹ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 12345678type Item = `zs, ls, ww`;type Split&lt; S extends string, Delimiter extends string&gt; = // ä»£ç å®ç°type ElementType = Split&lt;Item, ','&gt;; // [&quot;zs&quot;, &quot;ls&quot;,&quot;ww&quot;] è§£å†³æ–¹æ¡ˆ 1234567891011121314type Item = `zs, ls, ww`;type Split&lt; S extends string, Delimiter extends string,&gt; = S extends `${infer Key}${Delimiter}${infer Rest}`? [Key, ...Split&lt;Rest, Delimiter&gt;]: S extends '' /* å¤„ç†ç©ºå­—ç¬¦ä¸² */? []: [S]type ElementType = Split&lt;Item, ','&gt;; // [&quot;zs&quot;, &quot;ls&quot;,&quot;ww&quot;]type ElementType2 = Split&lt;'a|b|c||d', '|'&gt;; // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;&quot;, &quot;d&quot;]type ElementType3 = Split&lt;'abcdef', ''&gt;; // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;] ç¬¬äºŒåä¹é¢˜ å®ç°ä¸€ä¸ªToPathå·¥å…·ç±»å‹ï¼Œç”¨äºæŠŠå±æ€§è®¿é—®(.æˆ–[])è·¯å¾„è½¬æ¢ä¸ºå…ƒç¥–çš„å½¢å¼ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 1234type ToPath&lt;S extends string&gt; = // ä»£ç å®ç°ToPath&lt;'foo.bar.baz'&gt; // ['foo', 'bar', 'baz']ToPath&lt;'foo[0].bar.baz'&gt; // ['foo', '0', 'bar', 'baz'] è§£å†³æ–¹æ¡ˆ 12345678910type ToPath&lt;S extends string&gt; = S extends `${infer F}${`[${infer D}]`}${infer R}`? [...ToPath&lt;F&gt;, ...([D] extends [never] ? [] : [D]), ...ToPath&lt;R&gt;]: S extends `${infer F}.${infer R}`? [...ToPath&lt;F&gt;, ...ToPath&lt;R&gt;]: S extends ''? []: [S]type T0 = ToPath&lt;'foo.bar.baz'&gt; // ['foo', 'bar', 'baz']type T1 = ToPath&lt;'foo[0].bar.baz'&gt; // ['foo', '0', 'bar', 'baz'] ç¬¬ä¸‰åé¢˜ å®Œå–„Chainableç±»å‹çš„å®šä¹‰ï¼Œæ˜¯çš„ TS èƒ½æˆåŠŸæ¨æ–­å‡ºresultå˜é‡çš„ç±»å‹ï¼Œè°ƒç”¨optionæ–¹æ³•ä¹‹åä¼šä¸æ–­æ‰©å±•å½“å‰å¯¹è±¡çš„ç±»å‹ï¼Œä½¿å¾—è°ƒç”¨getæ–¹æ³•åèƒ½è·å–æ­£ç¡®çš„ç±»å‹ã€‚ 12345678910111213141516171819202122declare const config: Chainabletype Chainable = { option(key: string, value: any): any get(): any}const result = config .option('age', 7) .option('name', 'lolo') .option('address', { value: 'XiaMen' }) .get()type ResultType = typeof result// æœŸæœ› ResultType çš„ç±»å‹æ˜¯ï¼š// {// age: number// name: string// address: {// value: string// }// } è§£å†³æ–¹æ¡ˆ 12345678910declare const config: Chainable;type Chainable&lt;T = {}&gt; = { option&lt;K extends string, V extends any&gt;(key: K, value: V): Chainable&lt;{ [P in K]: V } &amp; T&gt;; get(): T;};const result = config.option(&quot;age&quot;, 7).option(&quot;name&quot;, &quot;lolo&quot;).option(&quot;address&quot;, { value: &quot;XiaMen&quot; }).get();type ResultType = typeof result; ç¬¬ä¸‰åä¸€é¢˜ å®ç°ä¸€ä¸ªRepeatå·¥å…·ç±»å‹ï¼Œç”¨äºæ ¹æ®ç±»å‹å˜é‡Cçš„å€¼ï¼Œé‡å¤Tç±»å‹å¹¶ä»¥å…ƒç¥–çš„å½¢å¼è¿”å›æ–°çš„ç±»å‹ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 12345type Repeat&lt;T, C extends number&gt; = // ä»£ç å®ç°type R0 = Repeat&lt;0, 0&gt;; // []type R1 = Repeat&lt;1, 3&gt;; // [1, 1, 1]type R2 = Repeat&lt;number, 2&gt;; // [number, number] è§£å†³æ–¹æ¡ˆ 12345type Repeat&lt;T, C extends number, A extends any[]&gt; = A[&quot;length&quot;] extends C ? A : Repeat&lt;T, C, [...A, T]&gt;;type R0 = Repeat&lt;0, 0&gt;; // []type R1 = Repeat&lt;1, 3&gt;; // [1, 1, 1]type R2 = Repeat&lt;number, 2&gt;; // [number, number] ç¬¬ä¸‰åäºŒé¢˜ å®ç°ä¸€ä¸ªRepeatStringå·¥å…·ç±»å‹ï¼Œç”¨äºæ ¹æ®ç±»å‹å˜é‡Cçš„å€¼ï¼Œé‡å¤ T ç±»å‹å¹¶ä»¥å­—ç¬¦ä¸²çš„å½¢å¼è¿”å›æ–°çš„ç±»å‹ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 1234567type RepeatString&lt; T extends string, C extends number,&gt; = // ä»£ç å®ç°type S0 = RepeatString&lt;&quot;a&quot;, 0&gt;; // ''type S1 = RepeatString&lt;&quot;ab&quot;, 2&gt;; // 'abab' è§£å†³æ–¹æ¡ˆ 1234567891011type RepeatString&lt; T extends string, C extends number, S extends string = '', A extends any[] = []&gt; = A[&quot;length&quot;] extends C? S: RepeatString&lt;T, C, `${S}${T}`, [...A, T]&gt;type S0 = RepeatString&lt;&quot;a&quot;, 0&gt;; // ''type S1 = RepeatString&lt;&quot;ab&quot;, 2&gt;; // 'abab' ç¬¬ä¸‰åä¸‰é¢˜ å®ç°ä¸€ä¸ªToNumberå·¥å…·ç±»å‹ï¼Œç”¨äºå®ç°æŠŠæ•°å€¼å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å€¼ç±»å‹ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 12345type ToNumber&lt;T extends string&gt; = // ä»£ç å®ç°type T0 = ToNumber&lt;&quot;0&quot;&gt;; // 0type T1 = ToNumber&lt;&quot;10&quot;&gt;; // 10type T2 = ToNumber&lt;&quot;20&quot;&gt;; // 20 è§£å†³æ–¹æ¡ˆ 123456type ToNumber&lt;T extends string, S extends any[] = [], L extends number = S[&quot;length&quot;]&gt; =`${L}` extends T ? L : ToNumber&lt;T, [...S, 1]&gt;type T0 = ToNumber&lt;&quot;0&quot;&gt;; // 0type T1 = ToNumber&lt;&quot;10&quot;&gt;; // 10type T2 = ToNumber&lt;&quot;20&quot;&gt;; // 20 ç¬¬ä¸‰åå››é¢˜ å®ç°ä¸€ä¸ªSmallerThanå·¥å…·ç±»å‹ï¼Œç”¨äºæ¯”è¾ƒæ•°å€¼ç±»å‹çš„å¤§å°ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 12345678type SmallerThan&lt; N extends number, M extends number,&gt; = //ä»£ç å®ç°type S0 = SmallerThan&lt;0, 1&gt;; // truetype S1 = SmallerThan&lt;2, 0&gt;; // falsetype S2 = SmallerThan&lt;8, 10&gt;; // true è§£å†³æ–¹æ¡ˆ 123456789101112type SmallerThan&lt; N extends number, M extends number, S extends any[] = [], L extends number = S[&quot;length&quot;]&gt; = L extends N? L extends M ? false : true: L extends M ? false : SmallerThan&lt;N, M, [...S, 1]&gt;type S0 = SmallerThan&lt;0, 1&gt;; // truetype S1 = SmallerThan&lt;2, 0&gt;; // falsetype S2 = SmallerThan&lt;8, 10&gt;; // true ç¬¬ä¸‰åäº”é¢˜ å®ç°ä¸€ä¸ªAddå·¥å…·ç±»å‹ï¼Œç”¨äºå®ç°å¯¹æ•°ç»„å¯¹åº”çš„æ•°å€¼è¿›è¡ŒåŠ æ³•è¿ç®—ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 12345type Add&lt;T, R&gt; = // ä»£ç å®ç°type A0 = Add&lt;5, 5&gt;; // 10type A1 = Add&lt;8, 20&gt;; // 28type A2 = Add&lt;10, 20&gt;; // 30 è§£å†³æ–¹æ¡ˆ 123456789101112type Push&lt;T extends number[], V&gt; = [...T, V];type CreateTuple&lt; T extends number, A extends number[] = []&gt; = A[&quot;length&quot;] extends T ? A : CreateTuple&lt;T, Push&lt;A, 1&gt;&gt;;type Add&lt;T extends number, R extends number&gt; = [...CreateTuple&lt;T&gt;, ...CreateTuple&lt;R&gt;][&quot;length&quot;];type A0 = Add&lt;5, 5&gt;; // 10type A1 = Add&lt;8, 20&gt;; // 28type A2 = Add&lt;10, 20&gt;; // 30 ç¬¬ä¸‰åå…­é¢˜ å®ç°ä¸€ä¸ªFilterå·¥å…·ç±»å‹ï¼Œç”¨äºæ ¹æ®ç±»å‹å˜é‡Fçš„å€¼è¿›è¡Œç±»å‹è¿‡æ»¤ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 12345type Filter&lt;T extends any[], F&gt; = // ä»£ç å®ç°type F0 = Filter&lt;[6, &quot;lolo&quot;, 7, &quot;semlinker&quot;, false], number&gt;; // [6, 7]type F1 = Filter&lt;[&quot;kakuqo&quot;, 2, [&quot;ts&quot;], &quot;lolo&quot;], string&gt;; // [&quot;kakuqo&quot;, &quot;lolo&quot;]type F2 = Filter&lt;[0, true, any, &quot;abao&quot;], string&gt;; // [any, &quot;abao&quot;] è§£å†³æ–¹æ¡ˆ 1234// æœ¬é¢˜å…³é”®ç‚¹å°±æ˜¯å¯¹`any`ç±»å‹çš„å¤„ç†ï¼štype A0 = any &amp; 1; // anytype A1 = any &amp; boolean; // anytype A2 = any &amp; never; // never 1234567891011type IsAny&lt;T&gt; = 0 extends (1 &amp; T) ? true : false;type Filter&lt;T extends any[], F&gt; = T extends [infer R1, ...infer R2]? IsAny&lt;R1&gt; extends true? [R1, ...Filter&lt;R2, F&gt;]: [...R1 extends F ? [R1] : [], ...Filter&lt;R2, F&gt;]:[]type F0 = Filter&lt;[6, &quot;lolo&quot;, 7, &quot;semlinker&quot;, false], number&gt;; // [6, 7]type F1 = Filter&lt;[&quot;kakuqo&quot;, 2, [&quot;ts&quot;], &quot;lolo&quot;], string&gt;; // [&quot;kakuqo&quot;, &quot;lolo&quot;]type F2 = Filter&lt;[0, true, any, &quot;abao&quot;], string&gt;; // [any, &quot;abao&quot;] ç¬¬ä¸‰åä¸ƒé¢˜ å®ç°ä¸€ä¸ªFlatå·¥å…·ç±»å‹ï¼Œæ”¯æŒæŠŠæ•°ç»„ç±»å‹æ‹å¹³ï¼ˆæ‰å¹³åŒ–ï¼‰,ç¤ºä¾‹å¦‚ä¸‹ï¼š 12345type Flat&lt;T extends any[]&gt; = // ä»£ç å®ç°type F0 = Flat&lt;[]&gt;; // []type F1 = Flat&lt;['a', 'b', 'c']&gt;; // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]type F2 = Flat&lt;['a', ['b', 'c'], ['d', ['e', ['f']]]]&gt;; // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;] è§£å†³æ–¹æ¡ˆ 1 123456789type Flat&lt;T extends any[]&gt; = T extends [infer First, ...infer Rest]? First extends any[]? [...Flat&lt;First&gt;, ...Flat&lt;Rest&gt;]: [First, ...Flat&lt;Rest&gt;]: [];type F0 = Flat&lt;[]&gt;; // []type F1 = Flat&lt;['a', 'b', 'c']&gt;; // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]type F2 = Flat&lt;['a', ['b', 'c'], ['d', ['e', ['f']]]]&gt;; // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;] è§£å†³æ–¹æ¡ˆ 2 123456789type Flat&lt;T extends any[], S extends any[] = []&gt; = T extends [infer R, ...infer Rest]? R extends any[]? Flat&lt;Rest, Flat&lt;R, S&gt;&gt;: Flat&lt;Rest, [...S, R]&gt;: Stype F0 = Flat&lt;[]&gt;; // []type F1 = Flat&lt;['a', 'b', 'c']&gt;; // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]type F2 = Flat&lt;['a', ['b', 'c'], ['d', ['e', ['f']]]]&gt;; // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;] ç¬¬ä¸‰åå…«é¢˜ å®ç°StartsWithå·¥å…·ç±»å‹ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹Tæ˜¯å¦ä»¥ç»™å®šçš„å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹Uå¼€å¤´ï¼Œå¹¶æ ¹æ®åˆ¤æ–­ç»“æœè¿”å›å¸ƒå°”å€¼ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 12345type StartsWith&lt;T extends string, U extends string&gt; = // ä»£ç å®ç°type S0 = StartsWith&lt;'123', '12'&gt;; // truetype S1 = StartsWith&lt;'123', '13'&gt;; // falsetype S2 = StartsWith&lt;'123', '1234'&gt;; // false ä¹‹åï¼Œç»§ç»­å®ç°EndsWithå·¥å…·ç±»å‹ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹Tæ˜¯å¦ä»¥ç»™å®šçš„å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹Uç»“å°¾ï¼Œå¹¶æ ¹æ®åˆ¤æ–­ç»“æœè¿”å›å¸ƒå°”å€¼ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 12345type EndsWith&lt;T extends string, U extends string&gt; = // ä»£ç å®ç°type E0 = EndsWith&lt;'123', '23'&gt;; // truetype E1 = EndsWith&lt;'123', '13'&gt;; //falsetype E2 = EndsWith&lt;'123', '123'&gt;; //true è§£å†³æ–¹æ¡ˆ 12345678910111213// StartWithtype StartsWith&lt;T extends string, U extends string&gt; = T extends `${U}${infer R}` ? true : false;type S0 = StartsWith&lt;'123', '12'&gt;; // truetype S1 = StartsWith&lt;'123', '13'&gt;; // falsetype S2 = StartsWith&lt;'123', '1234'&gt;; // false// EndsWithtype EndsWith&lt;T extends string, U extends string&gt; = T extends `${infer Head}${U}` ? true : false;type E0 = EndsWith&lt;'123', '23'&gt;; // truetype E1 = EndsWith&lt;'123', '13'&gt;; //falsetype E2 = EndsWith&lt;'123', '123'&gt;; //true ç¬¬ä¸‰åä¹é¢˜ å®ç°IsAnyå·¥å…·ç±»å‹ï¼Œç”¨äºåˆ¤æ–­ç±»å‹Tæ˜¯å¦ä¸ºanyç±»å‹ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 12345type IsAny&lt;T&gt; = // ä»£ç å®ç°type I0 = IsAny&lt;never&gt;; // falsetype I1 = IsAny&lt;unknown&gt;; // falsetype I2 = IsAny&lt;any&gt;; // tue è§£å†³æ–¹æ¡ˆ 1 123456// æ€è·¯ï¼š åˆ©ç”¨ä»»ä½•ç±»å‹å’Œanyäº¤å‰éƒ½ç­‰äºanyæ¥å®ç°type IsAny&lt;T&gt; = 0 extends 1 &amp; T ? true : false;type I0 = IsAny&lt;never&gt;; // falsetype I1 = IsAny&lt;unknown&gt;; // falsetype I2 = IsAny&lt;any&gt;; // tue è§£å†³æ–¹æ¡ˆ 2 123456// unknown åªèƒ½èµ‹ç»™ unknown æˆ–è€… anytype IsAny&lt;T&gt; = [unknown] extends [T] ? ([T] extends [string] ? true : false) : false;type I0 = IsAny&lt;never&gt;; // falsetype I1 = IsAny&lt;unknown&gt;; // falsetype I2 = IsAny&lt;any&gt;; // tue ç¬¬å››åé¢˜ å®ç°AnyOfå·¥å…·ç±»å‹ï¼Œåªè¦æ•°ç»„ä¸­ä»»æ„å…ƒç´ çš„ç±»å‹éFalsyç±»å‹ã€{}ç±»å‹æˆ–[]ç±»å‹ï¼Œåˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›false,å¦‚æœæ•°ç»„ä¸ºç©ºçš„è¯ï¼Œåˆ™è¿”å›falseï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 12345type AnyOf&lt;T extends any[]&gt; = // ä»£ç å®ç°type A0 = AnyOf&lt;[]&gt;; //falsetype A1 = AnyOf&lt;[0,'',false,[],{}]&gt;; //falsetype A2 = AnyOf&lt;[1, &quot;&quot;,false,[],{}]&gt;; true è§£å†³æ–¹æ¡ˆ 1234567type Falsy = { [p in PropertyKey]: never} | [] | '' | &quot;&quot; | false | 0 | undefined | nulltype AnyOf&lt;T extends any[]&gt; = T extends [infer A, ...infer Rest]? (A extends Falsy ? AnyOf&lt;Rest&gt; : true): false ç¬¬å››åä¸€é¢˜ å®ç°Replaceå·¥å…·ç±»å‹ï¼Œç”¨äºå®ç°å­—ç¬¦ä¸²ç±»å‹çš„æ›¿æ¢æ“ä½œï¼Œå…·ä½“çš„ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼š 123456789type Replace&lt; S extends string, From extends string, To extends string&gt; = // ä»£ç å®ç°type R0 = Replace&lt;'', '', ''&gt;; // ''type R1 = Replace&lt;'foobar', 'bar', 'foo'&gt;; // 'foofoo'type R2 = Replace&lt;'foobarbar', 'bar', 'foo'&gt;; // 'foofoobar' æ­¤å¤–ï¼Œç»§ç»­å®ç°ReplaceAllå·¥å…·ç±»å‹ï¼Œç”¨äºå®ç°æ›¿æ¢æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„å­—ä¸²ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 12345678910type ReplaceAll&lt; S extends string, From extends string, To extends string&gt; = // ä»£ç å®ç°type R0 = ReplaceAll&lt;'', '', ''&gt;; // ''type R1 = ReplaceAll&lt;'barfoo', 'bar', 'foo'&gt;; // 'foofoo'type R2 = ReplaceAll&lt;'foobarbar', 'bar', 'foo'&gt;; // 'foofoofoo'type R3 = ReplaceAll&lt;'foobarfoobar', 'ob', 'b'&gt;; // 'fobarfobar' è§£å†³æ–¹æ¡ˆ 1234567891011type Replace&lt; S extends string, From extends string, To extends string,&gt; = S extends `${infer H}${From}${infer R}`? `${H}${To}${R}`: S;type R0 = Replace&lt;'', '', ''&gt;; // ''type R1 = Replace&lt;'foobar', 'bar', 'foo'&gt;; // 'foofoo'type R2 = Replace&lt;'foobarbar', 'bar', 'foo'&gt;; // 'foofoobar' 123456789101112type ReplaceAll&lt; S extends string, From extends string, To extends string,&gt; = S extends `${infer H}${From}${infer R}`? `${H}${To}${ReplaceAll&lt;R, From, To&gt;}`: S;type R0 = ReplaceAll&lt;'', '', ''&gt;; // ''type R1 = ReplaceAll&lt;'barfoo', 'bar', 'foo'&gt;; // 'foofoo'type R2 = ReplaceAll&lt;'foobarbar', 'bar', 'foo'&gt;; // 'foofoofoo'type R3 = ReplaceAll&lt;'foobarfoobar', 'ob', 'b'&gt;; // 'fobarfobar' ç¬¬å››åäºŒé¢˜ å®ç°IndexOfå·¥å…·ç±»å‹ï¼Œç”¨äºè·å–æ•°ç»„ç±»å‹ä¸­æŒ‡å®šé¡¹çš„ç´¢å¼•å€¼ï¼Œè‹¥ä¸å­˜åœ¨çš„è¯ï¼Œåˆ™è¿”å›-1å­—é¢é‡ç±»å‹ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 123456type IndexOf&lt;A extends any[], Item&gt; = // ä»£ç å®ç°type Arr = [1, 2, 3, 4, 5];type I0 = IndexOf&lt;Arr, 0&gt;; // -1type I1 = IndexOf&lt;Arr, 1&gt;; // 0type I2 = IndexOf&lt;Arr, 3&gt;; // 2 è§£å†³æ–¹æ¡ˆ 12345678910type IndexOf&lt;A extends any[], Item, R extends any[] = []&gt; = A extends [infer H, ...infer Rest]? Item extends H? R[&quot;length&quot;]: IndexOf&lt;Rest, Item, [...R, H]&gt;: -1type Arr = [1, 2, 3, 4, 5];type I0 = IndexOf&lt;Arr, 0&gt;; // -1type I1 = IndexOf&lt;Arr, 1&gt;; // 0type I2 = IndexOf&lt;Arr, 3&gt;; // 2 ç¬¬å››åä¸‰é¢˜ å®ç°ä¸€ä¸ªPermutationå·¥å…·ç±»å‹ï¼Œå½“è¾“å…¥ä¸€ä¸ªè”åˆç±»å‹æ—¶ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«è¯¥è”åˆç±»å‹çš„å…¨æ’åˆ—ç±»å‹æ•°ç»„ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š 1234type Permutation&lt;T, K = T&gt; = // ä»£ç å®ç°type P0 = Permutation&lt;'a' | 'b'&gt;; // ['a', 'b'] | ['b' , 'a']type P1 = Permutation&lt;'a' | 'b' | 'c'&gt;; //[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;] | [&quot;a&quot;, &quot;c&quot;, &quot;b&quot;] | [&quot;b&quot;, &quot;a&quot;, &quot;c&quot;] | [&quot;b&quot;, &quot;c&quot;, &quot;a&quot;] | [&quot;c&quot;, &quot;a&quot;, &quot;b&quot;] | [&quot;c&quot;, &quot;b&quot;, &quot;a&quot;] è§£å†³æ–¹æ¡ˆ 12345678type Permutation&lt;T, K = T&gt; = [T] extends [never]? []: K extends K? [K, ...Permutation&lt;Exclude&lt;T, K&gt;&gt;]: nevertype P0 = Permutation&lt;'a' | 'b'&gt;; // ['a', 'b'] | ['b' , 'a']type P1 = Permutation&lt;'a' | 'b' | 'c'&gt;; //[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;] | [&quot;a&quot;, &quot;c&quot;, &quot;b&quot;] | [&quot;b&quot;, &quot;a&quot;, &quot;c&quot;] | [&quot;b&quot;, &quot;c&quot;, &quot;a&quot;] | [&quot;c&quot;, &quot;a&quot;, &quot;b&quot;] | [&quot;c&quot;, &quot;b&quot;, &quot;a&quot;] ç¬¬å››åå››é¢˜ å®ç°Unpackedå·¥å…·ç±»å‹ï¼Œç”¨äºå¯¹ç±»å‹æ‰§è¡Œâ€œæ‹†ç®±â€æ“ä½œï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 12345678910type Unpacked&lt;T&gt; = // ä»£ç å®ç°// æµ‹è¯•ç”¨ä¾‹type T00 = Unpacked&lt;string&gt;; // stringtype T01 = Unpacked&lt;string[]&gt;; // stringtype T02 = Unpacked&lt;() =&gt; string&gt;; // stringtype T03 = Unpacked&lt;Promise&lt;string&gt;&gt;; // stringtype T04 = Unpacked&lt;Unpacked&lt;Promise&lt;string&gt;[]&gt;&gt;; // stringtype T05 = Unpacked&lt;any&gt;; // anytype T06 = Unpacked&lt;never&gt;; // never è§£å†³æ–¹æ¡ˆ 12345678910111213141516type Unpacked&lt;T&gt; = T extends (...args: any) =&gt; infer A? A: T extends Promise&lt;infer B&gt;? B: T extends (infer A)[]? A: T// æµ‹è¯•ç”¨ä¾‹type T00 = Unpacked&lt;string&gt;; // stringtype T01 = Unpacked&lt;string[]&gt;; // stringtype T02 = Unpacked&lt;() =&gt; string&gt;; // stringtype T03 = Unpacked&lt;Promise&lt;string&gt;&gt;; // stringtype T04 = Unpacked&lt;Unpacked&lt;Promise&lt;string&gt;[]&gt;&gt;; // stringtype T05 = Unpacked&lt;any&gt;; // anytype T06 = Unpacked&lt;never&gt;; // never ç¬¬å››åäº”é¢˜ å®ç°JsonifiedObjectå·¥å…·ç±»å‹ï¼Œç”¨äºå¯¹Objectå¯¹è±¡ç±»å‹è¿›è¡Œåºåˆ—è¯æ“ä½œï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 123456789101112131415161718192021declare class MyClass { toJSON(): &quot;MyClass&quot;;}type Jsonified&lt;T extends object&gt; = // ä»£ç å®ç°type MyObject = { str: &quot;literalstring&quot;; fn: () =&gt; void; date: Date; customClass: MyClass; obj: { prop: &quot;property&quot;; clz: MyClass; nested: { attr: Date }; };};type JsonifiedMyObject = Jsonified&lt;MyObject&gt;;declare let ex: JsonifiedMyObject;const z1: &quot;MyClass&quot; = ex.customClass;const z2: string = ex.obj.nested.attr; è§£å†³æ–¹æ¡ˆ 1234567891011121314151617181920212223242526272829declare class MyClass { toJSON(): &quot;MyClass&quot;;}type Jsonified&lt;T extends object&gt; = { [K in keyof T]: T[K] extends { toJSON(): infer Return } ? ReturnType&lt;T[K][&quot;toJSON&quot;]&gt; : T[K] extends (...arg: any[]) =&gt; any ? never : T[K] extends object ? Jsonified&lt;T[K]&gt; : T[K];};type MyObject = { str: &quot;literalstring&quot;; fn: () =&gt; void; date: Date; customClass: MyClass; obj: { prop: &quot;property&quot;; clz: MyClass; nested: { attr: Date }; };};type JsonifiedMyObject = Jsonified&lt;MyObject&gt;;declare let ex: JsonifiedMyObject;const z1: &quot;MyClass&quot; = ex.customClass;const z2: string = ex.obj.nested.attr; ç¬¬å››åå…­é¢˜ å®ç°RequireAllOrNoneå·¥å…·ç±»å‹ï¼Œç”¨äºæ»¡è¶³ä»¥ä¸‹åŠŸèƒ½ï¼Œå½“è®¾ç½®ageå±æ€§æ—¶ï¼Œgenderå±æ€§ä¹Ÿä¼šå˜æˆå¿…å¡«ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 1234567891011121314151617interface Person { name: string; age?: number; gender?: number;}type RequireAllOrNone&lt;T, K extends keyof T&gt; = // ä½ çš„å®ç°ä»£ç const p1: RequireAllOrNone&lt;Person, 'age' | 'gender'&gt; = { name: &quot;lolo&quot;};const p2: RequireAllOrNone&lt;Person, 'age' | 'gender'&gt; = { name: &quot;lolo&quot;, age: 7, gender: 1}; è§£å†³æ–¹æ¡ˆ 123456789101112131415161718192021222324interface Person { name: string; age?: number; gender?: number;}type RequireAllOrNone&lt;T, K extends keyof T&gt; = Omit&lt;T, K&gt; &amp; ( {[P in K]-?: T[P]} | {[P in K]?: never})const p1: RequireAllOrNone&lt;Person, 'age' | 'gender'&gt; = { name: &quot;lolo&quot;};const p2: RequireAllOrNone&lt;Person, 'age' | 'gender'&gt; = { name: &quot;lolo&quot;, age: 7, gender: 1};const p3: RequireAllOrNone&lt;Person, 'age' | 'gender'&gt; = { // error name: &quot;lolo&quot;, age: 7,}; ç¬¬å››åä¸ƒé¢˜ å®ç°RequireExactlyOneå·¥å…·ç±»å‹ï¼Œç”¨äºæ»¡è¶³ä»¥ä¸‹åŠŸèƒ½ï¼Œå³åªèƒ½åŒ…å«ageæˆ–genderå±æ€§ï¼Œä¸èƒ½åŒ…å«ç€ä¸¤ä¸ªå±æ€§ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425interface Person { name: string; age?: number; gender?: number;}// åªèƒ½åŒ…å«Keysä¸­å”¯ä¸€çš„ä¸€ä¸ªKeytype RequireExactlyOne&lt;T, Keys extends keyof T&gt; = // ä½ çš„å®ç°ä»£ç const p1: RequireExactlyOne&lt;Person, 'age' | 'gender'&gt; = { name: &quot;lolo&quot;, age: 7,};const p2: RequireExactlyOne&lt;Person, 'age' | 'gender'&gt; = { name: &quot;lolo&quot;, gender: 1};// Errorconst p3: RequireExactlyOne&lt;Person, 'age' | 'gender'&gt; = { name: &quot;lolo&quot;, age: 7, gender: 1}; è§£å†³æ–¹æ¡ˆ 12345678910111213141516171819202122232425262728interface Person { name: string; age?: number; gender?: number;}// åªèƒ½åŒ…å«Keysä¸­å”¯ä¸€çš„ä¸€ä¸ªKeytype RequireExactlyOne&lt;T, Keys extends keyof T, K extends keyof T = Keys&gt; =Keys extends any? Omit&lt;T, K&gt; &amp; Required&lt;Pick&lt;T, Keys&gt;&gt; &amp; Partial&lt;Record&lt;Exclude&lt;K, Keys&gt;, never&gt;&gt;: never;const p1: RequireExactlyOne&lt;Person, 'age' | 'gender'&gt; = { name: &quot;lolo&quot;, age: 7,};const p2: RequireExactlyOne&lt;Person, 'age' | 'gender'&gt; = { name: &quot;lolo&quot;, gender: 1};// Errorconst p3: RequireExactlyOne&lt;Person, 'age' | 'gender'&gt; = { name: &quot;lolo&quot;, age: 7, gender: 1}; ç¬¬å››åå…«é¢˜ å®ç°ConsistsOnlyOfå·¥å…·ç±»å‹ï¼Œç”¨äºåˆ¤æ–­LongStringå­—ç¬¦ä¸²ç±»å‹æ˜¯å¦ç”± 0 ä¸ªæˆ–å¤šä¸ªSubstringå­—ç¬¦ä¸²ç±»å‹ç»„æˆï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 123456type ConsistsOnlyOf&lt;LongString extends string, SubString extends string&gt; = // ä»£ç å®ç°type C0 = ConsistsOnlyOf&lt;'aaa', 'a'&gt;; // truetype C1 = ConsistsOnlyOf&lt;'ababab', 'ab'&gt;; // truetype C2 = ConsistsOnlyOf&lt;'aBa', 'a'&gt;; // falsetype C3 = ConsistsOnlyOf&lt;'', 'a'&gt;; // true è§£å†³æ–¹æ¡ˆ 1234567891011type ConsistsOnlyOf&lt;LongString extends string, SubString extends string&gt; =LongString extends ''? true: LongString extends `${SubString}${infer R}`? ConsistsOnlyOf&lt;R, SubString&gt;: falsetype C0 = ConsistsOnlyOf&lt;'aaa', 'a'&gt;; // truetype C1 = ConsistsOnlyOf&lt;'ababab', 'ab'&gt;; // truetype C2 = ConsistsOnlyOf&lt;'aBa', 'a'&gt;; // falsetype C3 = ConsistsOnlyOf&lt;'', 'a'&gt;; // false ç¬¬å››åä¹é¢˜ é¡¹ç›®ä¸­å®šä¹‰äº†æ¥å£è¿”å›çš„æ•°æ®çš„ç±»å‹ï¼Œæ¯å±‚éƒ½èƒ½çµæ´»æ‰©å±•ä¸€äº›å±æ€§ï¼Œæ€ä¹ˆåšå‘¢ï¼Ÿ 1234567// æ¥å£è¿”å›æ•°æ®ç»“æ„type Data = { aaa?: number; bbb: { ccc: number; };}; è§£å†³æ–¹æ¡ˆ 1234567type DeepRecord&lt;Obj extends Record&lt;keyof any, unknown&gt;&gt; = { [key in keyof Obj]: Obj[key] extends Record&lt;keyof any, unknown&gt; ? DeepRecord&lt;Obj[key]&gt; &amp; Record&lt;keyof any, unknown&gt; : Obj[key];} &amp; Record&lt;keyof any, unknown&gt;;type IData = DeepRecord&lt;Data&gt;; ç¬¬äº”åé¢˜ å½“ä¸€ä¸ªç´¢å¼•ä¸º â€˜descâ€™ | â€˜ascâ€™ çš„æ—¶å€™ï¼Œå…¶ä»–ç´¢å¼•éƒ½æ˜¯ false è§£å†³æ–¹æ¡ˆ 123456789type GenerateType&lt;keys extends keyof any, V1, V2&gt; = { [key in keys]: { [key1 in key]: V1; } &amp; { [key2 in Exclude&lt;keys, key&gt;]: V2; };}[keys];type R = GenerateType&lt;&quot;a&quot; | &quot;b&quot; | &quot;c&quot; | &quot;d&quot;, &quot;desc&quot; | &quot;asc&quot;, false&gt;; ç¬¬äº”åä¸€é¢˜ å–å‡ºinterfaceä¸­userInfoçš„ç±»å‹ 1234567interface Result { data?: { userInfo?: { name: string; }; };} è§£å†³æ–¹æ¡ˆ 1 1234// ç®€å•ç‰ˆ Required// ç¼ºç‚¹ å±‚çº§æ·±äº†éœ€è¦å†™å¤šä¸ªRequiredtype UserInfo = Required&lt;Required&lt;Result&gt;[&quot;data&quot;]&gt;[&quot;userInfo&quot;]; è§£å†³æ–¹æ¡ˆ 2 1234567891011// é€’å½’Required// ç¼ºç‚¹æ•°æ®ç±»å‹éƒ½ä¼šå˜æˆRequiredtype IsOptional&lt;Key extends keyof Obj, Obj&gt; = {} extends Pick&lt;Obj, Key&gt; ? Key : never;type DeepRequired&lt;T&gt; = { [K in keyof T]-?: IsOptional&lt;K, T&gt; extends never ? T[K] : DeepRequired&lt;T[K]&gt;;};type UserInfo = DeepRequired&lt;Result&gt;[&quot;data&quot;][&quot;userInfo&quot;];","link":"/2022/01/17/typescript%E8%BF%9B%E9%98%B6%E9%A2%98%E7%9B%AE/"},{"title":"Reactæ·±å…¥æµ…å‡ºçŸ¥è¯†é“¾è·¯","text":"React çš„åŸºæœ¬è®¤è¯† Fecebook å¼€æºçš„ä¸€ä¸ª js åº“ ä¸€ä¸ªç”¨æ¥åŠ¨æ€æ„å»ºç”¨æˆ·ç•Œé¢çš„ js åº“ React çš„ç‰¹ç‚¹ï¼š å£°æ˜å¼ç¼–ç¨‹ ç»„ä»¶åŒ–ç¼–ç¨‹ é«˜æ•ˆ å•å‘æ•°æ®æµ æ”¯æŒå®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯æ¸²æŸ“ React é«˜æ•ˆçš„åŸå›  è™šæ‹Ÿ DOMï¼Œä¸ç›´æ¥æ“ä½œ DOM(æ‰¹é‡æ›´æ–°ï¼Œå‡å°‘æ›´æ–°çš„æ¬¡æ•°) é«˜æ•ˆçš„ DOM Diff ç®—æ³•ï¼Œæœ€å°åŒ–é¡µé¢é‡ç»˜(å‡å°é¡µé¢æ›´æ–°çš„åŒºåŸŸ) React ä¸­çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ˜¯æŒ‡ç»„ä»¶åœ¨æŸä¸€æ—¶åˆ»è‡ªåŠ¨æ‰§è¡Œçš„å‡½æ•° åˆå§‹åŒ–è¿‡ç¨‹ï¼ˆInitializationï¼‰ åœ¨ constructor()é‡Œé¢åˆå§‹åŒ– Props å’Œ State å±æ€§ã€‚ getDefaultProps()å¯ä»¥è®¾ç½®ç»„ä»¶çš„é»˜è®¤å±æ€§å€¼ã€‚ æŒ‚è½½è¿‡ç¨‹ï¼ˆMountingï¼‰ componentWillMount(): åœ¨ç»„ä»¶å³å°†è¢«æŒ‚è½½åˆ°é¡µé¢çš„æ—¶åˆ»è‡ªåŠ¨æ‰§è¡Œã€‚ render(): å°†ç»„ä»¶æŒ‚è½½åˆ°é¡µé¢ã€‚ componentDidMount(): ç»„ä»¶è¢«æŒ‚è½½åˆ°é¡µé¢ä¹‹åç«‹å³æ‰§è¡Œã€‚ æ›´æ–°è¿‡ç¨‹ï¼ˆUpdationï¼‰ componentWillReceiveProps()ï¼ˆåœ¨ 16.4 ç‰ˆæœ¬ä¸­åºŸå¼ƒï¼Œä¸æ¨èä½¿ç”¨ï¼‰ï¼šä¸€ä¸ªç»„ä»¶ä»çˆ¶ç»„ä»¶æ¥å—å‚æ•°ï¼Œå¦‚æœè¿™ä¸ªç»„ä»¶ç¬¬ä¸€æ¬¡å­˜åœ¨çˆ¶ç»„ä»¶ä¸­ä¸ä¼šæ‰§è¡Œï¼Œå·²ç»å­˜åœ¨æ‰ä¼šæ‰§è¡Œï¼Œå¦‚æœæ²¡æœ‰ Props å±æ€§åˆ™ç›´æ¥è·³è¿‡ã€‚ shouldComponentUpdate():ç»„ä»¶æ›´æ–°å‰æ£€æŸ¥æ˜¯å¦éœ€è¦æ›´æ–°ç»„ä»¶ï¼Œè¿”å›å¸ƒå°”ç±»å‹ã€‚æ­¤ç”Ÿå‘½å‘¨æœŸå‡½æ•°å¯ä»¥å¼ºåˆ¶å…³é—­ä¸éœ€è¦æ›´æ–°çš„å­ç»„ä»¶æ¥æé«˜æ¸²æŸ“æ€§èƒ½ã€‚ componentWillUpdate():ç»„ä»¶æ›´æ–°ä¹‹å‰è‡ªåŠ¨æ‰§è¡Œã€‚å‰ææ˜¯ shouldComponentUpdate()æ‰§è¡Œå¹¶è¿”å› true-render():å°†ç»„ä»¶æ›´æ–°åˆ°é¡µé¢-componentDidUpdate():ç»„ä»¶æ›´æ–°å®Œæˆä¹‹åç«‹å³æ‰§è¡Œã€‚ ç§»é™¤è¿‡ç¨‹ï¼ˆUnmountingï¼‰ componentWillUnmount():å½“ç»„ä»¶å³å°†ä»é¡µé¢ä¸­ç§»é™¤æ—¶æ‰§è¡Œã€‚ æ³¨æ„äº‹é¡¹ React ä¸­çš„ render() ä¹Ÿæ˜¯ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œè€Œ constructor()å¹¶ä¸æ˜¯ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚ æ‰€æœ‰çš„ç»„ä»¶éƒ½æœ‰ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚ é™¤äº† render()å‡½æ•°ï¼Œå…¶ä»–å‡½æ•°éƒ½å¯ä»¥ä¸å†™ï¼Œå› ä¸ºé™¤äº† render()å‡½æ•°å…¶ä»–å‡½æ•°éƒ½æ˜¯ç»§æ‰¿è‡ªReact ä¸­å†…ç½®çš„ã€‚ AJAX è¯·æ±‚ä¸€èˆ¬éƒ½æ˜¯æ”¾åœ¨ componentDidMount()é‡Œé¢ã€‚ React çŠ¶æ€æå‡ æ‰€è°“çŠ¶æ€æå‡ï¼Œå°±æ˜¯å°† å„ä¸ªå­ç»„ä»¶çš„å…¬å…± state æå‡åˆ°å®ƒä»¬çš„çˆ¶ç»„ä»¶è¿›è¡Œç»Ÿä¸€å­˜å‚¨ã€å¤„ç†(å•ä¸€æ•°æ®æº)ï¼Œç„¶åå°†çˆ¶ç»„ä»¶å¤„ç†åçš„æ•°æ®æˆ–è€…å‡½æ•° props åˆ°å„ä¸ªå­ç»„ä»¶ä¸­ã€‚ å¦‚æœå­ç»„ä»¶è¦ä¿®æ”¹çˆ¶ç»„ä»¶ä¸­ state è¯¥æ€ä¹ˆåŠï¼Ÿ åšæ³•å°±æ˜¯å°†çˆ¶ç»„ä»¶ä¸­è´Ÿè´£ setState çš„å‡½æ•°ï¼Œä»¥ props çš„å½¢å¼ä¼ ç»™å­ç»„ä»¶ï¼Œç„¶åå­ç»„ä»¶éœ€è¦æ”¹å˜ state æ—¶è°ƒç”¨å³å¯ã€‚ React Router React Router åŒ…è£…äº† BrowserRouter å’Œ HashRouter ä¸¤ä¸ªç»„ä»¶ã€‚ BrowserRouter ä½¿ç”¨ HTML5 çš„ history API(pushStateã€replaceState ç­‰)å®ç°UI å’Œ URL çš„åŒæ­¥ HashRouter ä½¿ç”¨ URL çš„ hash å®ç°åº”ç”¨çš„ UI å’Œ URL åŒæ­¥ React Hooks useState 123456789101112131415161718192021222324252627282930313233343536//ç”¨æ³•ï¼š//useStateå”¯ä¸€çš„å‚æ•°å°±æ˜¯åˆå§‹state//è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œç¬¬ä¸€é¡¹stateï¼Œç¬¬äºŒé¡¹æ›´æ–°stateçš„å‡½æ•°const [number, setNumber] = useState(0);//å‡½æ•°å¼æ›´æ–°//å¦‚æœæ–°çš„stateéœ€è¦é€šè¿‡ä½¿ç”¨ä»¥å‰çš„stateè®¡ç®—å¾—å‡ºï¼Œå¯ä»¥å°†å‡½æ•°ä¼ é€’ç»™setStateã€‚//ä¾‹å¦‚ï¼šsetCount((count) =&gt; { return count + 1})//æƒ°æ€§åˆå§‹åŒ–stateï¼Œå¯¹å¤æ‚åˆå§‹æ•°æ®ï¼ŒinitialStateå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°//å‡½æ•°æˆ–initialStateå‚æ•°åªä¼šåœ¨ç»„ä»¶çš„åˆå§‹æ¸²æŸ“ä¸­èµ·ä½œç”¨function Counter() { const [{name, number},setValue] = useState(() =&gt; { return {name:'è®¡æ•°å™¨',number:0}; }) return ( &lt;div&gt; &lt;p&gt;{name}:{number}&lt;/p&gt; &lt;button onClick={() =&gt; setValue({number: number + 1})}&gt;+&lt;/button&gt; &lt;/div&gt; )}--------------//å®˜ç½‘ä¾‹å­const [state, setState] = useState(() =&gt; { const initialState = someExpensiveComputation(props); return initialState;})//useStateçš„åˆå§‹å€¼ï¼Œåªåœ¨ç¬¬ä¸€æ¬¡æœ‰æ•ˆ//æŒ‰ç…§æœ‰åºçš„æ–¹å¼ä½¿ç”¨useStateä¸å¾—åœ¨å¾ªç¯åˆ¤æ–­ç­‰æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨//useStateä¸ä¼šè‡ªåŠ¨åˆå¹¶æ›´æ–°å¯¹è±¡ï¼Œéœ€ä½¿ç”¨æ‰©å±•ç¬¦{...obj,name:'lisi'} useEffect 123456789101112131415161718192021//åŸºæœ¬ä½¿ç”¨//useEffectæœ‰ä¸¤ä¸ªå‚æ•°ï¼šfunction(æ‰§è¡Œé¡¹)ï¼Œarray(ä¾èµ–é¡¹)useEffect(() =&gt; {},[name]);//å¦‚æœä¾èµ–é¡¹ä¸ºç©ºæ•°ç»„ï¼Œåªä¼šåœ¨ç¬¬ä¸€æ¬¡æŒ‚è½½åæ‰§è¡Œï¼Œç±»ä¼¼componentDidMountuseEffect(() =&gt; {},[]);//æ¸…é™¤å‰¯ä½œç”¨ï¼Œæ¨¡æ‹ŸcomponentUnMount//é€šè¿‡è¿”å›ä¸€ä¸ªå‡½æ•°æ¥æŒ‡å®šå¦‚ä½•æ¸…é™¤å‰¯ä½œç”¨ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼ï¼Œå‡½æ•°ä¼šåœ¨ç»„ä»¶å¸è½½å‰æ‰§è¡ŒuseEffect(() =&gt; { let timer = setInterVal(() =&gt; { console.log(&quot;å®šæ—¶å™¨&quot;); },1000) return () =&gt; { clearInterval(timer) }},[name])//æ³¨æ„ï¼šå¯ä»¥åœ¨ç»„ä»¶ä¸­å¤šæ¬¡ä½¿ç”¨useEffect//Hook å…è®¸æˆ‘ä»¬æŒ‰ç…§ä»£ç çš„ç”¨é€”åˆ†ç¦»ä»–ä»¬ï¼Œreactå°†æŒ‰ç…§effectå£°æ˜çš„é¡ºåºä¾æ¬¡è°ƒç”¨ç»„ä»¶ä¸­çš„æ¯ä¸€ä¸ªeffect useContext 1234567891011121314//çˆ¶ç»„ä»¶åˆ›å»ºä¸Šä¸‹æ–‡const Context = createContext();//å¹¶å°†æ•°æ®ä¼ é€’ç»™å­ç»„ä»¶const [num, setNum] = useState(0);&lt;Context.Provider value={{num, setNum}}&gt; &lt;Children /&gt;&lt;/Context.Provider&gt;//å­ç»„ä»¶æ¥æ”¶const {num, setNum} = useContext(Context);useEffect(() =&gt; { setNum(num + 1);},[])&lt;p&gt;{num}&lt;/p&gt; useReducer 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061//åŸºç¡€ä½¿ç”¨const initialState = { count: 0 };function reducer(state, action){ switch(action.type) { case 'increment': return {count:state.count + 1}; case 'decrement': return {count:state.count - 1}; default: throw new Error(); }}function MyUseReducer() { const [state, dispatch] = useReducer(reducer, initialState); return ( &lt;&gt; count: {state.count} &lt;button onClick={() =&gt; dispatch({type:'decrement'})}&gt;+&lt;/button&gt; &lt;button onClick={() =&gt; dispatch({type:'increment'})}&gt;+&lt;/button&gt; &lt;/&gt; )}//æƒ°æ€§åˆå§‹åŒ–//ç¨åŠ æ”¹é€ const initialCount = 0;function init(initialCount) { return {count: initialCount};}function reducer(state, action) { switch (action.type) { case 'increment': return {count: state.count + 1}; case 'decrement': return {count: state.count - 1}; case 'reset': return init(action.payload); default: throw new Error(); }}function MyUseReducer() { const [state, dispatch] = useReducer(reducer, initialCount , init); return ( &lt;&gt; Count: {state.count} &lt;button onClick={() =&gt; dispatch({type: 'reset', payload: initialCount})}&gt; Reset &lt;/button&gt; &lt;button onClick={() =&gt; dispatch({type: 'decrement'})}&gt;-&lt;/button&gt; &lt;button onClick={() =&gt; dispatch({type: 'increment'})}&gt;+&lt;/button&gt; &lt;/&gt;ã€‹ã€‹ );} React æ¡†æ¶çš„å…³é”®è®¾è®¡æ€æƒ³ï¼šâ€œç»„ä»¶â€ã€â€œè™šæ‹Ÿ DOMâ€ ç»„ä»¶åŒ–: å·¥ç¨‹åŒ–æ€æƒ³åœ¨æ¡†æ¶ä¸­çš„è½åœ°12â€œå°é—­â€ï¼šåœ¨ç»„ä»¶è‡ªèº«çš„æ¸²æŸ“å·¥ä½œæµä¸­ï¼Œæ¯ä¸ªç»„ä»¶éƒ½åªå¤„ç†å®ƒçš„å†…éƒ¨çš„æ¸²æŸ“é€»è¾‘ã€‚â€œå¼€æ”¾â€ï¼šé’ˆå¯¹ç»„ä»¶é—´é€šä¿¡æ¥è¯´ï¼ŒReactåŸºäºâ€œå•å‘æ•°æ®æµâ€çš„åŸåˆ™å®Œæˆç»„ä»¶é—´çš„é€šä¿¡ã€‚ è™šæ‹Ÿ DOMï¼šæ ¸å¿ƒç®—æ³•çš„åŸºçŸ³ï¼š123ç»„ä»¶åˆå§‹åŒ–-&gt;renderæ–¹æ³•-&gt;ç”Ÿæˆè™šæ‹ŸDOM-&gt;ReactDOM.renderæ–¹æ³•-&gt;ç”ŸæˆçœŸå®DOMç»„ä»¶æ›´æ–°-&gt;renderæ–¹æ³•-&gt;ç”Ÿæˆæ–°çš„è™šæ‹ŸDOM-&gt;diffç®—æ³•-&gt;å®šä½ä¸¤æ¬¡è™šæ‹ŸDOMçš„å·®å¼‚-&gt;æ‰¹é‡æ›´æ–° componentWillReceiveProps(nextProps)1å¦‚æœçˆ¶ç»„ä»¶å¯¼è‡´å­ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œå³ä½¿propsæ²¡æœ‰æ›´æ”¹ï¼Œä¹Ÿä¼šè°ƒç”¨æ­¤æ–¹æ³•ï¼Œå¦‚æœåªæƒ³å¤„ç†æ›´æ”¹ï¼Œè¯·ç¡®ä¿å½“å‰å€¼å’Œå˜æ›´å€¼çš„æ¯”è¾ƒã€‚---Reactå®˜æ–¹ shouldComponentUpdate1Reactç»„ä»¶ä¼šæ ¹æ®shouldComponentUpdateçš„è¿”å›å€¼æ¥å†³å®šæ˜¯å¦æ‰§è¡Œåé¢çš„ç”Ÿå‘½å‘¨æœŸè¿›è€Œå†³å®šæ˜¯å¦å¯¹ç»„ä»¶è¿›è¡Œre-render(é‡æ¸²æŸ“) getDerivedStateFromProps(æ–°å¢)ä¸æ˜¯ componentWillMount(åºŸå¼ƒ)çš„æ›¿ä»£å“12345678910111213getDerivedStateFromPropsæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªç”¨é€”ï¼šä½¿ç”¨propsæ¥æ´¾ç”Ÿ/æ›´æ–°statestatic getDerivedStateFromProps(props, state)1.é™æ€æ–¹æ³•ï¼Œè®¿é—®ä¸åˆ°this2.å‚æ•° props(çˆ¶ç»„ä»¶)å’Œstate(è‡ªèº«)3.å¯¹è±¡æ ¼å¼çš„è¿”å›å€¼ï¼Œç”¨æ¥æ›´æ–°è‡ªèº«stateï¼ˆæ›´æ–°å¹¶éè¦†ç›–å¼ï¼Œè€Œæ˜¯æ›¿æ¢å¼æ›´æ–°ï¼‰4.æŒ‚è½½å’Œæ›´æ–°éƒ½ä¼šè§¦å‘æ­¤é’©å­å…¶ä»–ï¼šgetDerivedStateFromPropsæ˜¯ä½œä¸ºä¸€ä¸ªè¯•å›¾ä»£æ›¿componentWillReceivePropsçš„APIå‡ºç°çš„ã€‚getDerivedStateFromPropsä¸èƒ½å®Œå…¨å’ŒcomponentWillReceivePropsç”»ç­‰å·åŸå› ï¼šgetDerivedStateFromPropsä»…å¯ä»¥ä»£æ›¿componentWillReceivePropsæ¥å®ç°åŸºäºpropsæ´¾ç”Ÿstateï¼ŒåŸåˆ™æ¥è¯´èƒ½ä¸”åªèƒ½åšè¿™ä¸€ä»¶äº‹ã€‚ getSnapshotBeforeUpdate(æ–°å¢)ä¸ componentWillUpdate(åºŸå¼ƒ)123getSnapshotBeforeUpdate(prevProps, prevState){}1. æ‰§è¡Œæ—¶æœºåœ¨renderæ–¹æ³•ä¹‹åï¼ŒçœŸå®DOMæ›´æ–°ä¹‹å‰2.è¿”å›å€¼ä¼šä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°ä¼ é€’ç»™componentDidUpdate Fiber æ¶æ„ï¼ˆæ ¸å¿ƒï¼šå¯ä¸­æ–­ã€å¯æ¢å¤ã€ä¼˜å…ˆçº§ï¼‰123456789101112131415161.Fiberæ˜¯React16å¯¹Reactæ ¸å¿ƒç®—æ³•çš„ä¸€æ¬¡é‡å†™2.Fiberä¼šä½¿åŸæœ¬åŒæ­¥çš„æ¸²æŸ“è¿‡ç¨‹å˜æˆå¼‚æ­¥çš„3.Fiberä¼šå°†ä¸€ä¸ªå¤§çš„æ›´æ–°ä»»åŠ¡æ‹†è§£ä¸ºè®¸å¤šä¸ªå°ä»»åŠ¡(å·¥ä½œå•å…ƒ)ï¼Œè¿™äº›å·¥ä½œå•å…ƒæœ‰ç€ä¸åŒçš„ä¼˜å…ˆçº§ï¼Œreactå¯ä»¥æ ¹æ®ä¼˜å…ˆçº§çš„é«˜ä½å»å®ç°å·¥ä½œå•å…ƒçš„æ‰“æ–­å’Œæ¢å¤Fiberæ¶æ„çš„é‡è¦ç‰¹å¾å°±æ˜¯å¯ä»¥è¢«æ‰“æ–­çš„å¼‚æ­¥æ¸²æŸ“æ¨¡å¼ï¼Œæ ¹æ®èƒ½å¦è¢«æ‰“æ–­è¿™ä¸€æ ‡å‡†ï¼ŒReact16çš„ç”Ÿå‘½å‘¨æœŸè¢«åˆ’åˆ†ä¸ºrenderå’Œcommitä¸¤ä¸ªé˜¶æ®µrenderé˜¶æ®µåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å…è®¸è¢«æ‰“æ–­ï¼ˆå› ä¸ºæ­¤é˜¶æ®µç”¨æˆ·ä¸å¯è§ï¼Œæ‰“æ–­ä¹Ÿæ— å½±å“ï¼‰commité˜¶æ®µæ€»æ˜¯åŒæ­¥æ‰§è¡Œï¼ˆæ¶‰åŠåˆ°åŒæ­¥æ¸²æŸ“ï¼Œä¼šå½±å“ç”¨æˆ·ç›´è§‚ä½“éªŒï¼‰renderé˜¶æ®µæ˜¯å…è®¸æš‚åœã€ç»ˆæ­¢å’Œé‡å¯çš„ï¼Œè¿™å°±å¯¼è‡´renderé˜¶æ®µçš„ç”Ÿå‘½å‘¨æœŸéƒ½æ˜¯æœ‰å¯èƒ½è¢«é‡å¤æ‰§è¡Œï¼Œæ‰€ä»¥è¦åºŸå¼ƒå¤„äºrenderé˜¶æ®µçš„ä¸€äº›ç”Ÿå‘½å‘¨æœŸï¼šcomponentWillMountã€componenntUpdateã€componentWillReceivePropsã€shouldComponentUpdate(ä¸€èˆ¬ä¸ä¼šåœ¨è¿™ä¸ªç”Ÿå‘½å‘¨æœŸä¸­è¿›è¡Œå‰¯ä½œç”¨æ“ä½œï¼Œæ‰€ä»¥ç›¸å¯¹é£é™©ä¸å¤§ï¼Œæ²¡æœ‰è¢«åºŸå¼ƒ)æ¯ä¸ªæ›´æ–°ä»»åŠ¡éƒ½ä¼šè¢«èµ‹äºˆä¸€ä¸ªä¼˜å…ˆçº§è‹¥Bä»»åŠ¡çš„ä¼˜å…ˆçº§é«˜äºå½“å‰ä»»åŠ¡Aï¼Œé‚£ä¹ˆå½“å‰å¤„äºReconcilerå±‚çš„Aä»»åŠ¡å°±ä¼šè¢«ä¸­æ–­ï¼Œå½“Bä»»åŠ¡å®Œæˆåï¼ŒAä»»åŠ¡å°±ä¼šè¢«é‡æ–°æ¨å…¥Reconcilerå±‚ï¼Œç»§ç»­å®ƒçš„æ¸²æŸ“ï¼Œè¿™ä¾¿æ˜¯æ‰€è°“çš„â€œå¯æ¢å¤â€Fiberæ¶æ„å¯¹ç”Ÿå‘½å‘¨æœŸçš„å½±å“react15: renderå¼€å§‹-&gt;åœä¸ä¸‹æ¥çš„é€’å½’è®¡ç®—(åŒæ­¥)-&gt;commitæäº¤æ¸²æŸ“react16: renderå¼€å§‹-&gt;å·¥ä½œå•å…ƒï½œå·¥ä½œå•å…ƒï½œå·¥ä½œå•å…ƒ...(å¼‚æ­¥)-&gt;commitæäº¤æ¸²æŸ“ ç»„ä»¶é—´é€šä¿¡12UI = render(data) æˆ– UI = f(data)Reactçš„è§†å›¾ä¼šéšç€æ•°æ®çš„å˜åŒ–è€Œå˜åŒ– React-Hooks çš„ä½¿ç”¨åŸåˆ™12345671.åªåœ¨Reactå‡½æ•°ä¸­è°ƒç”¨Hook2.ä¸è¦åœ¨å¾ªç¯ã€æ¡ä»¶å’ŒåµŒå¥—å‡½æ•°ä¸­è°ƒç”¨Hook(è¦ç¡®ä¿hooksåœ¨æ¯æ¬¡æ¸²æŸ“æ—¶éƒ½ä¿æŒåŒæ ·çš„æ‰§è¡Œé¡ºåº)ä»æºç è°ƒç”¨æµç¨‹çœ‹åŸç†ï¼šHooksçš„æ­£å¸¸è¿ä½œï¼Œåœ¨åº•å±‚ä¾èµ–äºé¡ºåºé“¾è¡¨ã€‚mountStateé¦–æ¬¡æ¸²æŸ“æ„å»ºé“¾è¡¨å¹¶æ¸²æŸ“ï¼ŒupdateStateä¾æ¬¡éå†é“¾è¡¨å¹¶æ¸²æŸ“hooksçš„æ¸²æŸ“å°±æ˜¯é€šè¿‡ä¾æ¬¡éå†æ¥å®šä½æ¯ä¸ªhooksçš„å†…å®¹ï¼Œå¦‚æœå‰åä¸¤æ¬¡è¯»åˆ°çš„é“¾è¡¨åœ¨é¡ºåºä¸Šå‡ºç°å·®å¼‚ï¼Œé‚£ä¹ˆæ¸²æŸ“çš„ç»“æœè‡ªç„¶å°±æ˜¯ä¸å¯æ§çš„ è™šæ‹Ÿ DOM1è™šæ‹ŸDOMæœ¬è´¨ä¸Šæ˜¯JSå’ŒDOMä¹‹é—´çš„ä¸€ä¸ªæ˜ å°„ç¼“å­˜ï¼Œåœ¨å½¢æ€ä¸Šè¡¨ç°ä¸ºä¸€ä¸ªèƒ½å¤Ÿæè¿°DOMç»“æ„åŠå…¶å±æ€§ä¿¡æ¯çš„JSå¯¹è±¡ã€‚ Diff é€»è¾‘çš„æ‹†åˆ†ä¸è§£è¯»1231.Diffç®—æ³•æ€§èƒ½çªç ´çš„å…³é”®ç‚¹åœ¨äº åˆ†å±‚å¯¹æ¯”2.ç±»å‹ä¸€è‡´çš„èŠ‚ç‚¹æ‰æœ‰ç»§ç»­Diffçš„å¿…è¦æ€§3.keyå±æ€§çš„è®¾ç½®ï¼Œå¯ä»¥å¸®æˆ‘ä»¬å°½å¯èƒ½é‡ç”¨åŒä¸€å±‚çº§å†…çš„èŠ‚ç‚¹ setState å¼‚æ­¥1234567setState-&gt;shouldComponentUpdate-&gt;componentWillUpdate-&gt;render-&gt;componentDidUpdateæ‰¹é‡æ›´æ–°ï¼šæ¯æ¥ä¸€ä¸ªsetStateï¼Œå°±æŠŠå®ƒå¡è¿›ä¸€ä¸ªé˜Ÿåˆ—é‡Œé¢å­˜èµ·æ¥ï¼Œç­‰æ—¶æœºæˆç†Ÿï¼Œå†æŠŠå­˜èµ·æ¥çš„stateç»“æœåšåˆå¹¶ï¼Œæœ€ååªé’ˆå¯¹æœ€åä¸€æ¬¡æœ€æ–°çš„stateå€¼èµ°ä¸€æ¬¡æ›´æ–°æµç¨‹setStateçš„è¡¨ç°ä¼šå› ä¸ºè°ƒç”¨çš„åœºæ™¯ä¸åŒè€Œä¸åŒï¼š1.åœ¨Reacté’©å­å‡½æ•°åŠåˆæˆäº‹ä»¶ä¸­ï¼Œè¡¨ç°ä¸ºå¼‚æ­¥2.åœ¨setTimeoutã€setIntervalç­‰å‡½æ•°ä¸­ï¼ŒåŒ…æ‹¬DOMåŸç”Ÿäº‹ä»¶ä¸­ï¼Œè¡¨ç°ä¸ºåŒæ­¥ã€‚ ReactDOM.render è°ƒç”¨æ ˆçš„é€»è¾‘åˆ†å±‚1å¾…è¡¥å…… React äº‹ä»¶ç³»ç»Ÿ123å½“äº‹ä»¶åœ¨å…·ä½“çš„DOMèŠ‚ç‚¹ä¸Šè¢«è§¦å‘åï¼Œæœ€ç»ˆéƒ½ä¼šå†’æ³¡åˆ°documentä¸Šï¼Œdocumentä¸Šæ‰€ç»‘å®šçš„ç»Ÿä¸€äº‹ä»¶å¤„ç†ç¨‹åºä¼šå°†äº‹ä»¶åˆ†å‘åˆ°å…·ä½“çš„ç»„ä»¶å®ä¾‹reactåˆæˆäº‹ä»¶ï¼šåœ¨åº•å±‚æŠ¹å¹³äº†ä¸åŒæµè§ˆå™¨çš„å·®å¼‚ï¼Œåœ¨ä¸Šå±‚é¢å‘å¼€å‘è€…æš´æ¼ç»Ÿä¸€çš„ã€ç¨³å®šçš„ã€ä¸DOMåŸç”Ÿäº‹ä»¶ç›¸åŒçš„äº‹ä»¶æ¥å£ï¼ˆåŸç”ŸDOMäº‹ä»¶å¯ä»¥é€šè¿‡e.nativeEventæŸ¥çœ‹ï¼‰","link":"/2021/10/05/react%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA%E7%9F%A5%E8%AF%86%E9%93%BE%E8%B7%AF/"},{"title":"Node.jsä¹‹ç‰¹æ€§","text":"Node.js æ˜¯ä»€ä¹ˆ? Node.js æ˜¯ä¸€ä¸ª JavaScript è¿è¡Œæ—¶ç¯å¢ƒï¼Œå¯ä»¥è§£æå’Œæ‰§è¡Œ js ä»£ç ã€‚ æ„å»ºäº Chrome çš„ V8 å¼•æ“ä¹‹ä¸Š æ²¡æœ‰ BOMã€DOMï¼Œæœ‰ EcmaScript è¯­æ³•ã€‚ node ä¸­æœ‰å¾ˆå¤šå…·åçš„æ ¸å¿ƒæ¨¡å— fs æ–‡ä»¶æ“ä½œæ¨¡å— http æœåŠ¡å™¨æ„å»ºæ¨¡å— path è·¯å¾„æ¨¡å— os æ“ä½œç³»ç»Ÿä¿¡æ¯æ¨¡å— åœ¨æ ¸å¿ƒæ¨¡å—ä¸­æä¾›äº†ä¸€äº›æœåŠ¡å™¨çº§åˆ«çš„æ“ä½œ API - æ–‡ä»¶è¯»å†™ - ç½‘ç»œæœåŠ¡çš„æ„å»º - ç½‘ç»œé€šä¿¡ - http æœåŠ¡å™¨ node éƒ½æœ‰å“ªäº›ç‰¹æ€§ï¼Ÿ å•çº¿ç¨‹ ä¸ä¼šä¸ºæ¯ä¸ªç”¨æˆ·è¿æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼Œä»…ä»…ä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹ï¼Œå‡å°‘äº†æ“ä½œç³»ç»Ÿçš„çº¿ç¨‹åˆ›å»ºå’Œé”€æ¯çš„æ—¶é—´å¼€é”€ã€‚ç¼ºç‚¹å°±æ˜¯ä¸€ä¸ªç”¨æˆ·é€ æˆçº¿ç¨‹çš„å´©æºƒä¼šå¯¼è‡´æ•´ä¸ªæœåŠ¡çš„å´©æºƒã€‚ å‡å°‘å†…å­˜çš„å¼€é”€ äº‹ä»¶é©±åŠ¨ event-driven node ä¸­ä¸€ä¸ªæ—¶åˆ»åªèƒ½æ‰§è¡Œä¸€ä¸ªäº‹ä»¶å›è°ƒå‡½æ•°ï¼Œä½†æ˜¯æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯ä»¥è½¬è€Œå¤„ç†å…¶ä»–äº‹ä»¶ï¼Œç„¶åè¿”å›ç»§ç»­æ‰§è¡ŒåŸäº‹ä»¶çš„å›è°ƒå‡½æ•°ï¼Œè¿™ç§å¤„ç†æœºåˆ¶ï¼Œç§°ä¸ºâ€œäº‹ä»¶ç¯â€æœºåˆ¶ã€‚ éé˜»å¡ I/O I/O æ•°æ®ä¼ è¾“æ“ä½œä¼šé˜»å¡ä»£ç çš„æ‰§è¡Œï¼Œæå¤§é™ä½äº†ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡,å› ä¸ºä¸€ä¸ªçº¿ç¨‹åªèƒ½å¤„ç†ä¸€é¡¹ä»»åŠ¡ï¼Œè¦æƒ³æé«˜ååé‡å¿…é¡»é€šè¿‡å¤šçº¿ç¨‹ã€‚éé˜»å¡ I/O æœºåˆ¶ï¼Œå¯ä»¥å°†å¼‚æ­¥æ“ä½œçš„å¤„ç†ä»£ç æ”¾åœ¨å›è°ƒå‡½æ•°ä¸­ï¼Œä»è€Œæé«˜äº†ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ã€‚ æµè§ˆå™¨çš„è¿›ç¨‹å’Œçº¿ç¨‹ ä¸€ä¸ªç¨‹åºå¯ä»¥æœ‰å¤šä¸ªè¿›ç¨‹ ä¸€ä¸ªè¿›ç¨‹å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹ è¿›ç¨‹åœ¨æ‰§è¡Œ u æ¬§åŸä¸­æ‹¥æœ‰ç‹¬ç«‹çš„å†…å­˜å•å…ƒï¼Œè€Œå¤šä¸ªçº¿ç¨‹å…±äº«å†…å­˜ã€‚ å¤šä¸ªçº¿ç¨‹ä¹‹é—´å¯ä»¥ç›¸äº’é€šä¿¡ æ¯ä¸ªç‹¬ç«‹çš„çº¿ç¨‹æœ‰ä¸€ä¸ªç¨‹åºè¿è¡Œçš„å…¥å£ã€é¡ºåºæ‰§è¡Œåºåˆ—å’Œç¨‹åºçš„å‡ºå£ çº¿ç¨‹ä¸èƒ½ç‹¬ç«‹æ‰§è¡Œï¼Œå¿…é¡»ä¾å­˜åœ¨åº”ç”¨ç¨‹åºä¸­ Node.js é€‚åˆå¼€å‘ä»€ä¹ˆï¼Ÿ å–„äº I/O,ä¸å–„äºè®¡ç®—ï¼Œå› ä¸º Node.js æœ€æ“…é•¿çš„å°±æ˜¯ä»»åŠ¡è°ƒåº¦ï¼Œä¸é€‚åˆäºåˆ©ç”¨ CPU è¿›è¡Œè¿‡å¤šçš„è¿ç®—çš„ç¨‹åºã€‚ å½“åº”ç”¨ç¨‹åºéœ€è¦å¤„ç†å¤§é‡å¹¶å‘çš„ I/O,è€Œåœ¨å‘å®¢æˆ·ç«¯å‘å‡ºå“åº”ä¹‹å‰ï¼Œåº”ç”¨ç¨‹åºå†…éƒ¨ä¸éœ€è¦è¿›è¡Œéå¸¸å¤æ‚å¤„ç†çš„æ—¶å€™ï¼ŒNode.js éå¸¸åˆé€‚ã€‚ Node.js ä¹Ÿéå¸¸é€‚åˆä¸ web socket é…åˆï¼Œå¼€å‘é•¿è¿æ¥çš„å®æ—¶äº¤äº’åº”ç”¨ç¨‹åºã€‚ ç”¨æˆ·è¡¨å• è€ƒè¯•ç³»ç»Ÿ èŠå¤©å®¤ å›¾æ–‡ç›´æ’­ nodejs èƒ½åšä»€ä¹ˆï¼Ÿ Node.js å¯ä»¥ç”ŸæˆåŠ¨æ€é¡µé¢å†…å®¹ Node.js å¯ä»¥åˆ›å»ºï¼Œæ‰“å¼€ï¼Œè¯»å–ï¼Œå†™å…¥ï¼Œåˆ é™¤å’Œå…³é—­æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶ Node.js å¯ä»¥æ”¶é›†è¡¨å•æ•°æ® Node.js å¯ä»¥æ·»åŠ ï¼Œåˆ é™¤ï¼Œä¿®æ”¹æ•°æ®åº“ä¸­çš„æ•°æ® æœåŠ¡ç«¯æ¸²æŸ“å’Œå®¢æˆ·ç«¯æ¸²æŸ“çš„åŒºåˆ« å®¢æˆ·ç«¯æ¸²æŸ“ä¸åˆ©äº SEO æœç´¢å¼•æ“ä¼˜åŒ– æœåŠ¡å™¨æ¸²æŸ“å¯ä»¥è¢«çˆ¬è™«æŠ“å– ä¾‹å¦‚ï¼šäº¬ä¸œå•†å“åˆ—è¡¨æ˜¯æœåŠ¡ç«¯æ¸²æŸ“ï¼Œç”¨æˆ·è¯„è®ºæ˜¯å®¢æˆ·ç«¯æ¸²æŸ“ï¼ˆæé«˜ç”¨æˆ·ä½“éªŒï¼‰ å°è¡¥å……ï¼šä½¿ç”¨ cnpm æ–¹æ³•ä¸€ å®‰è£… cnpm npm install --global cnpm æ–¹æ³•äºŒ æ”¹å˜ registry npm install jquery --registry=https://registry.npm.taobao.org æ–¹æ³•ä¸‰ åŠ å…¥é…ç½®é€‰é¡¹ npm config set registry https://registry.npm.taobao.org npm config list ç”¨ nodejs å®ç°è¯»å–æ–‡ä»¶æ“ä½œ const fs = require(&quot;fs&quot;) //fs æ ¸å¿ƒæ¨¡å—æä¾›äº†ä¸€ä¸ªfs.readFileæ–¹æ³•ï¼Œç”¨æ¥è¯»å–æŒ‡å®šç›®å½•ä¸‹çš„æ–‡ä»¶ //fs.readFileæœ‰ä¸‰ä¸ªå‚æ•° // 1. è¯»å–æ–‡ä»¶çš„è·¯å¾„ // 2. è¯»å–æ–‡ä»¶çš„ç¼–ç æ ¼å¼ // 3. å½“æ–‡ä»¶è¯»å–å®Œæˆï¼Œè°ƒç”¨è¿™ä¸ªcallbackå›è°ƒå‡½æ•°æ¥è¯»å–æ–‡ä»¶çš„ç»“æœ fs.readFile('./data/hello.txt','utf-8',function(err,data){ if(err){ console.log(err) //ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯errå¯¹è±¡ return } else { console.log(data) //ç¬¬äºŒä¸ªå‚æ•°æ‰æ˜¯dataæ•°æ® } }) ç”¨ nodejs å®ç°å†™å…¥æ–‡ä»¶æ“ä½œconst fs = require('fs') let msg = 'hello world' //fs.writeFileæœ‰ä¸‰ä¸ªå‚æ•° // 1. ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå†™å…¥çš„æ–‡ä»¶è·¯å¾„ // 2. ç¬¬äºŒä¸ªå‚æ•°ä¸ºå†™å…¥çš„å†…å®¹ // 3. ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºå¯é€‰å‚æ•°ï¼Œè¡¨ç¤ºå†™æ–‡ä»¶çš„ç¼–ç æ ¼å¼ // 4. ç¬¬å››ä¸ªå‚æ•°ä¸ºå›è°ƒå‡½æ•°ï¼Œå›è°ƒå‡½æ•°åªæœ‰ä¸€ä¸ªå‚æ•°errï¼Œåˆ¤æ–­æ˜¯å¦å†™å…¥æˆåŠŸã€‚ fs.writeFile('./data/hello.txt',msg,'utf-8',function(err){ if(err){ console.log('å†™å…¥é”™è¯¯' + err) } else { console.log('ok') } })","link":"/2019/08/29/node.js%E4%B9%8B%E7%89%B9%E6%80%A7/"},{"title":"Node.jsä¹‹mongoDB","text":"å¼€å¯ MongoDB æœåŠ¡å™¨ 1mongod è¿æ¥ MongoDB æœåŠ¡å™¨1mongo é€€å‡º MongoDB æœåŠ¡å™¨1exit åŸºæœ¬å‘½ä»¤ show dbs æŸ¥çœ‹æ˜¾ç¤ºæ‰€æœ‰æ•°æ®åº“ db äº§çœ‹å½“å‰æ“ä½œçš„æ•°æ®åº“ use æ•°æ®åº“åç§° åˆ‡æ¢åˆ°æŒ‡å®šçš„æ•°æ®åº“ï¼ˆæ²¡æœ‰ä¼šæ–°å»ºï¼‰ show collections æ˜¾ç¤ºé›†åˆ db.cats.find() æŸ¥çœ‹å¹¶æ˜¾ç¤ºå†…å®¹ node ä¸­ä½¿ç”¨ mongodb ä½¿ç”¨ç¬¬ä¸‰æ–¹ mongoose æ¥æ“ä½œ MongoDB æ•°æ®åº“ mongoose å®‰è£…npm install mongoose 123456789101112131415//å¼•å…¥åŒ…const mongoose = require('mongoose');//è¿æ¥æ•°æ®åº“ï¼ˆæ•°æ®åº“ä¸éœ€è¦å­˜åœ¨ï¼Œåœ¨æ’å…¥ç¬¬ä¸€æ¡è¯­å¥ï¼Œå°±ä¼šè‡ªåŠ¨åˆ›å»ºï¼‰mongoose.connect('mongodb://localhost:27017/test', {useNewUrlParser: true});//è®¾è®¡æ•°æ®åº“é›†åˆç»“æ„//åˆ›å»ºä¸€ä¸ªCatè¡¨const Cat = mongoose.model('Cat', { name: String });//å®ä¾‹åŒ–ä¸€ä¸ªCatï¼Œå®ä¾‹å¯¹è±¡ä¸ºkittyconst kitty = new Cat({ name: 'Zildjian' });//æŒä¹…åŒ–ä¿å­˜kittyå®ä¾‹kitty.save().then(() =&gt; console.log('meow')); mongoose çš„åŸºæœ¬ä½¿ç”¨ ç”Ÿæˆæ¨¡å‹æ„é€ å‡½æ•° 1234567891011121314151617181920212223242526272829303132333435var mongoose = require('mongoose');var Schema = mongoose.Schema;//è®¾è®¡é›†åˆç»“æ„ï¼ˆè¡¨ç»“æ„ï¼‰schema---&gt;æè¦ï¼Œçº²è¦//å­—æ®µåç§°å°±æ˜¯è¡¨ç»“æ„ä¸­çš„å±æ€§åç§°//å€¼ç±»å‹//çº¦æŸçš„ç›®çš„ï¼šä¸ºäº†ä¿è¯æ•°çš„å®Œæ•´æ€§var blogSchema = new Schema({ title: String, author: String, body: String, username: { type: String, required: true }, password: { typte: String, required: true } comments: [{ body: String, date: Date }], date: { type: Date, default: Date.now }, hidden: Boolean, meta: { votes: Number, favs: Number }});//å°†æ–‡æ¡£ç»“æ„å‘å¸ƒä¸ºæ¨¡å‹// å‚æ•°ä¸€ï¼šå¤§å†™å•æ•°è¡¨ç¤ºæ•°æ®åº“åç§°// mongooseä¼šè‡ªåŠ¨å°†å¤§å†™å•æ•°æ”¹ä¸ºå°å†™å¤æ•°// å‚æ•°äºŒï¼š æ¶æ„ Schema// è¿”å›å€¼ï¼š æ¨¡å‹æ„é€ å‡½æ•°var User = mongoose.model('User', blogSchema)// module.exports = mongoose.model('Student', blogSchema) åŸºäºæ¨¡å‹æ„é€ å‡½æ•° ç”Ÿæˆæ·»åŠ ä¸€æ¡æ•°æ® 123456789101112var admin = new User({ username: 'admin', password: '1245435', ....})admin.save(function(err, ret){ if(err){ console.log('ä¿å­˜å¤±è´¥') } else { console.log('ä¿å­˜æˆåŠŸ') }}) åŸºäºæ¨¡å‹æ„é€ å‡½æ•° æŸ¥è¯¢æ•°æ® 12345678910111213141516171819202122232425262728293031323334353637//æŸ¥è¯¢æ‰€æœ‰æ•°æ®User.find(function(err, ret){ if(err){ console.log('æŸ¥è¯¢å¤±è´¥') } else { console.log(ret) }})//promise æŸ¥è¯¢æ‰€æœ‰User.find() .then(function(data){ console.log(data) })//æŒ‰æ¡ä»¶æŸ¥è¯¢ User.find({ username: 'xx' }, function(err, ret){ if(err){ console.log('æŸ¥è¯¢å¤±è´¥') } else { console.log(ret) }})//æŸ¥æ‰¾ç¬¦åˆæ¡ä»¶çš„ç¬¬ä¸€ä¸ªï¼ˆå¯ä»¥å†™å¤šä¸ªæ¡ä»¶ï¼‰,æ²¡æœ‰æ¡ä»¶çš„è¯ï¼Œä¸ºç¬¬ä¸€æ¡æ•°æ® User.findOne({ username: 'xx' }, function(err, ret){ if(err){ console.log('æŸ¥è¯¢å¤±è´¥') } else { console.log(ret) }}) åŸºäºæ¨¡å‹æ„é€ å‡½æ•° æŒ‰æ¡ä»¶æ›´æ–°æ•°æ® 1234567891011//Model.update(conditions, doc, [options], [callback])//Model.findOneAndUpdate([conditions], [update], [options], [callback])User.findByIdAndUpdate('5a7d8f2sd78ag6g',{ username: 'zs'}, function(err, ret){ if(err){ console.log('æ›´æ–°å¤±è´¥') else { console.log('æ›´æ–°æˆåŠŸ') }}) åŸºäºæ¨¡å‹æ„é€ å‡½æ•° åˆ é™¤æ•°æ® 123456789User.remove({ username: 'zs'}, function(err, ret){ if(err){ console.log('æŸ¥è¯¢å¤±è´¥') else { console.log(ret) }}) è¡¥å……ï¼ˆnode ä½¿ç”¨ mysqlï¼‰123456789101112131415161718192021222324252627//å¼•åŒ…var mysql = require('mysql');//åˆ›å»ºè¿æ¥var connection = mysql.createConnection({ host : 'localhost', user : 'me', password : 'secret', database : 'my_db'}); //è¿æ¥æ•°æ®åº“connection.connect(); //æ‰§è¡Œæ•°æ®æ“ä½œ,å¯ä»¥ç›´æ¥ä½¿ç”¨ SQL è¯­å¥ //æŸ¥æ‰¾connection.query('SELECT * FROM `users`', function (error, results, fields) { if (error) throw error; console.log('The solution is: ', results[0].solution);});//æ·»åŠ  connection.query('INSERT INTO users VALUES(NULL, &quot;admin&quot;:&quot;123&quot;)', function (error, results, fields) { if (error) throw error; console.log('The solution is: ', results[0].solution); }); //å…³é—­æ•°æ®åº“connection.end();","link":"/2019/09/09/mongodb%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA/"},{"title":"jQueryå­¦ä¹ ","text":"jQuery å­¦ä¹  å…¥å£å‡½æ•° jQuery å…¥å£å‡½æ•° 1234567$(document).ready(function(){ //æ‰§è¡Œä»£ç })æˆ–è€…ï¼ˆç®€å†™ï¼‰$(function(){ //æ‰§è¡Œä»£ç }) javascript å…¥å£å‡½æ•° 123window.onload = function(){ //æ‰§è¡Œä»£ç } jQuery çš„å…¥å£å‡½æ•°æ˜¯åœ¨ html çš„æ‰€æœ‰æ ‡ç­¾ DOM éƒ½åŠ è½½ä¹‹åï¼Œå°±ä¼šæ‰§è¡ŒåŒ…è£¹çš„ä»£ç ï¼Œå¯ä»¥æ‰§è¡Œå¤šæ¬¡ï¼Œå¹¶ä¸”ä¸ä¼šè¦†ç›–ä¸Šæ¬¡ã€‚ javascript çš„ window.onload äº‹ä»¶æ˜¯ç­‰åˆ°æ‰€æœ‰å†…å®¹ï¼ŒåŒ…æ‹¬å¤–éƒ¨å›¾ç‰‡ä¹‹ç±»çš„æ–‡ä»¶åŠ è½½å®Œæˆåï¼Œæ‰ä¼šæ‰§è¡Œï¼Œåªèƒ½æ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœç¬¬äºŒæ¬¡ä¼šæŠŠç¬¬ä¸€æ¬¡çš„æ‰§è¡Œè¦†ç›–ã€‚ jQuery é€‰æ‹©å™¨ å…ƒç´ é€‰æ‹©å™¨ 1$(&quot;p&quot;) id é€‰æ‹©å™¨ 1$(&quot;#test&quot;) class é€‰æ‹©å™¨ 1$(&quot;.test&quot;) å±æ€§é€‰æ‹©å™¨ 1$(&quot;[href]&quot;) :empty é€‰æ‹©å™¨ 123$(&quot;:empty&quot;)//é€‰æ‹©ç©ºçš„å…ƒç´ ï¼Œæ—¢ä¸ä¸å«å­å…ƒç´ ä¹Ÿä¸åŒ…å«æ–‡æœ¬çš„å…ƒç´ $(&quot;div:empty&quot;) //é€‰æ‹©divä¸­ä¸ºç©ºçš„divå…ƒç´  :parent é€‰æ‹©å™¨ 12$(&quot;td:parent&quot;)//é€‰å–æ‰€æœ‰å¸¦æœ‰å­å…ƒç´ æˆ–æ–‡æœ¬çš„&lt;td&gt;æ ‡ç­¾å…ƒç´  :contains é€‰æ‹©å™¨ 12$(&quot;div:contains('hello')&quot;)//æ‰¾åˆ°divä¸­åŒ…å«æ–‡æœ¬helloçš„æŒ‡å®šå…ƒç´  :has é€‰æ‹©å™¨ 12$(&quot;div:has(p)&quot;)//æ‰¾åˆ°åŒ…å«pæ ‡ç­¾å…ƒç´ çš„div è¡¥å…… 1$(&quot;:button&quot;) //è·å–æ‰€æœ‰typeä¸ºbuttonçš„&lt;input&gt;å…ƒç´ å’Œ&lt;button&gt;å…ƒç´ ï¼Œå»æ‰å†’å·ï¼Œåªèƒ½è·å–&lt;button&gt;å…ƒç´ ã€‚ å¸¸ç”¨ jQuery äº‹ä»¶æ–¹æ³• click() ç‚¹å‡»äº‹ä»¶ 123$(&quot;p&quot;).click(function(){ $(this).hide();}) dblclick() åŒå‡»äº‹ä»¶ 123$(&quot;p&quot;).dblclick(function(){ $(this).hide();}) mouseenter() é¼ æ ‡æŒ‡é’ˆç©¿è¿‡å…ƒç´ æ—¶ 123$(&quot;p&quot;).mouseenter(function(){ alert(&quot;æ‚¨çš„é¼ æ ‡ç§»åˆ°äº†pæ ‡ç­¾å…ƒç´ ä¸Šï¼&quot;)}) mouseleave() é¼ æ ‡æŒ‡é’ˆç¦»å¼€å…ƒç´ æ—¶ 123$(&quot;p&quot;).mouseleave(function(){ alert(&quot;æ‚¨çš„é¼ æ ‡ç¦»å¼€äº†è¯¥pæ ‡ç­¾å…ƒç´ ï¼&quot;)}) mouseup() å½“åœ¨å…ƒç´ ä¸Šæ¾å¼€é¼ æ ‡æ—¶ 123$(&quot;p&quot;).mouseup(()=&gt;{ alert(&quot;é¼ æ ‡åœ¨pæ ‡ç­¾ä¸Šæ¾å¼€ï¼&quot;)}) hover() æ¨¡æ‹Ÿå…‰æ ‡æ‚¬åœäº‹ä»¶ 12345678$(&quot;p&quot;).hover( function(){ alert(&quot;ä½ è¿›å…¥äº†pæ ‡ç­¾ï¼&quot;); }, function(){ alert(&quot;ä½ ç¦»å¼€äº†pæ ‡ç­¾ï¼&quot;); }) focus() å½“å…ƒç´ è·å¾—ç„¦ç‚¹æ—¶ 123$(&quot;input&quot;).focus(function(){ $(this).css(&quot;background-color&quot;,&quot;#ccc&quot;);}) blur() å½“å…ƒç´ å¤±å»ç„¦ç‚¹æ—¶ 123$(&quot;input&quot;).blur(function(){ $(this).css(&quot;background-color&quot;,&quot;#fff&quot;);}) keypress,keydown,keyup 123456789101112131415161718//è·å–æŒ‰é”®ä»£ç æˆ–ASCIIç $(window).keydown(function(event){ //é€šè¿‡event.whichå¯ä»¥æ‹¿åˆ°æŒ‰é”®ä»£ç ï¼Œå¦‚æœæ˜¯keypressäº‹ä»¶ä¸­åˆ™æ‹¿åˆ°ASCIIç ã€‚ console.log(event);})//è·å–äº‹ä»¶å¯¹è±¡$(window).keypress(function(event){ //è·å–äº‹ä»¶å¯¹è±¡ï¼Œé‡Œé¢åŒ…å«å„ç§æœ‰ç”¨çš„ä¿¡æ¯ã€‚ console.log(event); //console.log(event.which);});//keypressäº‹ä»¶è·å–é”®å…¥çš„å­—ç¬¦$(window).keypress(function(event){ //event.whichæ˜¯è·å–ASCIIç ï¼Œå‰é¢çš„å‡½æ•°æ˜¯å°†ASCIIç è½¬æ¢æˆå­—ç¬¦ï¼Œç©ºæ ¼é”®å’ŒEnteré”®è¾“å‡ºå‡ä¸ºç©ºç™½ã€‚ console.log(String.fromCharCode(event.which)); //ä»eventå¯¹è±¡ä¸­keyå±æ€§è·å–å­—ç¬¦ï¼Œä½†æ˜¯Enteré”®çš„keyå€¼ä¸º&quot;Enter&quot;ï¼Œç©ºç™½é”®è¿˜æ˜¯ç©ºç™½&quot; &quot;ã€‚ console.log(event.key);}); off() äº‹ä»¶ç§»é™¤ 12345$(&quot;button&quot;).off() //ç§»é™¤æ‰€æœ‰buttonå…ƒç´ èº«ä¸Šç»‘å®šçš„äº‹ä»¶$(&quot;button&quot;).off(&quot;click&quot;) //ç§»é™¤æ‰€æœ‰çš„clickäº‹ä»¶ï¼Œç§»é™¤æŒ‡å®šç±»å‹$(&quot;button&quot;).off(&quot;click&quot;, test) //ç§»é™¤clickäº‹ä»¶ä¸­çš„testå›è°ƒæ–¹æ³•ï¼Œç§»é™¤æŒ‡å®šç±»å‹çš„äº‹ä»¶ é˜»æ­¢äº‹ä»¶å†’æ³¡ 123456789$(&quot;.son&quot;).click(function(event){ alert(&quot;son&quot;) //return false; event.stopPropagation(); //é˜»æ­¢äº‹ä»¶å†’æ³¡})$(&quot;.father&quot;).click(function(){ alert(&quot;father&quot;)}) é˜»æ­¢é»˜è®¤è¡Œä¸º 12345//aæ ‡ç­¾è·³è½¬ã€submitæäº¤æŒ‰é’®ç­‰$(&quot;a&quot;).click(function(event){ alert(&quot;å¼¹å‡ºæ³¨å†Œæ¡†ï¼&quot;); event.preventDefault();}) trigger()ã€triggerHandler() è‡ªåŠ¨è§¦å‘äº‹ä»¶ 12345678910111213//è§¦å‘ç»‘å®šåˆ°è¢«é€‰å…ƒç´ çš„æ‰€æœ‰äº‹ä»¶$(&quot;.father&quot;).click(function(){ alert(&quot;father&quot;);})$(&quot;.father&quot;).trigger(&quot;click&quot;); //æ–¹æ³•ä¸€:ä¼šè§¦å‘äº‹ä»¶å†’æ³¡$(&quot;.father&quot;).triggerHandler(&quot;click&quot;); //æ–¹æ³•äºŒ:åªè§¦å‘äº‹ä»¶ï¼Œä¸ä¼šè§¦å‘äº‹ä»¶å†’æ³¡-------------------------------$(&quot;input[type='submit']&quot;).click(function(){ alert(&quot;submit&quot;);})$(&quot;input[type='submit']&quot;).trigger(&quot;click&quot;); //æ–¹æ³•ä¸€ï¼šè§¦å‘äº‹ä»¶çš„åŒæ—¶ï¼Œè¿˜ä¼šè§¦å‘é»˜è®¤è¡Œä¸ºã€‚$(&quot;input[type='submit']&quot;).triggerHandler(&quot;click&quot;) //æ–¹æ³•äºŒï¼šåªè§¦å‘äº‹ä»¶ï¼Œä¸è§¦å‘é»˜è®¤è¡Œä¸ºã€‚//æ³¨æ„ï¼šè¿™é‡Œ&lt;a&gt;æ ‡ç­¾æœ‰ç‚¹ç‰¹æ®Šï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•éƒ½ä¸ä¼šè§¦å‘é»˜è®¤è¡Œä¸ºï¼Œå¦‚æœæƒ³ä½¿ç”¨trigger()è§¦å‘&lt;a&gt;æ ‡ç­¾çš„äº‹ä»¶å’Œé»˜è®¤è¡Œä¸ºçš„è¯ï¼Œå¯ä»¥åœ¨&lt;a&gt;æ ‡ç­¾ä¸­æ·»åŠ ä¸€ä¸ª&lt;span&gt;,ä¾‹å¦‚&lt;a href =&quot;#&quot;&gt;&lt;span&gt;ç™¾åº¦&lt;/span&gt;&lt;/a&gt; è¿™ç§å†™æ³•ã€‚ è‡ªå®šä¹‰äº‹ä»¶ 1234567891011121314/** æƒ³è¦è‡ªå®šä¹‰äº‹ä»¶ï¼Œå¿…é¡»æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶* 1.äº‹ä»¶å¿…é¡»æ˜¯é€šè¿‡onç»‘å®šçš„* 2.äº‹ä»¶å¿…é¡»é€šè¿‡triggeræ¥è§¦å‘*/$(&quot;.son&quot;).on(&quot;myClick&quot;,function(){ alert(&quot;son&quot;);})$(&quot;.son&quot;).trigger(&quot;myClick&quot;);or$(&quot;.son&quot;).triggerHandler(&quot;myClick&quot;); äº‹ä»¶å‘½åç©ºé—´ 12345678910111213141516/** æƒ³è¦äº‹ä»¶çš„å‘½åç©ºé—´æœ‰æ•ˆï¼Œå¿…é¡»æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶* 1.äº‹ä»¶é€šè¿‡onæ¥ç»‘å®š(è‡ªå®šä¹‰äº‹ä»¶)* 2.é€šè¿‡trigger()æˆ–è€…triggerHandler()æ¥è§¦å‘*/$(&quot;.son&quot;).on(&quot;eventName.zs&quot;,function(){ alert(&quot;click zhangsan&quot;);})$(&quot;.son&quot;).on(&quot;eventName.ls&quot;,function(){ alert(&quot;click lisi&quot;);})$(&quot;.son&quot;).trigger(&quot;click.zs&quot;);or$(&quot;.son&quot;).triggerHandler(&quot;click.zs&quot;); éšè—å’Œæ˜¾ç¤º hide() éšè— html å…ƒç´  123$(&quot;#hide&quot;).click(function(){ $(&quot;p&quot;).hide();}) show() æ˜¾ç¤º html å…ƒç´  123$(&quot;#show&quot;).click(function(){ $(&quot;p&quot;).show();}) è¯­æ³• 12345678910111213141516$(selector).hide(speed,callback);$(selector).show(speed,callback);//å¯é€‰çš„speedå‚æ•°è¡¨ç¤ºè§„å®šæ˜¾ç¤º/éšè—çš„é€Ÿåº¦(slowã€fastã€æ¯«ç§’)//å¯é€‰çš„callbackå‚æ•°æ˜¯éšè—æˆ–æ˜¾ç¤ºå®Œæˆåæ‰€æ‰§è¡Œçš„å‡½æ•°åç§°$(&quot;.hidebtn&quot;).click(function(){ $(&quot;div&quot;).hide(1000,&quot;linear&quot;,function(){ alert(&quot;Hide() æ–¹æ³•å·²å®Œæˆ!&quot;); });});//ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºè¿‡æ¸¡ä½¿ç”¨å“ªç§ç¼“åŠ¨å‡½æ•°ï¼ŒjQueryè‡ªèº«æä¾›(linearã€swing)//è¡¥å……ï¼šcallbackå‡½æ•°ååé¢åŠ ä¸Šæ‹¬å·ï¼Œä¼šç«‹åˆ»æ‰§è¡Œå‡½æ•°ä½“ï¼Œè€Œä¸æ˜¯ç­‰åˆ°æ˜¾ç¤º/éšè—ä¹‹åæ‰æ‰§è¡Œ,å¦‚add()ä½œä¸ºcallbackå‚æ•°ä¼šç«‹å³æ‰§è¡Œï¼Œè€Œaddä½œä¸ºå‚æ•°åˆ™ä¸ä¼šï¼Œcallbackå‡½æ•°å¯ä»¥æ˜¯åŒ¿åå‡½æ•°ï¼Œ$(selector)é€‰ä¸­çš„å…ƒç´ ä¸ªæ•°ä¸ºnä¸ªï¼Œåˆ™callbackå‡½æ•°ä¼šæ‰§è¡Œnæ¬¡ã€‚ toggle() åˆ‡æ¢ hide()å’Œ show()æ–¹æ³• 123$(&quot;button&quot;).click(function(){ $(&quot;p&quot;).toggle();}) æ·¡å…¥æ·¡å‡º fadeIn() ç”¨äºæ·¡å…¥ä»¥éšè—çš„å…ƒç´  1234567$(&quot;button&quot;).click(function(){ $(&quot;p&quot;).fadeIn(3000);})//è¯­æ³•ï¼š $(selector).fadeIn(speed, callback)// å¯é€‰çš„speedå‚æ•°è§„å®šæ•ˆæœçš„æ—¶é•¿(slowã€fastã€æ¯«ç§’)// å¯é€‰çš„callbackå‚æ•°æ˜¯fadingå®Œæˆåæ‰€æ‰§è¡Œçš„å‡½æ•°åç§° fadeOut() ç”¨äºæ·¡å‡ºå¯è§å…ƒç´  12345678$(&quot;button&quot;).click(function(){ $(&quot;p&quot;).fadeOut(&quot;slow&quot;);})//è¯­æ³•ï¼š $(selector).fadeOut(speed, callback)// å¯é€‰çš„speedå‚æ•°è§„å®šæ•ˆæœçš„æ—¶é•¿(slowã€fastã€æ¯«ç§’)// å¯é€‰çš„callbackå‚æ•°æ˜¯fadingå®Œæˆåæ‰€æ‰§è¡Œçš„å‡½æ•°åç§° fadeToggle() ç”¨äºåœ¨ fadeIn()ä¸ fadeOut()æ–¹æ³•ä¹‹é—´è¿›è¡Œåˆ‡æ¢ 12345678$(&quot;button&quot;).click(function(){ $(&quot;p&quot;).fadeToggle();})//è¯­æ³•ï¼š $(selector).fadeToggle(speed, callback)// å¯é€‰çš„speedå‚æ•°è§„å®šæ•ˆæœçš„æ—¶é•¿(slowã€fastã€æ¯«ç§’)// å¯é€‰çš„callbackå‚æ•°æ˜¯fadingå®Œæˆåæ‰€æ‰§è¡Œçš„å‡½æ•°åç§° fadeTo() å…è®¸æ¸å˜ä¸ºç»™å®šçš„ä¸é€æ˜åº¦ 1234567$(&quot;button&quot;).click(function(){ $(&quot;p&quot;).fadeTo(&quot;slow&quot;, 0.3);})//è¯­æ³•ï¼š$(selector).fadeTo(speed, opacity, callback)//å¿…é¡»çš„speedå‚æ•°è§„å®šæ•ˆæœæ—¶é•¿(slowã€fastã€æ¯«ç§’)//å¿…é¡»çš„opacityè§„å®šä¸é€æ˜åº¦(ä»‹äº0-1ä¹‹é—´) æ»‘åŠ¨æ–¹æ³• slideDown() ç”¨äºå…ƒç´ å‘ä¸‹æ»‘åŠ¨ 1234567$(&quot;button&quot;).click(function(){ $(&quot;p&quot;).slideDown();})//è¯­æ³•ï¼š$(selector).slideDown(speed,callback)//å¯é€‰çš„ speed å‚æ•°è§„å®šæ•ˆæœçš„æ—¶é•¿ã€‚å®ƒå¯ä»¥å–ä»¥ä¸‹å€¼ï¼š&quot;slow&quot;ã€&quot;fast&quot; æˆ–æ¯«ç§’ã€‚//å¯é€‰çš„ callback å‚æ•°æ˜¯æ»‘åŠ¨å®Œæˆåæ‰€æ‰§è¡Œçš„å‡½æ•°åç§°ã€‚ slideUp() ç”¨äºå…ƒç´ å‘ä¸Šæ»‘åŠ¨ 1234567$(&quot;button&quot;).click(function(){ $(&quot;p&quot;).slideUp();})//è¯­æ³•ï¼š$(selector).slideUp(speed,callback)//å¯é€‰çš„ speed å‚æ•°è§„å®šæ•ˆæœçš„æ—¶é•¿ã€‚å®ƒå¯ä»¥å–ä»¥ä¸‹å€¼ï¼š&quot;slow&quot;ã€&quot;fast&quot; æˆ–æ¯«ç§’ã€‚//å¯é€‰çš„ callback å‚æ•°æ˜¯æ»‘åŠ¨å®Œæˆåæ‰€æ‰§è¡Œçš„å‡½æ•°åç§°ã€‚ slideToggle() åœ¨ slideDown()ä¸ slideUp()æ–¹æ³•ä¹‹é—´è¿›è¡Œåˆ‡æ¢ 1234567$(&quot;button&quot;).click(function(){ $(&quot;p&quot;).slideToggle();})//è¯­æ³•ï¼š$(selector).slideToggle(speed,callback)//å¯é€‰çš„ speed å‚æ•°è§„å®šæ•ˆæœçš„æ—¶é•¿ã€‚å®ƒå¯ä»¥å–ä»¥ä¸‹å€¼ï¼š&quot;slow&quot;ã€&quot;fast&quot; æˆ–æ¯«ç§’ã€‚//å¯é€‰çš„ callback å‚æ•°æ˜¯æ»‘åŠ¨å®Œæˆåæ‰€æ‰§è¡Œçš„å‡½æ•°åç§°ã€‚ åŠ¨ç”» animate()æ–¹æ³• 123456789101112131415//é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰htmlå…ƒç´ éƒ½æœ‰ä¸€ä¸ªé™æ€ä½ç½®ï¼Œä¸”æ— æ³•ç§»åŠ¨ã€‚//å…ˆå°†pæ ‡ç­¾å…ƒç´ è®¾ç½®ä¸ºposition:relative/absolute/fixed$(&quot;button&quot;).click(function(){ $(&quot;p&quot;).animate({ left:'250px', opacity:'0.5', height:'400px', width: '400px', paddingLeft:'10px' });});//è¯­æ³•ï¼š $(selector).animate({params},speed,callback)// paramså‚æ•°å¯ä»¥æ“ä½œå‡ ä¹æ‰€æœ‰çš„csså±æ€§ï¼Œä½†åå­—è¦é‡‡ç”¨camelæ ‡è®°æ³• stop() åœæ­¢åŠ¨ç”» 1234567891011 $(&quot;#flip&quot;).click(function(){ $(&quot;#panel&quot;).slideDown(5000); });$(&quot;#stop&quot;).click(function(){ $(&quot;#panel&quot;).stop();});è¯­æ³•: $(selector).stop(stopAll,goToEnd)//å¯é€‰çš„ stopAll å‚æ•°è§„å®šæ˜¯å¦åº”è¯¥æ¸…é™¤åŠ¨ç”»é˜Ÿåˆ—ã€‚é»˜è®¤æ˜¯ falseï¼Œå³ä»…åœ/æ­¢æ´»åŠ¨çš„åŠ¨ç”»ï¼Œå…è®¸ä»»ä½•æ’å…¥é˜Ÿåˆ—çš„åŠ¨ç”»å‘åæ‰§è¡Œã€‚//å¯é€‰çš„ goToEnd å‚æ•°è§„å®šæ˜¯å¦ç«‹å³å®Œæˆå½“å‰åŠ¨ç”»ã€‚é»˜è®¤æ˜¯ falseã€‚ jQuery æ–¹æ³•é“¾æ¥ 123$(&quot;#p1&quot;).css(&quot;color&quot;,&quot;red&quot;) .slideUp(2000) .slideDown(2000); jQuery è·å–å†…å®¹å’Œå±æ€§ è·å–å†…å®¹ text()ã€html()ã€val() text() è®¾ç½®æˆ–è¿”å›æ‰€é€‰å…ƒç´ çš„æ–‡æœ¬å†…å®¹ html() è®¾ç½®æˆ–è¿”å›æ‰€é€‰å…ƒç´ çš„å†…å®¹(åŒ…æ‹¬ html æ ‡è®°) val() è®¾ç½®æˆ–è¿”å›è¡¨å•å­—æ®µçš„å€¼ 1234567891011$(&quot;button&quot;).click(function(){ alert($(&quot;p&quot;).text());})//-----------------------------$(&quot;button&quot;).click(function(){ alert($(&quot;p&quot;).html())})//------------------------------$(&quot;button&quot;).click(function(){ alert($(&quot;input&quot;).val());}); è·å–å±æ€§ attr() 12345//é¡¹ç›®QCåˆšç”¨è¿‡$(&quot;button&quot;).click(function(){ console.log($(&quot;p&quot;).attr(&quot;data-text&quot;));}) è¡¥å……ï¼š 12345prop()å‡½æ•°è¿”å›ç›¸åº”å±æ€§æˆ–ç©ºå­—ç¬¦ä¸²ã€‚attr()å‡½æ•°è¿”å›ç›¸åº”å±æ€§æˆ–undefined1.å¯¹äºHTMLå…ƒç´ æœ¬èº«å°±å¸¦æœ‰çš„å›ºæœ‰å±æ€§ï¼Œåœ¨å¤„ç†æ—¶ä½¿ç”¨propæ–¹æ³•2.å¯¹HTMLå…ƒç´ æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„DOMå±æ€§ï¼Œåœ¨å¤„ç†æ—¶ä½¿ç”¨attræ–¹æ³•3.å…·æœ‰trueå’Œfalseä¸¤ä¸ªå±æ€§çš„å±æ€§ï¼Œå¦‚checkedã€selectedæˆ–è€…disabledä½¿ç”¨prop() è®¾ç½®å†…å®¹å’Œå±æ€§ è®¾ç½®å†…å®¹ text()ã€html()ã€val() 1234567891011$(&quot;button&quot;).click(function(){ alert($(&quot;p&quot;).text(&quot;hello&quot;));})//-----------------------------$(&quot;button&quot;).click(function(){ alert($(&quot;p&quot;).html(&quot;hello&quot;))})//------------------------------$(&quot;button&quot;).click(function(){ alert($(&quot;input&quot;).val(&quot;hello&quot;));}); text()ã€html() ä»¥åŠ val() çš„å›è°ƒå‡½æ•° 123456789$(&quot;button&quot;).click(function(){ $(&quot;p&quot;).text(function(i,orignText){ //i ä¸ºè¢«é€‰å…ƒç´ åˆ—è¡¨ä¸­å½“å‰å…ƒç´ çš„ä¸‹æ ‡ //orignText ä¸ºåŸæ¥çš„å€¼ //return ä¸ºè¿”å›çš„æ–°å€¼ return &quot;hello&quot; })}) è®¾ç½®å±æ€§ attr() 12345678910$(&quot;button&quot;).click(function(){ $(&quot;p&quot;).attr(&quot;data-text&quot;,&quot;hello world&quot;);})// å…è®¸åŒæ—¶è®¾ç½®å¤šä¸ªå±æ€§$(&quot;button&quot;).click(function(){ $(&quot;p&quot;).attr({ &quot;data-text&quot;,&quot;hello world&quot;, &quot;title&quot;,&quot;jQueryå­¦ä¹ ï¼&quot; });}) attr() ä¹Ÿå­˜åœ¨å›è°ƒå‡½æ•°(åŒä¸Š) 12345$(&quot;button&quot;).click(function(){ $(&quot;#runoob&quot;).attr(&quot;href&quot;, function(i,origValue){ return origValue + &quot;/jquery&quot;; });}); åˆ é™¤å±æ€§ removeAttr() 12$(&quot;span&quot;).removeAttr(&quot;class name&quot;);//è¡¨ç¤ºåŒæ—¶åˆ é™¤spanæ ‡ç­¾çš„classå’Œnameå±æ€§ removeProp() 12$(&quot;span&quot;).removeProp(&quot;class&quot;);//è¡¨ç¤ºåˆ é™¤æ‰€æœ‰spanæ ‡ç­¾çš„classå±æ€§ jQuery æ·»åŠ å…ƒç´  append/prepend æ˜¯åœ¨é€‰æ‹©å…ƒç´ å†…å®¹åµŒå…¥(æ–‡æœ¬æˆ–æ ‡ç­¾) after/before å®åœ¨å…ƒç´ å¤–éƒ¨è¿½åŠ (æ–‡æœ¬æˆ–æ ‡ç­¾) å‚æ•°å¯ä»¥æ˜¯å¤šä¸ªï¼Œå¯ä»¥æ˜¯ä¸€ä¸ª list jQuery åˆ é™¤å…ƒç´  remove() æ–¹æ³• 123$(&quot;p&quot;).remove()//remove() æ–¹æ³•åˆ é™¤è¢«é€‰å…ƒç´ åŠå…¶å­å…ƒç´  empty() æ–¹æ³• 123$(&quot;p&quot;).empty()//empty() æ–¹æ³•åˆ é™¤è¢«é€‰å…ƒç´ çš„å­å…ƒç´ è€Œä¸åˆ é™¤è‡ªèº« è¿‡æ»¤è¢«åˆ é™¤çš„å…ƒç´  1234$(&quot;p&quot;).remove(&quot;.italic&quot;)//è¡¨ç¤ºåˆ é™¤æ‰€æœ‰&lt;p&gt;æ ‡ç­¾å…ƒç´ ä¸­class = &quot;italic&quot;çš„å…ƒç´ //è¿‡æ»¤æ—¶ï¼Œåªèƒ½ä½œç”¨äºåŒçº§å…ƒç´ ä¹‹é—´ jQuery è·å–å¹¶è®¾ç½® CSS ç±» addClass() å‘ä¸ç”¨çš„å…ƒç´ æ·»åŠ  class å±æ€§ï¼Œåœ¨æ·»åŠ ç±»æ—¶å¯ä»¥é€‰å–å¤šä¸ªå…ƒç´ ,ä¹Ÿå¯ä»¥è®¾ç½®å¤šä¸ªç±»ã€‚ 123$(&quot;button&quot;).click(function(){ $(&quot;h1, h3, p&quot;).addClass(&quot;fontColor fontSize&quot;);}) removeClass() åœ¨ä¸åŒå…ƒç´ ä¸­åˆ é™¤æŒ‡å®šçš„ class å±æ€§ 123$(&quot;button&quot;).click(function(){ $(&quot;h1, h3, p&quot;).removeClass(&quot;fontSize&quot;);}) toggleClass() å¯¹è¢«é€‰å…ƒç´ è¿›è¡Œæ·»åŠ /åˆ é™¤ç±»çš„åˆ‡æ¢æ“ä½œ 123$(&quot;.btn2&quot;).click(function(){ $(&quot;h1, h3, p&quot;).toggleClass(&quot;fontColor2&quot;);}) css() æ–¹æ³• è¿”å› css å±æ€§ 1$(&quot;p&quot;).css(&quot;background-color&quot;); è®¾ç½® css å±æ€§,å¯ä»¥åŒæ—¶è®¾ç½®å¤šä¸ª 1$(&quot;p&quot;).css({&quot;background-color&quot;:&quot;yellow&quot;,&quot;font-size&quot;:&quot;200%&quot;}); å°ºå¯¸ width()ã€height() width() æ–¹æ³•è®¾ç½®æˆ–è¿”å›å…ƒç´ çš„å®½åº¦ï¼ˆä¸åŒ…æ‹¬å†…è¾¹è·ã€è¾¹æ¡†æˆ–å¤–è¾¹è·ï¼‰ height() æ–¹æ³•è®¾ç½®æˆ–è¿”å›å…ƒç´ çš„é«˜åº¦ï¼ˆä¸åŒ…æ‹¬å†…è¾¹è·ã€è¾¹æ¡†æˆ–å¤–è¾¹è·ï¼‰ã€‚ 12$(&quot;p&quot;).width() //è·å–$(&quot;p&quot;).width(20) //è®¾ç½® innerWidth()ã€innerHeight() innerWidth() æ–¹æ³•è¿”å›å…ƒç´ çš„å®½åº¦ï¼ˆåŒ…æ‹¬å†…è¾¹è·ï¼‰ã€‚ innerHeight() æ–¹æ³•è¿”å›å…ƒç´ çš„é«˜åº¦ï¼ˆåŒ…æ‹¬å†…è¾¹è·ï¼‰ã€‚ outerWidth()ã€outerHeight() outerWidth() æ–¹æ³•è¿”å›å…ƒç´ çš„å®½åº¦ï¼ˆåŒ…æ‹¬å†…è¾¹è·å’Œè¾¹æ¡†ï¼‰ã€‚ outerHeight() æ–¹æ³•è¿”å›å…ƒç´ çš„é«˜åº¦ï¼ˆåŒ…æ‹¬å†…è¾¹è·å’Œè¾¹æ¡†ï¼‰ã€‚ offset() 12345$(&quot;.son&quot;).offset().left //å…ƒç´ è·ç¦»çª—å£çš„åç§»è·ç¦»$(&quot;.son&quot;).offset({ left: 20,}) //è®¾ç½®å…ƒç´ è·ç¦»çª—å£çš„åç§»è·ç¦» position() 123$(&quot;.son&quot;).position().left //è·å–å…ƒç´ è·ç¦»å®šä½å…ƒç´ çš„åç§»è·ç¦»// æ³¨æ„ç‚¹ï¼šposition() æ–¹æ³•åªèƒ½è·å–ä¸èƒ½è®¾ç½® scrollTop() 123456789$(&quot;scroller&quot;).scrollTop() //è·å–å…ƒç´ ç›¸å¯¹æ»šåŠ¨æ¡é¡¶éƒ¨çš„åç§»$(&quot;scroller&quot;).scrollTop(300) //è®¾ç½®å…ƒç´ ç›¸å¯¹æ»šåŠ¨æ¡é¡¶éƒ¨çš„åç§»//è·å–ç½‘é¡µæ»šåŠ¨çš„åç§»(è€ƒè™‘å…¼å®¹)$(&quot;body&quot;).scrollTop() + $(&quot;html&quot;).scrollTop() //ie-&gt;body,chrome...-&gt;html//è®¾ç½®ç½‘é¡µæ»šåŠ¨çš„åç§»(è€ƒè™‘å…¼å®¹)$(&quot;html,body&quot;).scrollTop(300) è¡¥å……ï¼šè®¾ç½®äº† box-sizing åï¼Œwidth()=width - padding - border jQuery éå†ç¥–å…ˆ parent() è¿”å›å…ƒç´ çš„ç›´æ¥çˆ¶å…ƒç´  123$(document).ready(function(){ $(&quot;span&quot;).parents();}) parents() è¿”å›è¢«é€‰å…ƒç´ çš„æ‰€æœ‰ç¥–å…ˆå…ƒç´ ï¼Œç›´åˆ°æ–‡æ¡£æ ¹å…ƒç´  1234567$(document).ready(function(){ $(&quot;span&quot;).parents();})//è¿‡æ»¤æ‰€æœ‰ç¥–å…ˆï¼Œå¹¶ä¸”æ˜¯&lt;ul&gt;å…ƒç´ $(document).ready(function(){ $(&quot;span&quot;).parents(&quot;ul&quot;);}) parentsUntil() è¿”å›ç»™å®šçš„ä¸¤ä¸ªå…ƒç´ ä¹‹é—´çš„æ‰€æœ‰ç¥–å…ˆå…ƒç´  1234//è¿”å›&lt;span&gt;ä¸&lt;div&gt;å…ƒç´ ä¹‹é—´çš„æ‰€æœ‰ç¥–å…ˆå…ƒç´ $(document).ready(function(){ $(&quot;span&quot;).parentsUntil(&quot;div&quot;);}) åä»£ children() è¿”å›è¢«é€‰å…ƒç´ çš„æ‰€æœ‰ç›´æ¥å­å…ƒç´  1234$(&quot;div&quot;).children();//å¯ä»¥ä½¿ç”¨å¯é€‰å‚æ•°æ¥è¿‡æ»¤å­å…ƒç´ çš„æœç´¢$(&quot;div&quot;).children(&quot;p.aaa&quot;); //è¿”å›ç±»åä¸ºaaaçš„&lt;p&gt;å…ƒç´ ï¼Œä¸”æ˜¯divçš„ç›´æ¥å­å…ƒç´ ã€‚ find() è¿”å›è¢«é€‰å…ƒç´ çš„åä»£å…ƒç´ ï¼Œä¸€è·¯å‘ä¸‹ç›´åˆ°æœ€åä¸€ä¸ªåä»£ 1$(&quot;div&quot;).find(&quot;span&quot;); åŒèƒ siblings() è¿”å›è¢«é€‰å…ƒç´ çš„æ‰€æœ‰åŒèƒå…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨å¯é€‰å‚æ•°è¿‡æ»¤æœç´¢ã€‚ next() è¿”å›è¢«é€‰å…ƒç´ çš„ä¸‹ä¸€ä¸ªåŒèƒå…ƒç´ ï¼Œåªè¿”å›ä¸€ä¸ªå…ƒç´  nextAll() è¿”å›è¢«é€‰å…ƒç´ çš„æ‰€æœ‰è·Ÿéšçš„åŒèƒå…ƒç´  nextUntil() è¿”å›ä»‹äºä¸¤ä¸ªç»™å®šå‚æ•°ä¹‹é—´çš„æ‰€æœ‰è·Ÿéšçš„åŒèƒå…ƒç´  pre()ã€prevAll()ã€prevUntil() åŒä¸Šï¼Œæ–¹å‘ç›¸å è¿‡æ»¤ï¼šç¼©å°æœç´¢å…ƒç´ çš„èŒƒå›´ first() è¿”å›è¢«é€‰å…ƒç´ çš„é¦–ä¸ªå…ƒç´  1$(&quot;p&quot;).first(); last() è¿”å›è¢«é€‰å…ƒç´ çš„æœ€åä¸€ä¸ªå…ƒç´  1$(&quot;p&quot;).last(); eq() è¿”å›è¢«é€‰å…ƒç´ ä¸­å¸¦æœ‰æŒ‡å®šç´¢å¼•å·çš„å…ƒç´  123$(&quot;p&quot;).eq(1);//ç´¢å¼•å·ä»0å¼€å§‹ï¼Œeq(1)é€‰æ‹©çš„æ˜¯ç¬¬äºŒä¸ª&lt;p&gt;å…ƒç´  filter() å…è®¸è§„å®šä¸€ä¸ªæ ‡å‡†ï¼Œè¿”å›åŒ¹é…çš„å…ƒç´  123$(&quot;p&quot;).filter(&quot;.className&quot;);//è¿”å›å¸¦æœ‰ç±»åclassNameçš„æ‰€æœ‰&lt;p&gt;å…ƒç´  not() è¿”å›æ‰€æœ‰ä¸åŒ¹é…çš„å…ƒç´ ï¼Œä¸ filter()ç›¸å 123$(&quot;p&quot;).not(&quot;.className&quot;);//è¿”å›æ‰€æœ‰ä¸å¸¦æœ‰ç±»åclassNameçš„&lt;p&gt;å…ƒç´ ","link":"/2020/09/05/jquery%E5%AD%A6%E4%B9%A0/"},{"title":"JSåƒåœ¾å›æ”¶æœºåˆ¶","text":"è°ˆè°ˆ JS åƒåœ¾å›æ”¶æœºåˆ¶ï¼Ÿ åƒåœ¾å›æ”¶Javascriptä¸­çš„å†…å­˜ç®¡ç†æ˜¯è‡ªåŠ¨æ‰§è¡Œçš„ï¼Œè€Œä¸”æ˜¯ä¸å¯è§çš„ã€‚åœ¨æˆ‘ä»¬åˆ›å»ºåŸºæœ¬ç±»å‹ã€å¯¹è±¡ã€å‡½æ•° æ—¶ï¼Œè¿™äº›éƒ½éœ€è¦å†…å­˜ï¼Œå½“ä¸éœ€è¦æŸæ ·ä¸œè¥¿æ—¶ï¼ŒJavaScriptå¼•æ“ä¼šåˆ©ç”¨åƒåœ¾å›æ”¶æœºåˆ¶æ¸…é™¤å®ƒã€‚ åœ¨å±€éƒ¨ä½œç”¨åŸŸä¸­ï¼Œå½“å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œå±€éƒ¨å˜é‡ä¹Ÿå°±æ²¡å¿…è¦å­˜åœ¨äº†ï¼Œå› æ­¤åƒåœ¾æ”¶é›†å™¨å¾ˆå®¹æ˜“ åšå‡ºåˆ¤æ–­å›æ”¶ã€‚ä½†æ˜¯å…¨å±€å˜é‡ä»€ä¹ˆæ—¶å€™éœ€è¦è‡ªåŠ¨é‡Šæ”¾å†…å­˜ç©ºé—´å¾ˆéš¾åˆ¤æ–­ï¼Œå› æ­¤åœ¨å¼€å‘ä¸­ï¼Œ éœ€è¦å°½é‡é¿å…ä½¿ç”¨å…¨å±€å˜é‡ã€‚ å¯è¾¾æ€§JavaScript ä¸­å†…å­˜ç®¡ç†çš„ä¸»è¦æ¦‚å¿µæ˜¯å¯è¾¾æ€§ã€‚ å½“ä¸€äº›å€¼ä»¥æŸç§æ–¹å¼å¯è®¿é—®æˆ–å¯ç”¨ï¼Œå®ƒä»¬ä¼šè¢«å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå«åšå¯è¾¾å€¼ã€‚ ä¸€äº›å›ºæœ‰å¯è¾¾å€¼ï¼Œç”±äºæ˜¾è€Œæ˜“è§çš„åŸå› æ— æ³•åˆ é™¤ã€‚ä¾‹å¦‚ï¼š æœ¬åœ°å‡½æ•°çš„å±€éƒ¨å˜é‡æˆ–å‚æ•° å½“å‰åµŒå¥—è°ƒç”¨é“¾ä¸Šçš„å…¶ä»–å‡½æ•°çš„å˜é‡å’Œå‚æ•° å…¨å±€å˜é‡ç­‰ è¿™äº›å€¼ ç§°ä¸º æ ¹ å¦‚æœå¼•ç”¨æˆ–å¼•ç”¨é“¾ å¯ä»¥ä»æ ¹è®¿é—®ä»»ä½•å…¶ä»–å€¼ï¼Œåˆ™è®¤ä¸ºè¯¥å€¼æ˜¯å¯è®¿é—®çš„ã€‚ ä¸€ä¸ªå¯¹è±¡å¼•ç”¨å¦ä¸€ä¸ªå¯¹è±¡çš„å±æ€§ï¼Œåˆ™è¯¥å¯¹è±¡æ˜¯ä¸ºå¯è¾¾æ€§ã€‚ JavaScript å¼•æ“ä¸­æœ‰ä¸€ä¸ªåå°è¿›ç¨‹ç§°ä¸ºåƒåœ¾å›æ”¶å™¨ï¼Œå®ƒç›‘è§†æ‰€æœ‰å¯¹è±¡ï¼Œå¹¶åˆ é™¤å“ªäº›ä¸å¯è®¿é—®çš„å¯¹è±¡ã€‚ å†…éƒ¨ç®—æ³•v8 çš„åƒåœ¾å›æ”¶ç­–ç•¥åŸºäºåˆ†ä»£å¼åƒåœ¾å›æ”¶æœºåˆ¶ã€‚å°†å†…å­˜åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€ç”Ÿä»£ï¼Œåˆ†åˆ«é‡‡ç”¨ä¸åŒçš„ç®—æ³•ã€‚ æ–°ç”Ÿä»£é‡‡ç”¨ Scavenge ç®—æ³•(èµ‹å€¼ç®—æ³•) Scavenge ä¸ºæ–°ç”Ÿä»£é‡‡ç”¨çš„ç®—æ³•ï¼Œæ˜¯ä¸€ç§é‡‡ç”¨å¤åˆ¶çš„æ–¹å¼å®ç°çš„åƒåœ¾å›æ”¶ç®—æ³•ã€‚å®ƒå°†å†…å­˜åˆ†ä¸º from å’Œ to ä¸¤ä¸ªç©ºé—´ã€‚æ¯æ¬¡ gc,ä¼šå°† from ç©ºé—´çš„å­˜æ´»å¯¹è±¡å¤åˆ¶åˆ° to ç©ºé—´ã€‚ç„¶åä¸¤ä¸ªç©ºé—´è§’è‰²å¯¹æ¢(åˆç§°åè½¬)ã€‚ è¯¥ç®—æ³•æ˜¯ç‰ºç‰²ç©ºé—´æ¢æ—¶é—´ï¼Œæ‰€ä»¥é€‚åˆæ–°ç”Ÿä»£ï¼Œå› ä¸ºå®ƒçš„å¯¹è±¡ç”Ÿå­˜å‘¨æœŸè¾ƒçŸ­ã€‚ è€ç”Ÿä»£é‡‡ç”¨ Mark-Sweep(æ ‡è®°æ¸…é™¤)å’Œ Mark-Compact(æ ‡è®°æ•´ç†) æ ‡è®°-æ¸…é™¤ç®—æ³•ï¼Œå®šæœŸæ‰§è¡Œä¸€ä¸‹â€œåƒåœ¾å›æ”¶â€æ­¥éª¤ï¼š åƒåœ¾å›æ”¶å™¨è·å–æ ¹å¹¶â€œæ ‡è®°â€å®ƒä»¬ ç„¶åè®¿é—®å¹¶æ ‡è®°æ‰€æœ‰æ¥è‡ªå®ƒä»¬çš„å¼•ç”¨ ç„¶åè®¿é—®æ ‡è®°çš„å¯¹è±¡ å¹¶ æ ‡è®°å®ƒä»¬çš„å¼•ç”¨ ä»¥æ­¤ç±»æ¨ï¼ŒçŸ¥é“æœ‰ä¸ºè®¿é—®çš„å¼•ç”¨ä¸ºæ­¢ é™¤äº†æ ‡è®°çš„å¯¹è±¡å¤–ï¼Œæ‰€æœ‰å¯¹è±¡éƒ½è¢«åˆ é™¤ã€‚ Mark-Compact ç®—æ³•(æ ‡è®°æ•´ç†) æ ‡è®°æ¸…é™¤å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œæ¸…é™¤æ­»äº¡å¯¹è±¡åä¼šé€ æˆå†…å­˜ç©ºé—´ä¸è¿ç»­ï¼Œè¿™æ—¶å€™ v8 ä¼šä½¿ç”¨Mark-Compact ç®—æ³•(æ ‡è®°æ•´ç†)ï¼Œå®ƒä¼šåœ¨æ ‡è®°å®Œæˆä¹‹åå°†æ´»ç€çš„å¯¹è±¡å¾€ä¸€ç«¯ç§»åŠ¨ï¼Œç§»åŠ¨å®Œæˆåç›´æ¥æ¸…ç†æ‰è¾¹ç•Œå¤–çš„å†…å­˜ã€‚ Reference Counting(å¼•ç”¨è®¡æ•°ç®—æ³•) å¼•ç”¨è®¡æ•°ï¼Œå°±æ˜¯è®°å½•æ¯ä¸ªå¯¹è±¡è¢«å¼•ç”¨çš„æ¬¡æ•°ï¼Œæ¯æ¬¡æ–°å»ºå¯¹è±¡ã€èµ‹å€¼å¼•ç”¨å’Œåˆ é™¤å¼•ç”¨çš„åŒæ—¶æ›´æ–°è®¡æ•°å™¨ï¼Œå¦‚æœè®¡æ•°å™¨å€¼ä¸º 0 åˆ™ç›´æ¥å›æ”¶å†…å­˜ã€‚ å¾ˆæ˜æ˜¾ï¼Œå¼•ç”¨è®¡æ•°æœ€å¤§çš„ä¼˜åŠ¿æ˜¯æš‚åœæ—¶é—´çŸ­ ä¼˜åŒ– å¢é‡å›æ”¶ï¼šå¦‚æœæœ‰å¾ˆå¤šå¯¹è±¡ï¼Œå¹¶ä¸”æˆ‘ä»¬è¯•å›¾ä¸€æ¬¡éå†å¹¶æ ‡è®°æ•´ä¸ªå¯¹è±¡é›†ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šèŠ±è´¹ä¸€äº›æ—¶é—´ï¼Œå¹¶åœ¨æ‰§è¡Œä¸­ä¼šæœ‰ä¸€å®šçš„å»¶è¿Ÿã€‚å› æ­¤ï¼Œå¼•æ“è¯•å›¾å°†åƒåœ¾å›æ”¶åˆ†è§£ä¸ºå¤šä¸ªéƒ¨åˆ†ï¼Œç„¶åå„ä¸ªéƒ¨åˆ†åˆ†åˆ«æ‰§è¡Œï¼Œè¿™éœ€è¦é¢å¤–çš„æ ‡è®°æ¥è·Ÿè¸ªå˜åŒ–ï¼Œè¿™æ ·æœ‰å¾ˆå¤šå¾®å°çš„å»¶è¿Ÿï¼Œè€Œä¸æ˜¯å¾ˆå¤§çš„å»¶è¿Ÿã€‚ ç©ºé—²æ—¶é—´æ”¶é›†ï¼šåƒåœ¾å›æ”¶å™¨åªåœ¨ CPU ç©ºé—²æ—¶è¿è¡Œï¼Œä»¥å‡å°‘å¯¹æ‰§è¡Œçš„å¯èƒ½å½±å“ã€‚ v8 çš„å†…å­˜é™åˆ¶ 64 ä½ç³»ç»Ÿæœ€å¤§çº¦ä¸º 1.4G 32 ä½ç³»ç»Ÿæœ€å¤§çº¦ä¸º 0.7G","link":"/2019/10/19/js%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6/"},{"title":"100é“å‰ç«¯ä¼˜è´¨é¢è¯•é¢˜","text":"å¤æ‚åº¦ ç¨‹åºæ‰§è¡Œæ—¶éœ€è¦çš„è®¡ç®—é‡å’Œå†…å­˜ç©ºé—´ å¤æ‚åº¦æ˜¯æ•°é‡çº§ï¼Œä¸æ˜¯å…·ä½“çš„æ•°å­— ä¸€èˆ¬æ˜¯é’ˆå¯¹ä¸€ä¸ªå…·ä½“çš„ç®—æ³•ï¼Œè€Œéä¸€ä¸ªå®Œæ•´çš„ç³»ç»Ÿ å°†ä¸€ä¸ªæ•°ç»„æ—‹è½¬ K æ­¥ è¾“å…¥ä¸€ä¸ªæ•°ç»„[1, 2, 3, 4, 5, 6, 7] k=3,å³æ—‹è½¬ 3 æ­¥ è¾“å‡º[5, 6, 7, 1, 2, 3, 4] 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556/** * @param arr åŸæ•°ç»„ * @param k æ­¥æ•° * æ—¶é—´å¤æ‚åº¦O(n^2),ç©ºé—´å¤æ‚åº¦O(1) */function rotate1(arr: number[], k: number): number[] { const length = arr.length; if (!k || length === 0) return arr; const step = Math.abs(k % length); for (let i = 0; i &lt; step; i++) { const n = arr.pop(); if (n != null) { // unshiftå†…ç½®apiæ—¶é—´å¤æ‚åº¦ä½O(n),å¼€é”€æ¯”è¾ƒå¤§ arr.unshift(n); } } return arr;}/** * @param arr åŸæ•°ç»„ * @param k æ­¥æ•° * æ—¶é—´å¤æ‚åº¦O(1)ï¼Œç©ºé—´å¤æ‚åº¦O(n) */function rotate2(arr: number[], k: number): number[] { const length = arr.length; if (!k || length === 0) return arr; const step = Math.abs(k % length); const part1 = arr.slice(-step); const part2 = arr.slice(0, length - step); const part3 = part1.concat(part2); return arr;}/** * æ€§èƒ½æµ‹è¯• */const arr = [];for (let i = 0; i &lt; 10 * 10000; i++) { arr.push(i);}console.time('rotate1');rotate1(arr, 9 * 10000);console.time('rotate1');console.time('rotate2');rotate2(arr, 9 * 10000);console.time('rotate2'); åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æ‹¬å·åŒ¹é… ä¸€ä¸ªå­—ç¬¦ä¸² s å¯èƒ½åŒ…å«{}()[]ä¸‰ç§æ‹¬å· åˆ¤æ–­ s æ˜¯å¦æ˜¯æ‹¬å·åŒ¹é…çš„ å¦‚ï¼ˆa{b}cï¼‰åŒ¹é…ï¼Œè€Œ{a(b æˆ–è€…{a(b}c)å°±æ˜¯ä¸åŒ¹é…çš„ æ ˆ vs æ•°ç»„æ ˆï¼šé€»è¾‘ç»“æ„ï¼Œç†è®ºæ¨¡å‹ï¼Œä¸ç®¡å¦‚ä½•å®ç°ï¼Œä¸å—ä»»ä½•è¯­è¨€çš„é™åˆ¶ã€‚æ•°ç»„ï¼šç‰©ç†ç»“æ„ï¼ŒçœŸå®çš„åŠŸèƒ½å®ç°ï¼Œå—é™äºç¼–ç¨‹è¯­è¨€ã€‚ 12345678910111213141516171819202122232425262728293031323334353637function isMatch(left: string, right: string): boolean { if (left === '{' &amp;&amp; right === '}') return true; if (left === '(' &amp;&amp; right === ')') return true; if (left === '[' &amp;&amp; right === ']') return true; return false;}function matchBracket(str: string): boolean { const length = str.length; if (length === 0) return true; const stack = []; const leftSymbols = '{[('; const rightSymbols = ')]}'; // æ—¶é—´å¤æ‚åº¦O(n),ç©ºé—´å¤æ‚åº¦O(n) for (let i = 0; i &lt; length; i++) { const s = str[i]; if (leftSymbols.includes(s)) { // å·¦æ‹¬å·ï¼Œå‹æ ˆ stack.push(s); } else if (rightSymbols.includes(s)) { const top = stack[stack.length - 1]; // åˆ¤æ–­å³æ‹¬å·æ˜¯å¦åŒ¹é… if (isMatch(top, s)) { stack.pop(); } else { return false; } } } return stack.length === 0;} ä¸¤ä¸ªæ ˆå®ç°ä¸€ä¸ªé˜Ÿåˆ— è¯·ç”¨ä¸¤ä¸ªæ ˆå®ç°ä¸€ä¸ªé˜Ÿåˆ— APIï¼šadd delete length 123456789101112131415161718192021222324252627282930313233343536class Queue { private stack1: number[] = []; private stack2: number[] = []; add(n: number) { this.stack1.push(n); } delete(): number | null { let res; while (stack1.length) { const n = stack1.pop(); if (n != null) { stack2.push(n); } } res = stack2.pop(); while (stack2.length) { const n = stack2.pop(); if (n != null) { stack1.push(n); } } return res || null; } get length(): number { return this.stack1.length; }} å®šä¹‰ä¸€ä¸ª js å‡½æ•°ï¼Œåè½¬å•å‘é“¾è¡¨é“¾è¡¨æ˜¯ä¸€ç§ç‰©ç†ç»“æ„(éé€»è¾‘ç»“æ„),ç±»ä¼¼æ•°ç»„æ•°ç»„éœ€è¦ä¸€æ®µè¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œè€Œé“¾è¡¨æ˜¯é›¶æ•£çš„é“¾è¡¨èŠ‚ç‚¹çš„æ•°æ®ç»“æ„{ value, next?, prev? } é“¾è¡¨ vs æ•°ç»„éƒ½æ˜¯æœ‰åºç»“æ„é“¾è¡¨ï¼šæŸ¥è¯¢æ…¢ O(n),æ–°å¢å’Œåˆ é™¤å¿« O(1)æ•°ç»„ï¼šæŸ¥è¯¢å¿« O(1),æ–°å¢å’Œåˆ é™¤æ…¢ O(n) 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465interface ILinkListNode { value: number; next?: ILinkListNode;}/** * åˆ›å»ºé“¾è¡¨ * @param arr æ•°ç»„ */function createLinkList(arr: number[]): ILinkListNode { const length = arr.length; if (length === 0) throw new Error('arr is empty'); let curNode: ILinkListNode = { value: arr[length - 1], }; if (length === 1) return curNode; for (let i = length - 2; i &gt;= 0; i--) { curNode = { value: arr[i], next: curNode, }; } return curNode;}const arr = [100, 200, 300];const list = createLinkList(arr);console.info('list', list);/** * åè½¬å•å‘é“¾è¡¨ï¼Œè¿”å›åè½¬åçš„head node * @param listNode éœ€è¦æ“ä½œçš„é“¾è¡¨ */function reverseLinkList(listNode: ILinkListNode): ILinkListNode { let prevNode: ILinkListNode | undefined; let curNode: ILinkListNode | undefined; let nextNode: ILinkListNode | undefined = listNode; while (nextNode) { // ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œåˆ é™¤nextæŒ‡é’ˆï¼Œé˜²æ­¢å¾ªç¯å¼•ç”¨ if (curNode &amp;&amp; !prevNode) { delete curNode.next; } // åè½¬æŒ‡é’ˆ if (curNode &amp;&amp; prevNode) { curNode.next = prevNode; } prevNode = curNode; curNode = nextNode; nextNode = nextNode?.next; } // å¤„ç†é“¾è¡¨æœ€åä¸€ä¸ªå…ƒç´  curNode!.next = prevNode; return curNode!;}const reverseList = reverseLinkList(list);console.info('reverseList', reverseList); ç”¨é“¾è¡¨å®ç°é˜Ÿåˆ—1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253interface ILinkListNode { value: number; next: ILinkListNode | null;}class Queue { private head: ILinkListNode | null = null; private tail: ILinkListNode | null = null; private len = 0; // å…¥é˜Ÿï¼Œåœ¨tailä½ç½® add(n: number) { const newNode: ILinkListNode = { value: n, next: null, }; if (this.head === null) { this.head = newNode; } if (this.tail) { this.tail.next = newNode; } this.tail = newNode; this.len++; } // å‡ºé˜Ÿï¼Œåœ¨headä½ç½® delete(): number | null { if (this.head === null || this.len &lt;= 0) return null; const value = this.head.value; this.head = this.head.next; this.len--; return value; } get length(): number { return this.len; }}const queue = new Queue();queue.add(100);queue.add(200);queue.add(300);console.log('length', queue.length); //3console.log(queue.delete()); //100console.log('length2', queue.length); //2 é“¾è¡¨å’Œæ•°ç»„ï¼Œå“ªä¸ªå®ç°é˜Ÿåˆ—æ›´å¿«ï¼Ÿ ç©ºé—´å¤æ‚åº¦éƒ½æ˜¯ O(n) add æ—¶é—´å¤æ‚åº¦ï¼šé“¾è¡¨ O(1)ï¼Œæ•°ç»„ O(1); delete æ—¶é—´å¤æ‚åº¦ï¼šé“¾è¡¨ O(1)ï¼Œæ•°ç»„ O(n); å®ç°äºŒåˆ†æŸ¥æ‰¾ å‡¡æœ‰åºï¼Œå¿…äºŒåˆ† å‡¡äºŒåˆ†ï¼Œæ—¶é—´å¤æ‚åº¦å¿…åŒ…å« O(logn) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667/** * å¾ªç¯çš„æ–¹å¼ * @param arr æŸ¥æ‰¾çš„æ•°ç»„ * @param target ç›®æ ‡å¯¹è±¡ * è¿”å›ç›®æ ‡ç´¢å¼•ä¸‹æ ‡ */function binarySearch1(arr: number[], target: number): number { const length = arr.length; if (length === 0) return -1; let startIndex = 0; let endIndex = length - 1; while (startIndex &lt;= endIndex) { const midIndex = Math.floor((startIndex + endIndex) / 2); const midValue = arr[midIndex]; if (target &lt; midValue) { endIndex = midIndex - 1; } else if (target &gt; midValue) { startIndex = midIndex + 1; } else { return midIndex; } } return -1;}/** * äºŒåˆ†æŸ¥æ‰¾-é€’å½’çš„æ–¹å¼ *@param arr æŸ¥æ‰¾çš„æ•°ç»„ *@param target ç›®æ ‡å¯¹è±¡ *@param startIndex *@param endIndex */function binarySearch2( arr: number[], target: number, startIndex?: number, endIndex?: number): number { const length = arr.length; if (length === 0) return -1; if (!startIndex) startIndex = 0; if (!endIndex) endIndex = length - 1; if (startIndex &gt; endIndex) return -1; const midIndex = Math.floor((startIndex + endIndex) / 2); const midValue = arr[midIndex]; if (target &lt; midValue) { return binarySearch2(arr, target, startIndex, midIndex - 1); } else if (target &gt; midValue) { return binarySearch2(arr, target, midIndex + 1, endIndex); } else { return midIndex; }}// åŠŸèƒ½æµ‹è¯•const arr = [10, 20, 30, 40, 50, 60];const target = 20;console.log(binarySearch1(arr, target));console.log(binarySearch2(arr, target)); ç»™å®šä¸€ä¸ªé€’å¢çš„æ•°ç»„ï¼Œæ‰¾å‡ºå…¶ä¸­å’Œä¸º n çš„ä¸¤ä¸ªå…ƒç´  æœ‰ä¸€ä¸ªé€’å¢çš„æ•°ç»„[1, 2, 4, 7, 11, 15]å’Œä¸€ä¸ª n = 15 æ•°ç»„ä¸­æœ‰ä¸¤ä¸ªæ•°å’Œä¸º nï¼Œå³ 4+11=15 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869/** * åµŒå¥—å¾ªç¯ æ—¶é—´å¤æ‚åº¦ï¼šO(n^2) * @param arr æ“ä½œæ•°ç»„ * @param n å’Œ */function findTwoNumbers1(arr: number[], n: number): number[] { const res: number[] = []; const length = arr.length; if (length === 0) return res; // æ—¶é—´å¤æ‚åº¦ï¼šO(n^2) for (let i = 0; i &lt; length - 1; i++) { const n1 = arr[i]; let flag = false; for (let j = i + 1; j &lt; length; j++) { const n2 = arr[j]; if (n1 + n2 === n) { res.push(n1, n2); flag = true; break; } } if (flag) break; } return res;}/** * åŒæŒ‡é’ˆï¼Œæ—¶é—´å¤æ‚åº¦ O(n) * @param arr æ“ä½œæ•°ç»„ * @param n å’Œ *//* æ€è·¯ï¼š å®šä¹‰iæŒ‡å‘å¤´ï¼ŒjæŒ‡å‘å°¾ï¼Œæ±‚arr[i] + arr[j] å¦‚æœå¤§äºnï¼Œåˆ™jéœ€è¦å‘å‰ç§»åŠ¨ å¦‚æœå°äºnï¼Œåˆ™jéœ€è¦å‘åç§»åŠ¨ */function findTwoNumbers2(arr: number[], n: number): number[] { const res: number[] = []; const length = arr.length; if (length === 0) return res; let i = 0; let j = length - 1; while (i &lt; j) { const n1 = arr[i]; const n2 = arr[j]; const sum = n1 + n2; if (sum &gt; n) { j--; } else if (sum &lt; n) { i++; } else { res.push(n1, n2); break; } } return res;} æ±‚ä¸€ä¸ªäºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰çš„ç¬¬ k å°å€¼ å‰åº(æ ¹å·¦å³)ï¼Œä¸­åº(å·¦æ ¹å³)ï¼Œååº(å·¦å³æ ¹) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394interface ItreeNode { value: number; left: ItreeNode | null; right: ItreeNode | null;}let bstTree: ItreeNode = { value: 5, left: { value: 3, left: { value: 2, left: null, right: null, }, right: { value: 4, left: null, right: null, }, }, right: { value: 7, left: { value: 6, left: null, right: null, }, right: { value: 8, left: null, right: null, }, },};/** * äºŒå‰æ ‘å‰åºéå† * @param node tree node */function preOrderTraverse(node: ItreeNode | null) { if (node === null) return; console.log(node.value); preOrderTraverse(node.left); preOrderTraverse(node.right);}/** * äºŒå‰æ ‘ä¸­åºéå† * @param node tree node */function inOrderTraverse(node: ItreeNode | null) { if (node === null) return; inOrderTraverse(node.left); console.log(node.value); inOrderTraverse(node.right);}/** * äºŒå‰æ ‘ååºéå† * @param node tree node */function postOrderTraverse(node: ItreeNode | null) { if (node === null) return; postOrderTraverse(node.left); postOrderTraverse(node.right); console.log(node.value);}/** * æ±‚äºŒå‰æœç´¢æ ‘ç¬¬kå€¼ * @param node bst tree * @param k ç¬¬kä¸ªå€¼ */function getKthValue(node: ItreeNode | null, k: number) { if (node === null) return; let arr: number[] = []; function inOrderTraverse(node: ItreeNode | null) { if (node === null) return arr; inOrderTraverse(node.left); arr.push(node.value); inOrderTraverse(node.right); } inOrderTraverse(node); return arr[k - 1];} æ–æ³¢é‚£å¥‘æ•°åˆ—123456789101112131415161718192021222324252627282930313233/** * æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼ˆé€’å½’ï¼‰ * @param n * æ—¶é—´å¤æ‚åº¦O(2^n) */function fibonacci(n: number): number { if (n &lt;= 0) return 0; if (n === 1) return 1; return fibonacci(n - 1) + fibonacci(n - 2);}/** * æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼ˆå¾ªç¯ï¼‰ * @param n * æ—¶é—´å¤æ‚åº¦O(n) */function fibonacci(n: number): number { if (n &lt;= 0) return 0; if (n === 1) return 1; let n1 = 1; // è®°å½•n-1çš„ç»“æœ let n2 = 0; // è®°å½•n-2çš„ç»“æœ let res = 0; for (let i = 2; i &lt;= n; i++) { res = n1 + n2; n2 = n1; n1 = res; } return res;} é’è›™è·³å°é˜¶ï¼ˆåŠ¨æ€è§„åˆ’æ€æƒ³è§£å†³é—®é¢˜ï¼‰ ä¸€åªé’è›™ï¼Œä¸€æ¬¡å¯ä»¥è·³ 1 çº§ï¼Œä¹Ÿå¯ä»¥è·³ 2 çº§ é—®ï¼šé’è›™è·³åˆ° n çº§å°é˜¶ï¼Œæ€»å…±æœ‰å¤šå°‘ç§æ–¹å¼ï¼Ÿ 1// ç­”æ¡ˆåŒä¸Šä¸€é¢˜ å°†æ•°ç»„ä¸­çš„ 0 ç§»åŠ¨åˆ°æœ«å°¾ å¦‚è¾“å…¥[1, 0, 3, 0, 11, 0],è¾“å‡º[1, 3, 11, 0, 0, 0] åªç§»åŠ¨ 0 ï¼Œå…¶ä»–é¡ºåºä¸å˜ å¿…é¡»åœ¨åŸæ•°ç»„è¿›è¡Œæ“ä½œ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253/** * (åµŒå¥—å¾ªç¯) * @param arr number arr * æ—¶é—´å¤æ‚åº¦ O(n^2) */function moveZero1(arr: number[]): void { const length = arr.length; if (length === 0) return; let zeroCount = 0; for (let i = 0; i &lt; length - zeroCount; i++) { if (arr[i] === 0) { arr.push(0); arr.splice(i, 1); // O(n) i--; zeroCount++; } }}/** * (åŒæŒ‡é’ˆ) * @param arr number arr * æ—¶é—´å¤æ‚åº¦ O(n) */function moveZero2(arr: number[]): void { const length = arr.length; if (length === 0) return; let i; let j = -1; // æŒ‡å‘ç¬¬ä¸€ä¸ª 0 for (i = 0; i &lt; length; i++) { if (arr[i] === 0) { if (j &lt; 0) { j = i; } } if (arr[i] !== 0 &amp;&amp; j &gt;= 0) { const n = arr[i]; arr[i] = arr[j]; arr[j] = n; j++; } }}const arr = [0, 1, 2, 0, 3, 0, 0, 4];// moveZero1(arr);moveZero2(arr);console.log(arr); è®¡ç®—å­—ç¬¦ä¸²ä¸­è¿ç»­æœ€å¤šçš„å­—ç¬¦ä»¥åŠæ¬¡æ•° è¾“å…¥â€™abbbcccccccddeee1234412â€™ è®¡ç®—å¾—åˆ°è¿ç»­æœ€å¤šçš„å­—ç¬¦æ˜¯â€™câ€™,7 æ¬¡ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889/** * @param str * æ—¶é—´å¤æ‚åº¦ï¼š O(n) */interface IRes { char: string; length: number;}function findContinuousChar1(str: string): IRes { const res: IRes = { char: '', length: 0, }; const length = str.length; if (length === 0) return res; let tempLength = 0; // ä¸´æ—¶è®°å½•å½“å‰è¿ç»­å­—ç¬¦çš„é•¿åº¦ for (let i = 0; i &lt; length; i++) { tempLength = 0; // é‡ç½® for (let j = i; j &lt; length; j++) { if (str[i] === str[j]) { tempLength++; } if (str[i] !== str[j] || j === length - 1) { if (tempLength &gt; res.length) { res.char = str[i]; res.length = tempLength; } if (i &lt; length - 1) { i = j - 1; // è·³æ­¥ } break; } } } return res;}/** * åŒæŒ‡é’ˆ * @param str * æ—¶é—´å¤æ‚åº¦ï¼š O(n) */interface IRes { char: string; length: number;}function findContinuousChar2(str: string): IRes { const res: IRes = { char: '', length: 0, }; const length = str.length; if (length === 0) return res; let tempLength = 0; // ä¸´æ—¶è®°å½•å½“å‰è¿ç»­å­—ç¬¦çš„é•¿åº¦ let i = 0; let j = 0; for (; i &lt; length; i++) { if (str[i] === str[j]) { tempLength++; } if (str[i] !== str[j] || i === length - 1) { // å¦‚æœä¸ç›¸ç­‰æˆ–è€… i å¾ªç¯åˆ°äº†æœ«å°¾ if (tempLength &gt; res.length) { res.char = str[j]; res.length = tempLength; } tempLength = 0; if (i &lt; length - 1) { j = i; // è®© j è¿½ä¸Š i i--; } } } return res;}const str = 'abbbcccccccddeee1234412';console.log(findContinuousChar1(str)); å¿«é€Ÿæ’åº12345678910111213141516171819202122232425262728/** * @param arr * æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn) */function quickSort1(arr: number[]): number[] { const length = arr.length; if (length === 0) return arr; const midIndex = Math.floor(length / 2); const midValue = arr.splice(midIndex, 1)[0]; const left: number[] = []; const right: number[] = []; // æ³¨æ„ï¼š spliceä¼šæ”¹å˜åŸæ•°ç»„ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨length for (let i = 0; i &lt; arr.length; i++) { const n = arr[i]; if (n &lt; midValue) { left.push(n); } else { right.push(n); } } return quickSort1(left).concat(midValue, quickSort1(right));}const arr = [2, 7, 5, 2, 3, 1];console.log(quickSort1(arr)); å¯¹ç§°æ•° æ±‚ 1 - 10000 ä¹‹é—´çš„æ‰€æœ‰å¯¹ç§°æ•°ï¼ˆå›æ–‡ï¼‰ ä¾‹å¦‚ï¼š0ï¼Œ 1ï¼Œ 2ï¼Œ 11ï¼Œ 22ï¼Œ 101ï¼Œ 232ï¼Œ1221 12345678910111213141516171819202122232425262728293031323334353637function findPalindromeNumbers1(max: number): number[] { const res: number[] = []; if (max &lt; 0) return res; for (let i = 1; i &lt;= max; i++) { // è½¬æ¢ä¸ºå­—ç¬¦è½¬ -&gt; è½¬æ¢ä¸ºæ•°ç»„ -&gt; å†åè½¬ -&gt; æ¯”è¾ƒ const s = i.toString(); if (s === s.split('').reverse().join('')) { res.push(i); } } return res;}console.log(findPalindromeNumbers1(200));function findPalindromeNumbers2(max: number): number[] { const res: number[] = []; if (max &lt;= 0) return res; for (let i = 1; i &lt;= max; i++) { let n = i; let rev = 0; // n: 123 // rev: 321 while (n &gt; 0) { rev = rev * 10 + (n % 10); n = Math.floor(n / 10); } if (i === rev) res.push(i); }}console.log(findPalindromeNumbers2(200)); é«˜æ•ˆçš„å­—ç¬¦ä¸²å‰ç¼€åŒ¹é… æœ‰ä¸€ä¸ªè‹±æ–‡å•è¯åº“ï¼ˆæ•°ç»„ï¼‰ï¼Œé‡Œé¢æœ‰å‡ åä¸‡ä¸ªè‹±æ–‡å•è¯ è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¿«é€Ÿåˆ¤æ–­æ˜¯ä¸æ˜¯æŸä¸€ä¸ªå•è¯çš„å‰ç¼€ ï¼ˆè¯´æ˜æ€è·¯ï¼Œä¸ç”¨å†™ä»£ç ï¼‰ æ€è·¯ä¸€ï¼š éå†å•è¯åº“æ•°ç»„ indexOf åˆ¤æ–­å‰ç¼€ å®é™…æ—¶é—´å¤æ‚åº¦è¶…è¿‡ O(n),å› ä¸º indexOf çš„è®¡ç®—é‡ æ€è·¯äºŒï¼ˆå¯¹è±¡å– key æ—¶é—´å¤æ‚åº¦ä¸º O(1)ï¼‰ï¼š è‹±æ–‡å­—æ¯ä¸€å…±å°± 26 ä¸ªï¼Œå¯ä»¥æå‰æŠŠå•è¯åº“æ•°ç»„æ‹†åˆ†ä¸º 26 ä¸ª ç¬¬ä¸€å±‚ 26 ä¸ªï¼Œç¬¬äºŒå±‚ã€ç¬¬ä¸‰å±‚ï¼Œç»§ç»­æ‹†åˆ†â€¦ æœ€åæŠŠå•è¯åº“æ‹†åˆ†ä¸ºä¸€é¢—æ ‘ 1234567891011121314// æ ‘ç»“æ„const wordsTree = { a: { a: {...} b: {...} }, b: { a: {...} }, c: { a: {...} } ...} æ•°å­—åƒåˆ†ä½æ ¼å¼åŒ– å°†æ•°å­—åƒåˆ†ä½æ ¼å¼åŒ–ï¼Œè¾“å‡ºå­—ç¬¦ä¸² å¦‚è¾“å…¥æ•°å­— 12050100ï¼Œè¾“å‡ºå­—ç¬¦ä¸² 12,050,100 (æ³¨æ„ï¼šé€†åºåˆ¤æ–­) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748/** * @param n * ä½¿ç”¨æ•°ç»„ */function format1(n: number): string { n = Math.floor(n); // åªè€ƒè™‘æ•´æ•° const reverseArr = n.toString().split('').reverse(); return reverseArr.reduce((prev, curr, index) =&gt; { if (index % 3 === 0) { if (prev) { return curr + ',' + prev; } else { return curr; } } else { return curr + prev; } }, '');}/** * @param n * ä½¿ç”¨å­—ç¬¦ä¸² */function format2(n: number): string { n = Math.floor(n); let res = ''; const str = n.toString(); const length = str.length; for (let i = length - 1; i &gt;= 0; i--) { const j = length - i; if (j % 3 === 0) { if (i === 0) { res = str[i] + res; } else { res = ',' + str[i] + res; } } else { res = str[i] + res; } } return res;} åˆ‡æ¢å­—æ¯å¤§å°å†™ è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ‡æ¢å…¶ä¸­å­—æ¯çš„å¤§å°å†™ å¦‚ï¼šè¾“å…¥å­—ç¬¦ä¸² 12aBc34ï¼Œè¾“å‡ºå­—ç¬¦ä¸² 12AbC34 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354/** * æ­£åˆ™è¡¨è¾¾å¼ * @param s */function switchLetterCase1(s: string): string { let res = ''; const length = s.length; if (length === 0) return res; const reg1 = /[a-z]/; const reg2 = /[A-Z]/; for (let i = 0; i &lt; length; i++) { const c = s[i]; if (reg1.test(c)) { res += c.toUpperCase(); } else if (reg2.test(c)) { res += c.toLowerCase(); } else { res += c; } } return res;}/** * ASCII ç¼–ç  * @param s */function switchLetterCase2(s: string): string { let res = ''; const length = s.length; if (length === 0) return res; const reg1 = /[a-z]/; const reg2 = /[A-Z]/; for (let i = 0; i &lt; length; i++) { const c = s[i]; const code = c.charCodeAt(0); if (code &gt;= 65 &amp;&amp; code &lt;= 90) { res += c.toLowerCase(); } else if (code &gt;= 97 &amp;&amp; code &lt;= 122) { res += c.toUpperCase(); } else { res += c; } } return res;} ä¸ºä½• 0.1+0.2 !==0.3? è®¡ç®—æœºä½¿ç”¨äºŒè¿›åˆ¶å­˜å‚¨æ•°æ® æ•´æ•°è½¬äºŒè¿›åˆ¶æ²¡æœ‰è¯¯å·® å°æ•°å¯èƒ½æ— æ³•ç”¨äºŒè¿›åˆ¶å‡†ç¡®è¡¨è¾¾ è¯·è¯´æ˜ ajaxã€fetchã€axios ä¸‰è€…çš„åŒºåˆ«ï¼Ÿ ajax(asynchronous javascript xml),ä¸€ç§æŠ€æœ¯ç»Ÿç§° fetchï¼Œä¸€ä¸ªå…·ä½“çš„ API axiosï¼Œç¬¬ä¸‰æ–¹åº“ https://axios-http.com/ èŠ‚æµå’Œé˜²æŠ–ï¼šä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿåˆ†åˆ«ç”¨äºä»€ä¹ˆåœºæ™¯ï¼Ÿ é˜²æŠ– ä¾‹å¦‚ï¼šä¸€ä¸ªæœç´¢è¾“å…¥æ¡†ï¼Œç­‰è¾“å…¥åœæ­¢åï¼Œå†å‡ºå‘æœç´¢ 123456789101112// é˜²æŠ–function debounce(fn, delay = 200) { let timer = 0; return function () { if (timer) clearTimeout(timer); timer = setTimeout(() =&gt; { fn.apply(this, arguments); }, delay); };} èŠ‚æµ drag æˆ– scroll æœŸé—´å‡ºå‘æŸä¸ªå›è°ƒï¼Œè¦è®¾ç½®ä¸€ä¸ªæ—¶é—´é—´éš” 123456789101112function throttle(fn, delay) { let timer = 0; return function () { if (timer) return; timer = setTimeout(() =&gt; { fn.apply(this, arguments); timer = 0; }, delay); };} px % em rem vw/vhæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ px åŸºæœ¬å•ä½ï¼Œæ˜¯ç»å¯¹å•ä½ï¼ˆå…¶ä»–çš„éƒ½æ˜¯ç›¸å¯¹å•ä½ï¼‰ % æ˜¯ç›¸å¯¹äºçˆ¶å…ƒç´ çš„å®½åº¦æ¯”ä¾‹ em ç›¸å¯¹äºå½“å‰å…ƒç´ çš„ font-size rem ç›¸å¯¹äºè·Ÿå…ƒç´ çš„ font-size vw å±å¹•å®½åº¦çš„ 1% vh å±å¹•é«˜åº¦çš„ 1% vmin å– vwã€vh ä¸¤è€…ä¸­çš„æœ€å°å€¼ vmax å– vwã€vh ä¸¤è€…ä¸­çš„æœ€å¤§å€¼ ç®­å¤´å‡½æ•° ç®­å¤´å‡½æ•°çš„ç‰¹ç‚¹ æ²¡æœ‰ arguments æ— æ³•é€šè¿‡ applyã€callã€bind æ”¹å˜ this æŸäº›è‚©å¤´å‡½æ•°ä»£ç éš¾ä»¥é˜…è¯» forâ€¦in å’Œ forâ€¦of æœ‰ä»€ä¹ˆåŒºåˆ« key å’Œ value forâ€¦in éå†å¾—åˆ° key forâ€¦of éå†å¾—åˆ° value é€‚ç”¨äºä¸åŒçš„æ•°æ®ç±»å‹ éå†å¯¹è±¡ï¼š forâ€¦in å¯ä»¥ï¼Œforâ€¦of ä¸å¯ä»¥ éå† Mapã€Setï¼šforâ€¦of å¯ä»¥ï¼Œforâ€¦in ä¸å¯ä»¥ éå† generatorï¼šforâ€¦of å¯ä»¥ï¼Œforâ€¦in ä¸å¯ä»¥ å¯æšä¸¾ vs å¯è¿­ä»£ forâ€¦in ç”¨äºå¯æšä¸¾ï¼ˆObject.getOwnPropertyDescriptors(obj)ï¼‰æ•°æ®ï¼Œå¦‚å¯¹è±¡ã€æ•°ç»„ã€å­—ç¬¦ä¸² forâ€¦of ç”¨äºå¯è¿­ä»£(arr[Symbol.iterator])æ•°æ®ï¼Œå¦‚æ•°ç»„ã€å­—ç¬¦ä¸²ã€Mapã€Set for awaitâ€¦of æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ for awaitâ€¦of ç”¨äºéå†å¤šä¸ª Promise 12345678910111213141516171819202122232425262728293031323334353637383940function createPromise(value) { return new Promise((resolve) =&gt; { setTimeout(() =&gt; { resolve(value); }, 1000); });}(async function () { const p1 = createPromise(100); const p2 = createPromise(200); const p3 = createPromise(300); const list = [p1, p2, p3]; const list2 = [100, 200, 300]; // ---------------åŒæ—¶è°ƒç”¨---------------- // æ–¹å¼ä¸€ // const res1 = await p1; // console.log(res1); // const res2 = await p2; // console.log(res2); // const res3 = await p3; // console.log(res3); // æ–¹å¼äºŒ // Promise.all(list).then((res) =&gt; console.log(res)); // æ–¹å¼ä¸‰ // for await (let res of list) { // console.log(res); // } // -----------------é€æ­¥è°ƒç”¨--------------- for (let value of list2) { const res = await createPromise(value); console.log(res); }})(); offsetHeightã€scrollHeightã€clientHeight åŒºåˆ«ï¼Ÿ offsetHeightã€offsetWidth: border + padding + content clientHeightã€clientWidth: padding + content scrollHeightã€scrollWidth: padding + å®é™…å†…å®¹å°ºå¯¸ HTMLCollection å’Œ NodeList åŒºåˆ«ï¼Ÿ Node å’Œ Element DOM æ˜¯ä¸€æ£µæ ‘ï¼Œæ‰€æœ‰èŠ‚ç‚¹éƒ½æ˜¯ Node Node æ˜¯ Element çš„åŸºç±» Element æ˜¯å…¶ä»– HTML å…ƒç´ çš„åŸºç±»ï¼Œå¦‚ HTMLDivElement HTMLCollection å’Œ NodeList HTMLCollection æ˜¯ Element çš„é›†åˆï¼ˆelem.childrenï¼‰ NodeList æ˜¯ Node é›†åˆï¼ˆelem.childNodesï¼‰ HTMLCollection ä¸ä¼šåŒ…å« Text å’Œ Comment èŠ‚ç‚¹ï¼ŒNodeList åˆ™ä¼šåŒ…å« HTMLCollection å’Œ NodeList éƒ½ä¸æ˜¯æ•°ç»„ï¼Œè€Œæ˜¯â€œç´¯æ•°ç»„â€ 1234// è½¬æ¢const arr1 = Array.from(list);const arr2 = Array.prototype.slice.call(list);const arr3 = [...list]; Vue ä¸­ computed å’Œ watch çš„åŒºåˆ«ï¼Ÿ ç”¨é€”ä¸åŒ computed ç”¨äºè®¡ç®—äº§ç”Ÿæ–°çš„æ•°æ®ï¼Œæœ‰ç¼“å­˜ watch ç”¨äºç›‘å¬ç°æœ‰æ•°æ® æ‰©å±•çŸ¥è¯† computed æœ‰ç¼“å­˜ methods æ²¡æœ‰ç¼“å­˜ Vue ç»„ä»¶é€šè®¯çš„æ–¹å¼ props å’Œ $emit è‡ªå®šä¹‰äº‹ä»¶ $attrs $parent $refs provide/inject vuex vuex mutation å’Œ action çš„åŒºåˆ«ï¼Ÿ mutation: åŒæ­¥ä»£ç  action: å¯åŒ…å«å¼‚æ­¥ä»£ç  JS ä¸¥æ ¼æ¨¡å¼æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ12345'use strict'; //å…¨å±€å¼€å¯function fn() { 'use strict'; // å±€éƒ¨å¼€å¯} ç‰¹ç‚¹ å…¨å±€å˜é‡å¿…é¡»å…ˆå£°æ˜ ç¦æ­¢ä½¿ç”¨ with this æŒ‡å‘ undefined è€Œä¸æ˜¯ window å‡½æ•°å‚æ•°ä¸èƒ½é‡å eval æœ‰å•ç‹¬ä½œç”¨åŸŸï¼Œä¸æ¨èä½¿ç”¨ HTTP è·¨åŸŸè¯·æ±‚äº‹ä¸ºä»€ä¹ˆå‘é€ options è¯·æ±‚ï¼Ÿ è·¨åŸŸè¯·æ±‚ æµè§ˆå™¨åŒæºç­–ç•¥ åŒæºç­–ç•¥ä¸€èˆ¬é™åˆ¶ ajax ç½‘ç»œè¯·æ±‚ï¼Œä¸èƒ½è·¨åŸŸè¯·æ±‚ server ä¸ä¼šé™åˆ¶&lt;link&gt; &lt;img&gt; &lt;script&gt; &lt;iframe&gt; åŠ è½½ç¬¬ä¸‰æ–¹èµ„æº 1234567891011// JSONP// client&lt;script&gt; window.onSuccess = function(data) { console.log(data) }&lt;/script&gt;&lt;script src=&quot;https://www.aaa.com/api/getData&quot;&gt;&lt;/script&gt;// server// https://www.aaa.com/api/getData è¿”å›ä¸€æ®µå­—ç¬¦ä¸²ï¼Œäº¤ç»™å‰ç«¯æ‰§è¡Œè¾¾åˆ°ä¼ é€’æ•°æ®çš„ç›®çš„'onSuccess({data: {/* æ•°æ®å†…å®¹ */}})' 12345678// CORS é…ç½®å…è®¸è·¨åŸŸï¼ˆæœåŠ¡ç«¯ï¼‰response.setHeader('Access-Control-Allow-Origin', 'http://localhost:8080'); // æˆ–è€… *response.setHeader('Access-Control-Allow-Headers', 'X-Requested-With');response.setHeader( 'Access-Control-Allow-Methods', 'PUT,POST,GET,DELETE,OPTIONS');response.setHeader('Access-Control-Allow-Credentials', 'true'); // å…è®¸è·¨åŸŸæ¥å—cookie ç­”æ¡ˆ options è¯·æ±‚ï¼Œæ˜¯è·¨åŸŸè¯·æ±‚ä¹‹å‰çš„é¢„æ£€æŸ¥ æµè§ˆå™¨è‡ªè¡Œå‘èµ·çš„ ä¸ä¼šå½±å“å®é™…çš„åŠŸèƒ½ JS å†…å­˜æ³„æ¼å¦‚ä½•æ£€æµ‹ï¼Ÿåœºæ™¯æœ‰å“ªäº›ï¼Ÿ åƒåœ¾å›æ”¶ GC å¼•ç”¨è®¡æ•° æ ‡è®°æ¸…é™¤ åœºæ™¯ æ„å¤–çš„å…¨å±€å˜é‡ é—å¿˜çš„å®šæ—¶å™¨ ä½¿ç”¨ä¸å½“çš„é—­åŒ… é—æ¼çš„ DOM å…ƒç´  ç½‘ç»œå›è°ƒ å†…å­˜æ³„æ¼å±äºéé¢„æœŸçš„ï¼Œé—­åŒ…æ˜¯ä¸»åŠ¨è¡Œä¸ºï¼Œé—­åŒ…éå†…å­˜æ³„æ¼ å¯ä»¥ä½¿ç”¨ chrome devtools çš„ performance å’Œ memory å·¥å…·ç±»æ£€æµ‹ js å†…å­˜ å‚è€ƒ vdom çœŸçš„å¾ˆå¿«å—ï¼Ÿ js ç›´æ¥æ“ä½œ dom æ‰æ˜¯æœ€å¿«çš„ï¼Œvdom å¹¶ä¸å¿« ä½†æ˜¯ vdom æ˜¯æœ€åˆé€‚â€œæ•°æ®é©±åŠ¨è§†å›¾â€çš„æŠ€æœ¯æ–¹æ¡ˆ éå†æ•°ç»„ï¼Œfor å’Œ forEach å“ªä¸ªå¿«ï¼Ÿ æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(n) ç»“è®ºï¼š for æ›´å¿« forEach æ¯æ¬¡éƒ½è¦åˆ›å»ºä¸€ä¸ªå‡½æ•°æ¥è°ƒç”¨ï¼Œè€Œ for ä¸ä¼šåˆ›å»ºå‡½æ•° å‡½æ•°éœ€è¦ç‹¬ç«‹çš„ä½œç”¨åŸŸï¼Œä¼šæœ‰é¢å¤–çš„å¼€é”€ nodejs å¦‚ä½•å¼€å¯è¿›ç¨‹ï¼Œè¿›ç¨‹å¦‚ä½•é€šè®¯ï¼Ÿ è¿›ç¨‹ process VS çº¿ç¨‹ thread è¿›ç¨‹ï¼š è¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„æœ€å°å•å…ƒï¼Œæœ‰ç‹¬ç«‹å†…å­˜ç©ºé—´ çº¿ç¨‹ï¼š è¿›è¡Œè¿ç®—è°ƒåº¦çš„æœ€å°å•å…ƒï¼Œå…±äº«è¿›ç¨‹å†…å­˜ç©ºé—´ js æ˜¯å•çº¿ç¨‹çš„ï¼Œä½†å¯ä»¥å¤šè¿›è¡Œæ‰§è¡Œï¼Œå¦‚ ã€WebWorker ä¸ºä½•éœ€è¦å¤šè¿›ç¨‹ï¼Ÿ å¤šæ ¸ CPUï¼Œæ›´é€‚åˆå¤„ç†å¤šè¿›ç¨‹ å†…å­˜è¾ƒå¤§ï¼Œå¤šä¸ªè¿›ç¨‹æ‰èƒ½æ›´å¥½çš„åˆ©ç”¨ï¼ˆå•è¿›ç¨‹æœ‰å†…å­˜ä¸Šçº¿ï¼‰ å¼€å¯è¿›ç¨‹ä¸¤ç§æ–¹æ³• child_process.forkï¼Œ cluster.fork 1234567891011121314151617181920212223242526// parent.jsconst http = require('http');const fork = require('child_process').fork;const server = http.createServer((req, res) =&gt; { if (req.url === '/xxx') { // å¼€å¯å­è¿›ç¨‹ const computeProcess = fork('./compute.js'); computeProcess.send('start'); computeProcess.on('message', (data) =&gt; { res.end('sum is' + data); }); computeProcess.on('close', () =&gt; { console.log('å­è¿›ç¨‹å› æŠ¥é”™è€Œé€€å‡º'); computeProcess.kill(); res.end('error'); }); }});server.listen(3000, () =&gt; { console.log('localhost: 3000 starting...');}); 12345678910111213141516171819// compute.jsfunction getSum() { let sum = 0; for (let i = 0; i &lt; 10000; i++) { sum += i; } return sum;}process.on('message', (data) =&gt; { console.log('å­è¿›ç¨‹id', process.pid); console.log('å­è¿›ç¨‹æ¥æ”¶åˆ°çš„æ•°æ®', data); const sum = getSum(); process.send(sum);}); 123456789101112131415161718192021const http = require('http');const cpuCoreLength = require('os').cpus().length;const cluster = require('cluster');if (cluster.isMaster) { for (let i = 0; i &lt; cpuCoreLength; i++) { cluster.fork(); // å¼€å¯å­è¿›ç¨‹ } cluster.on('exit', (worker) =&gt; { console.log('å­è¿›ç¨‹é€€å‡º'); cluster.fork(); // è¿›ç¨‹å®ˆæŠ¤ });} else { const server = http.createServer((req, res) =&gt; { res.writeHead(200); res.end('done'); }); server.listen(3000);} è¯·æè¿° JS Bridge çš„åŸç† ä»€ä¹ˆæ˜¯ JS Bridgeï¼Ÿ js æ— æ³•ç›´æ¥è°ƒç”¨ native API éœ€è¦é€šè¿‡ä¸€äº›ç‰¹å®šçš„â€œæ ¼å¼â€æ¥è°ƒç”¨ è¿™äº›â€œæ ¼å¼â€å°±ç»Ÿç§° JS-Bridgeï¼Œä¾‹å¦‚å¾®ä¿¡ JSSDK JS Bridge çš„å¸¸è§å®ç°æ–¹å¼ æ³¨å†Œå…¨å±€ API URL Scheme requestIdleCallback å’Œ requestAnimationFrame æœ‰ä»€ä¹ˆåŒºåˆ«ï¼ŸrequestIdleCallback(callback, timeout): Â· ä½ä¼˜å…ˆçº§ Â· å…¼å®¹æ€§ä¸å¥½ Â· æ‰§è¡Œæ—¶æœºï¼šæµè§ˆå™¨ç©ºé—²æ—¶è¢«è°ƒç”¨ Â· æŒ‡å®štimeoutï¼Œå›è°ƒä»»åŠ¡å°±ä¼šè¢«æ”¾è¿›äº‹ä»¶å¾ªç¯é˜Ÿåˆ—ï¼Œå¼ºåˆ¶æ‰§è¡Œï¼Œä½†æ˜¯ä¼šå½±å“æ€§èƒ½ requestAnimationFrame(callback): Â· é«˜ä¼˜å…ˆçº§ Â· æ‰§è¡Œæ—¶æœºï¼šä¸‹æ¬¡é‡ç»˜å‰æ‰§è¡Œä¼ å…¥çš„å›è°ƒå‡½æ•° - è¡¥å…… - ä¸¤è€…éƒ½æ˜¯å®ä»»åŠ¡(å…¶å®ä¹Ÿç®—ä¸ä¸Šï¼Œé‡è¦çš„æ˜¯æ‰§è¡Œæ—¶æœº) vue ç”Ÿå‘½å‘¨æœŸï¼Ÿ befroeCreate åˆ›å»ºä¸€ä¸ªç©ºç™½çš„ Vue å®ä¾‹ dataã€method å°šæœªè¢«åˆå§‹åŒ–ï¼Œä¸å¯ä½¿ç”¨ created vue å®ä¾‹åˆå§‹åŒ–å®Œæˆï¼Œå®Œæˆç›¸åº”å¼ç»‘å®š dataã€method éƒ½å·²ç»åˆå§‹åŒ–å®Œæˆï¼Œå¯ä»¥è°ƒç”¨ å°šæœªå¼€å§‹æ¸²æŸ“æ¨¡æ¿ beforeMount ç¼–è¯‘æ¨¡æ¿ï¼Œè°ƒç”¨ render ç”Ÿæˆ vdom è¿˜æ²¡æœ‰å¼€å§‹æ¸²æŸ“ DOM mounted å®Œæˆ DOM æ¸²æŸ“ ç»„ä»¶åˆ›å»ºå®Œæˆ å¼€å§‹ç”±â€œåˆ›å»ºé˜¶æ®µâ€è¿›å…¥â€œè¿è¡Œé˜¶æ®µâ€ beforeUpdate data å‘ç”Ÿå˜åŒ–ä¹‹å å‡†å¤‡æ›´æ–° DOM ï¼ˆå°šæœªæ›´æ–° DOMï¼‰ updated data å‘ç”Ÿå˜åŒ–ï¼Œä¸” DOM æ›´æ–°å®Œæˆ ä¸è¦åœ¨ updated ä¸­ä¿®æ”¹ dataï¼Œå¯èƒ½ä¼šå¯¼è‡´æ­»å¾ªç¯ beforeUnmount ç»„ä»¶è¿›å…¥é”€æ¯é˜¶æ®µï¼ˆå°šæœªé”€æ¯ï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼‰ å¯ç§»é™¤ã€è§£ç»‘ä¸€äº›å…¨å±€äº‹ä»¶ã€è‡ªå®šä¹‰äº‹ä»¶ unmounted ç»„ä»¶è¢«é”€æ¯äº† æ‰€æœ‰å­ç»„ä»¶ä¹Ÿè¢«é”€æ¯äº† è¿ç¯é—®ï¼švue ä»€ä¹ˆæ—¶å€™æ“ä½œ dom æ¯”è¾ƒåˆé€‚ï¼Ÿ mounted å’Œ updated éƒ½ä¸èƒ½ä¿è¯å­ç»„ä»¶å…¨éƒ¨æŒ‚è½½å®Œæˆ ä½¿ç”¨ $nextTick æ“ä½œ dom 12345mounted() { this.$nextTick(function() { // ä»…åœ¨æ•´ä¸ªè§†å›¾éƒ½è¢«æ¸²æŸ“ä¹‹åæ‰ä¼šè¿è¡Œçš„ä»£ç  })} è¿ç¯é—®ï¼šAjax åº”è¯¥æ”¾åœ¨é‚£ä¸ªç”Ÿå‘½å‘¨æœŸï¼Ÿ ä¸¤ä¸ªé€‰æ‹©ï¼šcreated å’Œ mounted æ¨èï¼šmounted vue3 composition API ç”Ÿå‘½å‘¨æœŸæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ setup ä»£æ›¿äº† beforeCreate å’Œ created ä½¿ç”¨ hooks å‡½æ•°çš„å½¢å¼ï¼Œå¦‚ mounted æ”¹ä¸º onMounted() Vue2ã€Vue3ã€React ä¸‰è€… diff ç®—æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ ä¸¥æ ¼çš„ Tree diff ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n*3) vueã€react æ¡†æ¶å¯¹ tree diff è¿›è¡Œäº†ä¼˜åŒ– O(n) åªæ¯”è¾ƒåŒä¸€å±‚çº§ï¼Œä¸è·¨çº§æ¯”è¾ƒ tag ä¸åŒåˆ™åˆ é™¤é‡å»º å­èŠ‚ç‚¹é€šè¿‡ key åŒºåˆ† vdom diff ç®—æ³•ä¼šæ ¹æ® key åˆ¤æ–­å…ƒç´ æ˜¯å¦éœ€è¦åˆ é™¤ åŒ¹é…äº† keyï¼Œåˆ™åªç§»åŠ¨å…ƒç´  - æ€§èƒ½è¾ƒå¥½ æœªåŒ¹é… keyï¼Œåˆ™åˆ é™¤é‡å»º - æ€§èƒ½è¾ƒå·® åŒºåˆ« react ä»…å³ç§» vue2 åŒç«¯æ¯”è¾ƒ vue3 æœ€é•¿é€’å¢å­åºåˆ— Vue-router ä¸‰ç§æ¨¡å¼ï¼ˆReact-router ä¹Ÿä¸€æ ·ï¼‰ Hash WebHistory MemoryHistoryï¼ˆv4 ä¹‹å‰å«åš abstract historyï¼‰ ç§»åŠ¨ç«¯ H5 click æœ‰ 300ms å»¶è¿Ÿï¼Œå¦‚ä½•è§£å†³ï¼Ÿ èƒŒæ™¯ï¼šdouble tap to zoom åˆæœŸè§£å†³æ–¹æ¡ˆ FastClick ç›‘å¬ touchend äº‹ä»¶(touchstart touchend ä¼šå…ˆäº click è§¦å‘) ä½¿ç”¨è‡ªå®šä¹‰ DOM äº‹ä»¶æ¨¡æ‹Ÿä¸€ä¸ª click äº‹ä»¶ æŠŠé»˜è®¤çš„ click äº‹ä»¶(300ms ä¹‹åè§¦å‘)ç¦æ­¢æ‰ 1234567window.addEventListener( 'load', function () { FastClick.attach(document.body); }, false); ç°ä»£æµè§ˆå™¨çš„æ”¹è¿›ï¼ˆwidth=device-widthï¼‰ 123456&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1.0&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;id=edge&quot;&gt; &lt;title&gt;title&lt;/title&gt;&lt;/head&gt; ç½‘ç»œè¯·æ±‚ä¸­ï¼Œtoken å’Œ cookie æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ cookie http æ— çŠ¶æ€ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½è¦å¸¦ cookieï¼Œä»¥å¸®åŠ©è¯†åˆ«èº«ä»½ æœåŠ¡ç«¯ä¹Ÿå¯ä»¥å‘å®¢æˆ·ç«¯ set-cookieï¼Œcookie å¤§å°é™åˆ¶ 4kb é»˜è®¤æœ‰è·¨åŸŸé™åˆ¶ï¼šä¸å¯è·¨åŸŸå…±äº«ã€ä¼ é€’ cookie token vs cookie cookie æ˜¯ http è§„èŒƒï¼Œè€Œ token æ˜¯è‡ªå®šä¹‰ä¼ é€’ cookie ä¼šé»˜è®¤è¢«æµè§ˆå™¨å­˜å‚¨ï¼Œè€Œ token éœ€è‡ªå·±å­˜å‚¨ token é»˜è®¤æ²¡æœ‰è·¨åŸŸé™åˆ¶ JWT(JSON Web Token) å‰ç«¯å‘èµ·ç™»å½•ï¼Œåç«¯éªŒè¯æˆåŠŸä¹‹åï¼Œè¿”å›ä¸€ä¸ªåŠ å¯†çš„ token å‰ç«¯è‡ªè¡Œå­˜å‚¨è¿™ä¸ª tokenï¼ˆå…¶ä¸­åŒ…å«äº†ç”¨æˆ·ä¿¡æ¯ï¼ŒåŠ å¯†äº†ï¼‰ ä»¥åè®¿é—®æœåŠ¡ç«¯çš„æ¥å£ï¼Œéƒ½å¸¦ç€è¿™ä¸ª tokenï¼Œä½œä¸ºç”¨æˆ·ä¿¡æ¯ Session å’Œ JWT å“ªä¸ªæ›´å¥½ï¼Ÿ session ä¼˜ç‚¹ åŸç†ç®€å•ï¼Œæ˜“äºå­¦ä¹  ç”¨æˆ·ä¿¡æ¯å­˜å‚¨åœ¨æœåŠ¡ç«¯ï¼Œå¯ä»¥å¿«é€Ÿå°ç¦æŸä¸ªç”¨æˆ· ç¼ºç‚¹ å ç”¨æœåŠ¡ç«¯å†…å­˜ï¼Œç¡¬ä»¶æˆæœ¬é«˜ å¤šè¿›ç¨‹ï¼Œå¤šæœåŠ¡å™¨æ—¶ï¼Œä¸å¥½åŒæ­¥-éœ€è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹ç¼“å­˜ï¼Œå¦‚ redis é»˜è®¤æœ‰è·¨åŸŸé™åˆ¶ JWT ä¼˜ç‚¹ ä¸å ç”¨æœåŠ¡å™¨å†…å­˜ å¤šè¿›ç¨‹ã€å¤šæœåŠ¡å™¨ä¸å—å½±å“ æ²¡æœ‰è·¨åŸŸé™åˆ¶ ç¼ºç‚¹ ç”¨æˆ·ä¿¡æ¯å­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œæ— æ³•å¿«é€Ÿå°ç¦æŸç”¨æˆ· ä¸‡ä¸€æœåŠ¡å™¨å¯†é’¥è¢«æ³„æ¼ï¼Œåˆ™ç”¨æˆ·ä¿¡æ¯å…¨éƒ¨ä¸¢å¤± token ä½“ç§¯ä¸€èˆ¬å¤§äº cookieï¼Œä¼šå¢åŠ è¯·æ±‚çš„æ•°æ®é‡ ç­”æ¡ˆ å¦‚æœ‰ä¸¥æ ¼ç®¡ç†ç”¨æˆ·ä¿¡æ¯çš„éœ€æ±‚ï¼ˆä¿å¯†ã€å¿«é€Ÿå°ç¦ï¼‰ï¼Œæ¨è session å¦‚æ²¡æœ‰ç‰¹æ®Šè¦æ±‚ï¼Œåˆ™ä½¿ç”¨ JWT å¦‚ä½•å®ç° SSO å•ç‚¹ç™»å½•ï¼Ÿ åŸºäº cookieï¼ˆä¸»åŸŸåç›¸åŒï¼‰ cookie é»˜è®¤ä¸å¯è·¨åŸŸå…±äº«ï¼Œä½†æœ‰äº›æƒ…å†µä¸‹å¯è®¾ç½®å…±äº« ä¸»åŸŸåç›¸åŒï¼Œå¦‚www.baidu.com,image.baidu.com è®¾ç½® cookie domain ä¸ºä¸»åŸŸåï¼Œå³å¯å…±äº« cookie SSOï¼ˆä¸»åŸŸåä¸ç›¸åŒï¼Œcookie æ— æ³•å…±äº«ï¼‰ HTTP åè®®å’Œ UDP åè®®æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ ç½‘ç»œåè®® HTTP åè®®åœ¨åº”ç”¨å±‚ TCPã€UDP åè®®åœ¨ä¼ è¾“å±‚ TCP åè®® æœ‰è¿æ¥ï¼Œæœ‰æ–­å¼€ ç¨³å®šä¼ è¾“ UDP åè®® æ— è¿æ¥ï¼Œæ— æ–­å¼€ ä¸ç¨³å®šä¼ è¾“ï¼Œä½†æ•ˆç‡é«˜ å¦‚è§†é¢‘ä¼šè®®ã€è¯­éŸ³é€šè¯ HTTP åè®® 1.0ã€1.1ã€2.0 æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ HTTP 1.0 æœ€åŸºç¡€çš„ HTTP åè®® æ”¯æŒåŸºæœ¬çš„ GETã€POST æ–¹æ³• HTTP 1.1 ç¼“å­˜ç­–ç•¥ cache-controlã€E-tag ç­‰ æ”¯æŒé•¿è¿æ¥ Connection: keep-alive,ä¸€æ¬¡ TCP è¿æ¥å¤šæ¬¡è¯·æ±‚ æ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼ŒçŠ¶æ€ç  206 æ”¯æŒæ–°çš„æ–¹æ³• PUTã€DELETE ç­‰ï¼Œå¯ç”¨äº Restful API HTTP 2.0 å¯å‹ç¼© headerï¼Œå‡å°‘ä½“ç§¯ å¤šè·¯å¤ç”¨ï¼Œä¸€æ¬¡ TCP è¿æ¥ä¸­å¯ä»¥å¤šä¸ª HTTP å¹¶è¡Œè¯·æ±‚ æœåŠ¡ç«¯æ¨é€ ä»€ä¹ˆæ˜¯ HTTPS ä¸­é—´äººæ”»å‡»ï¼Ÿå¦‚ä½•é¢„é˜²ï¼Ÿ HTTPS åŠ å¯†ä¼ è¾“ HTTP æ˜æ–‡ä¼ è¾“ HTTPS åŠ å¯†ä¼ è¾“ HTTP + TLS/SSL ç­”æ¡ˆ ä½¿ç”¨æ­£è§„å‚å•†çš„åŠ å¯†è¯ä¹¦å¯ä»¥é˜²æ­¢ä¸­é—´äººæ”»å‡» defer å’Œ async æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ åŒºåˆ« prefetch å’Œ dns-prefetch æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ preload èµ„æºåœ¨å½“å‰é¡µé¢ä½¿ç”¨ï¼Œä¼šä¼˜å…ˆåŠ è½½ prefetch èµ„æºåœ¨æœªæ¥é¡µé¢ä½¿ç”¨ï¼Œç©ºé—²æ—¶åŠ è½½ 1234&lt;head&gt; &lt;link rel=&quot;preload&quot; href=&quot;style.css&quot; as=&quot;style&quot; /&gt; &lt;link rel=&quot;prefetch&quot; href=&quot;other.js&quot; as=&quot;script&quot; /&gt;&lt;/head&gt; dns-prefetch å³ DNS é¢„æŸ¥è¯¢ preconnect å³ DNS é¢„è¿æ¥ 1234&lt;head&gt; &lt;link rel=&quot;dns-prefetch&quot; href=&quot;https://www.xxx.com/&quot; /&gt; &lt;link rel=&quot;preconnect&quot; href=&quot;https://www.xxx.com&quot; /&gt;&lt;/head&gt; Map å’Œ WeakMap çš„åŒºåˆ«å’Œåº”ç”¨åœºæ™¯ï¼Ÿ Mapï¼š key å¯ä»¥æ˜¯ä»»æ„æ•°æ®ç±»å‹ key æ˜¯å¼ºå¼•ç”¨ï¼Œåªè¦é”®ä¸é‡Šæ”¾ï¼Œå°±ä¼šä¸€ç›´å ç€å†…å­˜ä¸ä¼šè¢« GC èƒ½è½»æ˜“è½¬åŒ–ä¸ºæ•°æ®ï¼ˆæ‰©å±•è¿ç®—ç¬¦ï¼‰ï¼Œweakmap åšä¸åˆ° WeakMap: key åªèƒ½æ˜¯é null çš„å¯¹è±¡å¼•ç”¨ key æ˜¯å¼±å¼•ç”¨ï¼Œæ²¡æœ‰å…¶ä»–å¼•ç”¨å­˜åœ¨æ—¶ä¼šè¢« GC key éšæ—¶ä¼šè¢«å›æ”¶ï¼Œæ‰€ä»¥ key ä¸å¯æšä¸¾ï¼Œæ²¡æœ‰ size ç­‰å±æ€§ Map åœºæ™¯ï¼š é¢‘ç¹çš„è¯»å†™å’ŒæŸ¥è¯¢ é”®å€¼å¤æ‚çš„æƒ…å†µ ä½ çŸ¥é“å“ªäº›å‰ç«¯æ”»å‡»ï¼Ÿè¯¥å¦‚ä½•é¢„é˜²ï¼Ÿ xss Cross Site Script è·¨ç«™è„šæœ¬æ”»å‡» æ‰‹æ®µï¼šå°† js ä»£ç æ’å…¥åˆ°ç½‘é¡µå†…å®¹ä¸­ï¼Œæ¸²æŸ“æ—¶æ‰§è¡Œ js ä»£ç  é¢„é˜²ï¼šç‰¹æ®Šå­—ç¬¦æ›¿æ¢ï¼ˆå‰ç«¯æˆ–åç«¯ï¼‰ csrf Cross Site Request Forgery è·¨ç«™è¯·æ±‚ä¼ªé€  æ‰‹æ®µï¼šè¯±å¯¼ç”¨æˆ·å»è®¿é—®å¦ä¸€ä¸ªç½‘ç«™çš„æ¥å£ï¼Œä¼ªé€ è¯·æ±‚ é¢„é˜²ï¼šä¸¥æ ¼çš„è·¨åŸŸé™åˆ¶ + éªŒè¯ç æœºåˆ¶ csrf è¯¦ç»†è¿‡ç¨‹ ç”¨æˆ·ç™»å½• A ç½‘ç«™ï¼Œæœ‰äº† A ç½‘ç«™çš„ cookie è¯±å¯¼ç”¨æˆ·åˆ° B ç½‘ç«™ï¼Œå¹¶å‘èµ· A ç½‘ç«™çš„è¯·æ±‚ A ç½‘ç«™çš„ API å‘ç°æœ‰ cookieï¼Œè®¤ä¸ºæ˜¯ç”¨æˆ·è‡ªå·±æ“ä½œçš„ csrf é¢„é˜²æ‰‹æ®µ ä¸¥æ ¼çš„è·¨åŸŸè¯·æ±‚é™åˆ¶ï¼Œå¦‚åˆ¤æ–­ refererï¼ˆè¯·æ±‚æ¥æºï¼‰ ä¸º cookie è®¾ç½® SameSiteï¼Œç¦æ­¢è·¨åŸŸä¼ é€’ cookie å…³é”®æ¥å£ä½¿ç”¨çŸ­ä¿¡éªŒè¯ç  ç‚¹å‡»åŠ«æŒ click jacing æ‰‹æ®µï¼šè¯±å¯¼ç•Œé¢ä¸Šè’™ä¸€ä¸ªé€æ˜ iframeï¼Œè¯±å¯¼ç”¨æˆ·ç‚¹å‡» é¢„é˜²ï¼šè®© iframe ä¸èƒ½è·¨åŸŸåŠ è½½ DDos Distribute denial-of-service åˆ†å¸ƒå¼æ‹’ç»æœåŠ¡ æ‰‹æ®µï¼šåˆ†å¸ƒå¼çš„ã€å¤§è§„æ¨¡çš„æµé‡è®¿é—®ï¼Œä½¿æœåŠ¡å™¨ç˜«ç—ª é¢„é˜²ï¼šè½¯ä»¶å±‚ä¸å¥½åšï¼Œéœ€ç¡¬ä»¶é¢„é˜²ï¼ˆå¦‚é˜¿é‡Œäº‘ WAFï¼‰ SQL æ³¨å…¥ æ‰‹æ®µï¼šæäº¤å†…å®¹æ—¶å†™å…¥ SQL è¯­å¥ï¼Œç ´ç¯æ•°æ®åº“ é¢„é˜²ï¼šå¤„ç†è¾“å…¥çš„å†…å®¹ï¼Œæ›¿æ¢ç‰¹æ®Šå­—ç¬¦ WebSocket å’Œ HTTP æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ WebSocket æ”¯æŒç«¯å¯¹ç«¯é€šè®¯ å¯ä»¥ç”± client å‘èµ·ï¼Œä¹Ÿå¯ä»¥ç”± server å‘èµ· ç”¨äºï¼šæ¶ˆæ¯é€šçŸ¥ï¼Œç›´æ’­é—´è®¨è®ºåŒºï¼ŒèŠå¤©å®¤ï¼ŒååŒç¼–è¾‘ client 1234567891011121314const { WebSocketServer } = require('ws');const wsServer = new WebSocketServer({ port: 3000 });wsServer.on('connection', (ws) =&gt; { console.log('connection'); ws.on('message', (msg) =&gt; { console.log('æ”¶åˆ°äº†ä¿¡æ¯', msg.toString()); setTimeout(() =&gt; { ws.send('æœåŠ¡ç«¯å·²ç»æ”¶åˆ°äº†ä¿¡æ¯' + msg.toString()); }, 2000); });}); server 1234567891011121314const ws = new WebSocket('ws://127.0.0.1:3000');ws.onopen = () =&gt; { console.log('opened'); ws.send('client opened');};ws.onmessage = (event) =&gt; { console.log('æ”¶åˆ°äº†ä¿¡æ¯', event.data);};const btn = document.getElementById('btn');btn.addEventListener('click', () =&gt; { console.log('clicked'); ws.send('å½“å‰æ—¶é—´' + Date.now());}); WebSocket è¿æ¥è¿‡ç¨‹ å…ˆå‘èµ·ä¸€ä¸ª http è¯·æ±‚ æˆåŠŸä¹‹åå†å‡çº§åˆ° WebSocket åè®®ï¼Œå†é€šè®¯ WebSocket å’Œ HTTP åŒºåˆ«ï¼Ÿ WebSocket åè®®åæ˜¯ ws://,å¯åŒç«¯å‘èµ·è¯·æ±‚ WebSocket æ²¡æœ‰è·¨åŸŸé™åˆ¶ é€šè¿‡ send å’Œ onmessage é€šè®¯ï¼ˆHTTP é€šè¿‡ req å’Œ resï¼‰ ws å¯å‡çº§ä¸º wssï¼ˆlike httpsï¼‰ 12345678910import { createServer } from 'https';import { readFileSync } from 'fs';import { WebSocketServer } from 'ws';const server = createServer({ cert: readFileSync('/path/to/cert.pem'), key: readFileSync('/path/to/key.pem'),});const wss = new WebSocketServer({ server }); å®é™…é¡¹ç›®æ¨è socket.io,API æ›´ç®€æ´ WebSocket å’Œ HTTP é•¿è½®è¯¢çš„åŒºåˆ«ï¼Ÿ åŒºåˆ« HTTP é•¿è½®è¯¢ï¼šå®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ï¼ŒæœåŠ¡ç«¯é˜»å¡ï¼Œä¸ä¼šç«‹å³è¿”å› WebSocketï¼šå®¢æˆ·ç«¯å¯å‘èµ·è¯·æ±‚ï¼ŒæœåŠ¡ç«¯ä¹Ÿå¯å‘èµ·è¯·æ±‚ æ³¨æ„ HTTP é•¿è½®è¯¢ï¼Œéœ€å¤„ç† timeoutï¼Œå³ timeout ä¹‹åé‡æ–°å‘è¯·æ±‚ æè¿°ä»è¾“å…¥ url åˆ°é¡µé¢å±•ç¤ºçš„å®Œæ•´è¿‡ç¨‹ ç½‘ç»œè¯·æ±‚ DNS æŸ¥è¯¢ï¼ˆå¾—åˆ° IPï¼‰ï¼Œå»ºç«‹ TCP è¿æ¥ï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰ æµè§ˆå™¨å‘èµ· HTTP è¯·æ±‚ æ”¶åˆ°è¯·æ±‚å“åº”ï¼Œå¾—åˆ° HTML æºä»£ç  è§£æï¼ˆå­—ç¬¦ä¸² -&gt; ç»“æ„åŒ–æ•°æ®ï¼‰ HTML æ„å»º DOM æ ‘ CSS æ„å»º CSSOM æ ‘ï¼ˆstyle treeï¼‰ ä¸¤è€…ç»“åˆï¼Œå½¢æˆ render tree æ¸²æŸ“ï¼ˆrender tree ç»˜åˆ¶åˆ°é¡µé¢ï¼‰ è®¡ç®—å„ä¸ª DOM çš„å°ºå¯¸ã€å®šä½ï¼Œæœ€åç»˜åˆ¶åˆ°é¡µé¢ é‡åˆ° js å¯èƒ½ä¼šæ‰§è¡Œï¼ˆå‚è€ƒ deferã€asyncï¼‰ å¼‚æ­¥ CSSã€å›¾ç‰‡åŠ è½½ï¼Œå¯èƒ½ä¼šè§¦å‘é‡æ–°æ¸²æŸ“ é‡ç»˜ repaint é‡æ’ reflow æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ é‡ç»˜ repaint å…ƒç´ å¤–è§‚æ”¹å˜ï¼Œå¦‚é¢œè‰²ã€èƒŒæ™¯è‰² ä½†å…ƒç´ çš„å°ºå¯¸ã€å®šä½ä¸å˜ï¼Œä¸ä¼šå½±å“åˆ°å…¶ä»–å…ƒç´ çš„ä½ç½® é‡æ’ relfow é‡æ–°è®¡ç®—å°ºå¯¸å’Œå¸ƒå±€ï¼Œå¯èƒ½ä¼šå½±å“å…¶ä»–å…ƒç´ çš„ä½ç½® å¦‚å…ƒç´ é«˜åº¦å¢åŠ ï¼Œå¯èƒ½ä¼šä½¿ç›¸é‚»å…ƒç´ ä½ç½®ä¸‹ç§» åŒºåˆ« é‡æ’æ¯”é‡ç»˜å½±å“æ›´å¤§ï¼Œæ¶ˆè€—æ›´å¤§ æ‰€ä»¥ï¼Œè¦å°½é‡é¿å…æ— æ„ä¹‰çš„é‡æ’ å‡å°‘é‡æ’çš„æ–¹æ³• é›†ä¸­ä¿®æ”¹æ ·å¼ï¼Œæˆ–ç›´æ¥åˆ‡æ¢ cssã€class ä¿®æ”¹ä¹‹å‰å…ˆè®¾ç½® display: none,è„±ç¦»æ–‡æ¡£æµ ä½¿ç”¨ BFC ç‰¹æ€§ï¼Œä¸å½±å“å…¶ä»–å…ƒç´ ä½ç½® é¢‘å‘è§¦å‘ï¼ˆresizeã€scrollï¼‰ä½¿ç”¨èŠ‚æµå’Œé˜²æŠ– ä½¿ç”¨ createDocumentFragment æ‰¹é‡æ“ä½œ DOM ä¼˜åŒ–åŠ¨ç”»ï¼Œä½¿ç”¨ CSS3 å’Œ requestAnimationFrame å¦‚ä½•å®ç°ç½‘é¡µå¤šæ ‡ç­¾é€šè®¯ï¼Ÿ ä½¿ç”¨ WebSocket æ— è·¨åŸŸé™åˆ¶ éœ€è¦æœåŠ¡ç«¯æ”¯æŒï¼Œæˆæœ¬é«˜ localStorageï¼ˆè·¨åŸŸä¸å…±äº«ï¼‰ åŒåŸŸçš„ A å’Œ B ä¸¤ä¸ªé¡µé¢ A é¡µé¢è®¾ç½® localStorage B é¡µé¢å¯ç›‘å¬åˆ° localStorage å€¼çš„ä¿®æ”¹ SharedWorker(å¿…é¡»åŒåŸŸ) SharedWorker æ˜¯ WebWorker çš„ä¸€ç§ WebWorker å¯å¼€å¯å­è¿›ç¨‹æ‰§è¡Œ JSï¼Œä½†ä¸èƒ½æ“ä½œ DOM SharedWorker å¯å•ç‹¬å¼€å¯ä¸€ä¸ªè¿›ç¨‹ï¼Œç”¨äºåŒåŸŸé¡µé¢é€šè®¯ ç½‘é¡µå’Œ iframe å¦‚ä½•é€šè®¯ï¼Ÿ ä½¿ç”¨ postMessage é€šè®¯ æ³¨æ„è·¨åŸŸçš„é™åˆ¶å’Œåˆ¤æ–­ 123456789// çˆ¶ä¼ å­window.iframe1.contentWindow.postMessage('hello', '*');// å­ä¼ çˆ¶window.parent.postMessage('world', '*');// æ¥æ”¶window.addEventListener('message', (event) =&gt; { console.log(event.origin); console.log(event.data);}); è¯·æè¿° koa2 æ´‹è‘±åœˆæ¨¡å‹ï¼Ÿ koa2 ä¸€ä¸ªç®€çº¦ã€æµè¡Œçš„ nodejs æ¡†æ¶ é€šè¿‡ä¸­é—´ä»¶ç»„ç»‡ä»£ç  å¤šä¸ªä¸­é—´ä»¶ä»¥â€œæ´‹è‘±åœˆæ¨¡å‹â€æ‰§è¡Œ ä»£ç æ‰§è¡Œè¿‡ç¨‹ æ´‹è‘±åœˆæ¨¡å‹(ç±»ä¼¼æ•è·å†’æ³¡) H5 é¡µé¢å¦‚ä½•è¿›è¡Œé¦–å±ä¼˜åŒ–ï¼Ÿ è·¯ç”±æ‡’åŠ è½½ é€‚ç”¨äº SPA è·¯ç”±æ‹†åˆ†ï¼Œä¼˜å…ˆä¿è¯é¦–é¡µåŠ è½½ æœåŠ¡ç«¯æ¸²æŸ“ SSR ä¼ ç»Ÿå‰åç«¯åˆ†ç¦»ï¼ˆSPAï¼‰æ¸²æŸ“é¡µé¢çš„è¿‡ç¨‹å¤æ‚ SSR æ¸²æŸ“é¡µé¢è¿‡ç¨‹ç®€å•ï¼Œæ‰€æœ‰æ€§èƒ½å¥½ å¦‚æœæ˜¯çº¯ H5 é¡µé¢ï¼ŒSSR æ˜¯æ€§èƒ½ä¼˜åŒ–çš„ç»ˆææ–¹æ¡ˆ App é¢„å– å¦‚æœ H5 åœ¨ App WebView ä¸­å±•ç¤ºï¼Œå¯ä½¿ç”¨ App é¢„å– ç”¨æˆ·è®¿é—®åˆ—è¡¨é¡µé¢æ—¶ï¼ŒApp é¢„åŠ è½½æ–‡ç« é¦–å±å†…å®¹ ç”¨æˆ·è¿›å…¥ H5 é¡µé¢ï¼Œç›´æ¥ä» App ä¸­è·å–å†…å®¹ï¼Œç¬é—´å±•ç¤ºé¦–å± åˆ†é¡µ é’ˆå¯¹åˆ—è¡¨é¡µ é»˜è®¤åªå±•ç¤ºç¬¬ä¸€é¡µå†…å®¹ ä¸Šæ»‘åŠ è½½æ›´å¤š å›¾ç‰‡æ‡’åŠ è½½ lazyload é’ˆå¯¹è¯¦æƒ…é¡µ é»˜è®¤åªå±•ç¤ºæ–‡æœ¬å†…å®¹ï¼Œç„¶åå‡ºå‘å›¾ç‰‡æ‡’åŠ è½½ æ³¨æ„ï¼šæå‰è®¾ç½®å›¾ç‰‡å°ºå¯¸ï¼Œå°½é‡åªé‡ç»˜ä¸é‡æ’ Hybrid æå‰å°† HTMLã€JSã€CSS ä¸‹è½½åˆ° App å†…éƒ¨ åœ¨ App webview ä¸­ä½¿ç”¨ fileï¼š// åè®®åŠ è½½é¡µé¢æ–‡ä»¶ å†ç”¨ Ajax è·å–å†…å®¹å¹¶å±•ç¤ºï¼ˆä¹Ÿç»“åˆ App é¢„å–ï¼‰ åç«¯ä¸€æ¬¡æ€§è¿”å› 10w æ¡æ•°æ®ï¼Œä½ è¯¥å¦‚ä½•æ¸²æŸ“ï¼Ÿ è®¾è®¡ä¸åˆç†ï¼Œå»ç äº†åç«¯ è‡ªå®šä¹‰ä¸­é—´å±‚ è‡ªå®šä¹‰ nodejs ä¸­é—´å±‚ï¼Œè·å–å¹¶æ‹†åˆ†è¿™ 10w æ¡æ•°æ® å‰ç«¯å¯¹æ¥ nodejs ä¸­é—´å±‚ï¼Œè€Œä¸æ˜¯æœåŠ¡ç«¯ æˆæœ¬æ¯”è¾ƒé«˜ è™šæ‹Ÿåˆ—è¡¨ åªæ¸²æŸ“å¯è§†åŒºåŸŸ React éƒ½æœ‰å“ªäº›æ³¨æ„ç‚¹ï¼ˆå‘ï¼‰ï¼Ÿ è‡ªå®šä¹‰ç»„ä»¶é¦–å­—æ¯å¤§å†™ js å…³é”®å­—çš„å†²çªï¼ˆhtmlForã€classNameï¼‰ JSX çš„æ•°æ®ç±»å‹ 12&lt;Demo value={1} /&gt; // number&lt;Demo value=&quot;1&quot; /&gt; // string setState æ˜¯å¼‚æ­¥æ›´æ–°çš„ 123456789this.setState( { num: this.state.num + 1, }, () =&gt; { console.log(this.state.num); // æ­£ç¡® });console.log(this.state.num); // é”™è¯¯ å¦‚ä½•ç»Ÿä¸€ç›‘å¬ Vue ç»„ä»¶æŠ¥é”™ï¼Ÿ window.onerror å…¨å±€ç›‘å¬æ‰€æœ‰ js é”™è¯¯ tryâ€¦catch ä¸­çš„é”™è¯¯æ— æ³•è¢«ç›‘å¬åˆ° 1234567window.onerror = function (msg, source, line, column, error) { console.log(msg, source, line, column, error);};// orwindow.addEventListener('error', (event) =&gt; { console.log(event);}); errorCaptured ç”Ÿå‘½å‘¨æœŸ ç›‘å¬æ‰€æœ‰ä¸‹çº§ç»„ä»¶çš„é”™è¯¯ è¿”å› false ä¼šé˜»æ­¢å‘ä¸Šä¼ æ’­ errorHandler é…ç½® Vue å…¨å±€é”™è¯¯ç›‘å¬ï¼Œæ‰€æœ‰ç»„ä»¶é”™è¯¯éƒ½ä¼šæ±‡æ€»åˆ°è¿™é‡Œ ä½† errorCaptured è¿”å› falseï¼Œä¸ä¼šä¼ æ’­åˆ°è¿™é‡Œ 123app.config.errorHandler = (err, vm, info) =&gt; { console.log(error, vm, info);}; å¼‚æ­¥é”™è¯¯ å¼‚æ­¥å›è°ƒé‡Œé¢çš„é”™è¯¯ï¼ŒerrorHandler ç›‘å¬ä¸åˆ° éœ€è¦ä½¿ç”¨ window.onerror å¦‚ä½•ç»Ÿä¸€ç›‘å¬ React æŠ¥é”™ï¼Ÿ ErrorBoundary ç»„ä»¶ ç›‘å¬æ‰€æœ‰ä¸‹çº§ç»„ä»¶æŠ¥é”™ï¼Œå¯é™çº§å±•ç¤º UI åªç›‘å¬ç»„ä»¶æ¸²æŸ“æ—¶æŠ¥é”™ï¼Œä¸ç›‘å¬ DOM äº‹ä»¶ã€å¼‚æ­¥é”™è¯¯ ä¸ç›‘å¬ DOM äº‹ä»¶æŠ¥é”™ï¼Œå¯ç”¨ tryâ€¦catch,window.onerror åªåœ¨ production ç¯å¢ƒç”Ÿæ•ˆï¼Œdev ä¼šç›´æ¥æŠ›å‡ºé”™è¯¯ 12345678910111213141516171819202122232425262728class ErrorBoundary extends React.Component { constructor(props) { super(props); this.state = { error: null, }; } static getDerivedStateFromError(error) { // æ›´æ–°stateï¼Œæ˜¾ç¤ºé™çº§UI console.log(error); return { error }; } componentDidCatch(error, errorInfo) { // ç»Ÿè®¡ä¸ŠæŠ¥é”™è¯¯ä¿¡æ¯ console.log(error, errorInfo); } render() { if (this.state.error) { return &lt;h1&gt;æŠ¥é”™äº†&lt;/h1&gt;; } return this.props.children; }} å¦‚æœä¸€ä¸ª H5 å¾ˆæ…¢ï¼Œä½ è¯¥å¦‚ä½•æ’æŸ¥æ€§èƒ½é—®é¢˜ï¼Ÿ å‰ç«¯æ€§èƒ½æŒ‡æ ‡ First Paintï¼ˆFPï¼‰ First ContentFul Paintï¼ˆFCPï¼‰ DomContentLoadedï¼ˆDCLï¼‰ Largest Contentful Paintï¼ˆLCPï¼‰ Loadï¼ˆLï¼‰ Chrome devtools Performance å¯æŸ¥çœ‹ä¸Šè¿°æ€§èƒ½æŒ‡æ ‡ï¼Œå¹¶æœ‰ç½‘é¡µå¿«ç…§ Network å¯ä»¥æŸ¥çœ‹å„ä¸ªèµ„æºçš„åŠ è½½æ—¶é—´ lighthouseï¼ˆç¬¬ä¸‰æ–¹æ€§èƒ½è¯„æµ‹å·¥å…·ï¼‰ 12// terminallighthouse https://www.imooc.com/ --view --preset=desktop é€šè¿‡ä»¥ä¸Šå·¥å…·æ¥åˆ¤è¯»æ˜¯åŠ è½½æ…¢è¿˜æ˜¯æ¸²æŸ“æ…¢ åŠ è½½æ…¢ ä¼˜åŒ–æœåŠ¡ç«¯ç¡¬ä»¶é…ç½®ï¼Œä½¿ç”¨ CDN è·¯ç”±æ‡’åŠ è½½ï¼Œå¤§ç»„ä»¶å¼‚æ­¥åŠ è½½-å‡å°‘ä¸»åŒ…çš„ä½“ç§¯ ä¼˜åŒ– http ç¼“å­˜ç­–ç•¥ æ¸²æŸ“æ…¢ ä¼˜åŒ–æœåŠ¡ç«¯æ¥å£ï¼ˆå¦‚ ajax è·å–æ•°æ®æ…¢ï¼‰ ä¼˜åŒ–å…¨æ®µç»„ä»¶å†…éƒ¨é€»è¾‘ æœåŠ¡ç«¯æ¸²æŸ“ SSR å¦‚ä½•ç†è§£ HTML è¯­ä¹‰åŒ–ï¼Ÿ è®©äººæ›´å®¹æ˜“è¯»æ‡‚ï¼ˆå¢åŠ ä»£ç å¯è¯»æ€§ï¼‰ è®©æœç´¢å¼•æ“æ›´å®¹æ˜“è¯»æ‡‚ï¼ˆSEOï¼‰ å—çŠ¶å…ƒç´  &amp; å†…è”å…ƒç´ ï¼Ÿ å—çº§å…ƒç´  display: block/table; divã€h1ã€h2ã€tableã€ulã€olã€p ç­‰ å†…è”å…ƒç´  display: inline/inline-block; spanã€imgã€inputã€button ç­‰ï¼› å¦‚ä¸‹ä»£ç ï¼Œè¯·é—® div çš„ offsetWidth æ˜¯å¤šå¤§ï¼Ÿ12345678910&lt;style&gt; #div { width: 100px; padding: 10px; margin: 10px; border: 1px solid #ccc; }&lt;/style&gt;&lt;div id=&quot;div&quot;&gt;&lt;/div&gt; offsetWidth = (å†…å®¹å®½åº¦ + å†…è¾¹è· + è¾¹æ¡†)ï¼Œæ— å¤–è¾¹è· ç­”æ¡ˆï¼š 100 + 10 + 1 * 2 = 122px å¯ä»¥é€šè¿‡ï¼šbox-sizing: border-box; ä½¿å¾— offsetWidth=100 margin çºµå‘é‡å é—®é¢˜ å¦‚ä¸‹ä»£ç ï¼ŒA å’Œ B ä¹‹é—´çš„è·ç¦»æ˜¯å¤šå°‘ï¼Ÿ 1234567891011121314&lt;style&gt; p { font-size: 16px; line-height: 1; margin-top: 10px; margin-bottom: 15px; }&lt;/style&gt;&lt;p&gt;A&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;B&lt;/p&gt; ç›¸é‚»å…ƒç´ çš„ margin-top å’Œ margin-bottom ä¼šå‘ç”Ÿé‡å  ç©ºç™½å†…å®¹ p æ ‡ç­¾ä¹Ÿä¼šé‡å  ç­”æ¡ˆï¼š15px margin è´Ÿå€¼é—®é¢˜ margin-top å’Œ margin-left è´Ÿå€¼ï¼Œå…ƒç´ å‘ä¸Šã€å‘å·¦ç§»åŠ¨ margin-right è´Ÿå€¼ï¼Œå³ä¾§å…ƒç´ å·¦ç§»ï¼Œè‡ªèº«ä¸å—å½±å“ margin-bottom è´Ÿå€¼ï¼Œä¸‹æ–¹å…ƒç´ ä¸Šç§»ï¼Œè‡ªèº«ä¸å—å½±å“ BFC ç†è§£ä¸åº”ç”¨ block format contextï¼Œå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ ä¸€å—ç‹¬ç«‹æ¸²æŸ“åŒºåŸŸï¼Œå†…éƒ¨å…ƒç´ çš„æ¸²æŸ“ä¸ä¼šå½±å“è¾¹ç•Œä»¥å¤–çš„å…ƒç´  å½¢æˆ BFC çš„å¸¸è§æ¡ä»¶ float ä¸æ˜¯ none position æ˜¯ absolute æˆ– fixed overflow ä¸æ˜¯ visible(hiddenã€autoã€scroll) display æ˜¯ flexã€inline-block ç­‰ å¸¸è§åº”ç”¨ï¼š æ¸…é™¤æµ®åŠ¨ é˜»æ­¢ margin é‡å  float å¸ƒå±€ å®ç°åœ£æ¯å¸ƒå±€å’ŒåŒé£ç¿¼å¸ƒå±€ ç›®çš„ ä¸‰æ å¸ƒå±€ï¼Œä¸­é—´ä¸€æ æœ€å…ˆåŠ è½½å’Œæ¸²æŸ“ ä¸¤ä¾§å†…å®¹å›ºå®šï¼Œä¸­é—´å†…å®¹éšç€å®½åº¦è‡ªé€‚åº” ä¸€èˆ¬ç”¨äº PC ç½‘é¡µ å®ç° ä½¿ç”¨ float å¸ƒå±€ ä¸¤ä¾§ä½¿ç”¨ margin è´Ÿå€¼ï¼Œä»¥ä¾¿å’Œä¸­é—´å†…å®¹æ¨ªå‘é‡å  é˜²æ­¢ä¸­é—´å†…å®¹è¢«ä¸¤ä¾§è¦†ç›–ï¼Œä¸€ä¸ªç”¨ paddingï¼Œä¸€ä¸ªç”¨ margin css å®šä½ absolute å’Œ relative å®šä½ relative ä¾æ®è‡ªèº«å®šä½ absolute ä¾æ®æœ€è¿‘ä¸€å±‚çš„å®šä½å…ƒç´ å®šä½ å®šä½å…ƒç´ ï¼šabsoluteã€relativeã€fiedã€body å±…ä¸­å¯¹é½ æ°´å¹³å±…ä¸­ inline å…ƒç´ ï¼štext-align: center block å…ƒç´ ï¼šmargin: auto absolute å…ƒç´ ï¼šleft:50% + margin-left è´Ÿå€¼ å‚ç›´å±…ä¸­ inline å…ƒç´ ï¼šline-height çš„å€¼ç­‰äº height çš„å€¼ absolute å…ƒç´ ï¼štop: 50% + margin-top è´Ÿå€¼ absolute å…ƒç´ ï¼štransform(-50%, -50%) absolute å…ƒç´ ï¼štop,left,bottom,right=0 + margin: auto css-å›¾æ–‡æ ·å¼ line-height å¦‚ä½•ç»§æ‰¿ å¦‚ä¸‹ä»£ç ï¼Œp æ ‡ç­¾çš„è¡Œé«˜æ˜¯å¤šå°‘ï¼Ÿ 1234567891011121314&lt;style&gt; body { font-size: 20px; line-height: 200%; /* 40px */ line-height: 1.5; /* 16 * 1.5 = 24 */ line-height: 30px; /* 30px */ } p { font-size: 16px; }&lt;/style&gt;&lt;body&gt; &lt;p&gt;AAA&lt;/p&gt;&lt;/body&gt; ç­”æ¡ˆï¼š 40px å…·ä½“æ•°å€¼ï¼Œå¦‚ 30pxï¼Œåˆ™ç»§æ‰¿è¯¥å€¼ å†™æ¯”ä¾‹ï¼Œå¦‚ 2/1.5ï¼Œåˆ™ç»§æ‰¿å½“å‰å…ƒç´  font-size çš„æ¯”ä¾‹ å†™ç™¾åˆ†æ¯”ï¼Œå¦‚ 200%ï¼Œåˆ™ç»§æ‰¿è®¡ç®—å‡ºæ¥çš„å€¼ css-å“åº”å¼ å¸¸è§é•¿åº¦å•ä½ pxï¼Œç»å¯¹é•¿åº¦å•ä½ emï¼Œç›¸å¯¹é•¿åº¦å•ä½ï¼Œç›¸å¯¹äºçˆ¶å…ƒç´  remï¼Œç›¸å¯¹é•¿åº¦å•ä½ï¼Œç›¸å¯¹äºæ ¹å…ƒç´ ï¼Œå¸¸ç”¨ä¸å“åº”å¼å¸ƒå±€ å“åº”å¼å¸ƒå±€å¸¸ç”¨æ–¹æ¡ˆ media-queryï¼Œæ ¹æ®ä¸åŒå±å¹•å®½åº¦è®¾ç½®æ ¹å…ƒç´  font-size remï¼ŒåŸºäºæ ¹å…ƒç´ çš„ç›¸å¯¹å•ä½ rem çš„å¼Šç«¯ï¼šâ€œé˜¶æ¢¯â€æ€§ 1234567891011121314151617181920212223242526272829&lt;style&gt; @media only screen and (max-width: 374px) { html { font-size: 86px; } } @media only scrren and (min-width: 375px) and (max-width: 413px) { html { font-size: 100px; } } @media only scrren and (min-width: 414px) { html { font-size: 110px; } } body { font-size: 0.16rem; } #div { width: 1rem; /* 100px */ }&lt;/style&gt;&lt;body&gt; &lt;div id=&quot;div&quot;&gt;div&lt;/div&gt;&lt;/body&gt; ç½‘é¡µè§†å£å°ºå¯¸ window.screen.height // å±å¹•é«˜åº¦ window.innerHeight // ç½‘é¡µè§†å£é«˜åº¦ vh ç½‘é¡µè§†å£é«˜åº¦çš„ 1/100 vw ç½‘é¡µè§†å£å®½åº¦çš„ 1/100 vmax å–ä¸¤è€…æœ€å¤§å€¼ï¼›vmin å–ä¸¤è€…æœ€å°å€¼ document.body.clientHeight // body é«˜åº¦ typeof è¿ç®—ç¬¦ è¯†åˆ«æ‰€æœ‰å€¼ç±»å‹ undefined string number boolean Symbol è¯†åˆ«å‡½æ•°ã€ function åˆ¤æ–­æ˜¯å¦æ˜¯å¼•ç”¨ç±»å‹ object æ‰‹å†™ call123456789101112Function.prototype.call = function (context, ...args) { const ctx = context || window; const fn = Symbol(); ctx[fn] = this; const res = ctx[fn](...args); delete ctx[fn]; return res;}; æ‰‹å†™ apply123456789101112Function.prototype.apply = function (context, args = []) { const ctx = context || window; const fn = Symbol(); ctx[fn] = this; const res = ctx[fn](...args); delete ctx[fn]; return res;}; æ‰‹å†™ bind1234567891011Function.prototype.bind = function (context, ...args) { const fn = this; return function newFn(...newFnArgs) { if (this instanceof newFn) { return new fn(...args, ...newFnArgs); } return fn.apply(context, [...args, ...newFnArgs]); };}; æ‰‹å†™ instanceof12345678910/** 1.é€šè¿‡left.__proto__.__proto__è¿™ç§æ–¹å¼ä»ä¸‹å¾€ä¸Šè·å–åŸå‹å¯¹è±¡* 2.é€šè¿‡Object.create(null)çš„å®ä¾‹æ˜¯æ²¡æœ‰åŸå‹é“¾* 3.æœ‰åŸå‹é“¾çš„å®ä¾‹çš„å°½å¤´éƒ½æ˜¯Object*/function instanceof(left, right) { if (!left.__proto__) return false; if (right === Object || left.__proto__ === right.protorype) return true; return instanceof(left.__proto__, right);} å¼‚æ­¥å’Œå•çº¿ç¨‹ js æ˜¯å•çº¿ç¨‹è¯­è¨€ï¼ŒåŒæ—¶åªèƒ½åšä¸€ä»¶äº‹ æµè§ˆå™¨å’Œ nodejs å·²æ”¯æŒå¯åŠ¨è¿›ç¨‹ï¼Œå¦‚ web worker js å’Œ dom æ¸²æŸ“å…±ç”¨åŒä¸€ä¸ªçº¿ç¨‹ï¼Œå› ä¸º js å¯ä»¥ä¿®æ”¹ dom ç»“æ„ï¼Œæ‰€ä»¥é‡åˆ°ç­‰å¾…ï¼ˆç½‘ç»œè¯·æ±‚ï¼Œå®šæ—¶ä»»åŠ¡ï¼‰å°±ä¼šå¡ä½ ç½‘ç»œè¯·æ±‚ï¼Œå¦‚ ajax å›¾ç‰‡åŠ è½½ å®šæ—¶ä»»åŠ¡ï¼Œå¦‚ setTimeout æ‰€ä»¥éœ€è¦å¼‚æ­¥ï¼ˆcallbackï¼‰ å¼‚æ­¥å’ŒåŒæ­¥çš„åŒºåˆ«ï¼Ÿ åŸºäº js æ˜¯å•çº¿ç¨‹è¯­è¨€ å¼‚æ­¥ä¸ä¼šé˜»å¡ä»£ç æ‰§è¡Œ åŒæ­¥ä¼šé˜»å¡ä»£ç æ‰§è¡Œ forâ€¦of forâ€¦inï¼ˆä»¥åŠ forEachã€forï¼‰éƒ½æ˜¯å¸¸è§„çš„åŒæ­¥éå† 1234567891011121314151617181920212223function muti(num) { return new Promise((resolve) =&gt; { setTimeout(() =&gt; { resolve(num * num); }, 1000); });}const nums = [1, 2, 3];// ç°è±¡ï¼š1såï¼ŒåŒæ—¶æ‰“å° 1ï¼Œ4ï¼Œ9nums.forEach(async (item) =&gt; { const res = await muti(item); console.log(res);});// ç°è±¡ï¼šå¼‚æ­¥ç­‰å¾…æ‰“å°!(async function () { for (let i of nums) { const res = await muti(i); console.log(res); }})(); forâ€¦of å¸¸ç”¨äºå¼‚æ­¥çš„éå† ä» event loop è§£é‡Šï¼Œä¸ºä»€ä¹ˆå¾®ä»»åŠ¡æ‰§è¡Œæ›´æ—©ï¼Ÿ å®ä»»åŠ¡ï¼š setTimeoutã€setIntervalã€ajaxã€DOM äº‹ä»¶ å¾®ä»»åŠ¡ï¼š promiseã€async/await å¾®ä»»åŠ¡çš„æ‰§è¡Œæ—¶æœºè¦æ¯”å®ä»»åŠ¡è¦æ—© æ¯æ¬¡ call stack æ¸…ç©ºï¼Œå³æ¯æ¬¡è½®è¯¢ç»“æŸï¼Œå³åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæˆ å¦‚æœ DOM ç»“æ„æœ‰æ”¹å˜ï¼Œåˆ™ä¼šé‡æ–°è¿›è¡Œ DOM æ¸²æŸ“ å®ä»»åŠ¡ï¼šDOM æ¸²æŸ“åè§¦å‘ï¼Œå¦‚ setTimeout å¾®ä»»åŠ¡ï¼šDOM æ¸²æŸ“å‰è§¦å‘ï¼Œå¦‚ promise æ‰€ä»¥ï¼šå¾®ä»»åŠ¡å…ˆäºå®ä»»åŠ¡å…ˆæ‰§è¡Œ è¡¥å……ï¼š å¾®ä»»åŠ¡éƒ½æ˜¯ ES6 è¯­æ³•è§„å®šçš„ å®ä»»åŠ¡éƒ½æ˜¯ç”±æµè§ˆå™¨è§„å®šçš„ BOM API navigator screen location history ajax xhr.readyState 0 (æœªåˆå§‹åŒ–)è¿˜æ²¡æœ‰è°ƒç”¨ send()æ–¹æ³• 1 (è½½å…¥)å·²è°ƒç”¨ send()æ–¹æ³•ï¼Œæ­£åœ¨å‘é€è¯·æ±‚ 2 (è½½å…¥å®Œæˆ) send()æ–¹æ³•æ‰§è¡Œå®Œæˆï¼Œå·²ç»æ¥æ”¶åˆ°å…¨éƒ¨å“åº”å†…å®¹ 3 (äº¤äº’) æ­£åœ¨è§£æå“åº”å†…å®¹ 4 (å®Œæˆ) å“åº”å†…å®¹è§£æå®Œæˆï¼Œå¯ä»¥åœ¨å®¢æˆ·ç«¯è°ƒç”¨ xhr.status 2xx è¡¨ç¤ºæˆåŠŸå¤„ç†è¯·æ±‚ï¼Œå¦‚ 200 3xx éœ€è¦é‡å®šå‘ï¼Œæµè§ˆå™¨ç›´æ¥è·³è½¬ï¼Œå¦‚ 301ã€302ã€304 4xx å®¢æˆ·ç«¯è¯·æ±‚é”™è¯¯ï¼Œå¦‚ 404ã€403 5xx æœåŠ¡ç«¯é”™è¯¯ å¸¸è§çŠ¶æ€ç ï¼Ÿä¿¡æ¯å“åº” 101 åè®®åˆ‡æ¢ æˆåŠŸå“åº” 200 æˆåŠŸ 204 è¯·æ±‚æˆåŠŸï¼Œä¸è¿”å›ä»»ä½•å†…å®¹ 206 åˆ†å—è¯·æ±‚æˆåŠŸ é‡å®šå‘ 301 æ°¸ä¹…é‡å®šå‘ï¼ˆé…åˆ locationï¼Œæµè§ˆå™¨è‡ªåŠ¨å¤„ç†ï¼‰ 302 ä¸´æ—¶é‡å®šå‘ï¼ˆé…åˆ locationï¼Œæµè§ˆå™¨è‡ªåŠ¨å¤„ç†ï¼‰ 304 èµ„æºæœªè¢«ä¿®æ”¹ï¼ˆåå•†ç¼“å­˜ ï¼‰ å®¢æˆ·ç«¯å“åº” 400 æ— æ³•è¢«æœåŠ¡å™¨ç†è§£ 401 æœªæˆæƒ 403 ç¦æ­¢è®¿é—® 404 èµ„æºæœªæ‰¾åˆ° 405 æ²¡æœ‰æƒé™,è¯·æ±‚æ–¹æ³•(get/post ç­‰)é”™è¯¯ æœåŠ¡ç«¯å“åº” 500 æœåŠ¡å™¨é”™è¯¯ 503 æœåŠ¡ä¸å¯è¾¾ 504 ç½‘å…³è¶…æ—¶ æœ¬èº«çŠ¶æ€ç å°±æ˜¯ä¸€ç§çº¦å®šï¼Œä¸€ç§åè®®å’Œè§„èŒƒï¼Œä¸è¦å°è¯•è¿åè§„èŒƒï¼Œä¾‹å¦‚ IE æµè§ˆå™¨ http å¸¸è§ methodsï¼Ÿ ä¼ ç»Ÿ methods get è·å–æœåŠ¡å™¨çš„æ•°æ® post å‘æœåŠ¡å™¨æäº¤æ•°æ® æ–°çš„ methods get è·å–æ•°æ® post æ–°å»ºæ•°æ® patch/put æ›´æ–°æ•°æ® delete åˆ é™¤æ•°æ® Restful API ä¸€ç§æ–°çš„ API è®¾è®¡æ–¹æ³• ä¼ ç»Ÿ API è®¾è®¡ï¼šæŠŠæ¯ä¸ª url å½“ä½œä¸€ä¸ªåŠŸèƒ½ Restful API è®¾è®¡ï¼šæŠŠæ¯ä¸ª url å½“ä½œä¸€ä¸ªå”¯ä¸€çš„èµ„æº åŸåˆ™ ä¸ä½¿ç”¨ url å‚æ•° ä¼ ç»Ÿ API è®¾è®¡ï¼š/api/list?pageIndex=2 Restful API è®¾è®¡ï¼š/api/list/2 ç”¨ method è¡¨ç¤ºæ“ä½œç±»å‹ ä¼ ç»Ÿ API è®¾è®¡ post è¯·æ±‚ /api/create-blog post è¯·æ±‚ /api/update-blog?id=100 get è¯·æ±‚ /api/get-blog?id=100 Restful API è¯·æ±‚ post è¯·æ±‚ /api/blog patch è¯·æ±‚ /api/blog/100 get è¯·æ±‚ /api/blog/100 å¸¸è§ http headersï¼Ÿ Request Headers Accept æµè§ˆå™¨å¯æ¥æ”¶çš„æ•°æ®æ ¼å¼ Accept-Encoding æµè§ˆå™¨å¯æ¥æ”¶çš„å‹ç¼©ç®—æ³•ï¼Œå¦‚ gzip Accept-Languange æµè§ˆå™¨å¯æ¥æ”¶çš„è¯­è¨€ï¼Œå¦‚ zh-CN Connection: keep-alive ä¸€æ¬¡ TCP è¿æ¥é‡å¤ä½¿ç”¨ cookie Host å¦‚ï¼šwww.baidu.com Cache-Control User-Agent ï¼ˆç®€ç§° UAï¼‰æµè§ˆå™¨ä¿¡æ¯ Content-type å‘é€æ•°æ®çš„æ ¼å¼ï¼Œå¦‚ application/json Response Headers Content-type è¿”å›æ•°æ®çš„æ ¼å¼ï¼Œå¦‚ application/json Content-length è¿”å›æ•°æ®çš„å¤§å°ï¼Œå¤šå°‘å­—èŠ‚ Content-Encoding è¿”å›æ•°æ®çš„å‹ç¼©ç®—æ³•ï¼Œå¦‚ gzip Set-Cookie Expires Etag date è‡ªå®šä¹‰ header ç¼“å­˜ç›¸å…³çš„ headers Cache-Control Expires Last-Modified If-Modified-Since Etag If-None-Match è®¿é—®æµè§ˆå™¨ç½‘é¡µè¿‡ç¨‹ï¼Ÿ åŠ è½½è¿‡ç¨‹ DNS è§£æï¼šåŸŸå-&gt;IP åœ°å€ æµè§ˆå™¨æ ¹æ® IP åœ°å€å‘æœåŠ¡å™¨å‘èµ· http è¯·æ±‚ æœåŠ¡å™¨å¤„ç† http è¯·æ±‚ï¼Œå¹¶è¿”å›ç»™æµè§ˆå™¨ æ¸²æŸ“è¿‡ç¨‹ æ ¹æ® HTML ä»£ç ç”Ÿæˆ DOM Tree æ ¹æ® CSS ä»£ç ç”Ÿæˆ CSSOM æ ‘ å°† DOM Tree å’Œ CSSOM æ•´åˆæˆ Render Tree æ ¹æ® Render Tree æ¸²æŸ“é¡µé¢ é‡åˆ° script æ ‡ç­¾åˆ™åœæ­¢æ¸²æŸ“ï¼Œä¼˜å…ˆåŠ è½½å¹¶æ‰§è¡Œ js ä»£ç ï¼Œå®Œæˆå†ç»§ç»­ ç›´è‡³æŠŠ Render Tree æ¸²æŸ“å®Œæˆ ä¸ºä½•è¦å°† css æ–‡ä»¶æ”¾åœ¨ head æ ‡ç­¾ä¸­å‘¢ï¼Ÿ css æ”¾åœ¨ body æ ‡ç­¾å°¾éƒ¨æ—¶ï¼ŒDOMTree æ„å»ºå®Œæˆä¹‹åä¾¿å¼€å§‹æ„å»º RenderTreeï¼Œå¹¶è®¡ç®—å¸ƒå±€æ¸²æŸ“ç½‘é¡µï¼Œç­‰åŠ è½½è§£æå®Œ css ä¹‹åï¼Œå¼€å§‹æ„å»º CSSOMTreeï¼Œå¹¶å’Œ DOMTree é‡æ–°æ„å»º RenderTreeï¼Œé‡æ–°è®¡ç®—å¸ƒå±€æ¸²æŸ“ç½‘é¡µ css æ”¾åœ¨ head ä¸­ï¼Œå…ˆåŠ è½½ cssï¼Œä¹‹åè§£æ css æ„å»º CSSOMTreeï¼ŒåŒæ—¶æ„å»º DOMTreeï¼ŒCSSOMTree å’Œ DOMTree éƒ½æ„å»ºå®Œæˆä¹‹åå¼€å§‹æ„å»º Render Treeï¼Œè®¡ç®—å¸ƒå±€ç½‘é¡µ ä¸¤è€…å¯¹æ¯”ï¼Œcss æ”¾åœ¨ head ä¸­æ¯”æ”¾åœ¨ body æ ‡ç­¾å°¾éƒ¨å°‘äº†ä¸€æ¬¡æ„å»º RenderTreeï¼Œä¸€æ¬¡è®¡ç®—å¸ƒå±€å’Œä¸€æ¬¡æ¸²æŸ“ç½‘é¡µï¼Œå› æ­¤æ€§èƒ½ä¼šæ›´å¥½ï¼Œå¹¶ä¸” css æ”¾åœ¨ body æ ‡ç­¾å°¾éƒ¨ä¼šåœ¨ç½‘é¡µä¸­çŸ­æš‚å‡ºç°è£¸å¥”çš„ htmlï¼Œä¸åˆ©äºç”¨æˆ·ä½“éªŒ ä¸ºä»€ä¹ˆå»ºè®®æŠŠ script æ ‡ç­¾æ”¾åœ¨ body æœ€åï¼Ÿ js çš„ä¸‹è½½å’Œæ‰§è¡Œä¼šé˜»å¡ DOMTree çš„æ„å»ºï¼Œå³ä¼šä¸­æ–­ DOMTree çš„æ›´æ–°ï¼Œæ‰€ä»¥å¦‚æœæŠŠ script æ ‡ç­¾æ”¾åœ¨é¦–å±èŒƒå›´å†…çš„ HTML ä»£ç ä¸­ä¼šæˆªæ–­é¦–å±çš„å†…å®¹ã€‚ æ™®é€š script æ ‡ç­¾æ”¾åœ¨ body åº•éƒ¨ï¼Œåšä¸ä¸åš async æˆ–è€… defer å¤„ç†éƒ½ä¸ä¼šå½±å“é¦–å±æ—¶é—´ï¼Œä½†æ˜¯ä¼šå½±å“ DomContentLoad å’Œ load çš„æ—¶é—´ï¼Œè¿›è€Œå½±å“ä¾èµ–ä»–ä»¬çš„ä»£ç çš„æ‰§è¡Œçš„å¼€å§‹æ—¶é—´ 123456window.addEventListener('load', function () { // é¡µé¢çš„å…¨éƒ¨èµ„æºåŠ è½½å®Œæˆåæ‰ä¼šæ‰§è¡Œï¼ŒåŒ…æ‹¬å›¾ç‰‡ã€è§†é¢‘ç­‰});document.addEventListener('DOMContentLoaded', function () { // DOM æ¸²æŸ“å®Œæˆåå³å¯æ‰§è¡Œï¼Œæ­¤æ—¶å›¾ç‰‡ã€è§†é¢‘å¯èƒ½è¿˜æ²¡æœ‰åŠ è½½å®Œ}); æ€§èƒ½ä¼˜åŒ–ï¼ˆç©ºé—´æ¢æ—¶é—´ï¼‰ æ€§èƒ½ä¼˜åŒ–åŸåˆ™ å¤šä½¿ç”¨å†…å­˜ã€ç¼“å­˜ å‡å°‘ CUP è®¡ç®—ï¼Œå‡å°‘ç½‘ç»œåŠ è½½è€—æ—¶ é€‚ç”¨äºæ‰€æœ‰ç¼–ç¨‹çš„æ€§èƒ½ä¼˜åŒ–-ç©ºé—´æ¢æ—¶é—´ å‡å°‘èµ„æºä½“ç§¯ï¼šå‹ç¼©ä»£ç  å‡å°‘è®¿é—®æ¬¡æ•°ï¼šåˆå¹¶ä»£ç ï¼ŒSSR æœåŠ¡å™¨æ¸²æŸ“ï¼Œç¼“å­˜ï¼Œç²¾çµå›¾ ç¼“å­˜ï¼ˆwebpack contenthashï¼‰ é™æ€èµ„æºåŠ  hash åç¼€ï¼Œæ ¹æ®æ–‡ä»¶å†…å®¹è®¡ç®— hash æ–‡ä»¶å†…å®¹ä¸å˜ï¼Œåˆ™ hash ä¸å˜åˆ™ url ä¸å˜ url å’Œæ–‡ä»¶ä¸å˜ï¼Œåˆ™ä¼šè‡ªåŠ¨è§¦å‘ http çš„ç¼“å­˜æœºåˆ¶ï¼Œè¿”å› 304 SSR æœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼šå°†ç½‘é¡µå’Œæ•°æ®ä¸€èµ·åŠ è½½ï¼Œä¸€èµ·æ¸²æŸ“ é SSRï¼ˆå‰åç«¯åˆ†ç¦»ï¼‰ï¼šå…ˆåŠ è½½ç½‘é¡µï¼ŒååŠ è½½æ•°æ®ï¼Œå†æ¸²æŸ“æ•°æ® DNS é¢„è§£æ å‡å°‘ cookie å¤§å°ï¼Œhttp è¯·æ±‚ä¼šæºå¸¦ cookie ä½¿ç”¨ http2 å¤´éƒ¨å‹ç¼© é¿å…é‡å®šå‘ï¼šå½“é¡µé¢å‘ç”Ÿäº†é‡å®šå‘ï¼Œå°±ä¼šå»¶è¿Ÿæ•´ä¸ª HTML æ–‡æ¡£çš„ä¼ è¾“ã€‚åœ¨ HTML æ–‡æ¡£åˆ°è¾¾ä¹‹å‰ï¼Œé¡µé¢ä¸­ä¸ä¼šå‘ˆç°ä»»ä½•ä¸œè¥¿ï¼Œä¹Ÿæ²¡æœ‰ä»»ä½•ç»„ä»¶ä¼šè¢«ä¸‹è½½ã€‚ æ¸²æŸ“ä¼˜åŒ– css æ”¾åœ¨ headï¼Œjs æ”¾åœ¨ body æœ€ä¸‹é¢ å°½æ—©å¼€å§‹æ‰§è¡Œ jsï¼Œç”¨ DOMContentLoaded è§¦å‘ æ‡’åŠ è½½ï¼ˆå›¾ç‰‡æ‡’åŠ è½½-IntersectionObserverï¼Œä¸‹æ»‘æ›´å¤šç­‰ï¼‰ å¯¹ DOM æŸ¥è¯¢è¿›è¡Œç¼“å­˜ å‡å°‘ DOM æ•°é‡ï¼Œå¤§æ•°æ®é‡åˆ†é¡µã€è™šæ‹Ÿåˆ—è¡¨ åˆå¹¶é¢‘ç¹çš„ DOM æ“ä½œ,document.createDocumentFragment()ï¼Œå‡å°‘ dom æ“ä½œæ¬¡æ•° èŠ‚æµ throttleã€é˜²æŠ– debounce ä½¿ç”¨ loading å›¾ï¼Œæé«˜ç”¨æˆ·è§†è§‰ä½“éªŒ ä½¿ç”¨ GPU åŠ é€Ÿï¼šä½¿ç”¨ transformã€opacityï¼Œè¦æ…ç”¨ä½ç«¯æœº GPU å·®ï¼Œå ç”¨è¾ƒå¤šå†…å­˜ï¼Œå› æ­¤æ˜¯å¦å¼€å¯ç¡¬ä»¶åŠ é€Ÿï¼Œè¦ç”¨æµ‹è¯•ç»“æœå†³å®š ä½¿ç”¨ requestAnimationFrame æ¥å®ç°è§†è§‰å˜åŒ– ä¸‰æ–¹èµ„æº ç¬¬ä¸‰æ–¹èµ„æºã€åº“ä½¿ç”¨ CDN å‹ç¼©å›¾ç‰‡ä½“ç§¯ï¼Œå‡å°‘å›¾ç‰‡å¤§å° å›¾ç‰‡ä½¿ç”¨ webp æ ¼å¼ï¼Œå‡å°‘å›¾ç‰‡ä½“ç§¯ preload é¢„å…ˆåŠ è½½ css æ–‡ä»¶æˆ–è€…å­—ä½“æ–‡ä»¶ã€js æ–‡ä»¶ç­‰ æµè§ˆå™¨éœ€è¦å…ˆæŠŠ html é¡µé¢åŠ è½½å›æ¥ï¼Œæ‰èƒ½çŸ¥é“ä¸‹ä¸€æ­¥å»åŠ è½½é‚£äº› jsã€css æˆ–å­—ä½“æ–‡ä»¶ï¼Œä¸­é—´æ—¶é—´å°±è¢«æµªè´¹æ‰äº† å¯ä»¥åœ¨ç­‰å¾… html å“åº”çš„åŒæ—¶æŠŠé‡è¦çš„é™æ€èµ„æºæ–‡ä»¶ä¹ŸåŠ è½½å›æ¥ å®‰å…¨ XSS è·¨ç«™è¯·æ±‚æ”»å‡» æ”»å‡»æ–¹å¼ ä¸€ä¸ªåšå®¢ç½‘ç«™ï¼Œæˆ‘å‘è¡¨ä¸€ç¯‡åšå®¢ï¼Œå…¶ä¸­åµŒå…¥ script è„šæœ¬ è„šæœ¬å†…å®¹ï¼šè·å– cookieï¼Œå‘é€åˆ°æˆ‘çš„æœåŠ¡å™¨ å‘å¸ƒè¿™ç¯‡åšå®¢ï¼Œæœ‰äººæŸ¥çœ‹ï¼Œå°±å¯ä»¥å›å»åˆ°è®¿é—®è€…çš„ cookie é¢„é˜²æ–¹å¼ æ›¿æ¢ç‰¹æ®Šå­—ç¬¦ XSRF è·¨ç«™è¯·æ±‚ä¼ªé€  é¢„é˜² å¢åŠ éªŒè¯ï¼Œä¾‹å¦‚å¯†ç ã€çŸ­ä¿¡éªŒè¯ã€æŒ‡çº¹ç­‰ ES6 æ–°å¢çš„å£°æ˜æ–¹å¼ letã€const ä¸å±äºé¡¶å±‚å¯¹è±¡ window ä¸å…è®¸é‡å¤å£°æ˜ ä¸å­˜åœ¨å˜é‡æå‡ æš‚æ—¶æ€§æ­»åŒºï¼ˆä¸èƒ½åœ¨å˜é‡å£°æ˜ä¹‹å‰å»ä½¿ç”¨ï¼‰ å—çº§ä½œç”¨åŸŸ å®šåˆ¶åŒ–è¾“å‡ºç‰¹å®šæ•°ç»„ éšæœºç”Ÿæˆä¸€ä¸ªé•¿åº¦ä¸º 10 çš„æ•´æ•°ç±»å‹çš„æ•°æ® ä¾‹å¦‚ [2, 10, 3, 35, 5, 11, 10, 11, 20] å°†å…¶æ’åˆ—æˆä¸€ä¸ªæ–°æ•°ç»„ï¼Œè¦æ±‚æ–°æ•°ç»„å½¢å¼å¦‚ä¸‹ï¼š [[2, 3, 5], [10, 11],[20],[35]] 12345678910111213141516171819202122232425262728// 1. è·å–éšæœºæ•° 0-99function getRandomNumber(min, max) { min = Math.ceil(min); max = Math.floor(max); return Math.floor(Math.random() * (max - min + 1) + min);}let arr = Array.from({ length: 10 }, () =&gt; getRandomNumber(0, 99));// 2. å»é‡(æ²¡å¿…è¦)arr = [...new Set(arr)];// 3. æ’åºarr.sort((a, b) =&gt; a - b);// 4. å­˜å‚¨ 0-9 10-19 20-29const map = {};arr.forEach((item) =&gt; { const key = Math.floor(item / 10); if (!map[key]) { map[key] = []; } map[key].push(item);});const result = [];for (const key in map) { result.push(map[key]);}console.log(result); å°†æ ‘çŠ¶ç»“æ„è½¬æ¢ä¸ºå±æ€§å¹³é“ºçš„ç»“æ„123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960// é¢˜ç›®const entry = { a: { b: { c: { dd: 'abcdd', }, }, d: { ee: 'adee', }, f: 'af', },};const output = { 'a.b.c.dd': 'abcdd', 'a.d.ee': 'adee', 'a.f': 'af',};// è§£ç­”// æ–¹æ³•1: é€’å½’function flatObj(obj, preKey = '', result = {}) { for (const key in obj) { if (obj.hasOwnProperty(key)) { const newKey = `${preKey}${key}`; if (typeof obj[key] === 'object') { flatObj(obj[key], `${newKey}.`, result); } else { result[newKey] = obj[key]; } } } return result;}// æ–¹æ³•2: whileå¾ªç¯-é˜Ÿåˆ—function flatObj2(obj) { const queue = Object.entries(obj); const result = {}; while (queue.length) { const [key, value] = queue.pop(); for (const [k, v] of Object.entries(value)) { if (typeof v === 'object') { queue.push([`${key}.${k}`, v]); } else { result[`${key}.${k}`] = v; } } } return result;}// æµ‹è¯•ç”¨ä¾‹flatObj(entry);flatObj2(entry); å°†å¹³é“ºå±æ€§çš„æ•°æ®ç»“æ„è½¬æ¢ä¸ºæ ‘çŠ¶æ•°æ®ç»“æ„123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687// é¢˜ç›®const entry = { 'a.b.c.dd': 'abcdd', 'a.d.ee': 'adee', 'a.f': 'af',};const output = { a: { b: { c: { dd: 'abcdd', }, }, d: { ee: 'adee', }, f: 'af', },};// ç­”æ¡ˆ// æ–¹æ³•1: åŒé‡å¾ªç¯function map(entry) { const result = {}; for (const key in entry) { const value = entry[key]; const keyMap = key.split('.'); if (!result[keyMap[0]]) { result[keyMap[0]] = {}; } let tmp = result[keyMap[0]]; let length = keyMap.length; for (let i = 1; i &lt; length; i++) { if (!tmp[keyMap[i]]) { if (i === length - 1) { tmp[keyMap[i]] = value; } else { tmp[keyMap[i]] = {}; } } tmp = tmp[keyMap[i]]; } } return result;}// æ–¹æ³•2: é€’å½’// {&quot;a.b.c.dd&quot;: &quot;abcdd&quot;}// =&gt; {&quot;a.b.c&quot;: {&quot;dd&quot;:&quot;abcdd&quot;}}// =&gt;...// =&gt; {&quot;a&quot;: {&quot;b&quot;: {&quot;c&quot;: {&quot;dd&quot;: &quot;abcdd&quot;}}}}function map2(entry) { function getNest(key) { const lastIndex = key.lastIndexOf('.'); const value = entry[key]; if (lastIndex !== -1) { delete entry[key]; const preKey = key.substring(0, lastIndex); const restKey = key.substring(lastIndex + 1); if (!entry[preKey]) { entry[preKey] = { [restKey]: value }; } else { entry[preKey][restKey] = value; } if (/./.test(preKey)) { getNest(preKey); } } } for (const key in entry) { getNest(key); } return entry;}map(entry);map2(entry); react è‡ªå®šä¹‰å°è£…ä¸ä¼šåå¤åˆ›å»ºçš„å®šæ—¶å™¨ï¼ˆsetIntervalï¼‰123456789101112131415161718192021222324import { useRef, useState } from 'react';const useTimer = (step = 1) =&gt; { const timer = useRef(null); const [num, setNum] = useState(0); const start = () =&gt; { const timeout = setInterval(() =&gt; { setNum((num) =&gt; num + 1); }, step * 1000); timer.current = timeout; }; const clear = () =&gt; { setNum(0); clearInterval(timer.current); }; return { num, start, clear, };}; ä¿®æ”¹ä¸‹é¢ä»£ç ï¼Œé¡ºåºè¾“å‡º 0-9912345678910111213141516171819202122232425262728293031323334353637383940// è¦æ±‚ï¼š// 1. åªèƒ½ä¿®æ”¹ setTimeout// 2. ä¸èƒ½ä¿®æ”¹Math.floor(Math.random() * 1000)// 3. ä¸èƒ½ä½¿ç”¨å…¨å±€å˜é‡function print(n) { setTimeout(() =&gt; { console.log(n); }, Math.floor(Math.random() * 1000));}for (var i = 0; i &lt; 100; i++) { print(i);}// ç­”æ¡ˆ// æ–¹æ³•1: ç«‹å³æ‰§è¡Œå‡½æ•°function print(n) { setTimeout( (() =&gt; { console.log(n); return () =&gt; {}; })(), Math.floor(Math.random() * 1000) );}for (var i = 0; i &lt; 100; i++) { print(i);}// æ–¹æ³•1: setTimeoutç¬¬ä¸‰ä¸ªå‚æ•°function print(n) { setTimeout( () =&gt; { console.log(n); }, 10, Math.floor(Math.random() * 1000) );}for (var i = 0; i &lt; 100; i++) { print(i);} for å¾ªç¯å’Œ splice çš„å‘12345678910111213141516171819202122232425262728// forå¾ªç¯å’Œspliceçš„å‘// å…·ä½“æè¿°ï¼šåœ¨å¯¹ä¸€ä¸ªæ•°ç»„æ‰§è¡Œforå¾ªç¯æ—¶ï¼Œ// åˆ é™¤æ•°ç»„å…ƒç´ ï¼Œä¼šå­˜åœ¨ä»€ä¹ˆé—®é¢˜// æ–¹æ³•1: i--const arr = ['a', 'a', 'a', 'd', 'e', 'f'];for (let i = 0; i &lt; arr.length; i++) { if (arr[i] === 'a') { arr.splice(i, 1); i--; // éœ€è¦å¤„ç†ä¸‹ i-- }}// æ–¹æ³•2: å€’åºconst arr = ['a', 'a', 'a', 'd', 'e', 'f'];for (let i = arr.length - 1; i &gt;= 0; i--) { if (arr[i] === 'a') { arr.splice(i, 1); }}// for...inconst arr = ['a', 'a', 'a', 'd', 'e', 'f'];for (let index in arr) { if (arr[index] === 'a') { arr.splice(index, 1); index--; // ä»ç„¶ä¼šæœ‰é—®é¢˜ }}console.log(arr); js å‰ç«¯é¢è¯•é¢˜ï¼Œjs å®ç°æœ€å¤šå‘é€ä¸‰ä¸ªå¹¶å‘è¯·æ±‚ï¼Œåç»­æœ‰å¤šä¸ªè¯·æ±‚åœ¨ç­‰å¾…å‘é€ï¼Œè¯·è®¾è®¡æ€è·¯?123456789101112131415161718192021222324252627282930313233343536373839404142434445let tokensRequest = { state: ['token1', 'token2', 'token3'], // é»˜è®¤ä¸‰ä¸ªä»¤ç‰Œ æœ€å¤šå¯å¹¶å‘å‘é€ä¸‰æ¬¡è¯·æ±‚ queue: [], // è¯·æ±‚é˜Ÿåˆ— waitqueue: [], // ç­‰å¾…é˜Ÿåˆ— // è·å–ä»¤ç‰Œ getToken: function () { return this.state.splice(0, 1)[0]; }, // å½’è¿˜ä»¤ç‰Œ backToken: function (token) { this.state.push(token); }, // è¯·æ±‚é˜Ÿåˆ— pushQueue: function (args, type = 'first') { type == 'second' &amp;&amp; (this.queue = []); // æ¯æ¬¡pushæ–°è¯·æ±‚çš„æ—¶å€™ é˜Ÿåˆ—æ¸…ç©º for (var i = 0; i &lt; args.length; i++) { if (this.state.length &gt; 0) { // çœ‹æ˜¯å¦æœ‰ä»¤ç‰Œ var token = this.getToken(); // å–ä»¤ç‰Œ var obj = { token, request: args[i], }; this.queue.push(obj); } else { // å¦åˆ™æ¨å…¥ç­‰å¾…é˜Ÿåˆ— this.waitqueue.push(args[i]); } } }, // å¼€å§‹æ‰§è¡Œ start: function () { for (let item of this.queue) { item.request().then((res) =&gt; { console.log(res); this.backToken(item.token); // ä»¤ç‰Œå½’è¿˜ if (this.waitqueue.length &gt; 0) { var wait = this.waitqueue.splice(0, 1); this.pushQueue(wait, 'second'); // ä»ç­‰å¾…é˜Ÿåˆ—è¿›å»çš„è¯ å°±æ˜¯ç¬¬äºŒä¸­çš„pushæƒ…å†µäº† this.start(); // é‡æ–°å¼€å§‹æ‰§è¡Œé˜Ÿåˆ— } }); } },}; æŒç»­æ›´æ–°ä¸­â€¦","link":"/2022/03/11/%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%931/"},{"title":"é¢è¯•é¢˜ç›®æ€»ç»“","text":"[toc] ä»æµè§ˆå™¨åœ°å€æ è¾“å…¥ url åˆ°æ˜¾ç¤ºé¡µé¢çš„æ­¥éª¤ * å…ˆæ£€æŸ¥æœç´¢å…³é”®å­—æ˜¯å¦ç¬¦åˆurlè§„åˆ™ï¼Œç„¶åå°†å…¶ç»„è£…æˆå®Œæˆurlè¿›è¡Œè®¿é—® * æ£€æŸ¥ç¼“å­˜ï¼Œæµè§ˆå™¨æ£€æŸ¥æœ¬åœ°å¼ºç¼“å­˜æ˜¯å¦å¯ç”¨ï¼Œå¦‚æœå‘½ä¸­å¼ºç¼“å­˜å°±ç›´æ¥ä»ç¼“å­˜ä¸­è¿”å›èµ„æº * DNSè§£æï¼Œå¦‚æœæœªå‘½ä¸­å¼ºç¼“å­˜ï¼Œåˆ™å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œé€šè¿‡é€’å½’æŸ¥è¯¢å’Œè¿­ä»£æŸ¥è¯¢è§£æåŸŸåæ¥è·å–å¯¹åº”IPåœ°å€ - æµè§ˆå™¨IPç¼“å­˜ - æ“ä½œç³»ç»ŸIPç¼“å­˜ - æœ¬åœ°hostsæ–‡ä»¶ - è·¯ç”±å™¨ç¼“å­˜ - DNSæ ¹æœåŠ¡å™¨ - æœ¬åœ°DNSæœåŠ¡å™¨ä»¥é€’å½’æ–¹å¼è¿›è¡ŒæŸ¥è¯¢ç¼“å­˜è®°å½• - è‹¥æ²¡æœ‰ç¼“å­˜è®°å½•å°±å‘æ ¹DNSæœåŠ¡å™¨æŸ¥è¯¢ã€‚æ ¹DNSæœåŠ¡å™¨æŸ¥è¯¢åˆ°ç»“æœåä¼šæŠŠåŸŸåå’ŒIPåœ°å€å‘Šè¯‰æœ¬åœ°DNSæœåŠ¡å™¨ï¼Œ æœ¬åœ°DNSæœåŠ¡å™¨æŠŠå¯¹åº”å…³ç³»æš‚å­˜åœ¨ç¼“å­˜ä¸­ï¼ˆä»¥ä¾¿ä¸‹æ¬¡ç”¨æˆ·æŸ¥è¯¢ï¼ŒåŠ å¿«ç½‘ç»œè®¿é—®ï¼‰ï¼Œç„¶åå†å‘ç»™æµè§ˆå™¨å®¢æˆ·ç«¯çš„è§£ææœåŠ¡å™¨ã€‚ * å®¢æˆ·ç«¯å‘é€HTTPè¯·æ±‚ * å»ºç«‹TCPè¿æ¥ï¼Œä¸‰æ¬¡æ¡æ‰‹ * å‘èµ·httpè¯·æ±‚ * è´Ÿè½½å‡è¡¡ï¼šæœåŠ¡ç«¯ç½‘ç®¡æ”¶åˆ°httpè¯·æ±‚åï¼Œå¯èƒ½ä¼šè¿›è¡Œä¸€ç³»åˆ—è´Ÿè½½å‡è¡¡å¤„ç†ï¼Œé€šè¿‡åå‘ä»£ç†åˆ†é…ç»™å¯¹åº”é›†ç¾¤ä¸­çš„æœåŠ¡å™¨å»æ‰§è¡Œ * æœåŠ¡ç«¯è¿”å›å“åº”ï¼šæœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚åï¼Œæ ¹æ®è¯·æ±‚å¤´ä¸­ç¼“å­˜æ ‡è¯†æ¥åˆ¤æ–­ç¼“å­˜æ˜¯å¦ç”Ÿæ•ˆï¼Œç”Ÿæ•ˆè¿”å›304çŠ¶æ€ç ï¼Œæœªå‘½ä¸­ç¼“å­˜è¿”å›200çŠ¶æ€ç  * æµè§ˆå™¨æ¥æ”¶åˆ°httpå“åº”åï¼Œæ ¹æ®connection: keep-aliveåˆ¤æ–­ä¿æŒè¿æ¥æˆ–è€…å››æ¬¡æŒ¥æ‰‹æ–­å¼€TCPè¿æ¥ * æµè§ˆå™¨ç¼“å­˜å“åº”å¤´ä¸­ç¼“å­˜æ ‡è¯†å­—æ®µ * è§£æHTMLæ–‡æ¡£ï¼Œæ­¤æ—¶document.readystateä¸ºloading * æ„å»ºDOMæ ‘ï¼Œæµè§ˆå™¨ä»ä¸Šåˆ°ä¸‹è§£æhtmlæ–‡æ¡£ç”ŸæˆDOMèŠ‚ç‚¹æ ‘ * æ„å»ºCSSOMæ ‘ï¼Œæµè§ˆå™¨è§£æé‡åˆ°æ ·å¼è¿›è¡Œå¼‚æ­¥ä¸‹è½½ï¼Œæ„å»ºCSSOMæ ‘ï¼ˆä¸ä¼šé˜»å¡DOMæ ‘æ„å»ºï¼Œä½†æ˜¯ä¼šé˜»å¡æ¸²æŸ“ï¼Œé˜²æ­¢cssè§„åˆ™ä¸æ–­å˜åŒ–ï¼‰ * æ„å»ºæ¸²æŸ“æ ‘ï¼Œæ ¹æ®DOMèŠ‚ç‚¹æ ‘å’ŒCSSOMæ ‘æ„å»ºæ¸²æŸ“æ ‘Render * é‡åˆ°å›¾ç‰‡å¼‚æ­¥ä¸‹è½½ï¼Œé‡åˆ°ä¸å¸¦asyncå’Œdeferçš„scriptæ—¶ï¼Œé˜»å¡htmlçš„è§£æå¹¶ä¸‹è½½ä¸”æ‰§è¡Œ * å¸¦asyncçš„scriptæ ‡ç­¾ï¼Œä¸ä¼šä¸­æ–­htmlè§£æå¹¶è¡Œä¸‹è½½è„šæœ¬ï¼Œä¸‹è½½å®Œæˆåä¸­æ–­htmlè§£æå¹¶æ‰§è¡Œè„šæœ¬ï¼Œä¼˜å…ˆçº§é«˜äºdefer * å¸¦deferçš„scriptæ ‡ç­¾ï¼Œä¸ä¼šä¸­æ–­htmlè§£æå¹¶è¡Œä¸‹è½½è„šæœ¬ï¼Œå½“æµè§ˆå™¨è§£æå®Œhtmlæ—¶ï¼ŒDOMContentLoadedäº‹ä»¶å³å°†è§¦å‘æ—¶æ‰§è¡Œè„šæœ¬ * æ–‡æ¡£è§£æå®Œæˆï¼Œdocument.readystateå˜ä¸ºinteractive,è§¦å‘DOMContentLoadedäº‹ä»¶ * ç­‰å¾…å›¾ç‰‡åŠ è½½æˆ–æ‰€æœ‰å¼‚æ­¥è„šæœ¬åŠ è½½æ‰§è¡Œå®Œæˆï¼Œdocument.readystateå˜ä¸ºcomplete,windowè§¦å‘loadäº‹ä»¶ * å¸ƒå±€Layoutï¼Œæ ¹æ®Renderæ ‘è®¡ç®—æ¯ä¸ªèŠ‚ç‚¹åœ¨å±å¹•ä¸Šçš„ä½ç½®å¸ƒå±€ * ç»˜åˆ¶Paintï¼Œç»˜åˆ¶èŠ‚ç‚¹åˆ°å±å¹•ä¸Šï¼Œæ¶‰åŠåˆ°æ„å»ºå›¾å±‚æ ‘ã€ç»˜åˆ¶åˆ—è¡¨ã€å…‰æ …åŒ–ï¼ˆåˆæˆçº¿ç¨‹ï¼‰å’Œæ˜¾ç¤ºç­‰ã€‚ å…¶ä»–ï¼šdns-prefetch:å‰ç«¯ç½‘ç»œæ€§èƒ½ä¼˜åŒ–çš„ä¸€ç§æªæ–½ï¼Œæå‰è§£æä¹‹åå¯èƒ½é‡åˆ°çš„åŸŸåï¼Œä½¿è§£æç»“æœç¼“å­˜åˆ°ç³»ç»Ÿç¼“å­˜ä¸­ï¼Œç¼©çŸ­ DNS è§£ææ—¶é—´ï¼Œè¿›è€Œæé«˜ç½‘ç«™çš„è®¿é—®é€Ÿåº¦ dns-prefetch åŸç†ï¼šæµè§ˆå™¨ç¼“å­˜-&gt;ç³»ç»Ÿç¼“å­˜-&gt;è·¯ç”±å™¨ç¼“å­˜-&gt;ISP(è¿è¡Œå•†)DNS ç¼“å­˜-&gt;æ ¹åŸŸåæœåŠ¡å™¨-&gt;é¡¶çº§åŸŸåæœåŠ¡å™¨-&gt;ä¸»åŸŸåæœåŠ¡å™¨ dns-prefetch å°†è§£æåçš„ IP ç¼“å­˜æ”¾åœ¨ç³»ç»Ÿç¼“å­˜ä¸­dns-prefetch ä¸ preconnect é¢„è¿æ¥æç¤ºé…å¯¹ 12&lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.gstatic.com/&quot; crossorigin&gt;&lt;link rel=&quot;dns-prefetch&quot; href=&quot;https://fonts.gstatic.com/&quot;&gt; Noteï¼šå¦‚æœé¡µé¢éœ€è¦å»ºç«‹ä¸è®¸å¤šç¬¬ä¸‰æ–¹åŸŸçš„è¿æ¥ï¼Œåˆ™å°†å®ƒä»¬é¢„å…ˆè¿æ¥ä¼šé€‚å¾—å…¶åã€‚ preconnect æç¤ºæœ€å¥½ä»…ç”¨äºæœ€å…³é”®çš„è¿æ¥ã€‚å¯¹äºå…¶ä»–çš„ï¼Œåªéœ€ä½¿ç”¨ å³å¯èŠ‚çœç¬¬ä¸€æ­¥çš„æ—¶é—´ DNS æŸ¥æ‰¾ã€‚ æ‰©å±•ï¼šæ”¶åˆ°çš„ HTML å¦‚æœåŒ…å«å‡ åä¸ªå›¾ç‰‡æ ‡ç­¾ï¼Œè¿™äº›å›¾ç‰‡æ˜¯ä»¥ä»€ä¹ˆæ–¹å¼ã€ä»€ä¹ˆé¡ºåºã€å»ºç«‹äº†å¤šå°‘è¿æ¥ã€ä½¿ç”¨ä»€ä¹ˆåè®®è¢«ä¸‹è½½ä¸‹æ¥çš„å‘¢ï¼Ÿ DNS è´Ÿè½½å‡è¡¡å½“ä¸€ä¸ªç½‘ç«™æœ‰è¶³å¤Ÿå¤šçš„ç”¨æˆ·çš„æ—¶å€™ï¼Œå‡å¦‚æ¯æ¬¡è¯·æ±‚çš„èµ„æºéƒ½ä½äºåŒä¸€å°æœºå™¨ä¸Šé¢ï¼Œé‚£ä¹ˆè¿™å°æœºå™¨éšæ—¶å¯èƒ½ä¼šè¹¦æ‰ã€‚å¤„ç†åŠæ³•å°±æ˜¯ç”¨ DNS è´Ÿè½½å‡è¡¡æŠ€æœ¯ï¼Œå®ƒçš„åŸç†æ˜¯åœ¨ DNS æœåŠ¡å™¨ä¸­ä¸ºåŒä¸€ä¸ªåŸŸåé…ç½®å¤šä¸ª IP åœ°å€,åœ¨åº”ç­” DNS æŸ¥è¯¢æ—¶,DNS æœåŠ¡å™¨å¯¹æ¯ä¸ªæŸ¥è¯¢å°†ä»¥ DNS æ–‡ä»¶ä¸­ä¸»æœºè®°å½•çš„ IP åœ°å€æŒ‰é¡ºåºè¿”å›ä¸åŒçš„è§£æç»“æœ,å°†å®¢æˆ·ç«¯çš„è®¿é—®å¼•å¯¼åˆ°ä¸åŒçš„æœºå™¨ä¸Šå»,ä½¿å¾—ä¸åŒçš„å®¢æˆ·ç«¯è®¿é—®ä¸åŒçš„æœåŠ¡å™¨,ä»è€Œè¾¾åˆ°è´Ÿè½½å‡è¡¡çš„ç›®çš„ï½¡ä¾‹å¦‚å¯ä»¥æ ¹æ®æ¯å°æœºå™¨çš„è´Ÿè½½é‡ï¼Œè¯¥æœºå™¨ç¦»ç”¨æˆ·åœ°ç†ä½ç½®çš„è·ç¦»ç­‰ç­‰ã€‚ å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜å¼ºç¼“å­˜ï¼šï¼ˆexpiresã€Cache-Controlï¼‰åœ¨è¿‡æœŸæ—¶é—´å†…ï¼Œæµè§ˆå™¨å†æ¬¡åŠ è½½èµ„æºæ—¶ï¼Œä¸ä¼šå‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œç›´æ¥ä»ç¼“å­˜ä¸­è¯»å–èµ„æº åå•†ç¼“å­˜ï¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨ä¼šæ ¹æ®è¯·æ±‚å¤´ï¼ˆrequest headerï¼‰çš„ä¸€äº›å‚æ•°ï¼ˆEtagã€last-modifiedï¼‰æ¥åˆ¤æ–­æ˜¯å¦å‘½ä¸­åå•†ç¼“å­˜ï¼Œé¦–å…ˆæ ¹æ® Etag çš„å€¼åˆ¤æ–­è¯·æ±‚çš„æ–‡ä»¶æœ‰æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œå¦‚æœ Etag ä¸€è‡´åˆ™æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œå‘½ä¸­åå•†ç¼“å­˜è¿”å› 304ï¼Œå¦‚æœä¸ä¸€è‡´åˆ™è¿”å›æ–°çš„èµ„æºå¹¶å¸¦ä¸Šæ–°çš„ Etag è¿”å› 200 çŠ¶æ€ç ã€‚å¦‚æœæ²¡æœ‰ Etag å€¼ï¼Œåˆ™å¯¹æ¯” If-Modified-Since å’Œè¯·æ±‚æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´ï¼Œä¸€è‡´åˆ™å‘½ä¸­åå•†ç¼“å­˜è¿”å› 304ï¼Œä¸ä¸€è‡´åˆ™è¿”å›æ–°çš„ last-modified å’Œ 200 çŠ¶æ€ç  http åè®®çš„ç‰¹ç‚¹1.æ”¯æŒå®¢æˆ·/æœåŠ¡å™¨æ¨¡å¼ 2.ç®€å•å¿«é€Ÿï¼šå®¢æˆ·å‘æœåŠ¡å™¨å‘é€è¯·æ±‚æ—¶ï¼Œåªéœ€ä¼ é€è¯·æ±‚æ–¹æ³•å’Œè·¯å¾„ã€‚ 3.çµæ´»ï¼šhttp å…è®¸ä¼ è¾“ä»»æ„ç±»å‹çš„æ•°æ®å¯¹è±¡ï¼ˆContent-Type å†…å®¹ç¼–ç ç±»å‹ï¼‰ application/x-www-form-urlencoded å¸¸è§ post æäº¤æ•°æ®æ ¼å¼ï¼ˆkey-value æ ¼å¼ï¼‰application/json 4.æ— è¿æ¥ï¼šé™åˆ¶æ¯æ¬¡è¿æ¥åªå¤„ç†ä¸€ä¸ªè¯·æ±‚ï¼ŒæœåŠ¡å™¨å¤„ç†å®Œå®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œå¹¶æ”¶åˆ°å®¢æˆ·ç«¯çš„åº”ç­”åï¼Œå³æ–­å¼€è¿æ¥ã€‚ï¼ˆåŸå› æ˜¯æ—©æœŸæœåŠ¡å™¨éœ€è¦åŒæ—¶é¢å¯¹å…¨ä¸–ç•Œæ•°åä¸‡ã€ä¸Šç™¾ä¸‡çš„å®¢æˆ·ç«¯çš„ç½‘é¡µè®¿é—®ï¼Œä½†æ˜¯æ¯æ¬¡å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯ä¼ è¾“çš„æ•°æ®å…³è”æ€§å¾ˆä½ï¼Œå°±ä¼šå¯¼è‡´å¤§éƒ¨åˆ†é€šè¿‡ä¼šå¾ˆç©ºé—²ï¼Œæ— ç«¯å ç”¨èµ„æºï¼‰ ï¼ˆè§£å†³æ— è¿æ¥ï¼‰Keep-Aliveï¼šä½¿å®¢æˆ·ç«¯åˆ°æœåŠ¡ç«¯ä¹‹é—´çš„ Http è¿æ¥ä¿æŒï¼Œä¸ä¼šæ–­å¼€ï¼Œå½“å†æ¬¡å¯¹æœåŠ¡å™¨å‘é€è¯·æ±‚æ—¶ï¼Œkeep-Alive åŠŸèƒ½é¿å…äº†é‡æ–°å»ºç«‹è¿æ¥ 5.æ— çŠ¶æ€ï¼šHttp æ˜¯ä¸€ä¸ªæ— çŠ¶æ€åè®®ï¼Œå°±æ˜¯æ¯ä¸ªè¯·æ±‚éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œæ•°æ®ä¼ è¾“å®Œæ¯•ä¸ä¼šè®°å½•ä»»ä½•ä¿¡æ¯ã€‚ç¼ºç‚¹å°±æ˜¯å¦‚æœåç»­å¤„ç†éœ€è¦å‰é¢çš„ä¿¡æ¯ï¼Œå°±å¿…é¡»é‡ä¼ ï¼Œå°±ä¼šå¯¼è‡´æ¯æ¬¡è¿æ¥ä¼ é€çš„æ•°æ®é‡å¢åŠ ï¼Œå¦‚æœæœåŠ¡å™¨ä¸éœ€è¦å‰é¢ä¿¡æ¯çš„æ—¶å€™åº”ç­”å°±ä¼šå¾ˆå¿«ã€‚ ï¼ˆè§£å†³æ— çŠ¶æ€ï¼‰æ€æ ·ä¿æŒ http è¿æ¥çŠ¶æ€å‘¢Cookieï¼ˆæ¯æ¬¡ http è¯·æ±‚çš„æ—¶å€™ï¼Œå®¢æˆ·ç«¯éƒ½éœ€è¦å‘é€å“åº”çš„ cookie ä¿¡æ¯åˆ°æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯æ ¹æ® cookie åˆ¤æ–­æ¥è‡ªå“ªä¸ªå®¢æˆ·ç«¯ï¼‰æœåŠ¡ç«¯ç”Ÿæˆ cookieï¼Œå®¢æˆ·ç«¯ä¿å­˜ SessionæœåŠ¡ç«¯ç”Ÿæˆä¸€ä¸ª sessionidï¼Œåœ¨å®¢æˆ·ç«¯ä¸‹æ¬¡è¯·æ±‚çš„æ—¶å€™åœ¨ cookie é‡Œé¢è®°å½•è¿™ä¸ª sessionidï¼Œç„¶åå‘é€ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯å†æ ¹æ® cookie ä¸­çš„ sessionid æ¥è¯†åˆ«å®¢æˆ·ç«¯è¿”å›èµ„æºæ•°æ®ã€‚ ç¦ç”¨ cookie æ€ä¹ˆåŠï¼Ÿurl é‡å†™ï¼Œæ¯æ¬¡ http è¯·æ±‚çš„æ—¶å€™ï¼Œåœ¨ url åé¢æ‹¼æ¥ sid=**å‚æ•° withCredentials:æŒ‡å®šåœ¨æ¶‰åŠåˆ°è·¨åŸŸè¯·æ±‚æ—¶ï¼Œæ˜¯å¦æºå¸¦ cookie ä¿¡æ¯ï¼Œé»˜è®¤ä¸º falseAccess-Control-Allow-Credentials: true cookie å’Œ session çš„åŒºåˆ«12341.å­˜å–æ–¹å¼ä¸åŒï¼š cookieåªèƒ½ä¿å­˜ASCIIå­—ç¬¦ä¸²ï¼Œsessionèƒ½å¤Ÿå­˜å‚¨ä»»æ„ç±»å‹çš„æ•°æ®2.éšç§ç­–ç•¥ä¸åŒ3.cookieæ˜¯å­˜åœ¨å®¢æˆ·ç«¯ï¼Œsessionæ˜¯å­˜åœ¨æœåŠ¡å™¨çš„4.æµè§ˆå™¨çš„æ”¯æŒä¸åŒï¼Œæµè§ˆå™¨å¯ä»¥ç¦ç”¨cookie æƒé™èº«ä»½éªŒè¯ä¸€èˆ¬éƒ½æ˜¯é€šè¿‡ sessionid æ¥è¿›è¡Œç”¨æˆ·èº«ä»½éªŒè¯ï¼Œsessionid ä¸€èˆ¬ä¼šå­˜æ”¾åœ¨ redis ä¸­ã€‚ 1.ç”¨æˆ·å‘æœåŠ¡ç«¯å‘é€ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œç™»é™† 2.æœåŠ¡å™¨éªŒè¯é€šè¿‡åï¼ŒæœåŠ¡å™¨ä¸ºç”¨æˆ·åˆ›å»ºä¸€ä¸ª sessionï¼Œå¹¶å°† session ä¿¡æ¯å­˜å‚¨èµ·æ¥ 3.æœåŠ¡å™¨å‘ç”¨æˆ·è¿”å›ä¸€ä¸ª sessionidï¼Œå†™å…¥ç”¨æˆ·çš„ cookie 4.å½“ç”¨æˆ·ä¿æŒç™»é™†çŠ¶æ€æ—¶ï¼Œæ¯æ¬¡åç»­è¯·æ±‚éƒ½ä¼šä¸€èµ·å‘é€ç»™åç«¯ 5.æœåŠ¡å™¨å°†å­˜å‚¨åœ¨ cookie ä¸­çš„ sessionid å’Œå­˜å‚¨åœ¨å†…å­˜æˆ–è€…æ•°æ®åº“ä¸­çš„ sessin ä¿¡æ¯è¿›è¡Œä¸€ä¸ªæ¯”è¾ƒï¼ŒéªŒè¯ç”¨æˆ·èº«ä»½ï¼Œç„¶åè¿”å›å“åº”ä¿¡æ¯ æ³¨æ„ï¼š 1.ä¾èµ– session çš„å…³é”®ä¸šåŠ¡ä¸€å®šè¦ç¡®ä¿å®¢æˆ·ç«¯å¼€å¯äº† cookie 2.æ³¨æ„ session çš„è¿‡æœŸæ—¶é—´ ä¸€èˆ¬åœ¨ http header çš„ Authorization å­—æ®µä¸­æ·»åŠ  token ç¦ç”¨ cookie ä¹‹å session è¿˜èƒ½ç”¨å—ï¼Ÿ12urlé‡å†™ï¼Œä¾‹å¦‚ https://javascript.cn/?session_id=xxxç¼ºç‚¹æ˜¯å®‰å…¨æ€§é™ä½ï¼Œå¯ä»¥å¯¹sessionidè¿›è¡Œä¸€æ¬¡åŠ å¯†åä¼ è¾“ get å’Œ post çš„åŒºåˆ«1234561.urlå¯è§æ€§ï¼šgetå‚æ•°urlå¯è§ï¼Œpostå‚æ•°urlä¸å¯è§2.æ•°æ®ä¼ è¾“ï¼šgeté€šè¿‡æ‹¼æ¥urlè¿›è¡Œä¼ é€’å‚æ•°ï¼Œposté€šè¿‡bodyä½“ä¼ è¾“å‚æ•°3.ç¼“å­˜æ€§ï¼šgetè¯·æ±‚å¯ä»¥ç¼“å­˜ï¼Œpostè¯·æ±‚ä¸å¯ä»¥ç¼“å­˜4.getè¯·æ±‚ç½‘é¡µå›é€€æ—¶ï¼Œä¸äº§ç”Ÿå½±å“ï¼Œpostè¯·æ±‚ç½‘é¡µå›é€€ä¼šé‡æ–°å‘è¯·æ±‚5.ä¼ è¾“æ•°æ®ï¼šgetä¸€èˆ¬ä¼ è¾“æ•°æ®å¤§å°ä¸è¶…è¿‡4kï¼Œpostå¯ä»¥ä¼ è¾“å¤§é‡æ•°æ®6.postè¾ƒgetå®‰å…¨æ€§è¾ƒé«˜ï¼Œgetæ˜¯ä¸å®‰å…¨çš„å› ä¸ºurlå¯è§ï¼Œå¯èƒ½ä¼šæ³„æ¼ç§å¯†ä¿¡æ¯ http å¸¸è§çš„è¯·æ±‚å¤´å­—æ®µ12345678910111213141516Accept: æµè§ˆå™¨å¯æ¥å—çš„æ•°æ®ç±»å‹Accept-Charset: æµè§ˆå™¨å¯æ¥å—çš„å­—ç¬¦é›†Accept-Encodingï¼šæµè§ˆå™¨èƒ½å¤Ÿè¿›è¡Œè§£ç çš„æ•°æ®ç¼–ç æ–¹å¼Accept-Languageï¼š æµè§ˆå™¨æ‰€å¸Œæœ›çš„è¯­è¨€ç§ç±»Connectionï¼šæ˜¯å¦éœ€è¦æŒä¹…è¿æ¥ï¼Œå€¼â€œKeep-Aliveâ€ï¼ŒHTTP1.1é»˜è®¤è¿›è¡ŒæŒä¹…è¿æ¥Cookieï¼šcookieä¿¡æ¯content-typeIf-Modified-Sinceï¼šå†…å®¹è¢«ä¿®æ”¹æ‰ä¼šè¿”å›User-Agentï¼šæµè§ˆå™¨ç±»å‹å“åº”å¤´ï¼šcontent-Length: è¡¨ç¤ºå†…å®¹é•¿åº¦content-typeï¼šæ–‡æ¡£ç±»å‹Dateï¼šå½“å‰æ—¶é—´Expiresï¼šæŒ‡å®šç¼“å­˜è¿‡æœŸæ—¶é—´Last-Modifiedï¼šæ–‡æ¡£è¿‡æœŸæ—¶é—´ http å’Œ https çš„åŒºåˆ«http æ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œä¿¡æ¯æ˜¯æ˜æ–‡ä¼ è¾“ï¼Œhttps æ˜¯æ›´åŠ å®‰å…¨çš„ ssl åŠ å¯†ä¼ è¾“åè®®http é»˜è®¤æ˜¯ 80 ç«¯å£ï¼Œhttps é»˜è®¤æ˜¯ 443 ç«¯å£https éœ€è¦ç”³è¯· CA è¯ä¹¦https æ˜¯ http + ssl/tlsï¼ˆæ•°å­—è¯ä¹¦ï¼‰è¿›è¡Œç»„åˆçš„æ›´åŠ å®‰å…¨çš„ä¼ è¾“åè®® https å·¥ä½œåŸç†ï¼ˆéå¯¹ç§°åŠ å¯†ï¼‰ 1.æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯ä¼ é€’è¯ä¹¦ä½œä¸ºå…¬é’¥ 2.å®¢æˆ·ç«¯å¯¹è¯ä¹¦è¿›è¡Œè§£æï¼Œåˆ¤æ–­è¯ä¹¦çš„åŠæ³•æœºæ„å’Œè¿‡æœŸæ—¶é—´ç­‰ï¼Œå¦‚æœéƒ½æ²¡æœ‰é—®é¢˜ï¼Œç”Ÿæˆä¸€ä¸ªéšæœºå€¼ä½œä¸ºç§é’¥ï¼Œç„¶åä½¿ç”¨è¯ä¹¦è¿›è¡ŒåŠ å¯†å‘é€ç»™æœåŠ¡ç«¯ 3.æœåŠ¡ç«¯è§£å¯†å¾—åˆ°å®¢æˆ·ç«¯ç§é’¥ 4.ä¹‹ååŒæ–¹åˆ©ç”¨ç§é’¥è¿›è¡ŒåŠ å¯†è§£å¯†ï¼Œå®Œæˆä¿¡æ¯çš„é€šä¿¡ xssï¼ˆè·¨åŸŸè„šæœ¬æ”»å‡»ï¼‰csrfï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰csrf: éœ€è¦ç”¨æˆ·å…ˆç™»é™†ç½‘ç«™ Aï¼Œè·å– cookieï¼Œåˆ©ç”¨çš„æ˜¯ç½‘ç«™ A æœ¬èº«çš„æ¼æ´ï¼Œå»è¯·æ±‚ç½‘ç«™ A çš„ apiï¼Œâ€”è¿›è¡Œ token éªŒè¯ï¼Œreferer éªŒè¯ï¼Œåªæ¥æ”¶æœ¬ç«™çš„è¯·æ±‚ xssï¼šå‘ç½‘ç«™ A æ³¨å…¥ js ä»£ç ï¼Œç„¶åæ‰§è¡Œ js ä»£ç ï¼Œç¯¡æ”¹ç½‘ç«™ A çš„å†…å®¹ï¼Œç ´åé¡µé¢æ­£å¸¸ç»“æ„ï¼Œæ’å…¥æ¶æ„å¹¿å‘Šã€‚â€”ç¼–ç è½¬æ¢ ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿè§£å†³è·¨åŸŸçš„æ–¹æ³•æœ‰å“ªäº›? åŒæºç­–ç•¥ æ˜¯ä¸€ç§æµè§ˆå™¨çš„å®‰å…¨ç­–ç•¥ åè®®ã€åŸŸåã€ç«¯å£å·å¿…é¡»å®Œå…¨ä¸€è‡´ ä¸åŒæºçš„å®¢æˆ·ç«¯è„šæœ¬åœ¨æ²¡æœ‰æ˜ç¡®çš„æˆæƒçš„æƒ…å†µä¸‹ï¼Œä¸èƒ½è¯»å–å¯¹æ–¹çš„èµ„æº è·¨åŸŸ æŒ‡ä¸€ä¸ªåŸŸä¸‹çš„æ–‡æ¡£æˆ–è„šæœ¬å°è¯•å»è¯·æ±‚å¦ä¸€ä¸ªåŸŸä¸‹çš„èµ„æºã€‚ è§£å†³è·¨åŸŸ jsonp postMessage è·¨åŸŸ WebSocket åè®®è·¨åŸŸ CORSï¼ˆè·¨åŸŸèµ„æºå…±äº«ï¼ŒæœåŠ¡ç«¯è®¾ç½® Access-Control-Allow-Originï¼Œå‰ç«¯æ— éœ€è®¾ç½®ï¼Œè‹¥è¦å¸¦ cookie è¯·æ±‚ï¼Œå‰åç«¯éƒ½è¦è®¾ç½®ï¼‰ nginx åå‘ä»£ç†æ¥å£è·¨åŸŸ document.domain(ä¸¤ä¸ªé¡µé¢é€šè¿‡ js å¼ºåˆ¶è®¾ç½® document.domain ä¸ºåŸºç¡€ä¸»åŸŸï¼Œé’ˆå¯¹åŸºç¡€åŸŸåç›¸åŒçš„æƒ…å†µ) window.name + iframe location.hash + iframe â€¦ å®ç° jsonp è·¨åŸŸ é€šå¸¸ä¸ºäº†å‡è½» web æœåŠ¡å™¨çš„è´Ÿè½½ï¼Œæˆ‘ä»¬æŠŠ jsã€cssã€img ç­‰é™æ€èµ„æºåˆ†ç¦»åˆ°å¦ä¸€å°ç‹¬ç«‹åŸŸåçš„æœåŠ¡å™¨ä¸Šï¼Œåœ¨ html é¡µé¢ä¸­å†é€šè¿‡å“åº”çš„æ ‡ç­¾ä»ä¸åŒåŸŸååŠ è½½é™æ€èµ„æºã€‚jsonp å°±æ˜¯åˆ©ç”¨æ­¤åŸç†ï¼ŒåŠ¨æ€åˆ›å»º scriptï¼Œå†è¯·æ±‚ä¸€ä¸ªå¸¦å‚ç½‘å€å®ç°è·¨åŸŸé€šä¿¡ 12345678910111213&lt;script&gt; var script = document.createElement('script') script.type = 'text/javascript' //ä¼ å‚ä¸€ä¸ªå›è°ƒå‡½æ•°åç»™åç«¯ï¼Œæ–¹ä¾¿åç«¯è¿”å›æ—¶æ‰§è¡Œè¿™ä¸ªå‰ç«¯å®šä¹‰çš„å›è°ƒå‡½æ•° script.src = 'http://www.xxx.com:8080/login?user=admin&amp;callback=handleCallback' document.body.appendChild(script) //å›è°ƒæ‰§è¡Œå‡½æ•° function handleCallbak(res) { alert(JSOn.stringify(res)) }&lt;/script&gt; http1.0ã€http1.1 å’Œ http2.0 çš„åŒºåˆ«123http/1.0 æ¯ä¸ªè¯·æ±‚éƒ½è¦å»ºç«‹ä¸€ä¸ªè¿æ¥http/1.1 å¤šäº†é•¿è¿æ¥keep-aliveï¼Œè‹¥å¹²ä¸ªè¯·æ±‚éœ€è¦æ’é˜Ÿä¸²è¡ŒåŒ–å•çº¿ç¨‹å¤„ç†ï¼Œä¼šå‘ç”Ÿç½‘ç»œè¯·æ±‚é˜»å¡é—®é¢˜ã€‚http/2.0 åŒä¸€ä¸ªè¿æ¥å¯ä»¥æœ‰å¤šä¸ªè¯·æ±‚ï¼Œå„ä¸ªè¯·æ±‚ç›´æ¥äº’ä¸å½±å“ï¼ˆè¿›è¡Œäº†å¤´éƒ¨å‹ç¼©å’Œå¤šè·¯å¤ç”¨çš„ä¼˜åŒ–ï¼‰ è®¾è®¡æ¨¡å¼123456å•ä¾‹æ¨¡å¼ ï¼ˆclassç»„ä»¶ä¸­new storeåˆ›å»ºstoreå®ä¾‹ï¼‰å·¥å‚æ¨¡å¼ ï¼ˆmobx storeä¸­creatLayoutStoreï¼‰è§‚å¯Ÿè€…æ¨¡å¼å‘å¸ƒè®¢é˜…æ¨¡å¼è£…é¥°å™¨æ¨¡å¼ ï¼ˆç§»åŠ¨ã€pcé…ç½®åŒæ­¥@syncï¼‰ TCP ä¸ UDP åŒºåˆ« TCP æ˜¯é¢å‘è¿æ¥çš„åè®®ï¼Œå‘é€æ•°æ®å‰å…ˆè¦å»ºç«‹è¿æ¥ï¼ŒTCP æä¾›å¯é çš„æœåŠ¡ï¼Œé€šè¿‡ TCP å»ºç«‹è¿æ¥ä¼ è¾“çš„æ•°æ®ä¸ä¼šä¸¢å¤±ï¼Œæ²¡æœ‰é‡å¤ï¼Œå¹¶ä¸”æŒ‰ç…§é¡ºåºåˆ°è¾¾ã€‚ UDP æ˜¯æ— è¿æ¥çš„åè®®ï¼Œå‘é€æ•°æ®å‰ä¸éœ€è¦å»ºç«‹è¿æ¥ï¼Œæ˜¯ä¸å¯é çš„ TCP åªæ”¯æŒç‚¹å¯¹ç‚¹é€šä¿¡ï¼Œè€Œ UDP æ”¯æŒä¸€å¯¹ä¸€ï¼Œå¤šå¯¹å¤š TCP æ˜¯é¢å‘å­—èŠ‚æµçš„ï¼ŒUDP æ˜¯é¢å‘æŠ¥æ–‡çš„ TCP é€šä¿¡ç±»ä¼¼æ‰“ç”µè¯ï¼Œæ¥é€šåéœ€è¦ç¡®è®¤èº«ä»½ï¼Œæ‰å¯ä»¥å¼€å§‹é€šä¿¡ UDP ç±»ä¼¼å¹¿æ’­ç›´æ¥è¿›è¡Œé€šä¿¡ æ­£å‘ä»£ç†å’Œåå‘ä»£ç†12æ­£å‘ä»£ç†æ˜¯å®¢æˆ·ç«¯ä»£ç†ï¼ŒæœåŠ¡ç«¯ä¸çŸ¥é“æ˜¯å“ªä¸ªå®¢æˆ·ç«¯å‘èµ·çš„è¯·æ±‚åå‘ä»£ç†æ˜¯æœåŠ¡ç«¯ä»£ç†ï¼Œå®¢æˆ·ç«¯ä¸çŸ¥é“æ˜¯å“ªä¸ªæœåŠ¡ç«¯æä¾›çš„èµ„æº OSI æ¨¡å‹12345678910åº”ç”¨å±‚è¡¨ç¤ºå±‚ä¼šè¯å±‚ä¼ è¾“å±‚ç½‘ç»œå±‚æ•°æ®é“¾è·¯å±‚ç‰©ç†å±‚ ä¸‰æ¬¡æ¡æ‰‹ä¸ºä»€ä¹ˆéœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿä¸¤æ¬¡æ¡æ‰‹ç¬¬äºŒæ¬¡ç»“æŸåï¼ŒæœåŠ¡ç«¯å¹¶ä¸èƒ½ä¿è¯å®¢æˆ·ç«¯å·²ç»æ¥æ”¶åˆ°äº†ç¬¬äºŒæ¬¡çš„åº”ç­”ä¿¡æ¯ï¼Œå¦‚æ­¤ä¸€æ¥æœåŠ¡å™¨ä¼šä¸€ç›´ä¿æŒé€šä¿¡è¿‡ç¨‹ï¼Œå› ä¸º TCP é€šä¿¡ä¼šå ç”¨ç«¯å£ï¼Œé€ æˆèµ„æºæµªè´¹ã€‚ é˜²æ­¢å·²å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µçªç„¶åˆä¼ é€åˆ°æœåŠ¡ç«¯ï¼Œäº§ç”Ÿé”™è¯¯ã€‚å¦‚ä¸Šè¿°æƒ…å†µï¼Œå¦‚æœ client æ²¡æœ‰å†æ¬¡å‘ server å‘å‡ºç¡®è®¤ï¼Œserver æ”¶ä¸åˆ°ç¡®è®¤å°±ä¸ä¼šå»ºç«‹è¿æ¥ï¼Œå¯ä»¥é¿å… server ç«¯ä¸€ç›´ç­‰å¾…æµªè´¹èµ„æºã€‚ å››æ¬¡æŒ¥æ‰‹ https://blog.csdn.net/rememberyf/article/details/80309148 301 å’Œ 302 çš„åŒºåˆ«301 è¡¨ç¤ºèµ„æºè¢«æ°¸ä¹…ç§»é™¤ï¼Œæµè§ˆå™¨åœ¨æ‹¿åˆ°çŠ¶æ€ç åè·³è½¬åˆ°ä¸€ä¸ªæ–°çš„ URL åœ°å€ï¼Œå¯ä»ç›¸åº”å¤´çš„ location é¦–éƒ¨ä¸­è·å–ï¼Œæœç´¢å¼•æ“åœ¨æŠ“å–æ–°å†…å®¹çš„åŒæ—¶ä¹Ÿå°†å°±åœ°å€äº¤æ¢ä¸ºé‡å®šå‘ä¹‹åçš„ç½‘å€ã€‚ 302 è¡¨ç¤ºåœ°å€èµ„æºè¿˜åœ¨ï¼Œä»å¯ä»¥è®¿é—®ï¼Œæœç´¢å¼•æ“ä¼šæŠ“å–æ–°çš„å†…å®¹è€Œä¿å­˜æ—§çš„åœ°å€ï¼Œseo 302 ä¼˜äº 301. é‡å®šå‘çš„åŸå› ï¼šç½‘ç«™è°ƒæ•´ï¼ˆæ”¹å˜ç½‘é¡µç›®å½•ç»“æ„ï¼‰é¡µé¢è¢«ç§»åˆ°ä¸€ä¸ªæ–°åœ°å€é¡µé¢æ‰©å±•åæ”¹å˜ .php -&gt;.htmlå¦‚æœä¸åšé‡å®šå‘ä¼šè¿”å› 404 é¡µé¢ï¼Œä¼šç™½ç™½æµå¤±ç”¨æˆ·è®¿é—®é‡ã€‚ 1XX ä¿¡æ¯æ€§çŠ¶æ€ç ï¼Œè¡¨ç¤ºæ¥å—çš„è¯·æ±‚æ­£åœ¨å¤„ç†2XX æˆåŠŸçŠ¶æ€ç ï¼Œè¡¨ç¤ºè¯·æ±‚è¢«æ­£å¸¸å¤„ç†å®Œæ¯•3XX é‡å®šå‘çŠ¶æ€ç ï¼Œè¡¨ç¤ºéœ€è¦è¿›è¡Œé™„åŠ æ“ä½œä»¥å®Œæˆè¯·æ±‚4XX å®¢æˆ·ç«¯é”™è¯¯çŠ¶æ€ç ï¼Œè¡¨ç¤ºæœåŠ¡å™¨æ— æ³•å¤„ç†è¯·æ±‚400 Bad Request è¯·æ±‚å‡ºç°è¯­æ³•é”™è¯¯401 è¢«è¯·æ±‚çš„é¡µé¢éœ€è¦ç”¨æˆ·åå’Œå¯†ç 403 forbidden è¯·æ±‚é¡µé¢çš„è®¿é—®è¢«ç¦æ­¢404 èµ„æºæœªæ‰¾åˆ°5XX æœåŠ¡å™¨é”™è¯¯çŠ¶æ€ç ï¼Œè¡¨ç¤ºæœåŠ¡å™¨å¤„ç†è¯·æ±‚å‡ºé”™502 ç½‘å…³é”™è¯¯503 æœåŠ¡å™¨è¶…è´Ÿè½½æˆ–è€…åœæœºç»´æŠ¤ï¼Œæ— æ³•å¤„ç†è¯·æ±‚504 ç½‘å…³è¶…æ—¶ cookie cookie å¯ç”¨äºä¼ é€’å°‘é‡æ•°æ®ï¼Œæ˜¯ä¸€ä¸ªå†æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¹‹é—´æ¥å›ä¼ é€æ–‡æœ¬å€¼çš„å†…ç½®æœºåˆ¶ï¼ŒæœåŠ¡å™¨å¯ä»¥æ ¹æ® cookie è¿½è¸ªç”¨æˆ·åœ¨ä¸åŒé¡µé¢çš„è®¿é—®ä¿¡æ¯ã€‚ cookie ç‰¹ç‚¹ 1.å¤§å°é™åˆ¶ï¼Œcookie å¤§å°é™åˆ¶åœ¨ 4KB ä»¥å†… 2.å®½å¸¦é™åˆ¶ï¼Œcookie æ•°æ®ä¼šåœ¨æœåŠ¡å™¨å’Œæµè§ˆå™¨ä¹‹é—´æ¥å›ä¼ é€ï¼Œæ‰€ä»¥è®¿é—®é¡µé¢ä¼šæ¶ˆè€—å®½å¸¦ã€‚ 3.å®‰å…¨é£é™©ï¼Œcookie ä¼šé¢‘ç¹çš„åœ¨ç½‘ç»œä¸­ä¼ é€ï¼Œä¸åŠ å¯†çš„æƒ…å†µä¸‹æ˜¯æœ‰å®‰å…¨é£é™©çš„ã€‚ 4.æ“ä½œå¤æ‚123456function setCookie(name: string, value: string) { const exp = new Date(); //è¿‡æœŸæ—¶é—´è®¾ç½®ä¸ºä¸€å¤© exp.setTime(exp.getTime() + 24 * 60 * 60 * 1000); document.cookie = `${name}=${escape(value);expires=${exp.toString()}}`;} localStorage ä¼šè¯å­˜å‚¨ å’Œ sessionStorage æœ¬åœ°å­˜å‚¨ 1.å­˜å‚¨å®¹é‡å¤§ 2.é›¶å®½å¸¦ï¼Œä»…å­˜å‚¨åœ¨æœ¬åœ°ï¼Œä¸ä¼šå’ŒæœåŠ¡å™¨å‘ç”Ÿä»»ä½•äº¤äº’è¡Œä¸ºï¼Œä¸å­˜åœ¨ç½‘ç»œå®½å¸¦å ç”¨é—®é¢˜ã€‚ 3.ç¼–ç¨‹æ¥å£ï¼Œæä¾›ä¸€å¥—ä¸°å¯Œçš„æ¥å£ï¼Œæ“ä½œæ•°æ®æ›´åŠ æ–¹ä¾¿ã€‚ 4.ç‹¬ç«‹çš„å­˜å‚¨ç©ºé—´ï¼Œä¸ä¼šé€ æˆæ•°æ®çš„æ··ä¹±ã€‚ ä¸»è¦åŒºåˆ«åœ¨äºæ•°æ®å­˜å‚¨çš„ æ—¶é—´èŒƒå›´å’Œé¡µé¢èŒƒå›´ sessionStorage: æ•°æ®åªå­˜å‚¨åˆ°çª—å£æˆ–æ ‡ç­¾å…³é—­æ—¶ï¼Œåªåœ¨å½“å‰çª—å£çš„å½“å‰æ ‡ç­¾å†…å¯è§,5M å·¦å³ï¼Œä¸åŒæµè§ˆå™¨ä¸åŒå¤§å°ã€‚ localStorage: æ•°æ®ä¼šä¸€ç›´å­˜åœ¨é™¤éæ‰‹åŠ¨æ¸…é™¤ï¼Œæ•°æ®å¯è¢«åŒæº(åè®®ã€åŸŸåã€ç«¯å£å·ä¸€è‡´)çš„æ¯ä¸ªçª—å£æˆ–æ ‡ç­¾å…±äº«,5M å·¦å³ï¼Œä¸åŒæµè§ˆå™¨ä¸åŒå¤§å°ã€‚ ç›‘æµ‹æ˜¯å¦æ”¯æŒ web Storage 1.é€šè¿‡ window.sessionStorage,window.localStorage åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒ 2.é€šè¿‡ try{}catch{} æ‰§è¡Œä¸€ä¸‹ storage.setItem(â€˜keyâ€™, value);storage.removeItem(â€˜keyâ€™),åˆ¤æ–­æ¥å£æ–¹æ³•æ˜¯å¦å¯ç”¨ã€‚ html5 çš„å‡ ç§å­˜å‚¨å½¢å¼ 1.æœ¬åœ°å­˜å‚¨ localStorage,sessionStorage 2.ç¦»çº¿ç¼“å­˜ application cache indexedDb,webSQL æ€§èƒ½ä¼˜åŒ–1234567891011121.è´Ÿè½½å‡è¡¡ã€CDNåŠ é€Ÿã€è®¾ç½®ç¼“å­˜ã€2.ä¸šåŠ¡é€»è¾‘ä¼˜åŒ–3.ä»£ç ç¨‹åºä¼˜åŒ–ï¼ˆç»„ä»¶æŒ‰éœ€åŠ è½½ã€å›¾ç‰‡æ‡’åŠ è½½ï¼Œä»£ç å‹ç¼©ï¼‰4.é¿å…é‡ç»˜å›æµé‡ç»˜ï¼šé¡µé¢å…ƒç´ çš„æ ·å¼æ”¹å˜ä¸ä¼šå½±å“å®ƒåœ¨æ–‡æ¡£æµä¸­çš„ä½ç½®æ—¶å‘ç”Ÿé‡ç»˜å›æµï¼šDOMå°ºå¯¸å¤§å°ç»“æ„å‘ç”Ÿå˜åŒ–æ—¶å›æµä¸€å®šä¼šå¯¼è‡´é‡ç»˜å¦‚ä½•é¿å…ï¼š1.é¿å…é¢‘ç¹æ“ä½œdomï¼Œé€šè¿‡åˆ›å»ºdocument.createDocumentFragment()ä¸€æ¬¡æ€§æ’å…¥éœ€è¦æ“ä½œçš„dom2.å…·æœ‰å¤æ‚åŠ¨ç”»çš„Domå…ƒç´ ä½¿ç”¨ç»å¯¹å®šä½ï¼Œä½¿å…¶è„±ç¦»æ–‡æ¡£æµ3.åˆå¹¶å¯¹äºDomä¸­styleæ ·å¼çš„æ“ä½œ4.é¿å…ä½¿ç”¨cssè¡¨è¾¾å¼ calc() fetch å’Œ axios12345678910fetchå–æ¶ˆå‘é€1.åˆ›å»ºä¸€ä¸ªAbortControllerå®ä¾‹2.è¯¥å®ä¾‹å…·æœ‰signalå±æ€§3.å°†signalä¼ é€’ç»™fetch option4.è°ƒç”¨AbortControllerçš„abortå±æ€§æ¥å–æ¶ˆæ‰€æœ‰ä½¿ç”¨è¯¥ä¿¡å·çš„fetchaxioså–æ¶ˆå‘é€1.const cancelToken = axios.CancelToken2.const source = CancelToken.source()3.axios.get('/xxx',{cancelToken: source.token}) flex å¸¸ç”¨å±æ€§ï¼Œgrid å¸ƒå±€flex å±æ€§ï¼š1.flex-direction å±æ€§ï¼Œå†³å®šä¸»è½´æ–¹å‘2.flex-wrap å±æ€§ï¼Œæ§åˆ¶æ¢è¡Œ3.flex-flow å±æ€§ï¼Œflex-direction å’Œ flex-wrap çš„ç®€å†™å½¢å¼ï¼Œé»˜è®¤å€¼ flex-flow: row nowrap;4.justify-content å±æ€§ï¼Œé¡¹ç›®ä¸»è½´ä¸Šçš„å¯¹é½æ–¹å¼5.align-item å±æ€§ï¼Œé¡¹ç›®åœ¨äº¤å‰è½´ä¸Šçš„å¯¹é½æ–¹å¼6.align-content å±æ€§ï¼Œå¤šä¸ªè½´çº¿çš„æ—¶å€™åœ¨å…ƒç´ åœ¨äº¤å‰è½´çš„å¯¹é½æ–¹å¼ï¼Œåªæœ‰ä¸€æ ¹è½´çº¿æ—¶ä¸èµ·ä½œç”¨flexï¼ˆå­å…ƒç´ çš„å±æ€§ï¼‰ï¼š1.order å±æ€§,å®šä¹‰é¡¹ç›®çš„æ’åˆ—é¡ºåºï¼Œæ•°å€¼è¶Šå°ï¼Œæ’åˆ—è¶Šé å‰ï¼Œé»˜è®¤ä¸º 0.2.align-self å±æ€§ï¼Œå…è®¸å•ä¸ªé¡¹ç›®ä¸å…¶ä»–é¡¹ç›®ä¸ä¸€æ ·çš„å¯¹é½æ–¹å¼ï¼Œä¼šè¦†ç›– align-items å±æ€§.3.flex å±æ€§ï¼Œflex-growã€flex-shrinkã€flex-basis ç®€å†™ï¼Œé»˜è®¤ä¸º 0 1 autoauto(1 1 auto) none(0 0 auto)4.flex-grow å±æ€§ï¼Œå®šä¹‰é¡¹ç›®çš„æ”¾å¤§æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º 0ï¼Œå³å¦‚æœå­˜åœ¨å‰©ä½™ç©ºé—´ä¹Ÿä¸æ”¾å¤§ï¼Œ1 ç­‰åˆ†ï¼Œä¸€ä¸ªé¡¹ç›®ä¸º 2ï¼Œå…¶ä»–ä¸º 1ï¼Œåˆ™å‰è€…å æ®ç©ºé—´æ˜¯å…¶ä»–çš„ä¸¤å€ã€‚5.flex-shrink å±æ€§ï¼Œå®šä¹‰é¡¹ç›®çš„ç¼©å°æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º 1ï¼Œç©ºé—´ä¸è¶³åˆ™ç¼©å°ï¼Œå¦‚æœæ‰€æœ‰é¡¹ç›®éƒ½ä¸º 1ï¼Œåˆ™ç­‰æ¯”ä¾‹ç¼©å°ï¼Œå¦‚æœæœ‰çš„é¡¹ç›®ä¸º 0ï¼Œåˆ™ç©ºé—´ä¸è¶³æ—¶ä¸º 0 çš„ä¸ç¼©å°ï¼Œè´Ÿå€¼æ— æ•ˆ6.flex-basis å±æ€§ï¼Œé¡¹ç›®å æ®çš„å›ºå®šç©ºé—´ padding-bottom å®ç°å­å…ƒç´ é«˜åº¦ç­‰äºçˆ¶å…ƒç´ å®½åº¦é—®é¢˜å½“ margin æˆ–è€… padding å–å€¼æ˜¯ç™¾åˆ†æ¯”çš„æ—¶å€™ï¼Œæ— è®ºæ˜¯ leftï¼Œright æˆ–è€… topï¼Œbottomï¼Œéƒ½æ˜¯ä»¥çˆ¶å…ƒç´ çš„ width ä¸ºå‚è€ƒç‰©ï¼Œè¿›è¡Œæå‰å ä½ é¢„ç¼–è¯‘123456åœ¨ä½œç”¨åŸŸçš„åˆ›å»ºé˜¶æ®µï¼ˆé¢„ç¼–è¯‘é˜¶æ®µï¼‰ï¼Œä¼šç”Ÿæˆjsçš„å˜é‡å¯¹è±¡ï¼ˆVOå¯¹è±¡ï¼‰ä¾›jså¼•æ“å»è®¿é—®ã€‚1.åˆ›å»ºaoå¯¹è±¡2.æ‰¾å½¢å‚å’Œå˜é‡å£°æ˜ï¼Œä½œä¸ºaoå¯¹è±¡çš„å±æ€§åï¼Œå€¼ä¸ºundefined3.å®å‚å’Œå½¢å‚ç›¸ç»Ÿä¸€4.æ‰¾å‡½æ•°å£°æ˜ï¼Œå¦‚æœåå­—å’Œå˜é‡ç›¸åŒåˆ™è¦†ç›–å˜é‡å£°æ˜5.è§£é‡Šæ‰§è¡Œ ç®­å¤´å‡½æ•°ä¸­çš„ this121.ç®­å¤´å‡½æ•°ä¸­çš„thisæ˜¯åœ¨å®šä¹‰å‡½æ•°çš„æ—¶å€™ç»‘å®šçš„ï¼ˆç»§æ‰¿è‡ªçˆ¶æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„thisï¼‰ï¼Œè€Œä¸æ˜¯æ‰§è¡Œå‡½æ•°æ—¶ç»‘å®šã€‚2.ç®­å¤´å‡½æ•°æ²¡æœ‰thisï¼Œæ‰€ä»¥ä¸èƒ½ç”¨ä½œæ„é€ å‡½æ•°ã€‚ Map å’Œ Set ä¸¤ç§æ–°çš„æ•°æ®ç»“æ„çš„åŒºåˆ«ï¼Ÿ1231. Mapç±»ä¼¼Objectæ˜¯ä¸€ç§é”®å€¼å¯¹é›†åˆï¼ŒåŒºåˆ«åœ¨äºMapçš„é”®ä¸ä»…é™äºå­—ç¬¦ä¸²ï¼Œå…¶ä»–å„ç§ç±»å‹çš„å€¼éƒ½å¯ä»¥ä½œä¸ºMapçš„é”®2.Setæ˜¯ç±»ä¼¼æ•°ç»„çš„ä¸€ç§æ•°æ®ç»“æ„ï¼Œä¸ç‚¹åœ¨äºSetä¸­æ²¡æœ‰é‡å¤çš„å€¼ ä½ å¯¹é—­åŒ…äº†è§£å¤šå°‘ï¼Ÿè§£é‡Šä¸€ä¸‹ä½œç”¨åŸŸé“¾æ˜¯å¦‚ä½•äº§ç”Ÿçš„ è§£é‡Šä¸€ä¸‹jsæ‰§è¡Œå±±ä¸‹æ–‡çš„åˆ›å»ºã€æ‰§è¡Œè¿‡ç¨‹ è§£é‡Šä¸€ä¸‹é—­åŒ…æ‰€äº§ç”Ÿçš„å˜é‡æ”¾åœ¨å“ªé‡Œ é—­åŒ…çš„å®šä¹‰ï¼šé—­åŒ…å°±æ˜¯èƒ½å¤Ÿè¯»å–å…¶ä»–å‡½æ•°å†…éƒ¨å˜é‡çš„å‡½æ•°ã€‚ é—­åŒ…çš„åº•å±‚å®ç°åŸç† js æ‰§è¡Œä¸Šä¸‹æ–‡ï¼š 1234567891011121314151617181920212223242526272829jsè¿è¡Œä¸‰éƒ¨æ›²1.è¯­æ³•åˆ†æ2.é¢„ç¼–è¯‘3.è§£é‡Šæ‰§è¡Œjsä»£ç éœ€è¦ç»è¿‡æµè§ˆå™¨V8å¼•æ“è¿›è¡Œé¢„ç¼–è¯‘ï¼Œé‡Œé¢æ¶‰åŠåˆ°å˜é‡æå‡ã€å‡½æ•°æå‡ã€‚é¢„ç¼–è¯‘çš„ç¯å¢ƒéœ€è¦ä¸ªç¯å¢ƒï¼Œè¿™ä¸ªç¯å¢ƒå°±æ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚jsæ‰§è¡Œä¸Šä¸‹æ–‡åˆ†ä¸ºä¸‰ç§ï¼š1.å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼šä»£ç å¼€å§‹æ‰§è¡Œæ—¶é¦–å…ˆè¿›å…¥çš„ç¯å¢ƒ2.å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼šå‡½æ•°è°ƒç”¨æ—¶ï¼Œä¼šå¼€å§‹æ‰§è¡Œå‡½æ•°ä¸­çš„ä»£ç 3.evalæ‰§è¡Œä¸Šä¸‹æ–‡ï¼šä¸å»ºè®®ä½¿ç”¨æ‰§è¡Œä¸Šä¸‹æ–‡çš„å‘¨æœŸï¼Œåˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µ1.åˆ›å»ºé˜¶æ®µ åˆ›å»ºè¯æ³•ç¯å¢ƒ ç”Ÿæˆå˜é‡å¯¹è±¡VOï¼Œå»ºç«‹ä½œç”¨åŸŸé“¾ ç¡®è®¤thisæŒ‡å‘ï¼Œå¹¶ç»‘å®šthis2.æ‰§è¡Œé˜¶æ®µ è¿›è¡Œå˜é‡èµ‹å€¼ï¼Œå‡½æ•°å¼•ç”¨ä»¥åŠæ‰§è¡Œä»£ç é¢„ç¼–è¯‘å‘ç”Ÿåœ¨å‡½æ•°æ‰§è¡Œå‰ï¼Œé¢„ç¼–è¯‘å››éƒ¨æ›²ï¼š1.åˆ›å»ºAOå¯¹è±¡2.æ‰¾å½¢å‚å’Œå˜é‡å£°æ˜ï¼Œå°†å˜é‡å’Œå½¢å‚ä½œä¸ºAOçš„å±æ€§åï¼Œå€¼ä¸ºundefined3.å°†å½¢å‚å’Œå®å‚ç›¸ç»Ÿä¸€4.åœ¨å‡½æ•°ä½“ä¸­æ‰¾åˆ°å‡½æ•°å£°æ˜ï¼Œå€¼èµ‹äºˆå‡½æ•°ä½“ï¼ˆå‡½æ•°åç›¸åŒï¼Œåè€…è¦†ç›–å‰è€…ï¼‰5.æœ€åç¨‹åºè¾“å‡ºå˜é‡å€¼çš„æ—¶å€™ï¼Œå°±æ˜¯ä»AOå¯¹è±¡ä¸­æ‹¿ï¼ˆæ­¤æ—¶å°±äº§ç”Ÿäº†å¤–éƒ¨ä½œç”¨åŸŸçš„å¼•ç”¨ï¼ŒjsæŸ¥æ‰¾å˜é‡çš„è§„åˆ™å°±æ˜¯å¦‚æœåœ¨å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­æ‰¾ä¸åˆ°å˜é‡ï¼Œå°±åœ¨è°ƒç”¨ä¸Šä¸‹æ–‡ä¸­å¯»æ‰¾ä»–ï¼Œå¦‚æœè¿˜æ²¡æœ‰å°±ä¸€ç›´å¾€ä¸Šä¸€çº§ï¼Œç›´åˆ°å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå¦‚æœè¿˜æ²¡æœ‰ï¼Œå°±æ˜¯undefinedï¼Œjså½¢æˆé—­åŒ…ï¼‰ åŸå‹12345student.__proto__ === Student.prototype1.æ¯ä¸ªå‡½æ•°functionéƒ½ç”±ä¸€ä¸ªprototypeï¼Œå³æ˜¾å¼åŸå‹ã€‚æ˜¯åœ¨å®šä¹‰å‡½æ•°çš„æ—¶å€™è‡ªåŠ¨æ·»åŠ çš„ï¼Œé»˜è®¤æ˜¯ä¸€ä¸ªç©ºçš„Objectå¯¹è±¡2.æ¯ä¸ªå¼•ç”¨ç±»å‹éƒ½æœ‰ä¸€ä¸ª__proto__,å³éšå¼åŸå‹ã€‚æ˜¯åˆ›å»ºå¯¹è±¡æ—¶è‡ªåŠ¨æ·»åŠ çš„ï¼Œé»˜è®¤å€¼ä¸ºæ„é€ å‡½æ•°çš„prototypeå±æ€§å€¼å®ä¾‹å¯¹è±¡çš„éšå¼åŸå‹ ç­‰äº å¯¹åº”æ„é€ å‡½æ•°æˆ–ç±»çš„æ˜¾å¼åŸå‹èƒ½ç›´æ¥æ“ä½œæ˜¾å¼åŸå‹ï¼Œä¸èƒ½ç›´æ¥æ“ä½œéšå¼åŸå‹ ç®€å•è¯´ä¸‹åŸå‹é“¾ åŸå‹é“¾æ˜¯ç”±åŸå‹å¯¹è±¡ç»„æˆçš„ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰protoå±æ€§ï¼ŒæŒ‡å‘äº†åˆ›å»ºè¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°çš„åŸå‹ï¼Œprotoå°†å¯¹è±¡è¿æ¥èµ·æ¥ç»„æˆäº†åŸå‹é“¾ã€‚ åŸå‹é“¾ï¼šç”¨æ¥å®ç°ç»§æ‰¿å’Œå…±äº«å±æ€§çš„æœ‰é™å¯¹è±¡é“¾ã€‚ æ¯ä¸ªå¯¹è±¡éƒ½æœ‰protoï¼ˆéšå¼åŸå‹ï¼‰å±æ€§ï¼ŒæŒ‡å‘åˆ›å»ºè¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°çš„åŸå‹ã€‚å…¶å®è¿™ä¸ªå±æ€§æŒ‡å‘äº† [[prototype]]ï¼Œä½†æ˜¯ [[prototype]] æ˜¯å†…éƒ¨å±æ€§ï¼Œæˆ‘ä»¬å¹¶ä¸èƒ½è®¿é—®åˆ°ï¼Œæ‰€ä»¥ä½¿ç”¨ proto æ¥è®¿é—®ã€‚ å¯¹è±¡çš„éšå¼åŸå‹ç­‰äºå¯¹è±¡çš„æ„é€ å‡½æ•°çš„æ˜¾å¼åŸå‹ï¼šobj.proto === Object.prototype è®¿é—®å±æ€§çš„æ—¶å€™ï¼Œjs å¼•æ“ä¼šè°ƒç”¨å†…éƒ¨çš„é»˜è®¤ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚[[Get]]æ“ä½œï¼Œ[[Get]]æ“ä½œé¦–å…ˆä¼šæ£€æŸ¥å¯¹è±¡æœ¬èº«æ˜¯å¦åŒ…å«è¿™ä¸ªå±æ€§å¦‚æœå¯¹è±¡æ²¡æœ‰è¿™ä¸ªå±æ€§ï¼Œåˆ™å¯¹è±¡å¯ä»¥é€šè¿‡protoæ¥å¯»æ‰¾ä¸å±äºè¯¥å¯¹è±¡çš„å±æ€§ï¼Œprotoå°†å¯¹è±¡å’ŒåŸå‹è¿æ¥èµ·æ¥å½¢æˆåŸå‹é“¾ Function.prototype å’Œ Object.prototype æ˜¯ä¸¤ä¸ªç‰¹æ®Šçš„å¯¹è±¡ï¼Œä»–ä»¬ç”±å¼•æ“åˆ›å»ºã€‚ js çš„ new æ“ä½œç¬¦éƒ½åšäº†äº›ä»€ä¹ˆï¼Ÿ1234567891011121314151617181920211. åˆ›å»ºä¸€ä¸ªç©ºçš„jså¯¹è±¡{}2. å°†ç©ºå¯¹è±¡çš„éšå¼åŸå‹__proto__æŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹3. å°†ç©ºå¯¹è±¡ä½œä¸ºæ„é€ å‡½æ•°çš„ä¸Šä¸‹æ–‡ï¼ˆæ”¹å˜thisæŒ‡å‘ï¼‰4. å¯¹æ„é€ å‡½æ•°è¿”å›å€¼åšåˆ¤æ–­å®ç°ï¼šfunction create(fn, ...args) { let obj = Object.create({}); // obj.__proto__ = fn.prototype; Object.setPrototypeOf(obj, fn.prototype); let result = fn.apply(obj, args); return result instanceof Object ? result : obj;}è¡¥å……ï¼šåœ¨newçš„æ—¶å€™ï¼Œä¼šå¯¹æ„é€ å‡½æ•°çš„è¿”å›å€¼åšä¸€äº›åˆ¤æ–­1. å¦‚æœè¿”å›å€¼æ˜¯åŸºç¡€ç±»å‹æ•°æ®ï¼Œåˆ™å¿½ç•¥è¿”å›å€¼2. å¦‚æœè¿”å›å€¼æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ï¼Œåˆ™ä½¿ç”¨returnçš„è¿”å›ï¼Œä¹Ÿå°±æ˜¯newæ“ä½œç¬¦æ— æ•ˆ calc, support, media å„è‡ªçš„å«ä¹‰åŠç”¨æ³•ï¼Ÿ1234567891011121314151617@support ä¸»è¦ç”¨äºæ£€æµ‹æµè§ˆå™¨æ˜¯å¦æ”¯æŒcssçš„æŸä¸ªå±æ€§ï¼Œç›¸å½“äºæ¡ä»¶è¯­å¥ï¼Œæ”¯æŒçš„è¯å†™ä¸€å¥—æ ·å¼ï¼Œä¸æ”¯æŒå†™å¦å¤–ä¸€å¥—æ ·å¼ï¼Œä¾‹å¦‚ @supports (display: grid) { div { display: grid; } } @supports not (display: grid) { div { float: right; } }calc(): ç”¨äºåŠ¨æ€è®¡ç®—å€¼ï¼Œæ”¯æŒ + - * / è¿ç®—ã€‚@mediaæŸ¥è¯¢ï¼šå¯ä»¥é’ˆå¯¹ä¸åŒçš„åª’ä½“ç±»å‹å®šä¹‰ä¸åŒçš„æ ·å¼ã€‚ ä»€ä¹ˆæ˜¯ä¼šè¯ cookie,ä»€ä¹ˆæ˜¯æŒä¹… cookie?1cookieæ˜¯æœåŠ¡å™¨è¿”å›çš„ï¼ŒæŒ‡å®šäº†expireï¼ˆæœ‰æ•ˆæœŸï¼‰çš„æ˜¯æŒä¹…cookie,æ²¡æœ‰æŒ‡å®šçš„æ˜¯ä¼šè¯cookie img æ ‡ç­¾ title å’Œ alt å±æ€§1234alt: å›¾ç‰‡åŠ è½½å¤±è´¥æ—¶ï¼Œæ˜¾ç¤ºåœ¨ç½‘é¡µä¸Šçš„æ›¿ä»£æ–‡å­—title: é¼ æ ‡æ”¾åœ¨å›¾ç‰‡ä¸Šçš„æç¤ºæ–‡å­—altæ˜¯å¿…é¡»å±æ€§ï¼Œå¯ä»¥ä¸ºç©ºï¼›titleä¸ºéå¿…é¡» es6 æ–°ç‰¹æ€§12345671.letå’Œconst2.æ¨¡ç‰ˆå­—ç¬¦ä¸²3.ç®­å¤´å‡½æ•°4.å‡½æ•°å¯ä»¥è®¾ç½®é»˜è®¤å‚æ•°å€¼5.æ‰©å±•è¿ç®—ç¬¦6.å¯¹è±¡å’Œæ•°ç»„çš„è§£æ„7.class å›¾ç‰‡æ‡’åŠ è½½åŸç†12345671. æµè§ˆå™¨æ˜¯å¦å‘èµ·è¯·æ±‚æ˜¯æ ¹æ®&lt;img /&gt;æ ‡ç­¾çš„srcå±æ€§2. æ‰€ä»¥æ‡’åŠ è½½çš„å…³é”®æ˜¯ï¼šåœ¨å›¾ç‰‡æ²¡æœ‰è¿›å…¥å¯è§†åŒºåŸŸæ—¶ï¼Œå…ˆä¸ç»™&lt;img /&gt;çš„srcå±æ€§èµ‹å€¼ï¼Œç­‰åˆ°å›¾ç‰‡è¿›å…¥å¯æ˜¯åŒºåŸŸå†ç»™data-src -&gt; srcèµ‹å€¼ã€‚å½“å›¾ç‰‡åº•è¾¹è·ç¦»é¡µé¢çš„åç§»ï¼ˆå›¾ç‰‡é«˜åº¦+å›¾ç‰‡è·ç¦»é¡¶éƒ¨åç§»é«˜åº¦ï¼‰å°äºç­‰äºæµè§ˆå™¨åº•è¾¹è·ç¦»é¡µé¢é¡¶éƒ¨é«˜åº¦ï¼ˆæµè§ˆå™¨ä¸€å±é«˜åº¦ + æ»šåŠ¨åŒºåŸŸï¼‰ H5 æ–°å¢äº†å“ªäº›æ ‡ç­¾ï¼Ÿ1articleã€asideã€audioã€videoã€footerã€headerã€navã€section SVG å’Œ Canvas çš„åŒºåˆ«ï¼Ÿ12341.svg:è¡¨ç¤ºä»¥XMLæ ¼å¼å®šä¹‰å›¾åƒçš„å¯ä¼¸ç¼©çŸ¢é‡å›¾å½¢ã€‚2.canvasï¼šé€šè¿‡jsæ¥ç»˜åˆ¶2Då›¾å½¢svgé€šè¿‡æ ‡ç­¾fillå±æ€§å¯ä»¥è°ƒæ•´é¢œè‰² AMD å’Œ CMD çš„åŒºåˆ«1234567å…±åŒç‚¹ï¼š1.ä¸¤è€…éƒ½æ˜¯æ¡†æ¶åœ¨æ¨å¹¿è¿‡ç¨‹ä¸­å¯¹æ¨¡å—å®šä¹‰çš„è§„èŒƒäº§å‡º2.éƒ½æ˜¯å¼‚æ­¥åŠ è½½æ¨¡å—ä¸åŒç‚¹ï¼š1.AMDæ˜¯RequireJsåœ¨æ¨å¹¿è¿‡ç¨‹ä¸­å¯¹æ¨¡å—å®šä¹‰çš„è§„èŒƒäº§å‡ºï¼ŒCMDæ˜¯SeaJsåœ¨æ¨å¹¿è¿‡ç¨‹ä¸­å¯¹æ¨¡å—å®šä¹‰çš„è§„èŒƒåŒ–äº§å‡º2.AMDæ¨å´‡ä¾èµ–å‰ç½®ï¼ŒCMDæ¨å´‡ä¾èµ–å°±è¿‘3.AMDçš„åº”ç”¨ä½“éªŒå¥½ï¼Œå› ä¸ºæ¨¡å—æå‰æ‰§è¡Œäº†ï¼ŒCMDæ€§èƒ½å¥½ï¼Œå› ä¸ºåªæœ‰ç”¨æˆ·éœ€è¦çš„æ—¶å€™æ‰æ‰§è¡Œ å¦‚ä½•å®ç° js å€’è®¡æ—¶çš„çº åï¼Ÿ123451. ç¬¬ä¸€ç§é€šè¿‡å‰ç«¯å®šæ—¶å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚è·å–æœ€æ–°çš„æ—¶é—´å·®ï¼Œä»¥æ­¤æ¥æ ¡å‡†å€’è®¡æ—¶æ—¶é—´ã€‚2. é€šè¿‡å‰ç«¯æ ¹æ®åå·®æ—¶é—´æ¥è‡ªåŠ¨è°ƒæ•´ä¸‹æ¬¡é—´éš”çš„æ—¶é—´æ¥å®ç°ï¼Œé¦–å…ˆä»¥setTimeouté€’å½’çš„æ–¹å¼æ¥å®ç°å€’è®¡æ—¶ï¼Œé€šè¿‡ä¸€ä¸ªå˜é‡è®°å½•å€’è®¡æ—¶çš„ç§’æ•°ï¼Œæ ¹æ®ç§’æ•°å’Œé—´éš”æ—¶é—´è®¡ç®—å‡ºæ­¤æ—¶æ— åå·®æ—¶åº”è¯¥æ˜¾ç¤ºçš„æ—¶é—´ï¼Œç„¶åæ‹¿å½“å‰çœŸå®æ—¶é—´ä¸è¿™ä¸ªæ—¶é—´ç›¸å‡ï¼Œå°±å¯ä»¥å¾—åˆ°æ—¶é—´çš„åå·®å¤§å°ï¼Œå› æ­¤åœ¨è®¾ç½®ä¸‹ä¸€ä¸ªå®šæ—¶å™¨çš„æ—¶å€™ï¼Œé—´éš”æ—¶é—´å‡å»è¿™ä¸ªåå·®å¤§å°å°±å¯ä»¥çº æ­£æ—¶é—´è¯¯å·®ã€‚ js çš„æ‰§è¡Œæœºåˆ¶js æ˜¯å•çº¿ç¨‹çš„ï¼Œå¤„ç† js ä»»åŠ¡åªèƒ½ä¸€ä¸ªä¸€ä¸ªé¡ºåºæ‰§è¡Œï¼Œjs ä¸­æŠŠä»»åŠ¡åˆ†ä¸ºäº†åŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡ï¼ŒåŒæ­¥ä»»åŠ¡è¿›å…¥ä¸»çº¿ç¨‹å…ˆæ‰§è¡Œï¼Œå¼‚æ­¥ä»»åŠ¡è¿›å…¥ Event Table å¹¶æ³¨å†Œå‡½æ•°ï¼ŒæŒ‡å®šäº‹æƒ…å®Œæˆåï¼ŒEvent Table å°±ä¼šå°†å‡½æ•°ç§»å…¥åˆ°äº‹ä»¶é˜Ÿåˆ— Event Queque ä¸­ï¼Œç­‰å¾…ä¸»çº¿ç¨‹ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œå°±ä¼šä»äº‹ä»¶é˜Ÿåˆ—ä¸­å–å‡ºå¯¹åº”äº‹ä»¶è¿›å…¥ä¸»çº¿ç¨‹æ‰§è¡Œã€‚ macro-taskï¼ˆå®ä»»åŠ¡ï¼‰ï¼šåŒ…æ‹¬æ•´ä½“ä»£ç  scriptã€setTimeoutã€setIntervalmicro-taskï¼ˆå¾®ä»»åŠ¡ï¼‰ï¼šPromise.thenã€process.nextTickå¾®ä»»åŠ¡å…ˆäºå®ä»»åŠ¡å…ˆæ‰§è¡Œï¼ˆé™¤äº† scriptï¼‰æ‰§è¡Œè¿‡ç¨‹ä¸åŒä»»åŠ¡è¿›å…¥ä¸åŒçš„ event quue js å…ˆæ‰§è¡Œæ•´ä½“çš„åŒæ­¥ä»»åŠ¡ä»£ç ï¼Œé‡åˆ°å¾®ä»»åŠ¡å°±ä¼šå°†å…¶æ”¾å…¥åˆ°å¾®ä»»åŠ¡äº‹ä»¶é˜Ÿåˆ—ï¼Œé‡åˆ°å®ä»»åŠ¡æ”¾åˆ°å®ä»»åŠ¡äº‹ä»¶é˜Ÿåˆ—ä¸­ã€‚ ç„¶åæ•´ä½“çš„åŒæ­¥ä»»åŠ¡ä»£ç æ‰§è¡Œå®Œä¹‹åï¼Œå°±ä¼šå…ˆæ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œç­‰å¾…å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„æ‰€æœ‰ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œå†å»ä»å®ä»»åŠ¡é˜Ÿåˆ—ä¸­æ‰¾åˆ°ç¬¬ä¸€ä¸ªä»»åŠ¡è¿›è¡Œæ‰§è¡Œï¼Œæ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¦‚æœé‡åˆ°å¾®ä»»åŠ¡å°±ä¼šæ”¾åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œç­‰åˆ°è¯¥å®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œå°±ä¼šæŸ¥çœ‹å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­æœ‰æ²¡æœ‰å¾®ä»»åŠ¡ï¼Œå¦‚æœæœ‰å°±å…ˆæ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œå¦åˆ™æ‰§è¡Œç¬¬äºŒä¸ªå®ä»»åŠ¡ï¼Œä»¥æ­¤ç±»æ¨ã€‚ è¯·è¯´ä¸€ä¸‹ä½ å¯¹ React çš„ç†è§£ï¼Ÿ1234567891011121314151. reactæ˜¯ä¸€ä¸ªç½‘é¡µçš„UIæ¡†æ¶ï¼Œé€šè¿‡ç»„ä»¶åŒ–çš„æ–¹å¼è§£å†³è§†å›¾å±‚å¼€å‘å¤ç”¨çš„é—®é¢˜ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªç»„ä»¶åŒ–æ¡†æ¶ã€‚2. reactçš„æ ¸å¿ƒè®¾è®¡æ€è·¯æœ‰ä¸‰ä¸ªï¼šå£°æ˜å¼ å‘½ä»¤å¼ï¼šå‘½ä»¤ç¨‹åºä¸€æ­¥ä¸€æ­¥çš„æ‰§è¡Œæ“ä½œ å£°æ˜å¼ï¼šåªéœ€å‘Šè¯‰ç¨‹åºæˆ‘ä»¬æƒ³è¦çš„ç»“æœï¼Œå…¶ä»–çš„äº¤ç»™ç¨‹åºå»åšã€‚ç»„ä»¶åŒ– å°†è§†å›¾æ‹†åˆ†å’Œæ¨¡å—å¤ç”¨ï¼Œåšåˆ°é«˜å†…èšä½è€¦åˆé€šç”¨æ€§ ä¸€æ¬¡å­¦ä¹ ï¼Œéšå¤„ç¼–å†™ã€‚RNï¼Œreact360ç­‰ï¼Œè·¨å¹³å°åº•å±‚é è™šæ‹ŸDOMå®ç°3. ç¼ºç‚¹1.æ²¡æœ‰å®˜æ–¹ç³»ç»Ÿè§£å†³æ–¹æ¡ˆï¼Œåœ¨å¼€å‘å¤§å‹åº”ç”¨æ—¶éœ€è¦å‘ç¤¾åŒºå¯»æ‰¾å¹¶æ•´åˆè§£å†³æ–¹æ¡ˆã€‚2.è¿‡äºçµæ´»ï¼Œéœ€è¦æ³¨æ„ä»£ç è§„èŒƒ React.lazy æ‡’åŠ è½½1234567891011// React.lazyæ–¹æ³•å¯ä»¥å¼‚æ­¥åŠ è½½ç»„ä»¶const Foo = React.lazy(() =&gt; import('../components/Foo')// React.lazyä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œéœ€è¦é…åˆReact.suspense,ç”¨æ¥åŒ…è£¹å¼‚æ­¥ç»„ä»¶ï¼Œæ·»åŠ loadingæ•ˆæœç­‰ã€‚&lt;React.Suspense fallback={&lt;div&gt;loading...&lt;/div&gt;}&gt; &lt;Foo /&gt;&lt;/React.Suspense&gt;React.lazyåŸç†React.lazyä½¿ç”¨importæ¥æ‡’åŠ è½½ç»„ä»¶ï¼Œimportåœ¨webpackä¸­æœ€ç»ˆä¼šè°ƒç”¨requireEnsureæ–¹æ³•ï¼ŒåŠ¨æ€æ’å…¥scriptæ¥è¯·æ±‚jsæ–‡ä»¶ï¼Œç±»ä¼¼jsonpçš„å½¢å¼ã€‚ ç±»ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶ä¹‹é—´çš„åŒºåˆ«ï¼Ÿ1234567891011121314ç›¸åŒç‚¹ï¼šæ¥å—å±æ€§è¿”å›Reactå…ƒç´ ä¸åŒç‚¹ï¼š 1.ç¼–ç¨‹æ€æƒ³ä¸åŒï¼šç±»ç»„ä»¶éœ€è¦åˆ›å»ºå®ä¾‹ï¼ŒåŸºäºé¢å‘å¯¹è±¡çš„æ–¹å¼ç¼–ç¨‹ã€‚å‡½æ•°å¼ç»„ä»¶æ¥å—è¾“å…¥è¿”å›è¾“å‡ºï¼Œå±äºå‡½æ•°å¼ç¼–ç¨‹çš„æ€æƒ³ã€‚ 2.å†…å­˜å ç”¨ï¼šç±»ç»„ä»¶éœ€è¦åˆ›å»ºå®ä¾‹ï¼Œä¼šå ç”¨å†…å­˜ï¼Œå‡½æ•°ç»„ä»¶ä¸éœ€è¦åˆ›å»ºå®ä¾‹ï¼Œå¯ä»¥èŠ‚çº¦å†…å­˜ 3.æ•è·ç‰¹æ€§ï¼šå‡½æ•°ç»„ä»¶å…·æœ‰æ•è·ç‰¹æ€§ 4.å¯æµ‹è¯•æ€§ï¼šå‡½æ•°ç»„ä»¶æ›´æ–¹ä¾¿ç¼–å†™å•å…ƒæµ‹è¯• 5.çŠ¶æ€ï¼šç±»ç»„ä»¶æœ‰å®ä¾‹å¯ä»¥ç»´æŠ¤è‡ªå·±çš„çŠ¶æ€ï¼Œå‡½æ•°ç»„ä»¶å¯ä»¥ä½¿ç”¨useStateç»´æŠ¤è‡ªå·±çš„çŠ¶æ€ 6.å£°æ˜å‘¨æœŸï¼šç±»ç»„ä»¶æœ‰ç”Ÿå‘½å‘¨æœŸï¼Œå¯ä»¥åœ¨ç”Ÿå‘½å‘¨æœŸå†…å†™é€»è¾‘ï¼Œå‡½æ•°ç»„ä»¶å¯ä»¥åœ¨useEffectä¸­ 7.é€»è¾‘å¤ç”¨ï¼šå‡½æ•°ç»„ä»¶é€šè¿‡ç»§æ‰¿å®ç°é€»è¾‘å¤ç”¨ï¼Œå‡½æ•°ç»„ä»¶å¯ä»¥é€šè¿‡è‡ªå®šä¹‰hookså®ç°é€»è¾‘å¤ç”¨ 8.æ€§èƒ½ä¼˜åŒ–ï¼šç±»ç»„ä»¶é€šè¿‡shouldComponentUpdateå’ŒPureComponentæ¥è·³è¿‡æ›´æ–°ï¼Œå‡½æ•°ç»„ä»¶é€šè¿‡React.memo å½“è°ƒç”¨ setState çš„æ—¶å€™ï¼Œå‘ç”Ÿäº†ä»€ä¹ˆäº‹ï¼Ÿ12å°†ä¼ é€’ç»™setStateçš„å‚æ•°å¯¹è±¡åˆå¹¶åˆ°ç»„ä»¶çš„å½“å‰çš„çŠ¶æ€ï¼Œreactéå†domèŠ‚ç‚¹ï¼Œè®¡ç®—å·®å¼‚ï¼Œæ›´æ–°UIã€‚https://segmentfault.com/a/1190000018250127 ä¸ºä»€ä¹ˆ setState çš„å‚æ•°æ˜¯ä¸€ä¸ª callback è€Œä¸æ˜¯ä¸€ä¸ªå¯¹è±¡123456å› ä¸ºthis.propså’Œthis.stateçš„æ›´æ–°å¯èƒ½æ˜¯å¼‚æ­¥çš„ï¼Œä¸èƒ½ä¾èµ–å®ƒä»¬çš„å€¼å»è®¡ç®—ä¸‹ä¸€ä¸ªstate(æ›´æ–°çŠ¶æ€ä¸è¦ç›´æ¥ä¿®æ”¹this.stateï¼Œè™½ç„¶çŠ¶æ€å¯ä»¥æ”¹å˜ï¼Œä½†ä¸ä¼šè§¦å‘ç»„ä»¶çš„æ›´æ–°)setStateä½•æ—¶åŒæ­¥ä½•æ—¶å¼‚æ­¥ï¼Ÿå¼‚æ­¥ï¼šç”±Reactæ§åˆ¶çš„äº‹ä»¶å¤„ç†ç¨‹åºä»¥åŠç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­è°ƒç”¨setStateä¸ºå¼‚æ­¥åŒæ­¥ï¼šReactæ§åˆ¶ä¹‹å¤–çš„åŸç”Ÿjsç»‘å®šçš„äº‹ä»¶ã€setTimeout/setIntervalç­‰ã€‚ setState ä»€ä¹ˆæ—¶å€™åŒæ­¥ä»€ä¹ˆæ—¶å€™å¼‚æ­¥ï¼Ÿreact ä¸‰ä¸ªæ¨¡å¼ï¼š1.legacy æ¨¡å¼ï¼š é€šè¿‡ ReactDOM.render(, rootNode)åˆ›å»ºçš„ï¼Œå½“å‰ react çš„ä½¿ç”¨æ–¹å¼2.blocking æ¨¡å¼ï¼šé€šè¿‡ ReactDOM.createBlockingRoot(rootNode).render(),å®éªŒé˜¶æ®µï¼Œä½œä¸ºè¿ç§»åˆ° concurrent æ¨¡å¼çš„ç¬¬ä¸€ä¸ªæ­¥éª¤3.concurrent æ¨¡å¼ï¼Œé€šè¿‡ ReactDOM.createRoot(rootNode).render(),å®éªŒé˜¶æ®µï¼Œæœªæ¥ react çš„é»˜è®¤å¼€å‘æ¨¡å¼ setState åªåœ¨åˆæˆäº‹ä»¶ï¼ˆreact ä¸ºäº†è§£å†³è·¨å¹³å°ï¼Œå…¼å®¹æ€§é—®é¢˜ï¼Œè‡ªå·±å°è£…äº†ä¸€å¥—äº‹ä»¶æœºåˆ¶ï¼Œä»£ç†äº†åŸç”Ÿçš„äº‹ä»¶ï¼‰å’Œé’©å­å‡½æ•°ï¼ˆç”Ÿå‘½å‘¨æœŸä¸­ï¼‰æ˜¯å¼‚æ­¥çš„ï¼Œåœ¨åŸç”Ÿäº‹ä»¶å’Œ setTimeout ä¸­éƒ½æ˜¯åŒæ­¥çš„ã€‚ ä¸åŒæ¨¡å¼æ‰§è¡Œç»“æœä¸åŒï¼Œlegacy æ¨¡å¼å‘½ä¸­ batchedUpadatesï¼ˆæ‰¹å¤„ç†ï¼‰æ—¶å¼‚æ­¥ï¼Œä¸ºå‘½ä¸­æ—¶åŒæ­¥concurrent æ¨¡å¼éƒ½æ˜¯å¼‚æ­¥çš„ setState å¼‚æ­¥å¹¶ä¸æ˜¯è¯´å†…éƒ¨ç”±å¼‚æ­¥ä»£ç å®ç°ï¼Œå…¶æœ¬èº«æ‰§è¡Œè¿‡ç¨‹å’Œä»£ç éƒ½æ˜¯åŒæ­¥çš„ï¼Œåªæ˜¯åˆæˆäº‹ä»¶å’Œé’©å­å‡½æ•°çš„è°ƒç”¨é¡ºåºåœ¨æ›´æ–°ä¹‹å‰ï¼Œå¯¼è‡´åœ¨åˆæˆäº‹ä»¶å’Œé’©å­å‡½æ•°ä¸­æ²¡æ³•ç«‹é©¬æ‹¿åˆ°æ›´æ–°åçš„å€¼ï¼Œå½¢æˆäº†â€œå¼‚æ­¥â€ å¯ä»¥é€šè¿‡ç¬¬äºŒä¸ªå‚æ•°çš„ callback å›è°ƒå‡½æ•°ä¸­æ‹¿åˆ°æœ€æ–°çš„å€¼ï¼Œåœ¨å¼‚æ­¥ä¸­å¦‚æœå¯¹åŒä¸€ä¸ªå€¼è¿›è¡Œå¤šæ¬¡ setStateï¼Œé‚£ä¹ˆ setState çš„æ‰¹é‡æ›´æ–°ç­–ç•¥ä¼šå°†å…¶è¦†ç›–ï¼Œå»æœ€åä¸€æ¬¡çš„æ‰§è¡Œï¼Œå¦‚æœåŒæ—¶ setState å¤šä¸ªå€¼ï¼Œä¼šåœ¨æ›´æ–°æ—¶å¯¹å…¶è¿›è¡Œåˆå¹¶æ‰¹é‡æ›´æ–°ã€‚ react æ¸²æŸ“æœºåˆ¶12345678é¦–å…ˆæ‰“å¼€é¡µé¢ä¼šæ¸²æŸ“å‡ºä¸€é¢—DOMæ ‘ï¼Œæ›´æ–°æ•°æ®ä¼šç”Ÿæˆä¸€é¢—è™šæ‹ŸDOMæ ‘ï¼Œé€šè¿‡diffç®—æ³•ï¼Œæ¯”è¾ƒä¸¤é¢—DOMæ ‘çš„å·®å¼‚ï¼Œæ‰¾åˆ°æ›´æ–°çš„åœ°æ–¹è¿›è¡Œæ‰¹é‡æ”¹åŠ¨ã€‚diffï¼šè®¡ç®—ä¸€æ£µæ ‘å½¢ç»“æ„åˆ°å¦ä¸€é¢—æ ‘å½¢ç»“æ„çš„æœ€å°‘æ“ä½œã€‚1.æŠŠæ ‘å½¢ç»“æ„æŒ‰ç…§å±‚çº§åˆ†è§£ï¼Œåªæ¯”è¾ƒåŒçº§å…ƒç´ 2.ç»™åˆ—è¡¨ç»“æ„çš„æ¯ä¸ªå•å…ƒæ·»åŠ å”¯ä¸€çš„ key å±æ€§ï¼Œæ–¹ä¾¿æ¯”è¾ƒ3.diffåªç®€å•è€ƒè™‘åŒå±‚çº§çš„èŠ‚ç‚¹ä½ç½®å˜æ¢ï¼Œå¦‚æœæ˜¯è·¨å±‚çº§çš„è¯ï¼Œåªæœ‰åˆ›å»ºèŠ‚ç‚¹å’Œåˆ é™¤èŠ‚ç‚¹çš„æ“ä½œã€‚ï¼ˆå®˜æ–¹ä¹Ÿä¸æ¨èï¼‰ React.StrictMode ç›®å‰æœ‰åŠ©äºï¼š12345è¯†åˆ«ä¸å®‰å…¨çš„ç”Ÿå‘½å‘¨æœŸå…³äºä½¿ç”¨è¿‡æ—¶å­—ç¬¦ä¸² ref API çš„è­¦å‘Šå…³äºä½¿ç”¨åºŸå¼ƒçš„ findDOMNode æ–¹æ³•çš„è­¦å‘Šæ£€æµ‹æ„å¤–çš„å‰¯ä½œç”¨æ£€æµ‹è¿‡æ—¶çš„ context API è™šæ‹Ÿ DOM ä¼˜ç‚¹12345678910111213141516171819202122231. å‡å°‘ä¸å¿…è¦çš„DOMæ“ä½œ 1.1è™šæ‹Ÿdomå¯ä»¥å°†å¤šæ¬¡æ“ä½œåˆå¹¶ä¸ºä¸€æ¬¡æ“ä½œï¼Œæ¯”å¦‚æ·»åŠ 100ä¸ªèŠ‚ç‚¹ï¼Œç¡®æ˜¯ä¸€ä¸ªä¸€ä¸ªæ“ä½œçš„ 1.2è™šæ‹Ÿdomå€ŸåŠ©dom diffå¯ä»¥å°†å¤šä½™çš„æ“ä½œçœç•¥æ‰ï¼Œæ¯”å¦‚æ·»åŠ 100ä¸ªèŠ‚ç‚¹ï¼Œå…¶ä¸­10ä¸ªæ˜¯æ–°å¢çš„2. è·¨å¹³å°æ¸²æŸ“ 1.å› ä¸ºè™šæ‹Ÿdomæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªjså¯¹è±¡reactè™šæ‹Ÿdomç»“æ„:const vNode = { key: null, props:{ children: [ {type: 'span', ....}, ], className: 'red', onClick: () =&gt; {} }, ref: null, type: 'div',}åˆ›å»ºè™šæ‹Ÿdomï¼šReact.createElement diff ç­–ç•¥`ç­–ç•¥ä¸€ï¼š tree diff1.React å¯¹æ ‘è¿›è¡Œåˆ†å±‚æ¯”è¾ƒï¼Œä¸¤é¢—è™šæ‹Ÿ DOM æ ‘åªä¼šå¯¹åŒä¸€å±‚çº§çš„ DOM èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœå­˜åœ¨è·¨å±‚çº§çš„æ“ä½œï¼Œåªä¼šè¿›è¡Œåˆ›å»ºå’Œåˆ é™¤ 2.å¦‚æœèŠ‚ç‚¹æ˜¯ç»„ä»¶å°±è¿›è¡Œ Component diff 3.å¦‚æœèŠ‚ç‚¹æ˜¯æ ‡ç­¾å°±è¿›è¡Œ Element diff ç­–ç•¥äºŒï¼šcomponent diffå¦‚æœä¸ºéåŒç±»å‹ç»„ä»¶çš„è¯æ ‡è®°ç»„ä»¶ä¸º dirty componentï¼Œæ›¿æ¢ç»„ä»¶ä¸‹æ‰€æœ‰å­èŠ‚ç‚¹ï¼Œç±»å‹ç›¸åŒæ›´æ–°å±æ€§ï¼Œç„¶åæ·±å…¥ç»„ä»¶è¿›è¡Œ Tree diffï¼ˆé€’å½’éå†å¯¹æ¯”ï¼‰ ç­–ç•¥ä¸‰ï¼šelement diffå¦‚æœèŠ‚ç‚¹æ˜¯åŸç”Ÿæ ‡ç­¾ï¼Œåˆ™çœ‹æ ‡ç­¾åæ ‡ç­¾åä¸åŒç›´æ¥æ›¿æ¢ï¼Œç›¸åŒæ›´æ–°å±æ€§ï¼Œç„¶åè¿›å…¥æ ‡ç­¾è¿›è¡Œ Tree diffï¼ˆé€’å½’éå†å¯¹æ¯”ï¼‰` shouldComponentUpdate(nextProps, nextState)æ˜¯åšä»€ä¹ˆçš„ï¼Œï¼ˆreact æ€§èƒ½ä¼˜åŒ–æ˜¯å“ªä¸ªå‘¨æœŸå‡½æ•°ï¼Ÿï¼‰12shouldComponentUpdate è¿™ä¸ªæ–¹æ³•ç”¨æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦è°ƒç”¨renderæ–¹æ³•é‡æ–°ç»˜åˆ¶dom,ç”±äºæ¸²æŸ“doméå¸¸æ¶ˆè€—æ€§èƒ½ï¼Œåˆç†çš„è°ƒç”¨shouldComponentUpdateæ–¹æ³•å¯ä»¥æå¤§çš„æé«˜æ€§èƒ½ã€‚ createElement å’Œ cloneElement æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ1234567891011121314151617React.createElement()æ„å»ºReactå…ƒç´ ã€‚æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ ‡ç­¾åï¼Œå¦‚divã€spanç­‰ï¼Œæˆ–è€…reactç»„ä»¶ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºä¼ å…¥çš„å±æ€§ï¼Œç¬¬ä¸‰ä¸ªä¸ºç»„ä»¶çš„å­ç»„ä»¶ã€‚React.createElement( type, [props], [...children])React.cloneElement(),ç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥reactå…ƒç´ ä¸æ˜¯æ ‡ç­¾åï¼Œç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥å±æ€§ï¼Œæ–°æ·»åŠ çš„å±æ€§ä¼šå¹¶å…¥åŸæœ‰çš„å±æ€§ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºå­ç»„ä»¶React.cloneElement( element, [props], [...children]) è™šæ‹Ÿ DOM çš„ä¼˜ç¼ºç‚¹ï¼Ÿ123456789ä¼˜ç‚¹ï¼š1. å¤„ç†äº†æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜ï¼Œé¿å…äº†ç”¨æˆ·æ“ä½œçœŸå®DOM2.å†…å®¹ç»è¿‡xsså¤„ç†ï¼Œå¯ä»¥é˜²èŒƒxssæ”»å‡»3.è·¨å¹³å°å¼€å‘4.æ›´æ–°çš„æ—¶å€™å¯ä»¥å®ç°å·®å¼‚åŒ–æ›´æ–°ï¼Œå‡å°‘æ›´æ–°DOMçš„æ“ä½œç¼ºç‚¹ï¼š1.è™šæ‹ŸDOMéœ€è¦æ¶ˆè€—é¢å¤–çš„å†…å­˜2.é¦–æ¬¡æ¸²æŸ“ä¸ä¸€å®šä¼šæ›´å¿« React ä¸­åˆ›å»ºç»„ä»¶çš„æ–¹å¼1React.createClass()ã€ES6 classç»„ä»¶ æ— æ— çŠ¶æ€å‡½æ•°å¼ç»„ä»¶ react ä¸­ key çš„ä½œç”¨12345keyåœ¨reactä¸­ç”¨äºè¿½è¸ªå“ªäº›åˆ—è¡¨ä¸­å…ƒç´ è¢«ä¿®æ”¹ã€æ·»åŠ æˆ–è€…ç§»é™¤çš„è¾…åŠ©æ ‡è¯†ã€‚åœ¨å¼€å‘ä¸­ï¼Œéœ€è¦ä¿è¯æŸä¸ªå…ƒç´ çš„keyåœ¨åŒçº§å…ƒç´ ä¸­å…·æœ‰å”¯ä¸€æ€§ã€‚diffç®—æ³•ä¼šå€ŸåŠ©å…ƒç´ çš„keyå€¼æ¥åˆ¤æ–­å…ƒç´ æ˜¯æ–°åˆ›å»ºçš„è¿˜æ˜¯è¢«ç§»åŠ¨è€Œæ¥çš„å…ƒç´ ï¼Œä»è€Œå‡å°‘ä¸å¿…è¦çš„å…ƒç´ é‡æ¸²æŸ“ react ä¼˜åŠ¿12341. é€Ÿåº¦å¿«ï¼šä¸ç›´æ¥æ“ä½œdomï¼Œé‡‡ç”¨è™šæ‹Ÿdomçš„æ¦‚å¿µ2.è·¨æµè§ˆå™¨å…¼å®¹ï¼Œå…¼å®¹æ€§å¥½3.ä¸€åˆ‡éƒ½æ˜¯componentï¼Œä»£ç æ›´åŠ æ¨¡å—åŒ–ï¼Œå¯ç»´æŠ¤æ€§é«˜4.å•å‘æ•°æ®æµï¼Œé‡‡ç”¨Fluxå•å‘æ•°æ®å±‚æ¶æ„ react äº‹ä»¶æœºåˆ¶1234567reactçš„äº‹ä»¶æœºåˆ¶åˆ©ç”¨äº†äº‹ä»¶å§”æ‰˜æœºåˆ¶ï¼Œäº‹ä»¶å¹¶æ²¡æœ‰çœŸæ­£çš„ç»‘å®šåœ¨çœŸå®çš„domèŠ‚ç‚¹ä¸Šï¼Œè€Œæ˜¯æŠŠäº‹ä»¶ç»‘å®šåœ¨ç»“æ„çš„æœ€å¤–å±‚documentï¼Œä½¿ç”¨ç»Ÿä¸€çš„äº‹ä»¶ç›‘å¬å™¨ï¼Œæ‰€æœ‰äº‹ä»¶éƒ½ç”±è¿™ä¸ªç›‘å¬å™¨ç»Ÿä¸€åˆ†å‘ã€‚ç»„ä»¶æŒ‚è½½å’Œæ›´æ–°æ—¶ï¼Œä¼šå°†ç»‘å®šçš„äº‹ä»¶åˆ†é—¨åˆ«ç±»çš„æ”¾è¿›ä¸€ä¸ªå«EvnentPluginHubçš„äº‹ä»¶æ± ä¸­ã€‚äº‹ä»¶è§¦å‘æ—¶ï¼Œæ ¹æ®äº‹ä»¶äº§ç”Ÿçš„Eventå¯¹è±¡æ‰¾åˆ°è§¦å‘äº‹ä»¶çš„ç»„ä»¶ï¼Œå†é€šè¿‡ç»„ä»¶æ ‡è¯†å’Œäº‹ä»¶ç±»å‹ä»äº‹ä»¶æ± ä¸­æ‰¾åˆ°å¯¹åº”çš„äº‹ä»¶ç›‘å¬å›è°ƒï¼Œç„¶åæ‰§è¡Œç›¸å…³çš„ç›‘å¬å‡½æ•°ã€‚ å¼‚æ­¥å›è°ƒä¸­æ€ä¹ˆä½¿ç”¨ syntheticEventï¼Ÿ123åœ¨åˆæˆäº‹ä»¶æœºåˆ¶é‡Œï¼Œä¸€æ—¦äº‹ä»¶ç›‘å¬å›è°ƒæ‰§è¡Œï¼Œåˆæˆäº‹ä»¶å¯¹è±¡å°±ä¼šè¢«é”€æ¯ï¼Œå¼‚æ­¥å›è°ƒæ‰§è¡Œçš„æ—¶å€™åˆæˆäº‹ä»¶å¯¹è±¡æ—©å°±è¢«é”€æ¯äº†ã€‚è§£å†³æ–¹æ³•ï¼šæ‰§è¡Œevent.persist(),é€šçŸ¥reactä¸éœ€è¦å›æ”¶ã€‚ React ç”Ÿå‘½å‘¨æœŸ123456789101112131415161718192021React 16æ¨å‡ºFiberä¹‹åï¼Œå¦‚æœè¦å¼€å¯async renderingï¼Œé‚£ä¹ˆåœ¨renderå‡½æ•°ä¹‹å‰çš„æ‰€æœ‰å‡½æ•°éƒ½æœ‰å¯èƒ½è¢«æ‰§è¡Œå¤šæ¬¡åºŸå¼ƒï¼šcomponentWillMountcomponentWillReceiveProps(nextProps)componentWillUpdate(nextProps, nextState)ä»£æ›¿ï¼šé™æ€å‡½æ•°ï¼šstatic getDerivedStateFromProps(nextProps, prevState)é™æ€å‡½æ•°ï¼šstatic getDerivedStateFromError(error) // æ¸²æŸ“å¤‡ç”¨UIæ­¤ç”Ÿå‘½å‘¨æœŸreturnçš„å€¼ä¼šè‡ªåŠ¨è°ƒç”¨setStateï¼Œå°†å€¼å’Œstateåˆå¹¶è¿è¡Œäº‹ä»¶èŠ‚ç‚¹ï¼šå­ç»„ä»¶è¢«æ¸²æŸ“å‘ç”Ÿé”™è¯¯åä¸”åœ¨é¡µé¢æ›´æ–°å‰getSnapshotBeforeUpdate(prevProps, prevState) æ­¤ç”Ÿå‘½å‘¨æœŸçš„è¿”å›å€¼å°†ä½œä¸ºå‚æ•°ä¼ é€’ç»™componentDidUpdate()componentDidCatch(error, info) // æ‰“å°é”™è¯¯ä¿¡æ¯é”™è¯¯è¾¹ç•Œæ— æ³•æ•è·çš„é”™è¯¯ï¼š1.ç»„ä»¶è‡ªèº«çš„é”™è¯¯2.å¼‚æ­¥é”™è¯¯ï¼ŒsetTimeout3.äº‹ä»¶ä¸­çš„é”™è¯¯ï¼Œæ¯”å¦‚clickäº‹ä»¶ä¸­å‘ç”Ÿé”™è¯¯ Redux12345678910111. æ„å»ºactionï¼Œé€šè¿‡åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œéœ€è¦æºå¸¦typeå±æ€§2. æ„å»ºreducerï¼Œç”¨æ¥å“åº”actionï¼Œç„¶åé€šè¿‡returnæŠŠæ•°æ®ä¼ å›store3. åˆ©ç”¨createStoreæ¥æ„å»ºstoreï¼ŒæŠŠreducerä½œä¸ºå‚æ•°ä¼ å…¥4. åˆ©ç”¨store.subscribe()æ³¨å†Œç›‘å¬5. åˆ©ç”¨store.dispatch()å‘é€action6. åˆ©ç”¨store.getState()æ‹¿åˆ°å€¼ ts ä¸­ type å’Œ interface çš„åŒºåˆ«123456789101112131415161718192021222324252627282930313233343536373839404142434445ç›¸åŒç‚¹ï¼š1.éƒ½å¯ä»¥æè¿°ä¸€ä¸ªå¯¹è±¡å’Œå‡½æ•°interface User { name: string;}interface SetUser { (name: string): void;}type User = { name: string;}type SetUser = (name: string): void;2.æ‰©å±•ä¸äº¤å‰ç±»å‹interfaceå¯ä»¥extendsè¿›è¡Œç±»å‹æ‰©å±•ï¼Œtypeå¯ä»¥é€šè¿‡äº¤å‰ç±»å‹å®ç°interfaceçš„extendè¡Œä¸ºã€‚interfaceå¯ä»¥exteds typeï¼Œtypeä¹Ÿå¯ä»¥ä¸interfaceç±»å‹äº¤å‰ï¼ˆ&amp;ç¬¦å·ï¼‰ä¸åŒç‚¹ï¼š1.typeå¯ä»¥å£°æ˜åŸºæœ¬ç±»å‹åˆ«åï¼Œè”åˆç±»å‹ï¼Œå…ƒç¥–ç­‰ç±»å‹åŸºæœ¬ç±»å‹åˆ«åtype Name = string;è”åˆç±»å‹interface Dog { wang();}interface Cat { miao();}type Pet = Dog | Cat;å…ƒç¥–ç±»å‹type PetList = [Dog, Cat];2. interfaceèƒ½å¤Ÿå£°æ˜åˆå¹¶interface User { name: string;}interface User { age: number;}=/**interface User { name: string; age: number;}*/ ts ä¸­å¦‚ä½•å®ç°ä¸€ä¸ªå‡½æ•°çš„é‡è½½12jsæ˜¯åŠ¨æ€ç±»å‹è¯­è¨€ï¼Œæ‰€ä»¥æ˜¯æ²¡æœ‰overloadçš„ï¼Œä½†jså¯ä»¥åœ¨è¿è¡Œçš„æ—¶å€™åˆ¤æ–­ç±»å‹tsçš„é‡è½½åªæ˜¯é‡è½½å‡½æ•°å£°æ˜ï¼Œå‡½æ•°çš„å®ç°è¿˜æ˜¯åªæœ‰ä¸€ä¸ª mobxObservable //è¢«è§‚å¯Ÿè€…Observer // è§‚å¯Ÿè€…Reaction //å“åº” mobx åº•å±‚å¯¹æ•°æ®çš„è§‚å¯Ÿæ˜¯ä½¿ç”¨ Object.defineProperty(mobx4)æˆ– Proxy(mobx5)observer è¿™ä¸ªè£…é¥°å™¨ï¼Œå¯¹ react ç»„ä»¶çš„ render æ–¹æ³•è¿›è¡Œè·Ÿè¸ªï¼Œå°† render æ–¹æ³•åŠ å…¥åˆ°å„ä¸ª observable çš„ä¾èµ–ä¸­ï¼Œå½“ observale å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œå°±ä¼šè°ƒç”¨ forceUpdate æ›´æ–°ç»„ä»¶ï¼ˆmobx4 å°† Array ç”¨ç±»æ•°ç»„å¯¹è±¡æ¥æ¨¡æ‹Ÿçš„ï¼Œé€šè¿‡åŒ…è£…ç±»å°è£…ä¸ºä¸€ä¸ªå¯¹è±¡ï¼‰ webpack å¸¸ç”¨ loader12345678910111213æ ·å¼ï¼šstyle-loaderã€css-loaderã€less-loaderã€sass-loaderæ–‡ä»¶ï¼šfile-loaderã€url-loaderç¼–è¯‘ï¼šbabel-loaderã€ts-loaderæ ¡éªŒï¼šeslint-loaderå¸¸ç”¨çš„pluginhtml-webpack-pluginwebpack-bundle-analyzer æ‰“åŒ…åˆ†æHotModuleReplacementPlugin çƒ­æ›´æ–°è‡ªå·±å†™webpackæ’ä»¶ï¼šä¸»è¦å°±æ˜¯é€šè¿‡è®¿é—®complilerå’Œcompilationæ‹¦æˆªwebpackçš„æ‰§è¡Œ åƒåœ¾å›æ”¶æœºåˆ¶12345678910111213åƒåœ¾æ”¶é›†å™¨ä¼šå®šæœŸï¼ˆå‘¨æœŸæ€§ï¼‰çš„æ‰¾å‡ºé‚£äº›ä¸å†ç»§ç»­ä½¿ç”¨çš„å˜é‡ï¼Œé‡Šæ”¾å…¶å†…å­˜ï¼Œå› ä¸ºå¼€é”€æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥ä¼šæŒ‰ç…§å›ºå®šçš„æ—¶é—´é—´éš”å‘¨æœŸæ€§çš„æ‰§è¡Œæœ€å¸¸ç”¨çš„ä¸¤ç§æ–¹æ³•ï¼šæ ‡è®°æ¸…é™¤ï¼ˆå¸¸ç”¨ï¼‰å’Œå¼•ç”¨è®¡æ•°æ ‡è®°æ¸…é™¤ï¼šå˜é‡è¿›å…¥ä½œç”¨åŸŸï¼Œè¿›è¡Œæ ‡è®°ï¼Œç¦»å¼€ä½œç”¨åŸŸè¿›è¡Œæ¸…é™¤å›æ”¶å¼•ç”¨è®¡æ•°ï¼šå°±æ˜¯è·Ÿè¸ªè®°å½•æ¯ä¸ªå€¼è¢«å¼•ç”¨çš„æ¬¡æ•°ï¼Œå¼•ç”¨ä¸€æ¬¡åŠ 1ï¼Œåˆ é™¤å‡1ï¼Œå¼•ç”¨è®¡æ•°ä¸º0æ—¶ï¼Œè¿›è¡Œå›æ”¶ï¼Œï¼ˆå¾ªç¯å¼•ç”¨å¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼‰å¸¸è§çš„å†…å­˜æ³„æ¼åŸå› ï¼šå…¨å±€å˜é‡è¿‡å¤šå¼•èµ·å†…å­˜æ³„æ¼é—­åŒ…domäº‹ä»¶æœªæ¸…é™¤å¾ªç¯å¼•ç”¨ è°ˆè°ˆä½ å¯¹ webpack çš„ç†è§£ï¼Ÿ1234567webpackæ˜¯ä¸€ä¸ªæ‰“åŒ…æ¨¡å—åŒ–jsçš„å·¥å…·ï¼Œåœ¨webpacké‡Œä¸€åˆ‡æ–‡ä»¶çš†æ¨¡å—ï¼Œé€šè¿‡loaderè½¬æ¢ï¼Œé€šè¿‡pluginæ³¨å…¥é’©å­ï¼Œæœ€åè¾“å‡ºç”±å¤šä¸ªæ¨¡å—ç»„åˆæˆçš„æ–‡ä»¶ï¼Œwebpackä¸“æ³¨æ„å»ºæ¨¡å—åŒ–ã€‚WebPackå¯ä»¥çœ‹åšæ˜¯æ¨¡å—çš„æ‰“åŒ…æœºå™¨ï¼šå®ƒåšçš„äº‹æƒ…æ˜¯ï¼Œåˆ†æä½ çš„é¡¹ç›®ç»“æ„ï¼Œæ‰¾åˆ°jsæ¨¡å—åŠå…¶å®ƒçš„ä¸€äº›æµè§ˆå™¨ä¸èƒ½ç›´æ¥è¿è¡Œçš„æ‹“å±•è¯­è¨€ï¼Œä¾‹å¦‚ï¼šScssï¼ŒTSç­‰ï¼Œå¹¶å°†å…¶æ‰“åŒ…ä¸ºåˆé€‚çš„æ ¼å¼ä»¥ä¾›æµè§ˆå™¨ä½¿ç”¨ã€‚ è¯´è¯´ webpack ä¸ gruntã€gulp çš„ä¸åŒï¼Ÿ12345678910111213141516171819ä¸‰è€…éƒ½æ˜¯å‰ç«¯æ„å»ºå·¥å…·ï¼Œgruntå’Œgulpåœ¨æ—©æœŸæ¯”è¾ƒæµè¡Œï¼Œç°åœ¨webpackç›¸å¯¹æ¥è¯´æ¯”è¾ƒä¸»ï¼Œä¸è¿‡ä¸€äº›è½»é‡åŒ–çš„ä»»åŠ¡è¿˜æ˜¯ä¼šç”¨gulpæ¥å¤„ç†ï¼Œæ¯”å¦‚å•ç‹¬æ‰“åŒ…CSSæ–‡ä»¶ç­‰ã€‚gruntå’Œgulpæ˜¯åŸºäºä»»åŠ¡å’Œæµï¼ˆTaskã€Streamï¼‰çš„ã€‚ç±»ä¼¼jQueryï¼Œæ‰¾åˆ°ä¸€ä¸ªï¼ˆæˆ–ä¸€ç±»ï¼‰æ–‡ä»¶ï¼Œå¯¹å…¶åšä¸€ç³»åˆ—é“¾å¼æ“ä½œï¼Œæ›´æ–°æµä¸Šçš„æ•°æ®ï¼Œæ•´æ¡é“¾å¼æ“ä½œæ„æˆäº†ä¸€ä¸ªä»»åŠ¡ï¼Œå¤šä¸ªä»»åŠ¡å°±æ„æˆäº†webçš„æ„å»ºæµç¨‹ã€‚webpackæ˜¯åŸºäºå…¥å£çš„ã€‚webpackä¼šè‡ªåŠ¨åœ°é€’å½’è§£æå…¥å£æ‰€éœ€è¦åŠ è½½çš„æ‰€æœ‰èµ„æºæ–‡ä»¶ï¼Œç„¶åç”¨ä¸åŒçš„Loaderæ¥å¤„ç†ä¸åŒçš„æ–‡ä»¶ï¼Œç”¨Pluginæ¥æ‰©å±•webpackåŠŸèƒ½ã€‚æ‰€ä»¥ï¼Œä»æ„å»ºæ¥è¯´ï¼Œgulpå’Œgruntéœ€è¦å¼€å‘è€…å°†æ•´ä¸ªå‰ç«¯æ„å»ºè¿‡ç¨‹æ‹†åˆ†æˆå¤šä¸ª`Task`ï¼Œå¹¶åˆç†æ§åˆ¶æ‰€æœ‰`Task`çš„è°ƒç”¨å…³ç³»ï¼›webpackéœ€è¦å¼€å‘è€…æ‰¾åˆ°å…¥å£ï¼Œå¹¶éœ€è¦æ¸…æ¥šå¯¹äºä¸åŒçš„èµ„æºåº”è¯¥ä½¿ä»€ä¹ˆLoaderåšä½•ç§è§£æå’ŒåŠ å·¥å¯¹äºçŸ¥è¯†èƒŒæ™¯æ¥è¯´ï¼Œgulpæ›´åƒåç«¯å¼€å‘è€…çš„æ€è·¯ï¼Œéœ€è¦å¯¹äºæ•´ä¸ªæµç¨‹äº†å¦‚æŒ‡æŒwebpackæ›´å€¾å‘äºå‰ç«¯å¼€å‘è€…çš„æ€è·¯ ä»€ä¹ˆæ˜¯ bundle,ä»€ä¹ˆæ˜¯ chunkï¼Œä»€ä¹ˆæ˜¯ module?123bundleï¼šæ˜¯ç”±webpackæ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶chunkï¼šä»£ç å—ï¼Œä¸€ä¸ªchunkç”±å¤šä¸ªæ¨¡å—ç»„åˆè€Œæˆï¼Œç”¨äºä»£ç çš„åˆå¹¶å’Œåˆ†å‰²moduleï¼šæ˜¯å¼€å‘ä¸­çš„å•ä¸ªæ¨¡å—ï¼Œåœ¨webpackçš„ä¸–ç•Œï¼Œä¸€åˆ‡çš†æ¨¡å—ï¼Œä¸€ä¸ªæ¨¡å—å¯¹åº”ä¸€ä¸ªæ–‡ä»¶ï¼Œwebpackä¼šä»é…ç½®çš„entryä¸­é€’å½’å¼€å§‹æ‰¾å‡ºæ‰€æœ‰ä¾èµ–çš„æ¨¡å— ä»€ä¹ˆæ˜¯ Loader?ä»€ä¹ˆæ˜¯ Plugin?123451.Loadersæ˜¯ç”¨æ¥å‘Šè¯‰webpackå¦‚ä½•è½¬åŒ–å¤„ç†æŸä¸€ç±»å‹çš„æ–‡ä»¶ï¼Œå¹¶ä¸”å¼•å…¥åˆ°æ‰“åŒ…å‡ºçš„æ–‡ä¸­2ï¼‰Pluginæ˜¯ç”¨æ¥è‡ªå®šä¹‰webpackæ‰“åŒ…è¿‡ç¨‹çš„æ–¹å¼ï¼Œä¸€ä¸ªæ’ä»¶æ˜¯å«æœ‰applyæ–¹æ³•çš„ä¸€ä¸ªï¼Œé€šè¿‡è¿™ä¸ªæ–¹æ³•å¯ä»¥å‚ä¸åˆ°æ•´ä¸ªwebpackæ‰“åŒ…çš„å„ä¸ªæµç¨‹(ç”Ÿå‘½å‘¨æœŸ)ã€‚ æœ‰å“ªäº›å¸¸è§çš„ Loaderï¼Ÿä»–ä»¬æ˜¯è§£å†³ä»€ä¹ˆé—®é¢˜çš„ï¼Ÿ12345678910file-loaderï¼šæŠŠæ–‡ä»¶è¾“å‡ºåˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œåœ¨ä»£ç ä¸­é€šè¿‡ç›¸å¯¹URLå»å¼•ç”¨è¾“å‡ºçš„æ–‡ä»¶url-loaderï¼šå’Œfile-loaderç±»ä¼¼ï¼Œä½†æ˜¯èƒ½åœ¨æ–‡ä»¶å¾ˆå°çš„æƒ…å†µä¸‹ä»¥base64çš„æ–¹å¼æŠŠæ–‡ä»¶å†…å®¹æ³¨å…¥åˆ°ä»£ç ä¸­å»source-map-loaderï¼šåŠ è½½é¢å¤–çš„Source Mapæ–‡ä»¶ï¼Œä»¥æ–¹ä¾¿æ–­ç‚¹è°ƒè¯•image-loaderï¼šåŠ è½½å¹¶ä¸”å‹ç¼©å›¾ç‰‡æ–‡ä»¶babel-loaderï¼šæŠŠES6è½¬æ¢æˆES5css-loaderï¼šåŠ è½½CSSï¼Œæ”¯æŒæ¨¡å—åŒ–ã€å‹ç¼©ã€æ–‡ä»¶å¯¼å…¥ç­‰ç‰¹æ€§style-loaderï¼šæŠŠCSSä»£ç æ³¨å…¥åˆ°JavaScriptä¸­ï¼Œé€šè¿‡DOMæ“ä½œå»åŠ è½½CSSã€‚eslint-loaderï¼šé€šè¿‡ESLintæ£€æŸ¥JavaScriptä»£ç  æœ‰å“ªäº›å¸¸è§çš„ Pluginï¼Ÿä»–ä»¬æ˜¯è§£å†³ä»€ä¹ˆé—®é¢˜çš„ï¼Ÿ123define-pluginï¼šå®šä¹‰ç¯å¢ƒå˜é‡commons-chunk-pluginï¼šæå–å…¬å…±ä»£ç uglifyjs-webpack-pluginï¼šé€šè¿‡UglifyESå‹ç¼©ES6ä»£ç  Loader å’Œ Plugin çš„ä¸åŒï¼Ÿä¸åŒçš„ä½œç”¨Loader ç›´è¯‘ä¸ºâ€åŠ è½½å™¨â€ã€‚Webpack å°†ä¸€åˆ‡æ–‡ä»¶è§†ä¸ºæ¨¡å—ï¼Œä½†æ˜¯ webpack åŸç”Ÿæ˜¯åªèƒ½è§£æ js æ–‡ä»¶ï¼Œå¦‚æœæƒ³å°†å…¶ä»–æ–‡ä»¶ä¹Ÿæ‰“åŒ…çš„è¯ï¼Œå°±ä¼šç”¨åˆ° loaderã€‚ æ‰€ä»¥ Loader çš„ä½œç”¨æ˜¯è®© webpack æ‹¥æœ‰äº†åŠ è½½å’Œè§£æé JavaScript æ–‡ä»¶çš„èƒ½åŠ›ã€‚ Plugin ç›´è¯‘ä¸ºâ€æ’ä»¶â€ã€‚Plugin å¯ä»¥æ‰©å±• webpack çš„åŠŸèƒ½ï¼Œè®© webpack å…·æœ‰æ›´å¤šçš„çµæ´»æ€§ã€‚ åœ¨ Webpack è¿è¡Œçš„ç”Ÿå‘½å‘¨æœŸä¸­ä¼šå¹¿æ’­å‡ºè®¸å¤šäº‹ä»¶ï¼ŒPlugin å¯ä»¥ç›‘å¬è¿™äº›äº‹ä»¶ï¼Œåœ¨åˆé€‚çš„æ—¶æœºé€šè¿‡ Webpack æä¾›çš„ API æ”¹å˜è¾“å‡ºç»“æœã€‚ ä¸åŒçš„ç”¨æ³•Loader åœ¨ module.rules ä¸­é…ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´ä»–ä½œä¸ºæ¨¡å—çš„è§£æè§„åˆ™è€Œå­˜åœ¨ã€‚ ç±»å‹ä¸ºæ•°ç»„ï¼Œæ¯ä¸€é¡¹éƒ½æ˜¯ä¸€ä¸ª Objectï¼Œé‡Œé¢æè¿°äº†å¯¹äºä»€ä¹ˆç±»å‹çš„æ–‡ä»¶ï¼ˆtestï¼‰ï¼Œä½¿ç”¨ä»€ä¹ˆåŠ è½½(loader)å’Œä½¿ç”¨çš„å‚æ•°ï¼ˆoptionsï¼‰ Plugin åœ¨ plugins ä¸­å•ç‹¬é…ç½®ã€‚ ç±»å‹ä¸ºæ•°ç»„ï¼Œæ¯ä¸€é¡¹æ˜¯ä¸€ä¸ª plugin çš„å®ä¾‹ï¼Œå‚æ•°éƒ½é€šè¿‡æ„é€ å‡½æ•°ä¼ å…¥ã€‚ webpack çš„æ„å»ºæµç¨‹æ˜¯ä»€ä¹ˆ?1234567891011121314151617181920212223Webpack çš„è¿è¡Œæµç¨‹æ˜¯ä¸€ä¸ªä¸²è¡Œçš„è¿‡ç¨‹ï¼Œä»å¯åŠ¨åˆ°ç»“æŸä¼šä¾æ¬¡æ‰§è¡Œä»¥ä¸‹æµç¨‹ï¼šåˆå§‹åŒ–å‚æ•°ï¼šä»é…ç½®æ–‡ä»¶å’Œ Shell è¯­å¥ä¸­è¯»å–ä¸åˆå¹¶å‚æ•°ï¼Œå¾—å‡ºæœ€ç»ˆçš„å‚æ•°ï¼›å¼€å§‹ç¼–è¯‘ï¼šç”¨ä¸Šä¸€æ­¥å¾—åˆ°çš„å‚æ•°åˆå§‹åŒ–Compilerå¯¹è±¡ï¼ŒåŠ è½½æ‰€æœ‰é…ç½®çš„æ’ä»¶ï¼Œæ‰§è¡Œå¯¹è±¡çš„ run æ–¹æ³•å¼€å§‹æ‰§è¡Œç¼–è¯‘ï¼›ç¡®å®šå…¥å£ï¼šæ ¹æ®é…ç½®ä¸­çš„ entry æ‰¾å‡ºæ‰€æœ‰çš„å…¥å£æ–‡ä»¶ï¼›ç¼–è¯‘æ¨¡å—ï¼šä»å…¥å£æ–‡ä»¶å‡ºå‘ï¼Œè°ƒç”¨æ‰€æœ‰é…ç½®çš„ Loaderå¯¹æ¨¡å—è¿›è¡Œç¿»è¯‘ï¼Œå†æ‰¾å‡ºè¯¥æ¨¡å—ä¾èµ–çš„æ¨¡å—ï¼Œå†é€’å½’æœ¬æ­¥éª¤ç›´åˆ°æ‰€æœ‰å…¥å£ä¾èµ–çš„æ–‡ä»¶éƒ½ç»è¿‡äº†æœ¬æ­¥éª¤çš„å¤„ç†ï¼›å®Œæˆæ¨¡å—ç¼–è¯‘ï¼šåœ¨ç»è¿‡ç¬¬4æ­¥ä½¿ç”¨Loaderç¿»è¯‘å®Œæ‰€æœ‰æ¨¡å—åï¼Œå¾—åˆ°äº†æ¯ä¸ªæ¨¡å—è¢«ç¿»è¯‘åçš„æœ€ç»ˆå†…å®¹ä»¥åŠå®ƒä»¬ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼›è¾“å‡ºèµ„æºï¼šæ ¹æ®å…¥å£å’Œæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œç»„è£…æˆä¸€ä¸ªä¸ªåŒ…å«å¤šä¸ªæ¨¡å—çš„ Chunkï¼Œå†æŠŠæ¯ä¸ª Chunkè½¬æ¢æˆä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶åŠ å…¥åˆ°è¾“å‡ºåˆ—è¡¨ï¼Œè¿™æ­¥æ˜¯å¯ä»¥ä¿®æ”¹è¾“å‡ºå†…å®¹çš„æœ€åæœºä¼šï¼›è¾“å‡ºå®Œæˆï¼šåœ¨ç¡®å®šå¥½è¾“å‡ºå†…å®¹åï¼Œæ ¹æ®é…ç½®ç¡®å®šè¾“å‡ºçš„è·¯å¾„å’Œæ–‡ä»¶åï¼ŒæŠŠæ–‡ä»¶å†…å®¹å†™å…¥åˆ°æ–‡ä»¶ç³»ç»Ÿã€‚åœ¨ä»¥ä¸Šè¿‡ç¨‹ä¸­ï¼ŒWebpackä¼šåœ¨ç‰¹å®šçš„æ—¶é—´ç‚¹å¹¿æ’­å‡ºç‰¹å®šçš„äº‹ä»¶ï¼Œæ’ä»¶åœ¨ç›‘å¬åˆ°æ„Ÿå…´è¶£çš„äº‹ä»¶åä¼šæ‰§è¡Œç‰¹å®šçš„é€»è¾‘ï¼Œå¹¶ä¸”æ’ä»¶å¯ä»¥è°ƒç”¨ Webpack æä¾›çš„ API æ”¹å˜ Webpack çš„è¿è¡Œç»“æœã€‚ æè¿°ä¸€ä¸‹ç¼–å†™ loader æˆ– plugin çš„æ€è·¯ï¼ŸLoader åƒä¸€ä¸ªâ€ç¿»è¯‘å®˜â€æŠŠè¯»åˆ°çš„æºæ–‡ä»¶å†…å®¹è½¬ä¹‰æˆæ–°çš„æ–‡ä»¶å†…å®¹ï¼Œå¹¶ä¸”æ¯ä¸ª Loader é€šè¿‡é“¾å¼æ“ä½œï¼Œå°†æºæ–‡ä»¶ä¸€æ­¥æ­¥ç¿»è¯‘æˆæƒ³è¦çš„æ ·å­ã€‚ç¼–å†™ Loader æ—¶è¦éµå¾ªå•ä¸€åŸåˆ™ï¼Œæ¯ä¸ª Loader åªåšä¸€ç§â€è½¬ä¹‰â€å·¥ä½œã€‚ æ¯ä¸ª Loader çš„æ‹¿åˆ°çš„æ˜¯æºæ–‡ä»¶å†…å®¹ï¼ˆsourceï¼‰ï¼Œå¯ä»¥é€šè¿‡è¿”å›å€¼çš„æ–¹å¼å°†å¤„ç†åçš„å†…å®¹è¾“å‡ºï¼Œä¹Ÿå¯ä»¥è°ƒç”¨ this.callback()æ–¹æ³•ï¼Œå°†å†…å®¹è¿”å›ç»™ webpackã€‚ è¿˜å¯ä»¥é€šè¿‡ this.async()ç”Ÿæˆä¸€ä¸ª callback å‡½æ•°ï¼Œå†ç”¨è¿™ä¸ª callback å°†å¤„ç†åçš„å†…å®¹è¾“å‡ºå‡ºå»ã€‚ æ­¤å¤– webpack è¿˜ä¸ºå¼€å‘è€…å‡†å¤‡äº†å¼€å‘ loader çš„å·¥å…·å‡½æ•°é›†â€”â€”loader-utilsã€‚ç›¸å¯¹äº Loader è€Œè¨€ï¼ŒPlugin çš„ç¼–å†™å°±çµæ´»äº†è®¸å¤šã€‚ webpack åœ¨è¿è¡Œçš„ç”Ÿå‘½å‘¨æœŸä¸­ä¼šå¹¿æ’­å‡ºè®¸å¤šäº‹ä»¶ï¼ŒPlugin å¯ä»¥ç›‘å¬è¿™äº›äº‹ä»¶ï¼Œåœ¨åˆé€‚çš„æ—¶æœºé€šè¿‡ Webpack æä¾›çš„ API æ”¹å˜è¾“å‡ºç»“æœã€‚ å¦‚ä½•åˆ©ç”¨ webpack æ¥ä¼˜åŒ–å‰ç«¯æ€§èƒ½ï¼Ÿ123456789101112131415ç”¨webpackä¼˜åŒ–å‰ç«¯æ€§èƒ½æ˜¯æŒ‡ä¼˜åŒ–webpackçš„è¾“å‡ºç»“æœï¼Œè®©æ‰“åŒ…çš„æœ€ç»ˆç»“æœåœ¨æµè§ˆå™¨è¿è¡Œå¿«é€Ÿé«˜æ•ˆã€‚å‹ç¼©ä»£ç ã€‚åˆ é™¤å¤šä½™çš„ä»£ç ã€æ³¨é‡Šã€ç®€åŒ–ä»£ç çš„å†™æ³•ç­‰ç­‰æ–¹å¼ã€‚å¯ä»¥åˆ©ç”¨webpackçš„UglifyJsPluginå’ŒParallelUglifyPluginæ¥å‹ç¼©JSæ–‡ä»¶ï¼Œåˆ©ç”¨cssnanoï¼ˆcss-loader?minimizeï¼‰æ¥å‹ç¼©cssåˆ©ç”¨CDNåŠ é€Ÿã€‚åœ¨æ„å»ºè¿‡ç¨‹ä¸­ï¼Œå°†å¼•ç”¨çš„é™æ€èµ„æºè·¯å¾„ä¿®æ”¹ä¸ºCDNä¸Šå¯¹åº”çš„è·¯å¾„ã€‚å¯ä»¥åˆ©ç”¨webpackå¯¹äºoutputå‚æ•°å’Œå„loaderçš„publicPathå‚æ•°æ¥ä¿®æ”¹èµ„æºè·¯å¾„åˆ é™¤æ­»ä»£ç ï¼ˆTree Shakingï¼‰ã€‚å°†ä»£ç ä¸­æ°¸è¿œä¸ä¼šèµ°åˆ°çš„ç‰‡æ®µåˆ é™¤æ‰ã€‚å¯ä»¥é€šè¿‡åœ¨å¯åŠ¨webpackæ—¶è¿½åŠ å‚æ•°--optimize-minimizeæ¥å®ç°æå–å…¬å…±ä»£ç ã€‚ å¦‚ä½•æé«˜ webpack çš„æ„å»ºé€Ÿåº¦ï¼Ÿ1234567å¤šå…¥å£æƒ…å†µä¸‹ï¼Œä½¿ç”¨CommonsChunkPluginæ¥æå–å…¬å…±ä»£ç é€šè¿‡externalsé…ç½®æ¥æå–å¸¸ç”¨åº“åˆ©ç”¨DllPluginå’ŒDllReferencePluginé¢„ç¼–è¯‘èµ„æºæ¨¡å— é€šè¿‡DllPluginæ¥å¯¹é‚£äº›æˆ‘ä»¬å¼•ç”¨ä½†æ˜¯ç»å¯¹ä¸ä¼šä¿®æ”¹çš„npmåŒ…æ¥è¿›è¡Œé¢„ç¼–è¯‘ï¼Œå†é€šè¿‡DllReferencePluginå°†é¢„ç¼–è¯‘çš„æ¨¡å—åŠ è½½è¿›æ¥ã€‚ä½¿ç”¨Happypack å®ç°å¤šçº¿ç¨‹åŠ é€Ÿç¼–è¯‘ä½¿ç”¨webpack-uglify-parallelæ¥æå‡uglifyPluginçš„å‹ç¼©é€Ÿåº¦ã€‚ åŸç†ä¸Šwebpack-uglify-parallelé‡‡ç”¨äº†å¤šæ ¸å¹¶è¡Œå‹ç¼©æ¥æå‡å‹ç¼©é€Ÿåº¦ä½¿ç”¨Tree-shakingå’ŒScope Hoistingæ¥å‰”é™¤å¤šä½™ä»£ç  æ€ä¹ˆé…ç½®å•é¡µåº”ç”¨ï¼Ÿæ€ä¹ˆé…ç½®å¤šé¡µåº”ç”¨ï¼Ÿå•é¡µåº”ç”¨å¯ä»¥ç†è§£ä¸º webpack çš„æ ‡å‡†æ¨¡å¼ï¼Œç›´æ¥åœ¨ entry ä¸­æŒ‡å®šå•é¡µåº”ç”¨çš„å…¥å£å³å¯ï¼Œè¿™é‡Œä¸å†èµ˜è¿°å¤šé¡µåº”ç”¨çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ webpack çš„ AutoWebPlugin æ¥å®Œæˆç®€å•è‡ªåŠ¨åŒ–çš„æ„å»ºï¼Œä½†æ˜¯å‰ææ˜¯é¡¹ç›®çš„ç›®å½•ç»“æ„å¿…é¡»éµå®ˆä»–é¢„è®¾çš„è§„èŒƒã€‚å¤šé¡µåº”ç”¨ä¸­è¦æ³¨æ„çš„æ˜¯ï¼šæ¯ä¸ªé¡µé¢éƒ½æœ‰å…¬å…±çš„ä»£ç ï¼Œå¯ä»¥å°†è¿™äº›ä»£ç æŠ½ç¦»å‡ºæ¥ï¼Œé¿å…é‡å¤çš„åŠ è½½ã€‚æ¯”å¦‚ï¼Œæ¯ä¸ªé¡µé¢éƒ½å¼•ç”¨äº†åŒä¸€å¥— css æ ·å¼è¡¨,éšç€ä¸šåŠ¡çš„ä¸æ–­æ‰©å±•ï¼Œé¡µé¢å¯èƒ½ä¼šä¸æ–­çš„è¿½åŠ ï¼Œæ‰€ä»¥ä¸€å®šè¦è®©å…¥å£çš„é…ç½®è¶³å¤Ÿçµæ´»ï¼Œé¿å…æ¯æ¬¡æ·»åŠ æ–°é¡µé¢è¿˜éœ€è¦ä¿®æ”¹æ„å»ºé…ç½® vue é¡¹ç›®ä¸­å®ç°æŒ‰éœ€åŠ è½½ï¼Ÿä¸ºäº†å¿«é€Ÿå¼€å‘å‰ç«¯é¡¹ç›®ï¼Œç»å¸¸ä¼šå¼•å…¥ç°æˆçš„ UI ç»„ä»¶åº“å¦‚ ElementUIã€iView ç­‰ï¼Œä½†æ˜¯ä»–ä»¬çš„ä½“ç§¯å’Œä»–ä»¬æ‰€æä¾›çš„åŠŸèƒ½ä¸€æ ·ï¼Œæ˜¯å¾ˆåºå¤§çš„ã€‚ è€Œé€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä»…ä»…éœ€è¦å°‘é‡çš„å‡ ä¸ªç»„ä»¶å°±è¶³å¤Ÿäº†ï¼Œä½†æ˜¯æˆ‘ä»¬å´å°†åºå¤§çš„ç»„ä»¶åº“æ‰“åŒ…åˆ°æˆ‘ä»¬çš„æºç ä¸­ï¼Œé€ æˆäº†ä¸å¿…è¦çš„å¼€é”€ã€‚ä¸è¿‡å¾ˆå¤šç»„ä»¶åº“å·²ç»æä¾›äº†ç°æˆçš„è§£å†³æ–¹æ¡ˆï¼Œå¦‚ Element å‡ºå“çš„ babel-plugin-component å’Œ AntDesign å‡ºå“çš„ babel-plugin-import å®‰è£…ä»¥ä¸Šæ’ä»¶åï¼Œåœ¨.babelrc é…ç½®ä¸­æˆ– babel-loader çš„å‚æ•°ä¸­è¿›è¡Œè®¾ç½®ï¼Œå³å¯å®ç°ç»„ä»¶æŒ‰éœ€åŠ è½½äº†ã€‚ å•é¡µåº”ç”¨çš„æŒ‰éœ€åŠ è½½ ç°åœ¨å¾ˆå¤šå‰ç«¯é¡¹ç›®éƒ½æ˜¯é€šè¿‡å•é¡µåº”ç”¨çš„æ–¹å¼å¼€å‘çš„ï¼Œä½†æ˜¯éšç€ä¸šåŠ¡çš„ä¸æ–­æ‰©å±•ï¼Œä¼šé¢ä¸´ä¸€ä¸ªä¸¥å³»çš„é—®é¢˜â€”â€”é¦–æ¬¡åŠ è½½çš„ä»£ç é‡ä¼šè¶Šæ¥è¶Šå¤šï¼Œå½±å“ç”¨æˆ·çš„ä½“éªŒã€‚ é€šè¿‡ import()è¯­å¥æ¥æ§åˆ¶åŠ è½½æ—¶æœºï¼Œwebpack å†…ç½®äº†å¯¹äº import()çš„è§£æï¼Œä¼šå°† import()ä¸­å¼•å…¥çš„æ¨¡å—ä½œä¸ºä¸€ä¸ªæ–°çš„å…¥å£åœ¨ç”Ÿæˆä¸€ä¸ª chunkã€‚å½“ä»£ç æ‰§è¡Œåˆ° import()è¯­å¥æ—¶ï¼Œä¼šå»åŠ è½½ Chunk å¯¹åº”ç”Ÿæˆçš„æ–‡ä»¶ã€‚import()ä¼šè¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œæ‰€ä»¥ä¸ºäº†è®©æµè§ˆå™¨æ”¯æŒï¼Œéœ€è¦äº‹å…ˆæ³¨å…¥ Promise polyfill è‡ªä¸»æ­å»ºã€çµæ´»å®šåˆ¶ã€é«˜æ•ˆå¤ç”¨ 1.å•å‘é“¾è¡¨çš„åˆ›å»ºã€æ’å…¥å’Œåè½¬ 2.äºŒå‰æœç´¢æ ‘çš„æŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤æ€æƒ³ï¼Œå†™ä¼ªä»£ç 3.tcp é“¾æ¥å’Œé‡Šæ”¾è¿‡ç¨‹ï¼Œhttpï¼Œhttpsï¼Œtcp å’Œ udp æ¯”è¾ƒ 4.é“¾è¡¨é¡ºåºç¿»è½¬ å¦‚ä½•é˜»æ­¢å†’æ³¡?W3Cçš„æ–¹æ³•e.stopPropagation(),IEä½¿ç”¨e.cancelBubble = true; å°è£…ï¼š //é˜»æ­¢å†’æ³¡è¡Œä¸º function stopBubble(e) { //å¦‚æœæä¾›äº†äº‹ä»¶å¯¹è±¡ï¼Œåˆ™è¿™æ˜¯ä¸€ä¸ªéIEæµè§ˆå™¨ if (e &amp;&amp; e.stopPropagation) e.stopPropagation() //IEçš„æ–¹æ³• else window.event.cancelBubble = true } å¦‚ä½•é˜»æ­¢é»˜è®¤äº‹ä»¶ï¼ŸW3Cçš„æ–¹æ³•æ˜¯e.preventDefault(),IEä½¿ç”¨e.returnValue = false å°è£…ï¼š //é˜»æ­¢æµè§ˆå™¨çš„é»˜è®¤è¡Œä¸º function stopDefault (e) { if (e &amp;&amp; e.preventDefault) e.preventDefault() //IEä¸­é˜»æ­¢é»˜è®¤äº‹ä»¶çš„æ–¹æ³• else window.event.returnValue = false return false } è¡¥å……ï¼šäº‹ä»¶ç»‘å®šçš„å°è£…function addEvent(element,type,handle) { if(element.addEventListener){ element.addEventListener(type,handle,false); }else if(element.attachEvent){ element.attachEvent('on'+type,function () { handle.call(element); }) }else { element['on'+type] = handle; } } JS å¦‚ä½•è®¾ç½®è·å–ç›’å­æ¨¡å‹å¯¹åº”çš„å®½å’Œé«˜ï¼Ÿ dom.style.width/height dom.currentStyle.width/height (ie æ”¯æŒ) window.getComputedStyle(dom).width/height dom.getBoundingClientRect().width/height å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºæ•°ç»„1. Array.prototype.isPrototypeOf(obj)æ–¹æ³•ï¼Œåˆ¤æ–­Array.prototypeæ˜¯ä¸æ˜¯åœ¨objçš„åŸå‹é“¾ä¸­ï¼Œ å¦‚æœåœ¨ï¼Œåˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚ 2. obj instanceof Array 3. Object.prototype.toString.call(obj); //(===&quot;[object Array]&quot;) 4.Array.isArray(obj) å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡1.macro-task(å®ä»»åŠ¡)ï¼šåŒ…æ‹¬æ•´ä½“ä»£ç scriptã€setTimeoutã€setInterval 2.micro-task(å¾®ä»»åŠ¡)ï¼šPromise.thenã€process.nextTick Http çš„æŒä¹…è¿æ¥å’Œç®¡çº¿åŒ–1. ä»€ä¹ˆæ˜¯æŒä¹…è¿æ¥ï¼Ÿ HTTP1.1è§„å®šäº†é»˜è®¤ä¿æŒæŒä¹…è¿æ¥ï¼Œæ•°æ®ä¼ è¾“å®Œæˆä¹Ÿä¿æŒTCPè¿æ¥ä¸æ–­å¼€ï¼Œç­‰å¾…åŒåŸŸåä¸‹ ç»§ç»­ä½¿ç”¨è¿™ä¸ªé€šé“ä¼ è¾“æ•°æ®,åœ¨ä¸€ä¸ªTCPè¿æ¥ä¸Šä¼ è¾“å¤šä¸ªHTTPè¯·æ±‚å’Œå“åº”ã€‚ æŒä¹…è¿æ¥é¿å…äº†é‡æ–°å»ºç«‹è¿æ¥ï¼Œå¤§å¤§å‡å°‘äº†å»ºç«‹å’Œå…³é—­è¿æ¥çš„æ¶ˆè€—å’Œå»¶è¿Ÿï¼ŒHTTPçš„è¿æ¥æ˜¯å»ºç«‹ åœ¨TCPåè®®ä¹‹ä¸Šçš„ï¼Œå»ºç«‹ä¸€æ¡TCPè¿æ¥éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼ŒTCPè¿æ¥å…³é—­éœ€è¦å››æ¬¡æŒ¥æ‰‹ï¼Œè¿™äº›éƒ½éœ€è¦æ—¶é—´ã€‚ 2. ä»€ä¹ˆæ˜¯ç®¡çº¿åŒ–ï¼Ÿ æŒä¹…è¿æ¥ï¼š è¯·æ±‚1 â€”â€”&gt; å“åº”1 â€”â€”&gt; è¯·æ±‚2 â€”â€”&gt; å“åº”2 ç®¡çº¿åŒ–ï¼š è¯·æ±‚1 â€”â€”&gt; è¯·æ±‚2 â€”â€”&gt; å“åº”1 â€”â€”&gt; å“åº”2 ç®¡çº¿åŒ–æœºåˆ¶éœ€è¦é€šè¿‡æŒä¹…åŒ–è¿æ¥å®Œæˆã€‚ æŒä¹…è¿æ¥çš„ä¸€ä¸ªç¼ºç‚¹æ˜¯è¯·æ±‚å’Œå“åº”å¼æ˜¯é¡ºåºæ‰§è¡Œçš„ï¼Œåªæœ‰åœ¨è¯·æ±‚1çš„å“åº”æ”¶åˆ°ä¹‹åï¼Œ æ‰ä¼šå‘é€è¯·æ±‚2ï¼Œè€Œç®¡çº¿åŒ–ä¸éœ€è¦ç­‰å¾…ä¸Šä¸€æ¬¡è¯·æ±‚å¾—åˆ°å“åº”å°±å¯ä»¥è¿›è¡Œä¸‹ä¸€æ¬¡è¯·æ±‚ã€‚ å®ç°å¹¶è¡Œå‘é€è¯·æ±‚ã€‚ åªæœ‰GETå’ŒHEADè¯·æ±‚å¯ä»¥è¿›è¡Œç®¡çº¿åŒ–ï¼Œè€ŒPOSTæœ‰æ‰€é™åˆ¶ã€‚ åˆæ¬¡å»ºç«‹è¿æ¥ä¸åº”å¯åŠ¨ç®¡çº¿æœºåˆ¶ï¼Œå› ä¸ºå¯¹æ–¹æœåŠ¡å™¨ä¸ä¸€å®šæ”¯æŒHTTP1.1ç‰ˆæœ¬çš„åè®®ã€‚ ä¸ºä»€ä¹ˆåˆ©ç”¨å¤šä¸ªåŸŸåæ¥å­˜å‚¨ç½‘ç«™èµ„æºä¼šæ›´æœ‰æ•ˆï¼Ÿ1.CDN æ˜¯æ„å»ºåœ¨ç½‘ç»œä¹‹ä¸Šçš„å†…å®¹åˆ†å‘ç½‘ç»œï¼Œå¯ä»¥ä½¿ç”¨æˆ·å°±è¿‘è·å–èµ„æºï¼Œå‡ä½ç½‘ç»œæ‹¥å¡ï¼Œæé«˜ç”¨æˆ· è®¿é—®çš„å“åº”æ•ˆç‡ä»¥åŠå‘½ä¸­ç‡ã€‚ 2.çªç ´æµè§ˆå™¨çš„å¹¶å‘é™åˆ¶ï¼ŒåŒä¸€æ—¶é—´é’ˆå¯¹åŒä¸€åŸŸåä¸‹çš„è¯·æ±‚æœ‰ä¸€å®šçš„æ•°é‡é™åˆ¶ï¼Œè¶…è¿‡é™å®šæ•°ç›® çš„è¯·æ±‚ä¼šè¢«é˜»å¡ã€‚ 3.èŠ‚çº¦cookieå¸¦å®½ 4.å‡å°‘ä¸»åŸŸåçš„è¿æ¥æ•°ï¼Œä¼˜åŒ–é¡µé¢å“åº”é€Ÿåº¦ 5.é˜²æ­¢ä¸å¿…è¦çš„å®‰å…¨é—®é¢˜ CSS æƒé‡ï¼ˆ156 è¿›åˆ¶ï¼‰1. ï¼import æƒå€¼ï¼šinfinite æ— ç©·å¤§ 2. å†…è”æ ·å¼ï¼Œ æƒå€¼1000 3. IDé€‰æ‹©å™¨ï¼Œ æƒå€¼ï¼š 100 4. ç±»ã€ä¼ªç±»ã€å±æ€§é€‰æ‹©å™¨ï¼Œ æƒå€¼ï¼š 10 5.æ ‡ç­¾ã€ä¼ªå…ƒç´ é€‰æ‹©å™¨ï¼Œ æƒå€¼ï¼š 1 6.é€šé…ç¬¦é€‰æ‹©å™¨ *ï¼Œå­é€‰æ‹©å™¨ &gt;,ç›¸é‚»é€‰æ‹©å™¨ +ï¼Œæƒå€¼ï¼š 0 æƒå€¼ç›¸ç­‰ï¼Œåæ¥å±…ä¸Š html5 çš„æ–°ç‰¹æ€§1. æ·»åŠ äº†videoã€radioæ ‡ç­¾ 2. æ·»åŠ äº†canvasç”»å¸ƒå’Œsvgæ¸²æŸ“çŸ¢é‡å›¾ç‰‡ 3. æ·»åŠ äº†ä¸€äº›è¯­ä¹‰åŒ–çš„æ ‡ç­¾ headerã€footerã€mainã€section... 4. inputçš„typeå€¼æ–°æ·»åŠ äº†å¾ˆå¤šå±æ€§ï¼ˆemailï¼Œsearchï¼Œcolorï¼Œnumber...ï¼‰ 5. æ·»åŠ äº†åœ°ç†ä½ç½®å®šä½åŠŸèƒ½ Geolocation API 6. æ·»åŠ äº†web Storageå­˜å‚¨åŠŸèƒ½ï¼ŒlocalStorageå’ŒsessionStorage 7. ä½¿ç”¨html5ï¼Œé€šè¿‡åˆ›å»ºcache manifestæ–‡ä»¶ï¼Œå¯ä»¥è½»æ¾åœ°åˆ›å»ºwebåº”ç”¨çš„ç¦»çº¿ç‰ˆæœ¬ 8. web workeråˆ›é€ å¤šçº¿ç¨‹ç¯å¢ƒï¼Œæ˜¯è¿è¡Œåœ¨åå°çš„javaScriptã€‚ 9ã€‚ æœåŠ¡ç«¯æ¨é€ï¼ˆEventSourceç”¨äºæ¥å—æœåŠ¡ç«¯å‘é€äº‹ä»¶é€šçŸ¥ï¼‰ CSS3 æ–°æ·»åŠ çš„ç‰¹æ€§ï¼Ÿ1. åª’ä½“æŸ¥è¯¢ 2. transformï¼Œtransitionï¼Œtranslateï¼Œscaleï¼Œrotateç­‰ç›¸å…³åŠ¨ç”»æ•ˆæœ 3. box-shadowï¼Œtext-shadowç­‰ç‰¹æ•ˆ 4. CSS3 @font-faceè§„åˆ™ï¼Œå¯ä»¥å¼•å…¥ä»»æ„å­—ä½“ 5. CSS3 @keyframesè§„åˆ™ï¼Œåˆ›å»ºåŠ¨ç”»(é…åˆanimationä½¿ç”¨) 6. 2Dã€3Dè½¬åŒ– 7. æ·»åŠ äº†border-radiusã€border-imageã€column-countã€resizeã€box-sizing ã€outline-offsetç­‰å±æ€§ åŸºæœ¬æ•°æ®ç±»å‹åŸºæœ¬æ•°æ®ç±»å‹ï¼šNullã€Undefinedã€Stringã€Booleanã€Number ES6ï¼šSymbol ES10ï¼šBigintï¼ˆå¯ä»¥çªç ´å®‰å…¨æ•´æ•°é™åˆ¶ï¼Œå®‰å…¨çš„å­˜å‚¨å’Œæ“ä½œæœ€å¤§æ•´æ•°ä¹‹å¤–çš„æ•´æ•°ï¼Œä¸ä¼šæŸå¤±ç²¾åº¦ï¼‰ ç‰›å®¢å­¦ä¹  è¶…é“¾æ¥ a æ ‡ç­¾çš„ href çš„å±æ€§å€¼æ˜¯ urlï¼Œé‡Œé¢å¿…é¡»åŒ…å«åè®®ï¼Œæ²¡æœ‰åè®®å°±ä¼šè§£ææˆç›¸å¯¹è·¯å¾„ã€‚ HTTP çŠ¶æ€ç åˆ†ç±»ï¼š 1** ä¿¡æ¯ï¼ŒæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œéœ€è¦è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œ 2** æˆåŠŸï¼Œæ“ä½œè¢«æˆåŠŸæ¥å—å¹¶å¤„ç†ã€‚ 200 æœåŠ¡ç«¯æˆåŠŸå¤„ç†äº†è¯·æ±‚å¹¶è¿”å›å†…å®¹ 3** é‡å®šå‘ï¼Œéœ€è¦è¿›ä¸€æ­¥çš„æ“ä½œä»¥å®Œæˆè¯·æ±‚ 301 æ°¸ä¹…é‡å®šå‘ 302 ä¸´æ—¶é‡å®šå‘ 304 èµ„æºæœªè¢«ä¿®æ”¹ï¼Œè¿”å›ä¸€ä¸ª 304 çŠ¶æ€å—ç„¶åä»æœ¬åœ°ç¼“å­˜ä¸­åŠ è½½è¯·æ±‚çš„èµ„æº 4** å®¢æˆ·ç«¯é”™è¯¯ï¼Œè¯·æ±‚åŒ…å«è¯­æ³•é”™è¯¯æˆ–æ— æ³•å®Œæˆè¯·æ±‚ã€‚ 404 ï¼ˆé¡µé¢ä¸¢å¤±ï¼‰æœªæ‰¾åˆ°èµ„æº 403 æœåŠ¡å™¨æ‹’ç»è¯·æ±‚ 408 ï¼ˆè¯·æ±‚è¶…æ—¶ï¼‰ æœåŠ¡å™¨ç­‰å€™è¯·æ±‚æ—¶å‘ç”Ÿè¶…æ—¶ 5** æœåŠ¡å™¨é”™è¯¯ï¼ŒæœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ + 503 æœåŠ¡å™¨æš‚æ—¶ä¸å¯ç”¨ + 504 æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ HTTP åè®®çš„ç‰¹å¾ï¼š C/S(å®¢æˆ·ç«¯/æœåŠ¡å™¨)æ¨¡å¼ï¼šåªè¦å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çŸ¥é“å¦‚ä½•å¤„ç†æ•°æ®å†…å®¹ï¼Œä»»ä½•ç±»å‹çš„æ•°æ®éƒ½å¯ä»¥é€šè¿‡ HTTP æ¥å‘é€ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨æŒ‡å®šåˆé€‚çš„ MIME-type å†…å®¹ç±»å‹ã€‚ ç®€å•å¿«é€Ÿ çµæ´» æ— è¿æ¥ï¼šé™åˆ¶æ¯æ¬¡è¿æ¥åªå¤„ç†ä¸€ä¸ªè¯·æ±‚ï¼Œæ”¶åˆ°å®¢æˆ·çš„åº”ç­”åå³æ–­å¼€è¿æ¥ï¼Œå¯ä»¥èŠ‚çœä¼ è¾“æ—¶é—´ã€‚ æ— çŠ¶æ€ï¼šå¯¹äºäº‹ç‰©å¤„ç†æ²¡æœ‰è®°å¿†èƒ½åŠ›ï¼Œæ„å‘³ç€å¦‚æœåç»­å¤„ç†éœ€è¦å‰é¢çš„ä¿¡æ¯ï¼Œåˆ™å¿…é¡»é‡ä¼ ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´æ¯æ¬¡è¿æ¥ä¼ é€çš„æ•°æ®é‡å¢å¤§ï¼Œå¦ä¸€æ–¹é¢ï¼Œåœ¨æœåŠ¡å™¨ä¸éœ€è¦å…ˆå‰ä¿¡æ¯æ—¶å®ƒçš„åº”ç­”å°±ä¼šå¾ˆå¿«ã€‚ get å’Œ post çš„è¯·æ±‚åŒºåˆ«ï¼Ÿ åŒºåˆ«ä¸€ï¼š get é‡ç‚¹æ˜¯ä»æœåŠ¡å™¨ä¸Šè·å–èµ„æº post é‡ç‚¹æ˜¯å‘æœåŠ¡å™¨å‘é€æ•°æ® åŒºåˆ«äºŒï¼š get ä¼ è¾“æ•°æ®é€šè¿‡ url è¯·æ±‚ï¼Œä»¥ fieldï¼ˆå­—æ®µï¼‰=value çš„å½¢å¼æ”¾åœ¨ url åï¼Œç”¨â€œï¼Ÿâ€è¿æ¥ï¼Œå¤šä¸ªè¯·æ±‚æ•°æ®é—´ç”¨â€œ&amp;â€è¿æ¥ï¼Œè¿‡ç¨‹ç”¨æˆ·å¯è§ã€‚ post ä¼ è¾“æ•°æ®æ”¾åœ¨è¯·æ±‚ä½“ï¼ˆrequest bodyï¼‰ä¸­å‘é€ç»™æœåŠ¡å™¨ï¼Œç”¨æˆ·ä¸å¯è§ã€‚ åŒºåˆ«ä¸‰ï¼š get ä¼ è¾“æ•°æ®å¤§å°æœ‰é™åˆ¶ï¼Œä½†æ•ˆç‡è¾ƒé«˜ post å¯ä»¥ä¼ è¾“å¤§é‡æ•°æ®ï¼Œæ‰€ä»¥ä¸Šä¼ æ–‡ä»¶ç”¨ post æ–¹å¼ åŒºåˆ«å››ï¼š get è¯·æ±‚ä¸å®‰å…¨ï¼Œå› ä¸ºå‚æ•°ç›´æ¥æš´éœ²åœ¨ url ä¸Šï¼Œä¸èƒ½ç”¨æ¥ä¼ é€’æ•æ„Ÿä¿¡æ¯ã€‚ post è¾ƒ get å®‰å…¨æ€§è¾ƒé«˜ã€‚ åŒºåˆ«äº”ï¼š get æ–¹å¼åªèƒ½æ”¯æŒ ASCII å­—ç¬¦ï¼Œå‘æœåŠ¡ä¼ çš„ä¸­æ–‡å­—ç¬¦å¯èƒ½ä¼šä¹±ç ã€‚ post æ”¯æŒæ ‡å‡†å­—ç¬¦é›†ï¼Œå¯ä»¥æ­£ç¡®ä¼ é€’ä¸­æ–‡å­—ç¬¦ã€‚ åŒºåˆ«å…­ï¼š get åœ¨æµè§ˆå™¨å›é€€æ˜¯æ— å®³çš„ï¼Œè€Œ post ä¼šå†æ¬¡æäº¤è¯·æ±‚ã€‚ åŒºåˆ«ä¸ƒ get è¯·æ±‚ä¼šè¢«æµè§ˆå™¨ä¸»åŠ¨ cacheï¼ˆç¼“å­˜ï¼‰ï¼Œè€Œ post ä¸ä¼šé™¤éæ‰‹åŠ¨è®¾ç½®ã€‚ iframe æœ‰å“ªäº›ç¼ºç‚¹ï¼Ÿ iframe ä¼šé˜»å¡ä¸»é¡µé¢çš„ onload äº‹ä»¶ é€šè¿‡ oIframe.contentWindow å¯»æ‰¾å­ window å¯¹è±¡ é€šè¿‡ window.parent å¯»æ‰¾çˆ¶çº§çª—ä½“ é€šè¿‡ window.top å¯»æ‰¾é¡¶çº§çª—ä½“ window.location.hash è§£å†³çˆ¶é¡µé¢å‘å­é¡µé¢ä¼ å€¼ window.name è§£å†³å­é¡µé¢å‘çˆ¶é¡µé¢ä¼ å€¼ ä¸åˆ©äº SEOï¼Œæœç´¢å¼•æ“çš„æ£€ç´¢ç¨‹åºæ— æ³•è§£è¯»è¿™ç§é¡µé¢ï¼ˆç™¾åº¦ spider ä¸æ”¶å½•ï¼Œæµè§ˆå™¨å¯¹ iframe æ¡†æ¶çš„å…¼å®¹é—®é¢˜ï¼‰ iframe å’Œä¸»é¡µé¢å…±äº«è¿æ¥æ± ï¼Œè€Œæµè§ˆå™¨å¯¹ç›¸åŒåŸŸçš„è¿æ¥æœ‰é™åˆ¶ï¼Œæ‰€ä»¥ä¼šå½±å“é¡µé¢çš„å¹¶è¡ŒåŠ è½½ å¦‚æœéœ€è¦ä½¿ç”¨ iframeï¼Œæœ€å¥½é€šè¿‡ javascript åŠ¨æ€ç»™ iframe æ·»åŠ  src å±æ€§å€¼ã€‚ xhtml å’Œ html æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ æ€§èƒ½æ–¹é¢ XHTML å…¼å®¹æ€§å¥½ï¼Œå…¼å®¹å„å¤§æµè§ˆå™¨ã€æ‰‹æœºä»¥åŠ PDAï¼Œä½¿æµè§ˆå™¨å¯ä»¥å¿«é€Ÿæ­£ç¡®ç¼–è¯‘ç½‘é¡µ ä¹¦å†™ä¹ æƒ¯æ–¹é¢ HTML æ ‡ç­¾ä¸åŒºåˆ†å¤§å°å†™ï¼ŒXHTML æ‰€æœ‰æ ‡ç­¾å¿…é¡»å°å†™ XHTML å¿…é¡»æˆåŒæˆå¯¹ HTML å¯¹æ ‡ç­¾é¡ºåºè¦æ±‚ä¸ä¸¥æ ¼ï¼ŒXHTML æ ‡ç­¾é¡ºåºå¿…é¡»æ­£ç¡® ç­‰ç­‰ html å’Œ xml çš„åŒºåˆ«ï¼Ÿ xml è¢«è®¾è®¡ç”¨æ¥ä¼ è¾“å’Œå­˜å‚¨æ•°æ®ï¼Œå…¶ç„¦ç‚¹æ˜¯æ•°æ®çš„å†…å®¹ html è¢«è®¾è®¡ç”¨æ¥æ˜¾ç¤ºæ•°æ®ï¼Œå…¶ç„¦ç‚¹æ˜¯æ•°æ®çš„å¤–è§‚ html æ—¨åœ¨æ˜¾ç¤ºä¿¡æ¯ï¼Œè€Œ xml æ—¨åœ¨ä¼ è¾“ä¿¡æ¯ xml åœ¨å®šä¹‰æ ‡è®°æ—¶åŒºåˆ†å¤§å°å†™ï¼Œè€Œ html ä¸åŒºåˆ†å¤§å°å†™ link å’Œ@import çš„åŒºåˆ«ï¼šä¸¤è€…éƒ½æ˜¯å¤–éƒ¨å¼•ç”¨ CSS çš„æ–¹å¼ï¼Œä½†æœ‰ä¸€å®šçš„åŒºåˆ« + linkæ˜¯XHTMLæ ‡ç­¾ï¼Œé™¤äº†åŠ è½½CSSå¤–ï¼Œè¿˜å¯ä»¥åŠ è½½å…¶ä»–æ–‡ä»¶ï¼›@importåªèƒ½åŠ è½½CSSã€‚ + è§£æåˆ°linkæ—¶ï¼Œé¡µé¢ä¼šåŒæ­¥åŠ è½½Cssï¼›@importåœ¨é¡µé¢åŠ è½½å®ŒååŠ è½½Cssã€‚ + linkæ˜¯XHTMLæ ‡ç­¾ï¼Œæ— å…¼å®¹é—®é¢˜ï¼›@importæ˜¯åœ¨**CSS2.1**ä¹‹åæå‡ºçš„ï¼Œåªæœ‰å†IE5ä»¥ä¸Šæ‰èƒ½è¯†åˆ«ã€‚ + linkå¯ä»¥jsåŠ¨æ€å¼•å…¥ï¼Œ@importä¸è¡Œ + @importçš„æœ€ä½³å†™æ³•ï¼š @import url(style.css),å…¶ä»–å†™æ³•ï¼š@import 'style.css'ã€ @import &quot;style.css&quot;ã€@import url('style.css')ã€@import url(&quot;style.css&quot;) viewport 1234&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no&quot;/&gt; // width è®¾ç½® viewport å®½åº¦ï¼Œä¸ºä¸€ä¸ªæ­£æ•´æ•°ï¼Œæˆ–å­—ç¬¦ä¸²â€˜device-widthâ€™// device-width è®¾å¤‡å®½åº¦// height è®¾ç½® viewport é«˜åº¦ï¼Œä¸€èˆ¬è®¾ç½®äº†å®½åº¦ï¼Œä¼šè‡ªåŠ¨è§£æå‡ºé«˜åº¦ï¼Œå¯ä»¥ä¸ç”¨è®¾ç½®// initial-scale é»˜è®¤ç¼©æ”¾æ¯”ä¾‹ï¼ˆåˆå§‹ç¼©æ”¾æ¯”ä¾‹ï¼‰ï¼Œä¸ºä¸€ä¸ªæ•°å­—ï¼Œå¯ä»¥å¸¦å°æ•°// minimum-scale å…è®¸ç”¨æˆ·æœ€å°ç¼©æ”¾æ¯”ä¾‹ï¼Œä¸ºä¸€ä¸ªæ•°å­—ï¼Œå¯ä»¥å¸¦å°æ•°// maximum-scale å…è®¸ç”¨æˆ·æœ€å¤§ç¼©æ”¾æ¯”ä¾‹ï¼Œä¸ºä¸€ä¸ªæ•°å­—ï¼Œå¯ä»¥å¸¦å°æ•°// user-scalable æ˜¯å¦å…è®¸æ‰‹åŠ¨ç¼©æ”¾ å•è¡Œæ–‡æœ¬æº¢å‡ºçœç•¥å· overflow: hidden; text-overflow:ellipsis; white-space: nowrap; å¤šè¡Œæ–‡æœ¬æº¢å‡ºçœç•¥å· display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 3; overflow: hidden; æ¢è¡Œæ ‡ç­¾ word-wrap: break-word æ·±åº¦å°è£… typeof åˆ¤æ–­function myTypeof(val) { var type = typeof(val) var res = { '[object Object]' : 'object', '[object Array]' : 'array', '[object Number]' : 'object number', '[object String]' : 'object string', '[object Boolean]' : 'object boolean' } if (val === null) { return 'null' } else if (type == 'object') { var str = Object.prototype.toString.call(val) return res[str] } else { return type } } æµè§ˆå™¨çš„ reflow å’Œ repaint reflowï¼ˆå›æµ||é‡æ’ï¼‰ï¼šå½“æµè§ˆå™¨ä¸ŠæŸä¸€ä¸ªä½ç½®çš„å¸ƒå±€å‘ç”Ÿäº†æ”¹å˜ï¼Œæµè§ˆå™¨ä¼šé‡æ–°ä»æ ¹éƒ¨å¼€å§‹è®¡ç®—è¯¥èŠ‚ç‚¹çš„ å¸ƒå±€ã€‚æ¯”å¦‚ï¼šå‘é¡µé¢ä¸­æ·»åŠ ã€åˆ é™¤æŸä¸€å…ƒç´ ç­‰ï¼Œdom èŠ‚ç‚¹çš„å®½é«˜ä½ç½®æ”¹å˜ï¼Œåªè¦è¿™äº›æ“ä½œå½±å“äº† é¡µé¢çš„å…ƒç´ ä½ç½®æˆ–å¤§å°çš„å˜åŒ–ï¼Œéƒ½ä¼šå¼•èµ· reflowã€‚ repaintï¼ˆé‡ç»˜ï¼‰ï¼šå¦‚æœåªæ”¹å˜é¡µé¢å…ƒç´ çš„é¢œè‰²ã€å­—ä½“ç­‰ä¸å½±å“å¸ƒå±€çš„å±æ€§æ—¶ï¼Œæµè§ˆå™¨ä¼šè¿›è¡Œ repaintã€‚ 123ç”±ä¸Šå¯è§ï¼Œç›¸æ¯”repaintæ“ä½œï¼Œreflowçš„è€—æ—¶è¦æ›´å¤šã€‚åªè¦æ˜¯åŠ¨æ€çš„å¯¹é¡µé¢è¿›è¡Œä¿®æ”¹ï¼Œæµè§ˆå™¨çš„reflowå’Œrepaintçš„æ“ä½œå°±ä¸å¯é¿å…ï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯å°½å¯èƒ½çš„å‡å°‘æµè§ˆå™¨çš„reflowå’Œrepaintçš„æ¬¡æ•°ã€‚ æµè§ˆå™¨æ˜¯æ€ä¹ˆå¯¹ HTML5 çš„ç¦»çº¿å­˜å‚¨èµ„æºè¿›è¡Œç®¡ç†å’ŒåŠ è½½çš„ï¼Ÿ åœ¨çº¿çš„æƒ…å†µä¸‹ï¼šæµè§ˆå™¨å‘ç° html å¤´éƒ¨æœ‰ manifest å±æ€§ï¼Œä¼šè¯·æ±‚ manifest æ–‡ä»¶ï¼Œå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡è®¿é—® appï¼Œæµè§ˆå™¨ä¼šæ ¹æ® manifest æ–‡ä»¶çš„å†…å®¹ä¸‹è½½ç›¸åº”çš„èµ„æºå¹¶è¿›è¡Œç¦»çº¿ç¼“å­˜ã€‚å¦‚æœå·²ç»ç¦»çº¿å­˜å‚¨äº†ï¼Œæµè§ˆå™¨ä¼šä½¿ç”¨ç¦»çº¿çš„èµ„æºåŠ è½½é¡µé¢ï¼Œç„¶åæµè§ˆå™¨ä¼šæ¯”å¯¹æ–°çš„ manifest æ–‡ä»¶ä¸æ—§çš„ manifest æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œå°±ä¸è¦åšä»»ä½•æ“ä½œï¼Œå¦‚æœæ–‡ä»¶æ”¹å˜ï¼Œå°±ä¼šé‡æ–°ä¸‹è½½æ–‡ä»¶ä¸­çš„èµ„æºå¹¶è¿›è¡Œç¦»çº¿å­˜å‚¨ã€‚ ç¦»çº¿çš„æƒ…å†µä¸‹ï¼šæµè§ˆå™¨å°±ç›´æ¥ä½¿ç”¨ç¦»çº¿å­˜å‚¨çš„èµ„æºã€‚ å¦‚ä½•æ¸…é™¤ token æµè§ˆå™¨å…³é—­ä¼šå‡ºå‘ beforeunload ï¼Œunload è¿™ä¸¤ä¸ªäº‹ä»¶ã€‚ æµè§ˆå™¨åˆ·æ–°ä¹Ÿä¼šè§¦å‘ï¼Œè¿˜ä¼šè§¦å‘loadäº‹ä»¶ æ–¹æ¡ˆä¸€ 123window.onbeforeunload = function () { localStorage.removeItem(&quot;token&quot;)} ç¼ºç‚¹ï¼š åˆ·æ–°ä¹Ÿä¼šæ¸…ç©º token æ–¹æ¡ˆäºŒ 123456789101112131415window.onunload = function() { localStorage.setItem(&quot;lastTime&quot;,new Date().getTime())}window.onload = function() { let lastTime = localStorage.getItem(&quot;lastTime&quot;); const interval = 3 * 1000; // å¦‚æœæ—¶é—´é—´éš”å¤§äº3sï¼Œåˆ™æ¸…é™¤token if (!lastTime || new Date().getTime() - lastTime &gt; interval) { localStorage.remove(&quot;token&quot;); console.log(&quot;remove token&quot;); } else { console.log(&quot;time is less than not remove token&quot;); }} è¡¥å……å¯ä»¥ä½¿ç”¨ sessionStorage ä»£æ›¿ localStorage æ¥å­˜å‚¨ tokenï¼Œå½“å…³é—­æµè§ˆå™¨æ—¶ä¼šè‡ªåŠ¨æ¸…é™¤ tokenï¼ŒsessionStorage ä¸æ˜¯æŒä¹…åŒ–çš„æœ¬åœ°å­˜å‚¨ï¼Œè€Œæ˜¯ä¼šè¯çº§åˆ«çš„å­˜å‚¨ï¼Œè€Œ localStorage æ˜¯æŒä¹…åŒ–çš„æœ¬åœ°å­˜å‚¨ï¼Œé™¤éä¸»åŠ¨åˆ é™¤æ•°æ®ï¼Œå¦åˆ™æ•°æ®æ˜¯ä¸ä¼šè¿‡æœŸçš„ã€‚ npm 1234567891011121314151617181920212223242526272829303132333435363738// ä¸¾ä¸ªä¾‹å­ï¼š&quot;dependencies&quot;: { &quot;jquery&quot;: &quot;^13.4.6&quot;, // åªé”å®šä¸»ç‰ˆæœ¬å· major &quot;jquery&quot;: &quot;~13.4.6&quot;, // é”å®šä¸»ç‰ˆæœ¬å·å’Œæ¬¡ç‰ˆæœ¬å· major + minor &quot;jquery&quot;: &quot;13.4.6&quot;, // é”å®šç‰ˆæœ¬ &quot;jquery&quot;: &quot;*&quot;, // æœ€æ–°ç‰ˆæœ¬}// major: 13, minor: 4, patch: 6$ npm info jquery // æŸ¥çœ‹ jquery ä¿¡æ¯$ npm view jquery versions // æŸ¥çœ‹ jquery æ‰€æœ‰ç‰ˆæœ¬$ npm list | grep gulp // è¿‡æ»¤ gulp$ npm outdated // æŸ¥çœ‹è¿‡æœŸç‰ˆæœ¬$ npm update //æ›´æ–°ç‰ˆæœ¬$ npm cache clean --force // æ¸…æ¥šç¼“å­˜$ npm ls // æŸ¥çœ‹é¡¹ç›®å¼•ç”¨äº†å“ªäº›åŒ…$ npm unpublish --force // ä»npmå¸è½½åŒ…// æ‰§è¡Œé¡ºåº$ npm run script1 &amp; npm run script2 //å¹¶è¡Œæ‰§è¡Œ$ npm run script1 &amp;&amp; npm run script2 // ç»§å‘æ‰§è¡Œ// cross-env: è¿è¡Œè·¨å¹³å°è®¾ç½®å’Œä½¿ç”¨ç¯å¢ƒå˜é‡çš„è„šæœ¬// cross-envå¯ä»¥è®¾ç½®NODE_ENVç¯å¢ƒå˜é‡ï¼Œprocess.env.NODE_ENV === 'production'$ npm install --save-dev cross-env// {// &quot;scripts&quot;: {// &quot;build&quot;: &quot;cross-env NODE_ENV=production webpack --config build/webpack.config.js&quot;// }// }$ npm config get registry // æŸ¥çœ‹å½“å‰æº$ npm config set registry https://registry.npm.taobao.org //åˆ‡æ¢é•œåƒæº// npx// --no-install: è®©npxå¼ºåˆ¶ä½¿ç”¨æœ¬åœ°æ¨¡å—ï¼Œä¸ä¸‹è½½è¿œç¨‹æ¨¡å—ï¼Œå¦‚æœæœ¬åœ°ä¸å­˜åœ¨ï¼Œå°±ä¼šæŠ¥é”™$ npx --no-install http-server// --ignore-existing: å¿½ç•¥æœ¬åœ°çš„åŒåæ¨¡å—ï¼Œå¼ºåˆ¶å®‰è£…è¿œç¨‹æ¨¡å—$ npx --ignore-existing http-server æœ¬åœ°å­˜å‚¨ å®¢æˆ·ç«¯çš„æœ¬åœ°å­˜å‚¨ï¼š localStorage - ç”Ÿå‘½å‘¨æœŸæ°¸ä¹…ç”Ÿæ•ˆï¼Œé™¤éæ‰‹åŠ¨åˆ é™¤ï¼Œå¦åˆ™å…³é—­é¡µé¢ä¹Ÿä¼šå­˜åœ¨ - å¯ä»¥åœ¨åŒä¸€æµè§ˆå™¨å¤šçª—å£å…±äº« - ä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜å‚¨ä½¿ç”¨ - æ–¹æ³•ï¼š + å­˜å‚¨æ•°æ®ï¼šlocalStorage.setItem(key, value) + è·å–æ•°æ®ï¼šlocalStorage.getItem(key) + åˆ é™¤æ•°æ®ï¼šlocalStorage.removeItem(key) + åˆ é™¤æ‰€æœ‰æ•°æ®ï¼šlocalStorage.clear() sessionStorage å£°æ˜å‘¨æœŸä¸ºå…³é—­æµè§ˆå™¨çª—å£ åœ¨åŒä¸€ä¸ªçª—å£ä¸­æ•°æ®å¯ä»¥å…±äº« ä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜å‚¨ æ–¹æ³•ï¼š å­˜å‚¨æ•°æ®ï¼šsessionStorage.setItem(key, value) è·å–æ•°æ®ï¼šsessionStorage.getItem(key) åˆ é™¤æ•°æ®ï¼šsessionStorage.removeItem(key) åˆ é™¤æ‰€æœ‰æ•°æ®ï¼šsessionStorage.clear() localStorage å’Œ sessionStorage cookie å’Œ session IndexDB ç¦»çº¿å­˜å‚¨ï¼Œå½“ç½‘ç»œæ–­å¼€ï¼Œå¯ä»¥ä»æµè§ˆå™¨ä¸­è¯»å–æ•°æ®ï¼Œç”¨æ¥åšä¸€äº›ç¦»çº¿åº”ç”¨ Cookie åŒ…å«å­—æ®µ name: cookie åç§° value: å€¼ domain: cookie ç”Ÿæ•ˆçš„åŸŸå path: cookie ç”Ÿæ•ˆçš„è·¯å¾„ expires/max-age: cookie è¿‡æœŸæ—¶é—´ size: å¤§å° HttpOnly: ç”¨æˆ·ç«¯ä¸å¯æ›´æ”¹ å­˜å‚¨ç”¨æˆ·ä¿¡æ¯ï¼Œé€šè¿‡åœ¨å®¢æˆ·ç«¯è®°å½•ä¿¡æ¯ç¡®å®šç”¨æˆ·èº«ä»½ï¼Œæœ€å¤§ä¸º 4kb ä¼šè¯ Cookieï¼Œè‹¥ä¸è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œè¡¨ç¤ºè¿™ä¸ª cookie çš„ç”Ÿå‘½å‘¨æœŸä¸ºæµè§ˆå™¨ä¼šè¯æœŸé—´ï¼Œæµè§ˆå™¨å…³é—­ï¼Œcookie å°±æ¶ˆå¤±ï¼Œä¼šè¯ cookie ä¼šä¿å­˜åœ¨å†…å­˜ä¸­è€Œä¸æ˜¯ç¡¬ç›˜ä¸Šã€‚ æŒä¹… Cookieï¼Œè‹¥è®¾ç½®äº†è¿‡æœŸæ—¶é—´ï¼Œæµè§ˆå™¨ä¼šæŠŠ cookie ä¿å­˜åœ¨ç¡¬ç›˜ä¸Šï¼Œå…³é—­æµè§ˆå™¨ä»ç„¶æœ‰æ•ˆç›´åˆ°è¶…è¿‡è®¾å®šçš„è¿‡æœŸæ—¶é—´ã€‚ cookie æ•°æ®å§‹ç»ˆåœ¨åŒæºçš„ http è¯·æ±‚ä¸­æºå¸¦(å³ä½¿ä¸éœ€è¦)ï¼Œå³ä¼šåœ¨æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´æ¥å›ä¼ é€’ã€‚ Cookie å…·æœ‰ä¸å¯è·¨åŸŸåæ€§ï¼Œä¾‹å¦‚æµè§ˆå™¨è®¿é—®ç™¾åº¦ä¸ä¼šå¸¦ä¸Šè°·æ­Œçš„ cookie æœåŠ¡ç«¯çš„å­˜å‚¨ï¼š Session Session æœåŠ¡å™¨ç«¯ä¸€ç§è®°å½•å®¢æˆ·ç«¯çŠ¶æ€çš„æœºåˆ¶ cookie æ•°æ®å­˜æ”¾åœ¨å®¢æˆ·çš„æµè§ˆå™¨ä¸Šï¼Œsession å°†æ•°æ®å­˜æ”¾åœ¨æœåŠ¡å™¨ç«¯ Session ç›¸å¯¹ Cookie æ¥è¯´æ¯”è¾ƒå®‰å…¨ï¼Œåˆ«äººå¯ä»¥åˆ†ææœ¬åœ°å­˜æ”¾çš„ cookie è¿›è¡Œ cookie æ¬ºéª— Session ä¼šåœ¨ä¸€å®šæ—¶é—´å†…ä¿å­˜åœ¨æœåŠ¡å™¨ä¸Šï¼Œè®¿é—®é‡è¾ƒå¤šçš„æ—¶å€™ä¼šæ¯”è¾ƒå ç”¨æœåŠ¡å™¨çš„æ€§èƒ½ï¼Œè€ƒè™‘åˆ°å‡è½»æœåŠ¡å™¨æ€§èƒ½æ–¹é¢çš„æ—¶å€™ï¼Œåº”å½“ä½¿ç”¨ cookie å¯ä»¥å°†ç™»é™†ç­‰é‡è¦ä¿¡æ¯ä¿å­˜åœ¨ sessionï¼Œå…¶ä»–ä¿¡æ¯æ”¾åœ¨ cookie ä¸­ æ—¥æœŸ Date.now() //è·å–å½“å‰æ—¶é—´æ¯«ç§’æ•° var dt = new Date() //æ„é€ ä¸€ä¸ªå®ä¾‹å¯¹è±¡ dt.getTime() //è·å–æ¯«ç§’æ•° dt.getFullYear() //å¹´ dt.getMonth() //æœˆï¼ˆ0-11ï¼‰ dt.getDate() //æ—¥ ï¼ˆ0-31ï¼‰ dt.getHours() //å°æ—¶ï¼ˆ0-23ï¼‰ dt.getMinutes() //åˆ†é’Ÿï¼ˆ0-59ï¼‰ dt.getSeconds() //ç§’ï¼ˆ0-59ï¼‰ dt.getDay() //æ˜ŸæœŸå‡ ï¼ˆ0-6ï¼‰ å¦‚ä½•ç›‘å¬æœªå¤„ç†çš„å¼‚å¸¸ tryâ€¦catch æ— æ³•æ•æ‰åˆ°è¯­æ³•é”™è¯¯ï¼Œåªèƒ½æ•æ‰è¿è¡Œæ—¶é”™è¯¯ å¯ä»¥æ‹¿åˆ°å‡ºé”™çš„ä¿¡æ¯(å‡ºé”™çš„æ–‡ä»¶ï¼Œè¡Œå·ï¼Œåˆ—å·) window.onerror ç”±äº tryâ€¦catch åªèƒ½æ•è·å—é‡Œé¢çš„é”™è¯¯ï¼Œå…¨å±€çš„ä¸€äº›é”™è¯¯å¯ä»¥ç”¨ window.onerror window.addEventListener(â€˜errorâ€™,callback):æ•è·èµ„æºé”™è¯¯ window.addEventListener(â€˜unhandledrejectionâ€™,callback):æ•è· promise ç±»å‹é”™è¯¯ vue.config.errorHandler: vue é”™è¯¯ componentDidCatchï¼šé”™è¯¯è¾¹ç•Œå‡½æ•° http å’Œ https çš„åŒºåˆ« http æ˜¯ä¸€ç§ä¸€ç§å¹¿æ³›ä½¿ç”¨çš„ç½‘ç»œåè®®ï¼Œæ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨è¯·æ±‚å’Œåº”ç­”çš„æ ‡å‡†ã€‚ http å·¥ä½œåœ¨ TCP åè®®çš„ 80 ç«¯å£ï¼Œhttps å·¥ä½œåœ¨ TCP åè®®çš„ 443 ç«¯å£ http åè®®è¿è¡Œåœ¨ TCP åè®®ä¹‹ä¸Šï¼Œæ‰€æœ‰çš„ä¼ è¾“å†…å®¹éƒ½æ˜¯æ˜æ–‡ï¼Œhttps è¿è¡Œåœ¨ SSL/TLS ä¹‹ä¸Šï¼ŒSSL/TLS è¿è¡Œåœ¨ TCP ä¹‹ä¸Šï¼Œæ‰€æœ‰çš„ä¼ è¾“å†…å®¹éƒ½æ˜¯ç»è¿‡åŠ å¯†çš„ã€‚ https æ˜¯ä»¥å®‰å…¨ä¸ºç›®æ ‡çš„ http é€šé“ï¼Œæ˜¯ http çš„å®‰å…¨ç‰ˆã€‚æ˜¯ http åŠ ä¸Š SSL å±‚å¯¹ä¼ è¾“çš„ä¿¡æ¯å’Œ url åšäº†ä¸€äº›åŠ å¯†å¤„ç†ï¼Œæ›´åŠ å®‰å…¨ ä¸ºä»€ä¹ˆ https ä¸ä¼šè¢«æˆªå–ä¿¡æ¯ å®Œæˆ TCP ä¸‰æ¬¡åŒæ­¥æ¡æ‰‹ å®¢æˆ·ç«¯éªŒè¯æœåŠ¡å™¨æ•°å­—è¯ä¹¦ï¼Œé€šè¿‡ï¼Œè¿›å…¥æ­¥éª¤ 3 DH ç®—æ³•åå•†å¯¹ç§°åŠ å¯†ç®—æ³•çš„å¯†é’¥ã€hash ç®—æ³•çš„å¯†é’¥ SSL å®‰å…¨åŠ å¯†éš§é“åå•†å®Œæˆ ç½‘é¡µä»¥åŠ å¯†çš„æ–¹å¼ä¼ è¾“ï¼Œç”¨åå•†çš„å¯¹ç§°åŠ å¯†ç®—æ³•å’Œå¯†é’¥åŠ å¯†ï¼Œä¿è¯æ•°æ®æœºå¯†æ€§ï¼›ç”¨åå•†çš„ hash ç®—æ³•è¿›è¡Œæ•°æ®å®Œæ•´æ€§ä¿æŠ¤ï¼Œä¿è¯æ•°æ®ä¸è¢«ç¯¡æ”¹ æµè§ˆå™¨å¦‚ä½•ç¼“å­˜ html meta æ ‡ç­¾æ§åˆ¶ç¼“å­˜ &lt;meta http-equiv=&quot;Pragma&quot; content=&quot;no-cahce&quot;&gt; //å‘Šè¯‰æµè§ˆå™¨å½“å‰é¡µé¢ä¸è¢«ç¼“å­˜ http å¤´ä¿¡æ¯æ§åˆ¶ç¼“å­˜ Expires â€”â€”&gt; è¿‡æœŸæ—¶é—´ Cache-Control å“åº”å¤´ä¿¡æ¯(no-cacheã€no-storeã€max-ageã€public) TCP åè®®å¦‚ä½•ä¿è¯ä¼ è¾“çš„å¯é æ€§ æ ¡éªŒå’Œ ç¡®è®¤åº”ç­” + åºåˆ—å· è¶…æ—¶é‡ä¼  æµæµªæ§åˆ¶ æ‹¥å¡æ§åˆ¶ TCP çš„è¿æ¥ç®¡ç† æ»‘åŠ¨çª—å£ UDP &amp; TCP çš„åŒºåˆ« ç›¸åŒç‚¹ï¼š UDP åè®® å’Œ TCP åè®® éƒ½æ˜¯è¿è¾“å±‚åè®® ä¸åŒç‚¹ï¼š UDP ç‰¹ç‚¹ï¼š æ— è¿æ¥ â€”â€” çŸ¥é“å¯¹ç«¯çš„ IP å’Œç«¯å£å·å°±ç›´æ¥è¿›è¡Œä¼ è¾“ï¼Œä¸éœ€è¦å»ºç«‹è¿æ¥ ä¸å¯é  â€”â€” æ²¡æœ‰ç¡®è®¤æœºåˆ¶ï¼Œæ²¡æœ‰é‡ä¼ æœºåˆ¶ï¼Œå³ä½¿å› ä¸ºç½‘ç»œæ•…éšœæ— æ³•å‘é€åˆ°å¯¹æ–¹ï¼ŒUDP åè®®ä¹Ÿä¸ä¼šç»™åº”ç”¨å±‚è¿”å›ä»»ä½•é”™è¯¯ä¿¡æ¯ é¢å‘æ•°æ®æŠ¥ ä¼ è¾“é€Ÿ åº¦å— TCP ç‰¹ç‚¹ï¼š é¢å‘è¿æ¥ï¼Œåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨è¿›è¡Œäº¤æ¢æ•°æ®å‰ï¼Œå¿…é¡»å…ˆåœ¨åŒæ–¹ä¹‹é—´å»ºç«‹ä¸€ä¸ªTCP è¿æ¥ å¯é ä¼ è¾“ï¼Œå…·æœ‰ç¡®è®¤åº”ç­”æœºåˆ¶ã€è¶…æ—¶é‡ä¼ æœºåˆ¶ã€æ‹¥å¡æ§åˆ¶ã€æµé‡æ§åˆ¶ã€æ»‘åŠ¨çª—å£æœºåˆ¶ã€å»¶è¿Ÿåº”ç­”ç­‰ã€‚ é¢å‘å­—èŠ‚æµ UDP çš„å“åº”é€Ÿåº¦ä¼˜äº TCPï¼Œå®‰å…¨æ€§å’Œæ•°æ®å¯é æ€§ä¸å¦‚ TCP UDP ä¸€èˆ¬ç”¨åœ¨ç½‘ç»œè´Ÿæ‹…éå¸¸é‡ï¼Œä½†å¯¹å“åº”é€Ÿåº¦è¦æ±‚é«˜ï¼Œæ•°æ®ç±»å‹éƒ½æ˜¯çŸ­æ¶ˆæ¯çš„æƒ…å†µä¸‹ æ ·å¼å¯¼å…¥æ–¹å¼åŠä¼˜å…ˆçº§ï¼Ÿ å¼•å…¥æ–¹å¼ è¡Œå†…æ ·å¼ å†…è”å¼ å¤–é“¾å¼ å¯¼å…¥å¼: @import url(reset.css) å„ç§æ–¹å¼çš„ä¼˜å…ˆçº§ è¡Œå†…æ ·å¼ &gt; å¤–é“¾å¼ &gt; å†…è”å¼ &gt; @import å¯¼å…¥å¼ é€‰æ‹©å™¨ä¼˜å…ˆåŸåˆ™ï¼š!important &gt; è¡Œé—´æ ·å¼ &gt; ID é€‰æ‹©å™¨ &gt;class é€‰æ‹©å™¨ï½œä¼ªç±»é€‰æ‹©å™¨ï½œå±æ€§é€‰æ‹©å™¨ &gt;å…ƒç´ é€‰æ‹©å™¨ï½œä¼ªå…ƒç´ é€‰æ‹©å™¨ &gt; é€šé…ç¬¦é€‰æ‹©å™¨ï½œå­é€‰æ‹©å™¨é€‰æ‹©å™¨ï½œç›¸é‚»å…„å¼Ÿé€‰æ‹©å™¨ BFCBFC(block formatting context)ç¿»è¯‘ä¸ºâ€œå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡â€ï¼Œå®ƒä¼šç”Ÿæˆç‹¬ç«‹çš„æ¸²æŸ“åŒºåŸŸ(ä¸å½±å“å¤–é¢çš„å…ƒç´ ï¼ŒåŒæ—¶ä¹Ÿä¸å—å¤–éƒ¨å…ƒç´ çš„å½±å“)ï¼Œå®ƒæœ‰ä¸€ä¸‹è§„åˆ™ï¼š å†…éƒ¨çš„ box ä¼šåœ¨å‚ç›´æ–¹å‘ä¸Šä¸€ä¸ªæ¥ä¸€ä¸ªçš„æ”¾ç½®ã€‚ å†…éƒ¨ box åœ¨å‚ç›´æ–¹å‘ä¸Šçš„è·ç¦»ç”± margin å†³å®šï¼ŒåŒå±ä¸€ä¸ª BFC å†…çš„ç›¸é‚» box ä¼šå‘ç”Ÿ margin é‡å ã€‚ BFC çš„åŒºåŸŸä¸ä¼šä¸ float box å‘ç”Ÿé‡å ã€‚ è®¡ç®— BFC çš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®—(æ¸…é™¤æµ®åŠ¨) è§¦å‘ BFC çš„æ¡ä»¶ï¼š float å±æ€§ä¸ä¸º none position ä¸º absolute æˆ–è€… fixed display ä¸º inline-blockã€table-cellã€table-captionã€flexã€inline-flex overflow ä¸ä¸º visible å­—ç¬¦ä¸²å»é‡for éå†function removeRepeatStr(str){ var newStr = ''; var flag; var len = str.length; for(var i=0; i&lt;len; i++){ flag = 1; var newLen = newStr.length; for(var j=0; j&lt;newLen; j++){ if(str[i] == newStr[j]){ flag = 0; break; } } if(flag){ newStr = newStr + str[i]; } } return newStr; } indexOf æ–¹æ³•function removeRepeatStr(str){ var newStr = ''; var len = str.length; for(var i=0; i&lt;len; i++){ if(newStr.indexOf(str[i])==-1){ newStr = newStr + str[i]; } } return newStr; } search æ–¹æ³•function removeRepeatStr(str){ var newStr = ''; var len = str.length; for(var i=0; i&lt;len; i++){ if(newStr.search(str[i])==-1){ newStr = newStr + str[i]; } } return newStr; } å¯¹è±¡å±æ€§æ³•12345678910111213function removeRepeatStr(str) { var obj = {}; var newStr = ''; var len = str.length; for (var i = 0; i &lt; len; i++) { if (!obj[str[i]]) { newStr = newStr + str[i]; //æ³¨æ„ï¼Œè¿™é‡Œçš„1æ˜¯ç»™å¯¹è±¡å±æ€§èµ‹å€¼ï¼Œè¿™ä¸ªå€¼å¯ä»¥ä»»æ„å–ã€‚æ„æ€æ˜¯æŠŠæ¯ä¸ªéå†çš„å­—ç¬¦ä½œä¸ºå¯¹è±¡å±æ€§å¹¶èµ‹å€¼ä¿å­˜ï¼Œä¿è¯è¯¥å±æ€§çš„å”¯ä¸€æ€§ obj[str[i]] = 1; } } return newStr;} åŒæ­¥å’Œå¼‚æ­¥çš„åŒºåˆ«ï¼Œæ€ä¹ˆå¼‚æ­¥åŠ è½½ javascript? åŒæ­¥æ¨¡å¼åŒæ­¥æ¨¡å¼ï¼Œåˆç§°é˜»å¡æ¨¡å¼ï¼Œjavascript åœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯ä¼šé˜»å¡åŠ è½½çš„ï¼Œå½“å‰é¢çš„ javascript è¯·æ±‚æ²¡æœ‰å¤„ç†å’Œæ‰§è¡Œå®Œæ—¶ï¼Œä¼šé˜»æ­¢æµè§ˆå™¨çš„åç»­å¤„ç† å¼‚æ­¥æ¨¡å¼å¼‚æ­¥åŠ è½½åˆå«éé˜»å¡ï¼Œæµè§ˆå™¨åœ¨ä¸‹è½½æ‰§è¡Œ js åŒæ—¶ï¼Œè¿˜ä¼šç»§ç»­è¿›è¡Œåç»­é¡µé¢çš„å¤„ç† å¼‚æ­¥åŠ è½½ JavaScript åŠ¨æ€æ·»åŠ  script æ ‡ç­¾ defer async defer å±æ€§å’Œ async éƒ½æ˜¯å±äº script æ ‡ç­¾ä¸Šé¢çš„å±æ€§ï¼Œä¸¤è€…éƒ½èƒ½å®ç° JavaScript çš„ å¼‚æ­¥åŠ è½½ã€‚ä¸åŒä¹‹å¤„åœ¨äºï¼šasync åœ¨å¼‚æ­¥åŠ è½½å®Œæˆçš„æ—¶å€™å°±é©¬ä¸Šå¼€å§‹æ‰§è¡Œäº†ï¼Œdefer ä¼šç­‰åˆ° html åŠ è½½å®Œæ¯•ä¹‹åå†æ‰§è¡Œã€‚ æœ‰å“ªäº›å¸¸è§çš„ meta æ ‡ç­¾ï¼Ÿ æŒ‡å®šæ–‡æ¡£ç¼–ç  &lt;meta charset = &quot;UTF-8&quot;&gt; name å±æ€§ 1.&lt;meta name=â€viewportâ€ content=â€width=device-width, initial-scale=1, maximum-scale=1, user-scalable=noâ€&gt;ï¼šåœ¨ç§»åŠ¨è®¾å¤‡æµè§ˆå™¨ä¸Šï¼Œç¦ç”¨ç¼©æ”¾ï¼ˆzoomingï¼‰ åŠŸèƒ½ï¼Œç”¨æˆ·åªèƒ½æ»šåŠ¨å±å¹•ã€‚ 2.&lt;meta name=â€descriptionâ€ content=â€â€&gt;ï¼šå‘Šè¯‰æœç´¢å¼•æ“ï¼Œå½“å‰é¡µé¢çš„ä¸»è¦å†…å®¹æ˜¯xxxã€‚ 3.&lt;meta name=â€keywordsâ€ content=â€â€&gt;ï¼šå‘Šè¯‰æœç´¢å¼•æ“ï¼Œå½“å‰é¡µé¢çš„å…³é”®å­—ã€‚ 4.&lt;meta name=â€authorâ€ content=â€â€&gt;ï¼šå‘Šè¯‰æœç´¢å¼•æ“ï¼Œæ ‡æ³¨ç½‘ç«™ä½œè€…æ˜¯è°ã€‚ 5.&lt;meta name=â€copyrightâ€ content=â€â€&gt;ï¼šæ ‡æ³¨ç½‘ç«™çš„ç‰ˆæƒä¿¡æ¯ã€‚ http-equiv å±æ€§(http åè®®çš„å“åº”å¤´æŠ¥æ–‡) 1.&lt;meta http-equiv=â€Set-Cookieâ€ content=â€cookievalue=xxx; expires=Friday,12-Jan-2001 18:18:18 GMT; path=/â€&gt;:å¦‚æœç½‘é¡µè¿‡æœŸï¼Œ é‚£ä¹ˆå­˜ç›˜çš„cookieå°†è¢«åˆ é™¤ã€‚å¿…é¡»ä½¿ç”¨GMTçš„æ—¶é—´æ ¼å¼ã€‚ 2.&lt;meta http-equiv='expires' content='æ—¶é—´' &gt;ï¼šç”¨äºè®¾å®šç½‘é¡µçš„åˆ°æœŸæ—¶é—´ã€‚ ä¸€æ—¦ç½‘é¡µè¿‡æœŸï¼Œå¿…é¡»åˆ°æœåŠ¡å™¨ä¸Šé‡æ–°ä¼ è¾“ã€‚ 3.&lt;meta http-equiv=â€Refreshâ€ content=â€5;URLâ€&gt;ï¼šå‘Šè¯‰æµè§ˆå™¨åœ¨ ã€æ•°å­—ã€‘ç§’åè·³è½¬åˆ°ã€ä¸€ä¸ªç½‘å€ã€‘ 4.&lt;meta http-equiv=â€content-Typeâ€ content=â€text/html; charset=utf-8â€³&gt;ï¼š è®¾å®šé¡µé¢ä½¿ç”¨çš„å­—ç¬¦é›†ã€‚ -5.&lt;meta http-equiv=â€Pragmaâ€ content=â€no-cacheâ€&gt;ï¼šç¦æ­¢æµè§ˆå™¨ä»æœ¬åœ° è®¡ç®—æœºçš„ç¼“å­˜ä¸­è®¿é—®é¡µé¢å†…å®¹ã€‚è®¿é—®è€…å°†æ— æ³•è„±æœºæµè§ˆã€‚ 6.&lt;meta http-equiv=â€Window-targetâ€ content=â€_topâ€&gt;ï¼šç”¨æ¥é˜²æ­¢ åˆ«äººåœ¨iframe(æ¡†æ¶)é‡Œè°ƒç”¨è‡ªå·±çš„é¡µé¢ï¼Œè¿™ä¹Ÿç®—æ˜¯ä¸€ä¸ªéå¸¸å®ç”¨çš„å±æ€§ã€‚ 7.&lt;meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'&gt; :å¼ºåˆ¶æµè§ˆå™¨æŒ‰ç…§ç‰¹å®šçš„ç‰ˆæœ¬æ ‡å‡†è¿›è¡Œæ¸²æŸ“ã€‚ä½†ä¸æ”¯æŒIE7åŠä»¥ä¸‹ç‰ˆæœ¬ã€‚å¦‚æœæ˜¯ ieæµè§ˆå™¨å°±ç”¨æœ€æ–°çš„ieæ¸²æŸ“ï¼Œå¦‚æœæ˜¯åŒæ ¸æµè§ˆå™¨å°±ç”¨chromeå†…æ ¸ã€‚ ä»€ä¹ˆæ˜¯ FOUCï¼Ÿå¦‚ä½•é¿å…ï¼Ÿ ä¸€ã€ä¸ºä»€ä¹ˆä¼šæœ‰ç™½å±å’Œ FOUC å‘¢ï¼Ÿ æµè§ˆå™¨å†æ¸²æŸ“çš„æ—¶å€™æ²¡æœ‰è¯·æ±‚åˆ°æˆ–è¯·æ±‚æ—¶é—´è¿‡é•¿é€ æˆçš„ï¼Œé‚£ä¹ˆæµè§ˆå™¨æ€ä¹ˆåº”å¯¹çš„å‘¢ï¼Ÿ ç™½å±ï¼šCSS å…¨éƒ¨è½½å…¥è§£æå®Œæˆåæ¸²æŸ“å±•ç¤ºé¡µé¢ï¼Œå¦‚æœæ²¡æœ‰åŠ è½½å®Œï¼Œå°±ä¼šå‡ºç°ç™½å±ã€‚ FOUC(Flash of Unstyled Content)æ— æ ·å¼å†…å®¹é—ªçƒï¼šç”¨æˆ·å®šä¹‰æ ·å¼è¡¨åŠ è½½ä¹‹å‰æµè§ˆå™¨ä½¿ç”¨é»˜è®¤æ ·å¼æ˜¾ç¤ºæ–‡æ¡£ï¼Œç”¨æˆ·æ ·å¼è¡¨åŠ è½½æ¸²æŸ“ä¹‹åï¼Œå†é‡æ–°æ˜¾ç¤ºæ–‡æ¡£ï¼Œé€ æˆé¡µé¢é—ªçƒã€‚ è§£å†³æ–¹æ³• ä½¿ç”¨ link æ ‡ç­¾å°†æ ·å¼è¡¨æ”¾åœ¨é¡¶éƒ¨æ ‡ç­¾ä¸­ï¼Œé˜²æ­¢ç™½å±é—®é¢˜å‡ºç°ã€‚ å°† JS æ”¾åœ¨æ ‡ç­¾åº•éƒ¨ï¼ŒåŸå› å¦‚ä¸‹ï¼š è„šæœ¬ä¼šé˜»å¡åé¢å†…å®¹çš„å‘ˆç° è„šæœ¬ä¼šé˜»å¡å…¶åç»„ä»¶çš„ä¸‹è½½ ä»€ä¹ˆæ˜¯ DOCTYPE åŠå…¶ä½œç”¨ï¼Ÿ DOCTYPE æ˜¯ document typeï¼ˆæ–‡æ¡£ç±»å‹ï¼‰çš„ç¼©å†™ã€‚ å†™æ³•ï¼š(å£°æ˜äº†æµè§ˆå™¨å°±ä¼šè¿›å…¥æ ‡å‡†æ¨¡å¼ï¼ŒæŒ‰ç…§ W3C æ ‡å‡†æ¸²æŸ“é¡µé¢) DOCTYPE çš„ä½œç”¨ï¼š DOCTYPE æ˜¯ç”¨æ¥å£°æ˜æ–‡æ¡£ç±»å‹å’Œ DTD è§„èŒƒçš„ï¼Œæ ¡éªŒæ–‡ä»¶å’Œä»£ç çš„åˆæ³•æ€§ã€‚ å‘Šè¯‰æµè§ˆå™¨é€šè¿‡å“ªç§è§„èŒƒï¼ˆæ–‡æ¡£ç±»å‹ï¼ŒDTDï¼‰æ¥è§£ææ–‡æ¡£ã€‚ DTDï¼ˆdocument type definitionï¼‰æ–‡æ¡£ç±»å‹å®šä¹‰æ˜¯ä¸€ç³»åˆ—çš„è¯­æ³•è§„åˆ™ï¼Œç”¨æ¥å®šä¹‰ XMLæˆ– HTML çš„æ–‡ä»¶ç±»å‹ã€‚æµè§ˆå™¨ä¼šæ ¹æ®å®ƒæ¥åˆ¤æ–­æ–‡æ¡£ç±»å‹ï¼Œå†³å®šä½¿ç”¨å“ªç§åè®®æ¥è§£æï¼Œä»¥åŠåˆ‡æ¢æµè§ˆå™¨çš„æ¨¡å¼ã€‚ æµè§ˆå™¨æ¨¡å¼ ä¸ºäº†èƒ½å¤Ÿå¾ˆå¥½çš„æ˜¾ç¤ºæ»¡è¶³æ ‡å‡†çš„é¡µé¢ï¼Œåˆèƒ½æœ€å¤§ç¨‹åº¦å…¼å®¹ä¸åˆæ³•çš„ HTMLï¼Œæµè§ˆå™¨å‚å•†ä¼šæä¾›ä¸¤ç§æµè§ˆå™¨æ¨¡å¼ã€‚ æ ‡å‡†æ¨¡å¼ï¼šæ ¹æ® W3C æ ‡å‡†æ¥æ¸²æŸ“é¡µé¢ã€‚ æ··æ‚æ¨¡å¼ï¼ˆå…¼å®¹æ¨¡å¼ã€æ€ªå¼‚æ¨¡å¼ï¼‰ï¼šæµè§ˆå™¨é‡‡ç”¨æ›´åŠ å®½æ¾ã€å‘åå…¼å®¹çš„æ–¹å¼æ¥æ¸²æŸ“é¡µé¢ã€‚ CSS-æ¸…é™¤æµ®åŠ¨ åŸæ–‡é“¾æ¥ ä»€ä¹ˆæ˜¯ CSS æ¸…é™¤æµ®åŠ¨?1234åœ¨éIEæµè§ˆå™¨ï¼ˆå¦‚Firefoxï¼‰ä¸‹ï¼Œå½“å®¹å™¨çš„é«˜åº¦ä¸ºautoï¼Œä¸”å®¹å™¨çš„å†…å®¹ä¸­æœ‰æµ®åŠ¨ï¼ˆfloatä¸ºleftæˆ–rightï¼‰çš„å…ƒç´ ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®¹å™¨çš„é«˜åº¦ä¸èƒ½è‡ªåŠ¨ä¼¸é•¿ä»¥é€‚åº”å†…å®¹çš„é«˜åº¦ï¼Œä½¿å¾—å†…å®¹æº¢å‡ºåˆ°å®¹å™¨å¤–é¢è€Œå½±å“ï¼ˆç”šè‡³ç ´åï¼‰å¸ƒå±€çš„ç°è±¡ã€‚è¿™ä¸ªç°è±¡å«æµ®åŠ¨æº¢å‡ºï¼Œä¸ºäº†é˜²æ­¢è¿™ä¸ªç°è±¡çš„å‡ºç°è€Œè¿›è¡Œçš„CSSå¤„ç†ï¼Œå°±å«CSSæ¸…é™¤æµ®åŠ¨ã€‚ æ¸…é™¤æµ®åŠ¨çš„æ–¹æ³• æ–¹æ³•ä¸€ï¼šä½¿ç”¨å¸¦ clear å±æ€§çš„ç©ºå…ƒç´  12345åœ¨æµ®åŠ¨å…ƒç´ åä½¿ç”¨ä¸€ä¸ªç©ºå…ƒç´ å¦‚&lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;ï¼Œå¹¶åœ¨CSSä¸­èµ‹äºˆ.clear{clear:both;}å±æ€§å³å¯æ¸…ç†æµ®åŠ¨ã€‚äº¦å¯ä½¿ç”¨&lt;br class=&quot;clear&quot; /&gt;æˆ–&lt;hr class=&quot;clear&quot; /&gt;æ¥è¿›è¡Œæ¸…ç†ã€‚ä¼˜ç‚¹ï¼šç®€å•ï¼Œä»£ç å°‘ï¼Œæµè§ˆå™¨å…¼å®¹å¥½ã€‚ç¼ºç‚¹ï¼šéœ€è¦æ·»åŠ å¤§é‡çš„æ— è¯­ä¹‰çš„htmlå…ƒç´ ï¼Œä»£ç ä¸å¤Ÿä¼˜é›…ï¼ŒåæœŸä¸å®¹æ˜“ç»´æŠ¤ã€‚ æ–¹æ³•äºŒï¼šä½¿ç”¨ CSS çš„ overflow å±æ€§ 1ç»™æµ®åŠ¨å…ƒç´ çš„å®¹å™¨æ·»åŠ overflow:hidden;æˆ–overflow:auto;å¯ä»¥æ¸…é™¤æµ®åŠ¨ã€‚ æ–¹æ³•ä¸‰ï¼šç»™æµ®åŠ¨çš„å…ƒç´ çš„å®¹å™¨æ·»åŠ æµ®åŠ¨ï¼ˆä¸å¤ªæ¨èï¼‰ 12ç»™æµ®åŠ¨å…ƒç´ çš„å®¹å™¨ä¹Ÿæ·»åŠ ä¸Šæµ®åŠ¨å±æ€§å³å¯æ¸…é™¤å†…éƒ¨æµ®åŠ¨ï¼Œä½†æ˜¯è¿™æ ·ä¼šä½¿å…¶æ•´ä½“æµ®åŠ¨ï¼Œå½±å“å¸ƒå±€ï¼Œä¸æ¨èä½¿ç”¨ã€‚ æ–¹æ³•å››ï¼šä½¿ç”¨é‚»æ¥å…ƒç´ å¤„ç† 1ä»€ä¹ˆéƒ½ä¸åšï¼Œç»™æµ®åŠ¨å…ƒç´ åé¢çš„å…ƒç´ æ·»åŠ clear:bothå±æ€§ã€‚ æ–¹æ³•äº”ï¼šä½¿ç”¨ CSS çš„ï¼šafter ä¼ªå…ƒç´  12345678910ç»™æµ®åŠ¨å…ƒç´ çš„å®¹å™¨æ·»åŠ ä¸€ä¸ªclearfixçš„classï¼Œç„¶åç»™è¿™ä¸ªclassæ·»åŠ ä¸€ä¸ª:afterä¼ªå…ƒç´ å®ç°å…ƒç´ æœ«å°¾æ·»åŠ ä¸€ä¸ªçœ‹ä¸è§çš„å—å…ƒç´ ï¼ˆBlock elementï¼‰æ¸…ç†æµ®åŠ¨ã€‚.clearfix::after{ content: &quot;020&quot;; display: block; height: 0; clear: both; visibility: hidden; } Chrome æ‰“å¼€ä¸€ä¸ªé¡µé¢éœ€è¦å¯åŠ¨å¤šå°‘çº¿ç¨‹ï¼Ÿåˆ†åˆ«æœ‰å“ªäº›çº¿ç¨‹ï¼Ÿ æœ€æ–°Chromeæµè§ˆå™¨åŒ…æ‹¬ï¼šä¸€ä¸ªæµè§ˆå™¨(Browser)ä¸»çº¿ç¨‹ã€ä¸€ä¸ªGPUè¿›ç¨‹ã€ä¸€ä¸ªç½‘ç»œ(NetWork) è¿›ç¨‹ã€å¤šä¸ªæ¸²æŸ“è¿›ç¨‹å’Œå¤šä¸ªæ’ä»¶è¿›ç¨‹ çº¿ç¨‹ï¼š æµè§ˆå™¨è¿›ç¨‹ï¼šä¸»è¦è´Ÿè´£ç•Œé¢æ˜¾ç¤ºã€ç”¨æˆ·äº¤äº’ã€å­è¿›ç¨‹ç®¡ç†ã€åŒæ—¶æä¾›å­˜å‚¨ç­‰åŠŸèƒ½ã€‚ æ¸²æŸ“è¿›ç¨‹ï¼šæ ¸å¿ƒä»»åŠ¡æ˜¯å°† HTMLã€CSS å’Œ JavaScript è½¬æ¢ä¸ºç”¨æˆ·å¯ä»¥ä¸ä¹‹äº¤äº’çš„ç½‘é¡µï¼Œæ’ç‰ˆå¼•æ“ Blink å’Œ JavaScript å¼•æ“ V8 éƒ½æ˜¯è¿è¡Œåœ¨è¯¥è¿›ç¨‹ä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒChrome ä¼šä¸ºæ¯ä¸ªTab æ ‡ç­¾åˆ›å»ºä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹ã€‚å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œæ¸²æŸ“è¿›ç¨‹éƒ½æ˜¯è¿è¡Œåœ¨æ²™ç®±æ¨¡å¼ä¸‹ã€‚ GPU è¿›ç¨‹ï¼šChrome åˆšå¼€å§‹çš„æ—¶å€™æ˜¯æ²¡æœ‰ GPU è¿›ç¨‹çš„ï¼Œè€Œ GPU ä½¿ç”¨çš„ä½¿ç”¨åˆè¡·æ˜¯ä¸ºäº†å®ç°3D CSS æ•ˆæœï¼Œä¹‹åéšåç½‘é¡µã€Chrome çš„ UI ç•Œé¢éƒ½é€‰æ‹©é‡‡ç”¨ GPU æ¥ç»˜åˆ¶ï¼Œè¿™ä½¿å¾— GPU ç§°ä¸ºæµè§ˆå™¨æ™®éçš„éœ€æ±‚ï¼Œæœ€åï¼ŒChrome åœ¨å…¶å¤šè¿›ç¨‹æ¶æ„ä¸Šä¹Ÿå¼•å…¥äº† GPU è¿›ç¨‹ã€‚ ç½‘ç»œè¿›ç¨‹ï¼šä¸»è¦è´Ÿè´£ç½‘é¡µçš„ç½‘ç»œèµ„æºåŠ è½½ï¼Œä¹‹å‰æ˜¯ä½œä¸ºä¸€ä¸ªæ¨¡å—è¿è¡Œåœ¨æµè§ˆå™¨è¿›ç¨‹é‡Œé¢çš„ï¼Œæœ€è¿‘æ‰ç‹¬ç«‹å‡ºæ¥ï¼Œç§°ä¸ºä¸€ä¸ªå•ç‹¬çš„è¿›ç¨‹ã€‚ æ’ä»¶è¿›ç¨‹ï¼šä¸»è¦è´Ÿè´£æ’ä»¶çš„è¿è¡Œï¼Œå› æ’ä»¶æ˜“å´©æºƒï¼Œæ‰€ä»¥éœ€è¦é€šè¿‡æ’ä»¶è¿›ç¨‹æ¥éš”ç¦»ï¼Œä»¥ä¿è¯æ’ä»¶è¿›ç¨‹å´©æºƒä¸ä¼šå¯¹æµè§ˆå™¨å’Œé¡µé¢é€ æˆå½±å“ã€‚ CommonJSã€AMDã€CMD æ˜¯ä»€ä¹ˆåŠåŒºåˆ«ï¼Ÿ CommonJS æ˜¯æœåŠ¡å™¨ç«¯ js æ¨¡å—åŒ–çš„è§„èŒƒï¼ŒNodeJS æ˜¯è¿™ç§è§„èŒƒçš„å®ç°ï¼ŒåŠ è½½æ¨¡å—ä½¿ç”¨ require æ–¹æ³•ï¼Œ å¯¼å‡ºä½¿ç”¨ exports AMD å’Œ CMD éƒ½æ˜¯ä¸ºäº†è§£å†³æµè§ˆå™¨ç«¯æ¨¡å—åŒ–é—®é¢˜è€Œäº§ç”Ÿçš„ï¼ŒAMD è§„èŒƒå¯¹åº”çš„åº“ Require.js, CMD è§„èŒƒå¯¹åº”çš„åº“ Sea.js AMD å’Œ CMD çš„åŒºåˆ«: AMD æ¨å´‡ä¾èµ–å‰ç½®ï¼Œåœ¨å®šä¹‰æ¨¡å—çš„æ—¶å€™å°±è¦å£°æ˜å…¶ä¾èµ–çš„æ¨¡å— CMD æ¨å´‡å°±è¿‘ä¾èµ–ï¼Œåªæœ‰åœ¨ç”¨åˆ°çš„æŸä¸ªæ¨¡å—çš„æ—¶å€™å†å» require å¯¹äºä¾èµ–çš„æ¨¡å—ï¼ŒAMD æ˜¯æå‰æ‰§è¡Œï¼ŒCMD æ˜¯å»¶è¿Ÿæ‰§è¡Œï¼Œä½† RequireJS(AMD)ä» 2.0 å¼€å§‹ï¼Œä¹Ÿæ”¹ä¸ºå»¶è¿Ÿæ‰§è¡Œ AMD çš„ API é»˜è®¤æ˜¯ä¸€ä¸ªå½“å¤šä¸ªï¼ŒCMD çš„ API ä¸¥æ ¼åŒºåˆ†ï¼Œæ¨å´‡èŒè´£å•ä¸€ js åŠ è½½(æµè§ˆå™¨åŠ è½½)æ—¶é—´çº¿ç†è®ºï¼šå®ƒæ˜¯æ ¹æ®jså‡ºç”Ÿçš„é‚£ä¸€åˆ»å¼€å§‹è®°å½•çš„ä¸€ç³»åˆ—æµè§ˆå™¨æŒ‰ç…§é¡ºåºåšçš„äº‹ï¼Œ å°±æ˜¯åŠ è½½é¡ºåºåŠä¸€äº›ä¼˜åŒ– åˆ›å»º Document å¯¹è±¡ï¼Œå¼€å§‹è§£æ web é¡µé¢ï¼Œè¿™ä¸ªé˜¶æ®µ document.readyState = â€˜loadingâ€™ é‡è§ link å¤–éƒ¨ cssï¼Œcss èµ„æºå¼‚æ­¥ä¸‹è½½ï¼Œå¹¶ç»§ç»­è§£ææ–‡æ¡£ï¼Œä¸‹è½½å’Œè§£æéƒ½ä¸ä¼šé˜»å¡æ„å»º dom æ ‘ é‡è§ script å¤–éƒ¨ jsï¼Œå¹¶ä¸”æ²¡æœ‰è®¾ç½® asyncã€deferï¼Œæµè§ˆå™¨åŒæ­¥åŠ è½½ï¼Œå¹¶é˜»å¡æ„å»º dom æ ‘ï¼Œç­‰å¾… js åŠ è½½å®Œæˆå¹¶æ‰§è¡Œè¯¥è„šæœ¬ï¼Œç„¶åç»§ç»­è§£ææ–‡æ¡£ é‡è§ script å¤–éƒ¨ jsï¼Œå¹¶ä¸”è®¾ç½®äº† asyncã€deferï¼Œæµè§ˆå™¨åˆ›å»ºçº¿ç¨‹ åŠ è½½ï¼Œå¹¶ç»§ç»­è§£ææ–‡æ¡£ï¼Œå¯¹äº async å±æ€§çš„è„šæœ¬ï¼ŒåŠ è½½å®Œæˆåç«‹å³æ‰§è¡Œã€‚ï¼ˆå¼‚æ­¥åŠ è½½ç¦æ­¢ä½¿ç”¨ document.write(),å®ƒä¼šæ¸…é™¤æ–‡æ¡£æµï¼‰ é‡è§ img ç­‰ï¼Œå…ˆæ­£å¸¸è§£æ dom ç»“æ„ï¼Œç„¶åæµè§ˆå™¨å¼‚æ­¥åŠ è½½ srcï¼Œå¹¶ç»§ç»­è§£ææ–‡æ¡£ æ–‡æ¡£è§£æå®Œæˆï¼Œdocument.readyState = â€˜interactiveâ€™ æ–‡æ¡£è§£æå®Œæˆåï¼Œæ‰€æœ‰è®¾ç½® defer çš„è„šæœ¬ä¼šæŒ‰ç…§é¡ºåºæ‰§è¡Œã€‚ï¼ˆä¹Ÿç¦æ­¢ä½¿ç”¨ document.write()ï¼‰ ä¹‹å document å¯¹è±¡è§¦å‘ DOMContentLoaded äº‹ä»¶ï¼Œæ ‡å¿—ç¨‹åºæ‰§è¡Œä»åŒæ­¥è„šæœ¬æ‰§è¡Œé˜¶æ®µï¼Œè½¬åŒ–ä¸ºäº‹ä»¶é©±åŠ¨é˜¶æ®µ å½“æ‰€æœ‰ async çš„è„šæœ¬åŠ è½½å¹¶æ‰§è¡Œåã€img ç­‰åŠ è½½å®Œæˆåï¼Œdocument.readyState = â€˜completeâ€™,è¿™æ—¶ window å¯¹è±¡è§¦å‘ load äº‹ä»¶ã€‚ â€¦ å¼‚æ­¥åŠ è½½ jsjavascript å¼‚æ­¥åŠ è½½çš„ä¸‰ç§æ–¹æ¡ˆ: - defer - async - åŠ¨æ€åˆ›å»º scriptï¼Œæ’å…¥åˆ° dom ä¸­ï¼ŒåŠ è½½å®Œæ¯•å callbackã€‚ ç®€å•å®ä¾‹ï¼š 1234567891011var script = document.createElement('script')script.type = 'text/javascript'script.src = demo.jsscript.onload = function() { //å…¼å®¹æ€§å¾ˆå¥½ï¼Œé™¤äº†IE // ...}document.head.appendChild(script) 123456789101112131415161718192021222324//åŠ¨æ€åŠ è½½å‡½æ•°å°è£…function asyncLoaded(url,callback){ var script = document.createElement(&quot;script&quot;);// script.src = url; å‡å¦‚è¯´ç½‘é€Ÿéå¸¸å¥½ï¼Œç›´æ¥æ‰§è¡Œå®Œæˆäº†ï¼Œåé¢å°±ç›‘å¬ä¸åˆ°çŠ¶æ€çš„æ”¹å˜äº† if(script.readyState){ script.onreadystatechange = function(){ if(script.readyState == &quot;complete&quot; || script.readyState ==&quot;loaded&quot;){// æ‰§è¡ŒæŸä¸ªå‡½æ•° callback() } } }else{ script.onload = function(){// æ‰§è¡ŒæŸä¸ªå‡½æ•° callback() } } script.src = url; //å¼‚æ­¥çš„è¿‡ç¨‹ document.head.appendChild(script)}asyncLoaded('demo.js', function(){ test();}) async å’Œ defer å¯¹æ¯”ï¼Ÿasyncå’Œdeferçš„è§£æè¿‡ç¨‹ï¼š Â· æµè§ˆå™¨è§£æåˆ°asyncçš„scriptæ ‡ç­¾ï¼Œä¸ä¼šä¸­æ–­htmlè§£æï¼Œå¹¶è¡Œä¸‹è½½è„šæœ¬ï¼Œä¸‹è½½å®Œæˆåä¸­æ–­htmlè§£æå¹¶æ‰§è¡Œè„šæœ¬ Â· æµè§ˆå™¨è§£æåˆ°deferçš„scriptæ ‡ç­¾ï¼Œä¸ä¼šä¸­æ–­htmlè§£æï¼Œå¹¶ä¸‹ä¸‹è½½è„šæœ¬ï¼Œå½“æµè§ˆå™¨è§£æå®Œhtmlã€DOMContentLoadedäº‹ä»¶å³å°†è§¦å‘æ—¶æ‰§è¡Œè„šæœ¬ asyncå’Œdeferçš„åŒºåˆ«ï¼š Â· asyncå’Œdeferä»…å¯¹å¤–éƒ¨è„šæœ¬æœ‰æ•ˆ Â· asyncåŠ è½½å®Œç«‹å³æ‰§è¡Œï¼Œdeferåœ¨htmlè§£æå®Œæˆä¸”domæ„å»ºå®Œæ¯•åå»¶è¿Ÿæ‰§è¡Œ Â· å¦‚æœå­˜åœ¨å¤šä¸ªjsè„šæœ¬ï¼Œasyncé‚£ä¸ªå…ˆä¸‹è½½å®Œæˆå“ªä¸ªå…ˆæ‰§è¡Œï¼ˆæ— åºï¼‰ï¼ŒdeferæŒ‰ç…§jsè„šæœ¬çš„ä¹¦å†™é¡ºåºæ‰§è¡Œ Â· åŒæ—¶å­˜åœ¨asyncå’Œdeferæ—¶ï¼Œdeferä¸èµ·ä½œç”¨ Â· DOMContentLoadedäº‹ä»¶ä¼šç­‰å¾…deferçš„è„šæœ¬æ‰§è¡Œå®Œæ‰è§¦å‘ getomputedstyle å’Œ style çš„åŒºåˆ«ï¼Ÿ getComputedStyle æ–¹æ³•æ˜¯åªè¯»çš„ï¼Œåªèƒ½è·å–æ ·å¼ï¼Œä¸èƒ½è®¾ç½®ï¼›è€Œ element.style èƒ½è¯»å†™ã€‚ getComputedStyle æ–¹æ³•è·å–çš„æ˜¯æœ€ç»ˆåº”ç”¨åœ¨å…ƒç´ ä¸Šçš„æ‰€æœ‰ Css å±æ€§æ ·å¼(å³ä½¿æ²¡æœ‰ css ä»£ç )ï¼Œè€Œ element.style åªèƒ½è·å–å…ƒç´  style å±æ€§ä¸­çš„ css æ ·å¼ã€‚ getComputedStyle å¯ä»¥è·å–ä¼ªå…ƒç´ çš„æ ·å¼ã€‚ å…¼å®¹æ€§ï¼šgetComputedStyle æ–¹æ³•åœ¨ IE6~IE8 æ˜¯ä¸æ”¯æŒçš„ã€‚ ä»€ä¹ˆæ˜¯ HTML è¯­ä¹‰åŒ–ï¼Ÿ 1æ ¹æ®å†…å®¹çš„ç»“æ„åŒ–ï¼Œé€‰æ‹©åˆé€‚çš„æ ‡ç­¾ï¼Œä¾¿äºå¼€å‘è€…é˜…è¯»å’Œå†™å‡ºæ›´ä¼˜é›…çš„ä»£ç çš„åŒæ—¶åˆ©äºSEOçš„ä¼˜åŒ–ã€‚ ä¸ºä»€ä¹ˆè¦è¯­ä¹‰åŒ–ï¼Ÿ1234567- ä¸ºäº†åœ¨æ²¡æœ‰CSSçš„æƒ…å†µä¸‹ï¼Œé¡µé¢ä¹Ÿèƒ½å‘ˆç°å‡ºå¾ˆå¥½åœ°å†…å®¹ç»“æ„ã€ä»£ç ç»“æ„:ä¸ºäº†è£¸å¥”æ—¶å¥½çœ‹ï¼›- ç”¨æˆ·ä½“éªŒï¼šä¾‹å¦‚titleã€altç”¨äºè§£é‡Šåè¯æˆ–è§£é‡Šå›¾ç‰‡ä¿¡æ¯ã€labelæ ‡ç­¾çš„æ´»ç”¨ï¼›- æœ‰åˆ©äºSEO ï¼šå’Œæœç´¢å¼•æ“å»ºç«‹è‰¯å¥½æ²Ÿé€šï¼Œæœ‰åŠ©äºçˆ¬è™«æŠ“å–æ›´å¤šçš„æœ‰æ•ˆä¿¡æ¯ï¼š çˆ¬è™«ä¾èµ–äºæ ‡ç­¾æ¥ç¡®å®šä¸Šä¸‹æ–‡å’Œå„ä¸ªå…³é”®å­—çš„æƒé‡ï¼›- æ–¹ä¾¿å…¶ä»–è®¾å¤‡è§£æï¼ˆå¦‚å±å¹•é˜…è¯»å™¨ã€ç›²äººé˜…è¯»å™¨ã€ç§»åŠ¨è®¾å¤‡ï¼‰ä»¥æ„ä¹‰çš„æ–¹å¼æ¥æ¸²æŸ“ç½‘é¡µ- ä¾¿äºå›¢é˜Ÿå¼€å‘å’Œç»´æŠ¤ï¼Œè¯­ä¹‰åŒ–æ›´å…·å¯è¯»æ€§ï¼Œæ˜¯ä¸‹ä¸€æ­¥ç½‘é¡µçš„é‡è¦åŠ¨å‘ï¼Œéµå¾ªW3Cæ ‡å‡†çš„å›¢é˜Ÿéƒ½éµå¾ªè¿™ä¸ªæ ‡å‡†ï¼Œå¯ä»¥å‡å°‘å·®å¼‚åŒ–ã€‚ æ„å»ºæ‰“åŒ…ä¼˜åŒ–ï¼ˆwebpack-bundle-analyzer åˆ†æå„ä¸ªæ‰“åŒ…æ–‡ä»¶ï¼‰é€Ÿåº¦ä¼˜åŒ–: exclude/include é€šè¿‡ excludeã€include é…ç½®æ¥ç¡®ä¿è½¬è¯‘å°½å¯èƒ½å°‘çš„æ–‡ä»¶ cache thread-loader resolve.alias webpack ç›´æ¥æ ¹æ®å¯¹åº”åˆ«åçš„ç›®å½•æŸ¥æ‰¾æ¨¡å—ï¼Œå‡å°‘æœç´¢æ—¶é—´ æ¨¡å—æ‡’åŠ è½½ externals + CDN V8 åƒåœ¾å›æ”¶æœºåˆ¶ V8 ä¼šæŠŠå †åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€ç”Ÿä»£ æ–°ç”Ÿä»£ï¼ˆå‰¯åƒåœ¾å›æ”¶å™¨ï¼‰ å­˜æ”¾ç”Ÿå­˜æ—¶é—´çŸ­çš„å¯¹è±¡ é€šå¸¸åªæ”¯æŒ 1 ï½ 8M çš„å®¹é‡ åˆ†ä¸ºå¯¹è±¡åŒºå’Œç©ºé—²åŒº å¯¹å¯¹è±¡åŒºåŸŸä¸­çš„åƒåœ¾åšæ ‡è®°ï¼Œæ ‡è®°å®Œæˆè¿›å…¥åƒåœ¾æ¸…ç†é˜¶æ®µï¼ŒæŠŠå­˜æ´»çš„å¯¹è±¡å¤åˆ¶åˆ°ç©ºé—²åŒºåŸŸï¼ŒæŠŠè¿™äº›å¯¹è±¡æœ‰åºçš„æ’åˆ—èµ·æ¥ å®Œæˆå¤åˆ¶åï¼Œå¯¹è±¡åŒºå’Œç©ºé—²åŒºè¿›è¡Œè§’è‰²ç¿»è½¬ è€ç”Ÿä»£ï¼ˆä¸»åƒåœ¾å›æ”¶å™¨ï¼‰ å¯¹è±¡å­˜æ”¾ç”Ÿå­˜æ—¶é—´ä¹… å¯¹è±¡å ç”¨ç©ºé—´å¤§ å‰¯åƒåœ¾å›æ”¶å™¨é‡‡ç”¨å¯¹è±¡æ™‹å‡ç­–ç•¥ï¼šç§»åŠ¨é‚£äº›ç»è¿‡ä¸¤æ¬¡åƒåœ¾å›æ”¶ä¾ç„¶è¿˜å­˜æ´»çš„å¯¹è±¡åˆ°è€ç”Ÿä»£ä¸­ V8 å®ç°äº†ç²¾å‡†å¼ GCï¼ŒGC ç®—æ³•é‡‡ç”¨äº†åˆ†ä»£å¼åƒåœ¾å›æ”¶æœºåˆ¶ã€‚å› æ­¤ï¼ŒV8 å°†å†…å­˜ï¼ˆå †ï¼‰åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€ç”Ÿä»£ä¸¤éƒ¨åˆ†ã€‚ æ–°ç”Ÿä»£ç®—æ³•æ–°ç”Ÿä»£ä¸­çš„å¯¹è±¡ä¸€èˆ¬å­˜æ´»æ—¶é—´è¾ƒçŸ­ï¼Œä½¿ç”¨ Scavenge GC ç®—æ³•ã€‚åœ¨æ–°ç”Ÿä»£ç©ºé—´ä¸­ï¼Œå†…å­˜ç©ºé—´åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œåˆ†åˆ«ä¸º From ç©ºé—´å’Œ To ç©ºé—´ã€‚åœ¨è¿™ä¸¤ä¸ªç©ºé—´ä¸­ï¼Œå¿…å®šæœ‰ä¸€ä¸ªç©ºé—´æ˜¯ä½¿ç”¨çš„ï¼Œå¦ä¸€ä¸ªç©ºé—´æ˜¯ç©ºé—²çš„ã€‚æ–°åˆ†é…çš„å¯¹è±¡ä¼šè¢«æ”¾å…¥ From ç©ºé—´ä¸­ï¼Œå½“ From ç©ºé—´è¢«å æ»¡æ—¶ï¼Œæ–°ç”Ÿä»£ GC å°±ä¼šå¯åŠ¨ã€‚ç®—æ³•ä¼šæ£€æŸ¥ From ç©ºé—´ä¸­å­˜æ´»çš„å¯¹è±¡å¹¶å¤åˆ¶åˆ° To ç©ºé—´ä¸­ï¼Œå¦‚æœå¤±æ´»çš„å¯¹è±¡å°±ä¼šé”€æ¯ã€‚å½“å¤åˆ¶å®Œæˆåå°† From ç©ºé—´å’Œ To ç©ºé—´äº’æ¢ï¼Œè¿™æ · GC å°±ç»“æŸäº†ã€‚ è€ç”Ÿä»£ç®—æ³•è€ç”Ÿä»£ä¸­çš„å¯¹è±¡ä¸€èˆ¬å­˜æ´»æ—¶é—´è¾ƒé•¿ä¸”æ•°é‡ä¹Ÿå¤šï¼Œä½¿ç”¨äº†ä¸¤ä¸ªç®—æ³•ï¼Œåˆ†åˆ«æ˜¯ æ ‡è®°æ¸…é™¤ç®—æ³• å’Œ æ ‡è®°å‹ç¼©ç®—æ³•ã€‚åœ¨å°†ç®—æ³•å‰ï¼Œå…ˆæ¥è¯´ä¸‹ä»€ä¹ˆæƒ…å†µä¸‹å¯¹è±¡ä¼šå‡ºç°åœ¨è€ç”Ÿä»£ç©ºé—´ä¸­ï¼šâ— æ–°ç”Ÿä»£ä¸­çš„å¯¹è±¡æ˜¯å¦å·²ç»ç»å†è¿‡ä¸€æ¬¡ Scavenge ç®—æ³•ï¼Œå¦‚æœç»å†è¿‡çš„è¯ï¼Œä¼šå°†å¯¹è±¡ä»æ–°ç”Ÿä»£ç©ºé—´ç§»åˆ°è€ç”Ÿä»£ç©ºé—´ã€‚â— To ç©ºé—´çš„å¯¹è±¡å æ¯”å¤§äº 25%ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸ºäº†ä¸å½±å“åˆ°å†…å­˜åˆ†é…ï¼Œä¼šå°†å¯¹è±¡ä»æ–°ç”Ÿä»£ç©ºé—´ç§»åˆ°è€ç”Ÿä»£ç©ºé—´ä¸­ã€‚ ä»¥ä¸‹æƒ…å†µä¼šå¯åŠ¨ æ ‡è®°æ¸…é™¤ç®—æ³•ï¼šâ— æŸä¸€ç©ºé—´æ²¡æœ‰åˆ†å—çš„æ—¶å€™â— ç©ºé—´ä¸­å¯¹è±¡è¶…è¿‡ä¸€å®šé™åˆ¶â— ç©ºé—´ä¸èƒ½ä¿è¯æ–°ç”Ÿä»£ä¸­çš„å¯¹è±¡ç§»åŠ¨æ—¶ æ¸…é™¤å¯¹è±¡åä¼šé€ æˆå †å†…å­˜å‡ºç°ç¢ç‰‡çš„æƒ…å†µï¼Œå½“ç¢ç‰‡è¶…è¿‡ä¸€å®šé™åˆ¶åä¼šå¯åŠ¨ å‹ç¼©ç®—æ³•ã€‚åœ¨å‹ç¼©è¿‡ç¨‹ä¸­ï¼Œå°†æ´»çš„å¯¹è±¡åƒä¸€ç«¯ç§»åŠ¨ï¼Œç›´åˆ°æ‰€æœ‰å¯¹è±¡éƒ½ç§»åŠ¨å®Œæˆç„¶åæ¸…é™¤ä¸éœ€è¦çš„å†…å­˜ã€‚ å¦‚ä½•å¤„ç† TCP çš„ç²˜åŒ…?å‘ç”Ÿ TCP ç²˜åŒ…æˆ–æ‹†åŒ…æœ‰å¾ˆå¤šåŸå› ï¼Œç°åˆ—å‡ºå¸¸è§çš„å‡ ç‚¹ï¼š è¦å‘é€çš„æ•°æ®å¤§äº TCP å‘é€ç¼“å†²åŒºå‰©ä½™ç©ºé—´å¤§å°ï¼Œå°†ä¼šå‘ç”Ÿæ‹†åŒ…ã€‚å¾…å‘é€æ•°æ®å¤§äº MSSï¼ˆæœ€å¤§æŠ¥æ–‡é•¿åº¦ï¼‰ï¼ŒTCP åœ¨ä¼ è¾“å‰å°†è¿›è¡Œæ‹†åŒ…ã€‚è¦å‘é€çš„æ•°æ®å°äº TCP å‘é€ç¼“å†²åŒºçš„å¤§å°ï¼ŒTCP å°†å¤šæ¬¡å†™å…¥ç¼“å†²åŒºçš„æ•°æ®ä¸€æ¬¡å‘é€å‡ºå»ï¼Œå°†ä¼šå‘ç”Ÿç²˜åŒ…ã€‚æ¥æ”¶æ•°æ®ç«¯çš„åº”ç”¨å±‚æ²¡æœ‰åŠæ—¶è¯»å–æ¥æ”¶ç¼“å†²åŒºä¸­çš„æ•°æ®ï¼Œå°†å‘ç”Ÿç²˜åŒ…ã€‚ å…³é”®ç‚¹ï¼šå¦‚ä½•ç»™æ¯ä¸ªæ•°æ®åŒ…æ·»åŠ è¾¹ç•Œä¿¡æ¯ å‘é€ç«¯ç»™æ¯ä¸ªæ•°æ®åŒ…æ·»åŠ åŒ…é¦–éƒ¨ï¼Œé¦–éƒ¨ä¸­åº”è¯¥è‡³å°‘åŒ…å«æ•°æ®åŒ…çš„é•¿åº¦ï¼Œè¿™æ ·æ¥æ”¶ç«¯åœ¨æ¥æ”¶åˆ°æ•°æ®åï¼Œé€šè¿‡è¯»å–åŒ…é¦–éƒ¨çš„é•¿åº¦å­—æ®µï¼Œä¾¿çŸ¥é“æ¯ä¸€ä¸ªæ•°æ®åŒ…çš„å®é™…é•¿åº¦äº†ã€‚ å‘é€ç«¯å°†æ¯ä¸ªæ•°æ®åŒ…å°è£…ä¸ºå›ºå®šé•¿åº¦ï¼ˆä¸å¤Ÿçš„å¯ä»¥é€šè¿‡è¡¥ 0 å¡«å……ï¼‰ï¼Œè¿™æ ·æ¥æ”¶ç«¯æ¯æ¬¡ä»æ¥æ”¶ç¼“å†²åŒºä¸­è¯»å–å›ºå®šé•¿åº¦çš„æ•°æ®å°±è‡ªç„¶è€Œç„¶çš„æŠŠæ¯ä¸ªæ•°æ®åŒ…æ‹†åˆ†å¼€æ¥ã€‚ å¯ä»¥åœ¨æ•°æ®åŒ…ä¹‹é—´è®¾ç½®è¾¹ç•Œï¼Œå¦‚æ·»åŠ ç‰¹æ®Šç¬¦å·ï¼Œè¿™æ ·ï¼Œæ¥æ”¶ç«¯é€šè¿‡è¿™ä¸ªè¾¹ç•Œå°±å¯ä»¥å°†ä¸åŒçš„æ•°æ®åŒ…æ‹†åˆ†å¼€ã€‚ è¯·è¯´è¯´ HTTPS çš„æ¡æ‰‹è¿‡ç¨‹ï¼ŸHTTPS çš„æ¡æ‰‹è¿‡ç¨‹ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹æ­¥éª¤ï¼š å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€ä¸€ä¸ªåŠ å¯†è¿‡çš„å®¢æˆ·ç«¯éšæœºæ•°å’Œå®¢æˆ·ç«¯æ”¯æŒçš„åŠ å¯†ç®—æ³•åˆ—è¡¨ï¼ŒåŒæ—¶è¯·æ±‚å»ºç«‹ SSL/TLS è¿æ¥ã€‚ æœåŠ¡ç«¯åœ¨æ¥æ”¶åˆ°è¯·æ±‚åï¼Œå‘å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªåŒ…å«æœåŠ¡ç«¯éšæœºæ•°ã€æœåŠ¡å™¨æ”¯æŒçš„åŠ å¯†ç®—æ³•åˆ—è¡¨ä»¥åŠæœåŠ¡å™¨çš„æ•°å­—è¯ä¹¦çš„æŠ¥æ–‡ã€‚ å®¢æˆ·ç«¯åœ¨æ¥æ”¶åˆ°æœåŠ¡å™¨çš„å“åº”åï¼Œä¼šå¯¹è¯ä¹¦è¿›è¡Œæ ¡éªŒã€‚å¦‚æœè¯ä¹¦è¢«è®¤ä¸ºæ˜¯åˆæ³•çš„ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯å°†ä½¿ç”¨è¯ä¹¦ä¸­åŒ…å«çš„å…¬é’¥å¯¹ä¸€ä¸ªéšæœºæ•°è¿›è¡ŒåŠ å¯†ï¼Œå¹¶å°†åŠ å¯†åçš„éšæœºæ•°å‘é€ç»™æœåŠ¡ç«¯ã€‚ æœåŠ¡ç«¯åœ¨æ¥æ”¶åˆ°å®¢æˆ·ç«¯çš„å“åº”åï¼Œä½¿ç”¨ç§é’¥å¯¹åŠ å¯†çš„éšæœºæ•°è¿›è¡Œè§£å¯†ï¼Œå¾—åˆ°å®¢æˆ·ç«¯ç”Ÿæˆçš„éšæœºæ•°ã€‚åŒæ—¶ï¼ŒæœåŠ¡ç«¯ä¹Ÿä¼šç”Ÿæˆä¸€ä¸ªåŠ å¯†çš„ä¼šè¯å¯†é’¥ï¼Œå¹¶ä½¿ç”¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„éšæœºæ•°ä»¥åŠåå•†å‡ºçš„åŠ å¯†ç®—æ³•å¯¹è¯¥å¯†é’¥è¿›è¡ŒåŠ å¯†ï¼Œæœ€åå°†åŠ å¯†åçš„å¯†é’¥å‘é€ç»™å®¢æˆ·ç«¯ã€‚ å®¢æˆ·ç«¯æ¥æ”¶åˆ°æœåŠ¡ç«¯å‘é€çš„åŠ å¯†çš„ä¼šè¯å¯†é’¥åï¼Œä½¿ç”¨æœåŠ¡ç«¯å…¬å¸ƒçš„å…¬é’¥è¿›è¡Œè§£å¯†ï¼Œå¾—åˆ°åŸå§‹çš„ä¼šè¯å¯†é’¥ã€‚ å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½ä¼šä½¿ç”¨ä¼šè¯å¯†é’¥è¿›è¡ŒåŠ å¯†å’Œè§£å¯†ï¼Œä»è€Œå®ç°å®‰å…¨çš„é€šä¿¡ã€‚ è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¼šè¿›è¡Œå¤šæ¬¡æ¥å›çš„é€šä¿¡ï¼Œä»¥å»ºç«‹å®‰å…¨çš„ SSL/TLS è¿æ¥ã€‚å…¶ä¸­æ•°å­—è¯ä¹¦çš„æ ¡éªŒå’Œä¼šè¯å¯†é’¥çš„ç”Ÿæˆéƒ½æ˜¯å…³é”®æ­¥éª¤ï¼Œå®ƒä»¬ä¿è¯äº†é€šä¿¡çš„å®‰å…¨æ€§ã€‚ è¯·è¯´è¯´ä»€ä¹ˆæ˜¯æ•°å­—è¯ä¹¦ï¼Ÿå®ƒæœ‰ä»€ä¹ˆä½œç”¨? æ•°å­—è¯ä¹¦æ˜¯ä¸€ç§åŠ å¯†æŠ€æœ¯ï¼Œç”¨äºéªŒè¯åœ¨çº¿äº¤äº’ä¸­çš„èº«ä»½å’Œä¿¡æ¯å®‰å…¨æ€§ã€‚å®ƒæ˜¯ç”±å¯ä¿¡ä»»çš„ç¬¬ä¸‰æ–¹æœºæ„ï¼ˆä¾‹å¦‚æ•°å­—è¯ä¹¦é¢å‘æœºæ„ï¼‰é¢å‘çš„ä¸€ä»½ç”µå­æ–‡æ¡£ï¼Œå…¶ä¸­åŒ…å«äº†ä¸€äº›åŠ å¯†ä¿¡æ¯ï¼Œå¦‚å…¬é’¥ã€æ•°å­—ç­¾åç­‰ã€‚æ•°å­—è¯ä¹¦çš„ä½œç”¨æ˜¯ç¡®ä¿é€šä¿¡åŒæ–¹çš„èº«ä»½å’Œæ•°æ®çš„å®Œæ•´æ€§å’Œä¿å¯†æ€§ã€‚ åœ¨ä½¿ç”¨æ•°å­—è¯ä¹¦è¿›è¡ŒåŠ å¯†é€šä¿¡æ—¶ï¼ŒæœåŠ¡ç«¯ä¼šå‘è¯ä¹¦é¢å‘æœºæ„ç”³è¯·ä¸€ä»½æ•°å­—è¯ä¹¦ã€‚æ•°å­—è¯ä¹¦åŒ…å«äº†æœåŠ¡ç«¯çš„å…¬é’¥ï¼Œä»¥åŠä¸€äº›æè¿°æœåŠ¡ç«¯èº«ä»½çš„ä¿¡æ¯ï¼Œä¾‹å¦‚åŸŸåã€ç»„ç»‡åç§°ç­‰ã€‚å®¢æˆ·ç«¯åœ¨ä¸æœåŠ¡ç«¯å»ºç«‹è¿æ¥æ—¶ï¼Œä¼šå‘æœåŠ¡ç«¯è¯·æ±‚æ•°å­—è¯ä¹¦ï¼Œå¹¶éªŒè¯è¯ä¹¦çš„çœŸå®æ€§å’Œåˆæ³•æ€§ã€‚å¦‚æœéªŒè¯æˆåŠŸï¼Œå®¢æˆ·ç«¯å°±å¯ä»¥ä½¿ç”¨æœåŠ¡ç«¯çš„å…¬é’¥åŠ å¯†æ•°æ®å¹¶å‘é€ç»™æœåŠ¡ç«¯äº†ã€‚åŒæ—¶ï¼ŒæœåŠ¡ç«¯ä¹Ÿå¯ä»¥ä½¿ç”¨å®¢æˆ·ç«¯çš„å…¬é’¥è¿›è¡Œæ•°æ®çš„åŠ å¯†å’ŒéªŒè¯ã€‚è¿™æ ·å°±å¯ä»¥ç¡®ä¿é€šä¿¡è¿‡ç¨‹ä¸­çš„æ•°æ®ä¸è¢«çªƒå¬æˆ–ç¯¡æ”¹ã€‚ æ•°å­—è¯ä¹¦çš„ä½¿ç”¨å¹¿æ³›ï¼Œç‰¹åˆ«æ˜¯åœ¨ç½‘ç«™å®‰å…¨å’Œç”µå­å•†åŠ¡é¢†åŸŸã€‚å®ƒå¯ä»¥ç”¨æ¥éªŒè¯ç½‘ç«™çš„çœŸå®æ€§å’Œåˆæ³•æ€§ï¼Œç¡®ä¿ç½‘ç«™è®¿é—®è¿‡ç¨‹ä¸­çš„ä¿¡æ¯å®‰å…¨ã€‚æ­¤å¤–ï¼Œæ•°å­—è¯ä¹¦è¿˜å¯ä»¥ç”¨äºæ–‡ä»¶ç­¾åã€ç”µå­é‚®ä»¶åŠ å¯†ç­‰å…¶ä»–é¢†åŸŸã€‚ ä½¿ç”¨ git commit åï¼Œå¦‚ä½•ä¿®æ”¹ commit çš„ä¿¡æ¯ï¼Ÿ1git commit --amend åœ¨ less ä¸­å¦‚ä½•å°† px è½¬æ¢ä¸º vwï¼Ÿ123456789101112.pxToVW (@px, @attr: width) { @vw: (@px / 750) * 100; @{attr}:~&quot;@{vw}vw&quot;;}.title{ .pxToVW(300,width) .pxToVW(32,font-size)}è¿™é‡Œæ˜¯æŒ‡ï¼Œè®¾è®¡å›¾æ˜¯æŒ‰ç…§750pxçš„å®½åº¦è¿›è¡Œè®¾è®¡çš„,title ä¸­æ‰€æœ‰çš„å€¼éƒ½æ˜¯ç›´æ¥å–çš„è®¾è®¡å›¾çš„å€¼ï¼Œé€šè¿‡å‡½æ•°è¿›è¡Œç»Ÿä¸€æ¢ç®— [js] è¯·è¯´è¯´å†™ä¸€ä¸ªæ‹–æ‹½ç»„ä»¶çš„æ€è·¯åŠæ³¨æ„äº‹é¡¹?123456789é¦–å…ˆï¼Œå…¶å®æ‹–æ‹½æ•ˆæœçš„æ€è·¯æ˜¯å¾ˆç®€å•çš„ã€‚ä¸»è¦å°±æ˜¯ä¸‰ä¸ªæ­¥éª¤ï¼š1.onmousedownçš„æ—¶å€™ï¼Œå¯åŠ¨å¯æ‹–æ‹½äº‹ä»¶ï¼Œè®°å½•è¢«æ‹–æ‹½å…ƒç´ çš„åŸå§‹åæ ‡å‚æ•°ã€‚2.onmousemoveçš„æ—¶å€™ï¼Œå®æ—¶è®°å½•é¼ æ ‡ç§»åŠ¨çš„è·ç¦»ï¼Œç»“åˆè¢«æ‹–æ‹½å…ƒç´ ç¬¬ä¸€é˜¶æ®µçš„åæ ‡å‚æ•°ï¼Œè®¡ç®—å¹¶è®¾ç½®æ–°çš„åæ ‡å€¼ã€‚3.onmouseupçš„æ—¶å€™ï¼Œå…³é—­å¯æ‹–æ‹½äº‹ä»¶ï¼Œè®°å½•æ–°çš„åæ ‡å€¼ã€‚æ³¨æ„ï¼šè¿™é‡Œä¸»è¦æ˜¯é€šè¿‡ç»å¯¹å®šä½çš„topå’Œleftæ¥ç¡®å®šå…ƒç´ çš„ä½ç½®çš„ï¼Œå› æ­¤è¢«æ‹–æ‹½å…ƒç´ çš„cssä¸€å®šè¦è®¾ç½®ç»å¯¹å®šä½ã€‚ ä¸ºä»€ä¹ˆ try/catch ä¸èƒ½æ•è·åˆ° promise çš„é”™è¯¯ï¼Ÿ try-catch ä¸»è¦ç”¨äºæ•è·åŒæ­¥å‡½æ•°çš„å¼‚å¸¸ï¼Œå¦‚æœ try é‡Œé¢çš„å¼‚æ­¥æ–¹æ³•å‡ºç°äº†å¼‚å¸¸ï¼Œæ­¤æ—¶ catch æ˜¯æ— æ³•æ•è·åˆ°å¼‚å¸¸çš„ã€‚ES6 ä¸­ Promise å¯¹è±¡çš„å®ä¾‹æä¾›äº† catch() æ–¹æ³•ï¼Œè¡¨ç¤ºå¼‚æ­¥æ•è·å¼‚å¸¸ã€‚ åŸå› ï¼šå½“å¼‚æ­¥å‡½æ•°æŠ›å‡ºå¼‚å¸¸æ—¶ï¼Œå¯¹äºå®ä»»åŠ¡è€Œè¨€ï¼Œæ‰§è¡Œå‡½æ•°æ—¶å·²ç»å°†è¯¥å‡½æ•°æ¨å…¥æ ˆï¼Œæ­¤æ—¶å¹¶ä¸åœ¨ try-catch æ‰€åœ¨çš„æ ˆï¼Œæ‰€ä»¥ try-catch å¹¶ä¸èƒ½æ•è·åˆ°é”™è¯¯ã€‚å¯¹äºå¾®ä»»åŠ¡è€Œè¨€ï¼Œæ¯”å¦‚ promiseï¼Œpromise çš„æ„é€ å‡½æ•°çš„å¼‚å¸¸åªèƒ½è¢«è‡ªå¸¦çš„ reject ä¹Ÿå°±æ˜¯.catch å‡½æ•°æ•è·åˆ°ã€‚ gitlab CI/CD æµç¨‹ç”Ÿäº§ç¯å¢ƒ1ã€æ¨é€ä»£ç -&gt;ç¼–è¯‘-&gt;ç”Ÿæˆçš„ jar åŒ…å‘å¸ƒåˆ°ç§æœ-&gt;æ‰“åŒ…ä¸º docker é•œåƒ-&gt;æ¨é€åˆ° Harbor é•œåƒä»“åº“ï¼ˆæˆåŠŸï¼Œå¾®ä¿¡é€šçŸ¥ï¼Œc ç»“æŸè¿”å›æˆåŠŸ|å¤±è´¥ï¼Œå¾®ä¿¡é€šçŸ¥ï¼Œci ç»“æŸè¿”å›å¤±è´¥ï¼‰2ã€è¿ç»´äººå‘˜ è§¦å‘éƒ¨ç½²åˆ° k8s é›†ç¾¤-&gt;å¥åº·æ£€æŸ¥ï¼ˆæˆåŠŸï¼Œå¾®ä¿¡é€šçŸ¥ï¼Œc ç»“æŸè¿”å›æˆåŠŸ|å¤±è´¥ï¼Œå¾®ä¿¡é€šçŸ¥ï¼Œci ç»“æŸè¿”å›å¤±è´¥ï¼‰","link":"/2021/10/04/%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%932/"},{"title":"é¢è¯•ä¼˜è´¨æ‰‹å†™é¢˜","text":"æ•°ç»„å»é‡ 12345678910111213141516171819202122232425262728293031323334353637383940// indexOffunction unique(arr) { let res = []; for (let i = 0; i &lt; arr.length; i++) { if (res.indexOf(arr[i]) &lt; 0) { res.push(arrp[i]); } } return res;}// includesfunction unique(arr) { let res = []; for (let item of arr) { if (!res.includes(item)) { res.push(item); } } return res;}// åˆ©ç”¨filterfunction unique(arr) { const res = arr.filter(function (item, index, array) { return array.indexOf(item) === index; }); return res;}// åˆ©ç”¨Es6ä¸­çš„Setæ•°æ®ç»“æ„(æ‰©å±•è¿ç®—ç¬¦)const unique = (arr) =&gt; [...new Set(arr)];// Array.form æ–¹æ³•å°†setç»“æ„è½¬æ¢ä¸ºæ•°ç»„const unique = (arr) =&gt; Array.from(new Set(arr)); æ•°ç»„æ‰å¹³åŒ–123456789101112131415let arr = [1, [2, [3]]];// let res = arr.flat(Infinity)// let res = JSON.parse(&quot;[&quot;+JSON.stringify(arr).replace(/\\[|\\]/g,&quot;&quot;) + &quot;]&quot;)function flatArr(arr) { let res = arr.reduce((accu, curr) =&gt; { return accu.concat(Array.isArray(curr) ? flatArr(curr) : curr); }, []); return res;}console.log(flatArr(arr)); æµ…æ‹·è´12345678910111213141516171819202122// åªè€ƒè™‘å¯¹è±¡ç±»å‹function shallowCopy(obj) { if (typeof obj !== 'object') return; let newObj = obj instanceof Array ? [] : {}; if (obj === null) return obj; if (obj instanceof Date) return new Date(obj); if (obj instanceof RegExp) return new RegExp(obj); for (let key in obj) { if (obj.hasOwnProperty(key)) { newObj[key] = obj[key]; } } return newObj;}// Object.assign()// arr.slice(0)// arr.concat()// æ‰©å±•è¿ç®—ç¬¦ æ·±æ‹·è´123456789101112131415161718192021// åªè€ƒè™‘æ™®é€šå¯¹è±¡å±æ€§ï¼Œä¸è€ƒè™‘å†…ç½®å¯¹è±¡å’Œå‡½æ•°function deepCone(obj) { if (typeof obj !== 'object') return; let newObj = obj instanceof Array ? [] : {}; if (obj === null) return obj; if (obj instanceof Date) return new Date(obj); if (obj instanceof RegExp) return new RegExp(obj); for (let key in obj) { if (obj.hasOwnProperty(key)) { newObj[key] = typeof obj[key] === 'object' ? deepClone(obj[key]) : obj[key]; } } return newObj;}// JSON.parse(JSON.stringify())// lodash: _.cloneDeep() å®ç°ä¸€ä¸ª compose(ç»„åˆ)å‡½æ•°12345678910111213141516171819202122function compose(...fn) { if(!fn.length) return (v) =&gt; v; if(fn.length === 1) return fn[0]; return fn.reduce((accu, curr) =&gt; (...args) =&gt; accu(curr(...args)) );}ä¾‹å­ï¼šfunction fn1(x) { return x + 1;}function fn2(x) { return x + 2;}function fn3(x) { return x + 3;}function fn4(x) { return x + 4;}const res = compose(fn1, fn2, fn3, fn4);console.log(res(5)); // 5+4+3+2+1=15 assign12345678910111213141516171819Object.assign = function (target, ...source) { if (target === null || target === undefined) { throw new TypeError('Cannot convert undefined or null to object'); } let result = Object(target); source.forEach(function (obj) { if (obj !== null) { for (let key in obj) { if (obj.hasOwnProperty(key)) { result[key] = obj[key]; } } } }); return result;}; é˜²æŠ–å‡½æ•°12345678910111213function debounce(func, wait) { let timeout; return function () { clearTimeout(timeout); timeout = setTimeout(() =&gt; { func.apply(this, arguments); }, wait); };}// æœç´¢è”æƒ³ï¼Œç”¨æˆ·åœ¨ä¸æ–­è¾“å…¥æ—¶ï¼Œç”¨é˜²æŠ–æ¥èŠ‚çº¦è¯·æ±‚èµ„æº// windowè§¦å‘resizeçš„æ—¶å€™ èŠ‚æµå‡½æ•°12345678910111213141516function throttle(func, wait) { const previous = 0; return function () { const now = +new Date(); if (now - previous &gt; wait) { func.apply(this, arguments); previous = now; } };}// é¼ æ ‡ä¸æ–­ç‚¹å‡»è§¦å‘ï¼Œå¯ä»¥ä½¿å…¶å•ä½æ—¶é—´å†…åªè§¦å‘ä¸€æ¬¡// ç›‘å¬æ»šåŠ¨äº‹ä»¶// é˜²æ­¢é«˜é¢‘ç‚¹å‡»æäº¤ å‡½æ•°æŸ¯é‡ŒåŒ–123456789101112131415161718192021222324function curry(fn, ...args) { // éœ€è¦æŸ¯é‡ŒåŒ–çš„å‡½æ•°fnï¼Œä¹Ÿå¯ä»¥æ”¯æŒåˆå§‹å‚æ•°çš„ä¼ å…¥ return function () { //å‚æ•°ç¼“å­˜åœ¨argsé‡Œé¢,åˆå¹¶ä¸Šæ¬¡å‚æ•°å’Œæœ¬æ¬¡å‚æ•° args = [...args, ...arguments]; // åˆ¤æ–­å‚æ•°ä¸ªæ•°ï¼Œä¸å¤Ÿç»§ç»­é€’å½’ if (args.length &lt; fn.length) { return curry(fn, ...args); } else { //å‚æ•°è¶³å¤Ÿè¿”å›å‡½æ•°æ‰§è¡Œç»“æœ return fn.apply(null, args); } };}function bar(a, b, c) { return a + b + c;}const f = curry(bar);console.log(f(1)(2)(3), f(1, 2)(3), f(1, 2, 3)); å¦‚ä½•æŠŠå­—ç¬¦ä¸²ä¸­å¤§å°å†™å–å1234567let str = 'LiBoShi';str = str.replace(/[a-zA-Z]/g, (content) =&gt; { return content.toUpperCase() === content ? content.toLowerCase() : content.toUpperCase();}); ä» S ä¸­æŸ¥æ‰¾ T å­—ç¬¦ä¸²ï¼Œæ‰¾åˆ°è¿”å›ç´¢å¼•å€¼ï¼Œæ²¡æœ‰åˆ™è¿”å›-1ï¼Œç±»ä¼¼ indexOf12345678910111213141516171819// æ™®é€šæ–¹æ³•function myIndexOf(T) { let index = -1; for (let i = 0; i &lt;= this.length - T.length; i++) { if (this.substr(i, T.length) === T) { return (index = i); } } return index;}String.prototype.myIndexOf = myIndexOf;// æ­£åˆ™æ–¹æ³•function myIndexOf(T) { let reg = new RegExp(T); let res = reg.exec(this); return res === null ? -1 : res.index;} call12345678910111213141516171819202122232425Function.prototype.myCall = function (context, ...args) { const ctx = context || window; const fn = Symbol(); ctx[fn] = this; const res = ctx[fn](...args); delete ctx[fn]; return res;};// ä½¿ç”¨let obj = { desc: function (from, to) { console.log(`${this.name}æ¥è‡ª${from}å»å¾€${to}`); },};let person = { name: 'lbs',};obj.desc.myCall(person, 'åŒ—äº¬', 'ä¸Šæµ·'); apply1234567891011Function.prototype.myApply = function (context, args = []) { const ctx = context || window; const fn = Symbol(); ctx[fn] = this; const res = ctx[fn](...args); delete ctx[fn]; return res;}; bind12345678910111213Function.prototype.myBind = function (content, ...args) { const fn = this; return function newFn(...newFnArgs) { // æ£€æµ‹ New // å¦‚æœå½“å‰å‡½æ•°çš„thisæŒ‡å‘çš„æ˜¯æ„é€ å‡½æ•°ä¸­çš„this åˆ™åˆ¤å®šä¸ºnew æ“ä½œ if (this instanceof newFn) { return new fn(...args, ...newFnArgs); } return fn.myApply(context, [...args, ...newFnArgs]); };}; instanceof123456789101. é€šè¿‡left.__proto__.__proto__è¿™ç§æ–¹å¼ä»ä¸‹å¾€ä¸Šçš„è·å–åŸå‹å¯¹è±¡2. é€šè¿‡Object.create(null)çš„å®ä¾‹æ˜¯æ²¡æœ‰åŸå‹é“¾3. æœ‰åŸå‹é“¾çš„å®ä¾‹çš„å°½å¤´éƒ½æ˜¯Objectfunction instanceof(left, right) { if(!left.__proto__) return false; if(right === Object || left.__proto__ === right.prototype) return true; return instanceof(left.__proto__, right);} æ‰‹å†™ Object.is123456789function is(x, y) { if (x === y) { // x,yéƒ½ä¸º0ï¼Œä½†æ˜¯1 / +0 = +Infinity,1 / -0 = -Infinity æ˜¯ä¸ä¸€æ ·çš„ return x !== 0 || y !== 0 || 1 / x === 1 / y; } else { //NaN === NaN = falseæ˜¯ä¸å¯¹çš„ï¼Œåšä¸€ä¸ªæ‹¦æˆªæ“ä½œ return x !== x &amp;&amp; y !== y; }} ajax12345678910111213141516171819202122232425262728function ajax(method, url, headers, body) { return new Promise((resolve, reject) =&gt; { let req = null; try { req = new XMLHttpRequest(); } catch { req = new ActiveXObject('Microsoft.XMLHTTP'); } req.open(method, url); for (let key in headers) { req.setRequestHeader(key, headers[key]); } req.onreadystatechange(() =&gt; { if (req.readystate === 4) { if (req.status &gt;= 200 &amp;&amp; req.status &lt;= 300) { resolve(req.responseText); } else { reject(req); } } }); req.send(body); });} async å’Œ await12345678910111213141516171819202122232425262728293031323334// æ‰§è¡Œasyncå‡½æ•°ï¼Œè¿”å›çš„éƒ½æ˜¯Promiseå¯¹è±¡async function test1() { return 1;}async function test2() { return Promise.resolve(2);}console.log(test1(), test2());// Promise.then æˆåŠŸçš„æƒ…å†µå¯¹åº”çš„å°±æ˜¯awaitasync function test3() { const p = Promise.resolve(3); p.then((data) =&gt; console.log(data)); const data = await p; console.log(data);}test3();// Promise.catch å¼‚å¸¸å¯¹åº” try...catchasync function test4() { const p = Promise.reject('å¼‚å¸¸äº†'); try { const data = await p; console.log(data); } catch (e) { console.log(e); }}test4(); map123456789101112Array.prototype.map = function (fn, toThis) { const arr = this; const result = []; const _this = toThis || Object.create(null); for (let i = 0; i &lt; arr.length; i++) { const item = fn.call(_this, arr[i], i, arr); result.push(item); } return result;}; æ‰‹å†™ promise123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161class Promise1 { static PENDING = 'pending'; static FULFILLED = 'fulfilled'; static REJECTED = 'rejected'; constructor(executor) { this.status = Promise.PENDING; //é»˜è®¤çŠ¶æ€ï¼Œè¿›è¡Œä¸­ this.value = null; //æˆåŠŸå€¼ this.reason = null; // å¤±è´¥åŸå›  // è§£å†³å¼‚æ­¥é—®é¢˜ this.onFulfilledCallbacks = []; this.onRejectedCallbacks = []; try { executor(this.resolve.bind(this), this.reject.bind(this)); } catch (e) { this.reject(e); } } resolve(value) { if (this.status === Promise.PENDING) { this.status = Promise.FULFILLED; this.value = value; setTimeout(() =&gt; { this.onFulfilledCallbacks.forEach((cb) =&gt; cb(this.value)); }); } } reject(reason) { if (this.status === Promise.PENDING) { this.status = Promise.REJECTED; this.reason = reason; setTimeout(() =&gt; { this.onRejectedCallbacks.forEach((cb) =&gt; cb(this.reason)); }); } } then(onFulfilled, onRejected) { if (typeof onFulfilled !== 'function') { onFulfilled = () =&gt; this.value; } if (typeof onRejected !== 'function') { onRejected = () =&gt; this.reason; } return new Promise1((resolve, reject) =&gt; { if (this.status === Promise.PENDING) { return new Promise1((resolve, reject) =&gt; { this.onFulfilledCallbacks.push(() =&gt; { this.parse(onFulfilled(this.value), resolve, reject); }); }); return new Promise1((resolve, reject) =&gt; { this.onRejectedCallbacks.push(() =&gt; { this.parse(onRejected(this.value), resolve, reject); }); }); } if (this.status === Promise.FULFILLED) { setTimeout(() =&gt; { return new Promise1((resolve, reject) =&gt; { this.parse(onFulfilled(this.value), resolve, reject); }); }); } if (this.status === Promise.REJECTED) { setTimeout(() =&gt; { return new Promise1((resolve, reject) =&gt; { this.parse(onRejected(this.reason), resolve, reject); }); }); } }); } parse(result, resolve, reject) { try { if (result instanceof Promise1) { result.then(resolve, reject); } else { resolve(result); } } catch (error) { reject(error); } } static resolve(value) { return new Promise1((resolve, reject) =&gt; { if (value instanceof Promise1) { value.then(resolve, reject); } else { resolve(value); } }); } static reject(reason) { return new Promise1((resolve, reject) =&gt; { reject(reason); }); } static all(promises) { const result = []; return new Promise1((resolve, reject) =&gt; { promises.forEach((promise) =&gt; { promise.then( (value) =&gt; { result.push(value); if (result.length === promises.length) { resolve(result); } }, (reason) =&gt; { reject(reason); } ); }); }); } static race(promises) { return new Promise1((resolve, reject) =&gt; { promises.forEach((promise) =&gt; { promise.then( (value) =&gt; { resolve(value); }, (reason) =&gt; { reject(reason); } ); }); }); }}let aaa = new Promise1((resolve, reject) =&gt; { resolve('lbs'); // reject('error')}).then((value) =&gt; { console.log(value); return '666';});aaa.then(() =&gt; { console.log(123);});console.log(aaa); æ‰‹å†™ event bus12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455class EventEmitter { constructor() { this.events = {}; this.maxListeners = maxListeners || Infinity; } emit(event, ...args) { const cbs = this.events[event]; if (!cbs) { console.log('æ²¡æœ‰è¿™ä¸ªäº‹ä»¶å‡½æ•°'); return this; } cbs.forEach((cb) =&gt; cb.apply(this, args)); return this; } on(event, cb) { if (!this.events[event]) { this.events[event] = []; } if ( this.maxListeners !== Infinity &amp;&amp; this.events[event].length &gt;= this.maxListeners ) { console.log('å½“äº‹ä»¶è¶…è¿‡äº†æœ€å¤§ç›‘å¬æ•°'); return this; } this.events[event].push(cb); return this; } once(event, cb) { const fn = (...args) =&gt; { this.off(event, fn); cb.apply(this, args); }; this.on(event, func); return this; } off(event, cb) { if (!cb) { this.events[event] = null; } else { this.events[event] = this.events[event].filter((item) =&gt; item !== cb); } return this; }} ç»§æ‰¿12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152// æ„é€ å‡½æ•°ç»§æ‰¿function Person() { this.name = 'lbs';}function Student() { Person.call(this); this.age = 18;}const s = new Student();// åŸå‹é“¾ç»§æ‰¿function Person() { this.name = 'lbs';}function Student() { this.age = 18;}Student.prototype = new Person();const s = new Student();//å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿function Person(obj) { this.name = obj.name;}function Student(obj) { Person.call(this, obj); this.age = obj.age;}// object.create()// æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä½¿ç”¨ç°æœ‰çš„å¯¹è±¡æ¥æä¾›æ–°åˆ›å»ºå¯¹è±¡çš„__proto__Student.prototype = Object.create(Person.prototype);Student.prototype.constructor = Student;// æˆ–è€…ï¼šStudent.prototype = Object.create(Person.prototype, { constructor: { value: Student, enumerable: false, writable: true, configurable: true, },});const student = new Student({ name: 'lbs', age: 18 });console.log(student); createElement æ‰‹å†™1234567891011121314151617181920212223242526272829303132333435363738394041424344const symbolFor = Symbol.for;const REACT_ELEMENT_TYPE = symbolFor('react.element');const RESERVED_PROPS = { key: true, ref: true, __self: true, __source: true,};function createElement(type, config, children) { const props = {}; let key = null; if (config !== null) { key = config.key; } for (let propName in config) { if (!RESERVED_PROPS.hasOwnProperty(propName)) { props[propName] = config[propName]; } } const childrenLength = arguments.length - 2; if (childrenLength === 1) { props.children = children; } else if (childrenLength &gt; 1) { const childArray = Array(childrenLength); for (let i = 0; i &lt; childrenLength; i++) { childArray[i] = arguments[i + 2]; } props.children = childArray; } const element = { $$typeof: REACT_ELEMENT_TYPE, type, key, props, };} ç¼–å†™æ­£åˆ™ï¼ŒéªŒè¯ä¸€ä¸ª 6 ï½ 16 ä½çš„å­—ç¬¦ä¸²ï¼Œå¿…é¡»åŒæ—¶åŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—1234567æ­£å‘é¢„æŸ¥ ï¼Ÿ= å¿…é¡»åå‘é¢„æŸ¥ ï¼Ÿï¼å¿…é¡»ä¸let reg = /(?!^[a-zA-Z]+$)(?!^[0-9]+$)(?!^[a-z0-9]+$)(?!^[A-Z0-9]+$)^[a-zA-Z0-9]{6,16}$/;è¡¥å……ï¼šæ•°å­—ã€å­—æ¯ã€ä¸‹åˆ’çº¿ç»„æˆå­—ç¬¦ä¸²ï¼Œå¿…é¡»æœ‰_let reg = /(?=_)\\w/;let reg = /(?!^[a-zA-Z0-9]+$)^\\w{1,10}$/; é™åˆ¶1-10ä½ è·å–æ‰€æœ‰å±æ€§ä¸º nameï¼Œå€¼ä¸º value çš„å…ƒç´ é›†åˆ12345678910111213141516171819202122232425// æ­£åˆ™\\bå•è¯è¾¹ç•Œfunction getElements(property, value) { let elements = document.getElementsByTagName('*'); let arr = []; elements = Array.from(elements); elements.forEach((item) =&gt; { // å½“å‰å…ƒç´ propertyå¯¹åº”çš„å€¼ let itemValue = item.getAttribute(propertype); if (property === 'class') { const reg = new RegExp(`\\b${value}\\b`); if (reg.test(itemValue)) { arr.push(item); } } if (itemValue === value) { arr.push(item); } }); return arr;} è‹±æ–‡å­—æ¯æ±‰å­—ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œç”¨æ­£åˆ™ç»™è‹±æ–‡å•è¯å‰ååŠ ç©ºæ ¼12345678let str = 'ä¸­å›½helloä½ å¥½';let reg = /\\b[a-z]+\\b/gi;str = str .replace(reg, (value) =&gt; { return ` ${value} `; }) .trim(); // å»é™¤é¦–å°¾ç©ºæ ¼ js å®ç°æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å‡ ç§æ–¹æ³•12345678910111213141516171819202122232425262728293031323334353637383940414243444546// 1.é€’å½’function fibonacci(n) { if (n === 1 || n === 2) { return 1; } return fibonacci(n - 1) + fibonacci(n - 2);}// 2.å°¾é€’å½’(æ¯æ¬¡è°ƒç”¨éƒ½åœ¨æ”¶é›†ç»“æœï¼Œé¿å…äº†çº¿æ€§é€’å½’ä¸æ”¶é›†ç»“æœåªä¾æ¬¡å±•å¼€æ¶ˆè€—å†…å­˜çš„åå¤„)function fibonacci(n, res1 = 1, res2 = 1) { if (n &lt;= 2) return res2; return fibonacci(n - 1, res2, res1 + res2);}// å¾ªç¯function fibonacci(n) { let num1 = 1; let num2 = 2; let sum = 1; for (let i = 3; i &lt; n; i++) { sum = num1 + num2; num1 = num2; num2 = sum; } return sum;}// æ•°ç»„function fibonacci(n) { const arr = [0, 1, 1]; if (n &lt; 0) { throw new Error('è¾“å…¥çš„æ•°å­—ä¸èƒ½å°äº0'); } if (n &gt;= 3) { for (let i = 3; i &lt;= n; i++) { arr[i] = arr[i - 1] + arr[i - 2]; } } return arr[n];} å¹¶å‘åŠ è½½123456789101112131415161718192021222324252627282930313233343536373839404142function limitLoad(urls, handler, limit) { const sequence = [].concat(urls); let promises = []; promises = sequence.splice(0, limit).map((url, index) =&gt; { return handler(url).then(() =&gt; { return index; }); }); let p = Promise.race(promises); for (let i = 0; i &lt; sequence.length; i++) { p = p.then((res) =&gt; { promises[res] = handler(sequence[i]).then(() =&gt; { return res; }); console.log(promises); return Promise.race(promises); }); }}function loadImg(url) { return new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { // console.log(url.info + '---OK!!!') resolve(); }, url.time); });}let urls = [ { info: 1, time: 2000 }, { info: 2, time: 1000 }, { info: 3, time: 3000 }, { info: 4, time: 4000 }, { info: 5, time: 5000 },];limitLoad(urls, loadImg, 3); å‰ç«¯å†…å­˜å¤„ç†1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677781. å†…å­˜çš„ç”Ÿå‘½å‘¨æœŸ å†…å­˜åˆ†é…ï¼šå£°æ˜å˜é‡ã€å‡½æ•°å¯¹è±¡çš„æ—¶å€™ï¼Œjsä¼šè‡ªåŠ¨åˆ†é…å†…å­˜ å†…å­˜ä½¿ç”¨ å†…å­˜å›æ”¶2. jsä¸­çš„åƒåœ¾å›æ”¶æœºåˆ¶ å¼•ç”¨è®¡æ•°ï¼šç¼ºç‚¹å¾ªç¯å¼•ç”¨æ— æ³•æ¸…é™¤ æ ‡è®°æ¸…é™¤3. å¸¸è§å†…å­˜æ³„æ¼ å…¨å±€å˜é‡ï¼ˆè®°å¾—æ‰‹åŠ¨å›æ”¶ï¼‰ æœªè¢«æ¸…é™¤çš„å®šæ—¶å™¨ é—­åŒ… domçš„å¼•ç”¨4. æ€ä¹ˆé¿å…å†…å­˜æ³„æ¼ å‡å°‘ä¸å¿…è¦çš„å…¨å±€å˜é‡ ä½¿ç”¨å®Œæ•°æ®ï¼ŒåŠæ—¶è§£é™¤å¼•ç”¨å®ç°sizeOfï¼Œä¼ å…¥objectï¼Œè®¡ç®—å…¶æ‰€å å­—èŠ‚å¤§å°number: 8 å­—èŠ‚string: 2 å­—èŠ‚boolean; 4 å­—èŠ‚const seen = new WeakSet();function sizeOfObject(obj) { if (obj === null) { return 0; } let bytes = 0; const keys = Object.keys(obj); for(let i = 0; i &lt; keys.length; i++) { const key = keys[i]; bytes += calculator(key); if (typeof obj[key] === 'object' &amp;&amp; obj[key] !== null) { if (seen.has(obj[key])) { continue; } seen.add(obj[key]) } bytes += calculator(obj[key]) }}function calculator(obj) { const objType = typeof obj; switch(objType) { case 'string': { return obj.length * 2 } case 'boolean': { return 4 } case 'number': { return 8 } case 'object': { if (Array.isArray(obj)) { return obj.map(calculator).reduce((accu, curr) =&gt; { return accu + curr }, 0) } else { return sizeOfObject(obj) } } default: { return 0 } }} æ•°æ®ç»“æ„å°±æ˜¯åœ¨è®¡ç®—æœºä¸­å­˜å‚¨å’Œç»„ç»‡æ•°æ®çš„æ–¹å¼ã€‚ ç®—æ³•ï¼ˆAlgorithmï¼‰è§£å†³é—®é¢˜çš„é€»è¾‘æˆ–æ­¥éª¤ æ ˆ(å°è£…)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051function Stack() { this.items = []; // 1. å°†å…ƒç´ å‹å…¥æ ˆ Stack.prototype.push = function (element) { this.items.push(element); }; // 2.ä»æ ˆä¸­å–å‡ºå…ƒç´  Stack.prototype.pop = function () { return this.items.pop(); }; // 3.æŸ¥çœ‹ä¸€ä¸‹æ ˆé¡¶å…ƒç´  Stack.prototype.peek = function () { return this.items[this.items.length - 1]; }; // 4.åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º Stack.prototype.isEmpty = function () { return !this.items.length; }; // 5.è·å–æ ˆä¸­å…ƒç´ ä¸ªæ•° Stack.prototype.size = function () { return this.item.length; }; // 6. toStringæ–¹æ³• Stack.prototype.toString = function () { let res = ''; for (let i = 0; i &lt; this.items.length; i++) { res += `${this.items[i]} `; } return res; };}const stack = new Stack();// å®ä¾‹ï¼šå°†åè¿›åˆ¶è½¬æ¢æˆäºŒè¿›åˆ¶function dec2bin(decimalNumber) { let stack = new Stack(); let binary = ''; while (decimalNumber &gt; 0) { stack.push(decimalNumber % 2); decimalNumber = Math.floor(decimalNumber / 2); } while (!stack.isEmpty()) { binary += stack.pop(); } return binary;} å¹³è¡¡æ‹¬å·é—®é¢˜12345678910111213141516171819202122232425262728293031function check(str) { const stack = new Stack(); const open = '{[('; const close = '}])'; let index = 0; let balanced = true; while (index &lt; str.length &amp;&amp; balanced) { if (open.includes(str[index])) { stack.push(str[index]); } else { const top = stack.pop(); if (open.indexOf(top) === close.indexOf(str[index])) { balanced = true; } else { balanced = false; } } index++; } if (balanced &amp;&amp; stack.isEmpty()) { return true; } return false;}check('{([][])}');check('{[(])}'); ç¿»è½¬é“¾è¡¨12345678910function reverseList(head) { if (head === null || head.next === null) return head; let result = reverseList(head.next); head.next.nexd = head; head.next = null; return result;} äºŒåˆ†æŸ¥æ‰¾1234567891011121314151617function binarySearch(elements, value, _start, _end) { let end = _end || elements.length - 1; let start = _start || 0; let povitIndex = Math.floor((start + end) / 2); if (elements[povitIndex] === value) { return povitIndex; } if (value &lt; elements[povitIndex]) { return binarySearch(elements, value, 0, povitIndex - 1); } else { return binarySearch(elements, value, povitIndex + 1, end); } return false;} å¿«é€Ÿæ’åº123456789101112131415161718192021222324function quickSort(elements) { if (elements.length &lt;= 1) { return elements; } let pivotIndex = Math.floor(elements.length / 2); let [pivot] = elements.splice(pivotIndex, 1); let left = []; let right = []; for (let i = 0; i &lt; elements.length; i++) { if (elements[i] &lt; pivot) { left.push(elements[i]); } else { right.push(elements[i]); } } return quickSort(left).concat([pivot], quickSort(right));}let elements = [2, 4, 3, 7, 5];console.log(quickSort(elements)); å†’æ³¡æ’åº123456789101112131415161718192021function bubbleSort(elements) { let elementLength = elements.length; for (let i = 0; i &lt; elementLength - 1; i++) { for (let j = 0; j &lt; elementLength - i - 1; j++) { if (elements[j] &gt; elements[j + 1]) { let temp = elements[j]; elements[j] = elements[j + 1]; elements[j + 1] = temp; } } } console.log(elements);}let elements = [2, 4, 3, 7, 5];bubbleSort(elements);// console.log(elements) äºŒå‰æœç´¢æ ‘123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145//æ»¡äºŒå‰æ ‘ï¼šæ¯å±‚èŠ‚ç‚¹æ•°éƒ½è¾¾åˆ°æœ€å¤§å€¼ï¼Œç¬¬nå±‚èŠ‚ç‚¹æ•°ä¸º2^(n - 1),æ€»èŠ‚ç‚¹æ•°ä¸º2^n -1(2çš„næ¬¡æ–¹å‡ä¸€)//å®Œå…¨äºŒå‰æ ‘ï¼šé™¤æœ€åä¸€å±‚å¤–ï¼Œå…¶ä»–å„å±‚èŠ‚ç‚¹æ•°éƒ½è¾¾åˆ°æœ€å¤§ä¸ªæ•°ï¼Œæœ€åä¸€å±‚æ‰€æœ‰èŠ‚ç‚¹é›†ä¸­åœ¨æœ€å·¦è¾¹class Node { constructor(value) { this.value = value; this.left = null; this.right = null; }}class BinarySearchTree { constructor() { this.root = null; } // æ’å…¥å‰æ¯”è¾ƒ insertNode(node, newNode) { // å³ä¾§æ’å…¥ if (newNode.value &gt; node.value) { if (node.right === null) { node.right = newNode; } else { this.insertNode(node.right, newNode); } } else if (newNode.value &lt; node.value) { // å·¦ä¾§æ’å…¥ if (node.left === null) { node.left = newNode; } else { this.insertNode(node.left, newNode); } } } // æ’å…¥ insert(value) { let newNode = new Node(value); if (this.root === null) { this.root = newNode; } else { this.insertNode(this.root, newNode); } } preOrderTraversalNode(node, callback) { if (node === null) return; callback(node.value); this.preOrderTraversalNode(node.left, callback); this.preOrderTraversalNode(node.right, callback); } // å…ˆåºéå† preOrderTraversal(callback) { this.preOrderTraversalNode(this.root, callback); } inOrderTraversalNode(node, callback) { if (node === null) return; this.inOrderTraversalNode(node.left, callback); callback(node.value); this.inOrderTraversalNode(node.right, callback); } // ä¸­åºéå† inOrderTraversal(callback) { this.inOrderTraversalNode(this.root, callback); } postOrderTraversalNode(node, callback) { if (node === null) return; this.postOrderTraversalNode(node.left, callback); this.postOrderTraversalNode(node.right, callback); callback(node.value); } // ä¸­åºéå† postOrderTraversal(callback) { this.postOrderTraversalNode(this.root, callback); } //æœ€å¤§å€¼ max() { let node = this.root; while (node.right !== null) { node = node.right; } return node.value; } // æœ€å°å€¼ min() { let node = this.root; while (node.left !== null) { node = node.left; } return node.value; } // å¯»æ‰¾æŒ‡å®šå€¼æ˜¯å¦å­˜åœ¨ search(val) { let node = this.root; while (node !== null) { if (val &lt; node.value) { node = node.left; } else if (val &gt; node.value) { node = node.right; } else { return true; } } }}var bst = new BinarySearchTree();bst.insert(3);bst.insert(2);bst.insert(5);// bst.preOrderTraversal((nodeValue) =&gt; {// console.log(nodeValue)// })// bst.inOrderTraversal((nodeValue) =&gt;{// console.log(nodeValue)// })// bst.postOrderTraversal((nodeValue) =&gt;{// console.log(nodeValue)// })// console.log(bst.max())console.log(bst.search(5));console.log(bst); ç¿»è½¬é“¾è¡¨12345678910111213141516171819202122232425262728293031323334// é€’å½’var reverseList = function (head) { if (head === null || head.next === null) return head; let res = reverseList(head.next); head.next.next = head; head.next = null; return res;};// å¾ªç¯var reverseList = function (head) { let pre = null; let cur = head; if (cur === null || cur.next === null) { return cur; } while (cur) { const t = cur.next; cur.next = pre; pre = cur; cur = t; // cur.next = null // cur.next.next = cur // cur = cur.nexxt } return pre;}; ç®—æ³• 1: Two Sum1234567891011121314151617181920example:given nums = [2, 7, 11, 15], target = 9because num[0] + num[1] = 2 + 7 = 9,return [0, 1]ç­”ï¼šfunction twoSum(nums, target) { const map = new Map(); for(let i = 0; i &lt; nums.length; i++) { const complement = target - nums[i]; if (map.has(complement)) { return [map.get(complement), i] } else { map.set(nums[i], i) } }} è£…ç®±ï¼šåŸºæœ¬ç±»å‹åˆ°å¼•ç”¨ç±»å‹çš„ä¸€ä¸ªè½¬æ¢æ‹†ç®±ï¼šå°†å¼•ç”¨ç±»å‹åˆ°åŸºæœ¬ç±»å‹çš„è½¬æ¢ï¼ˆtoPrimitiveï¼‰ ç¼–ç å’Œè§£ç ï¼šescape(str) unescape(str)encodeURI() decodeURI()encodeURIComponent() decodeURIComponent()btoa() atob() å›æµï¼šç›¸å½“ä¸åˆ·æ–°é¡µé¢é‡ç»˜ï¼š ä¸åˆ·æ–°ï¼ŒåŠ¨æ€æ›´æ–°å†…å®¹é‡ç»˜ä¸ä¸€å®šå¼•èµ·å›æµï¼Œå›æµä¸€å®šå¼•èµ·é‡ç»˜ æ‰“ä¹±æ•°ç»„1. å¸¸è§çš„sortæ‰“ä¹±æ•°ç»„çš„æ–¹æ³• function shuffle(arr) { return arr.sort (function () { return Math.random() - 0.5 }) } var arr = [1,2,3,4,5,6,7] shuffle(arr) æ›´åŠ ç®€æ´çš„ES6å†™æ³• function shuffle(arr) { return arr.sort(() =&gt; Math.random() - 0.5) } ä½†æ˜¯è¿™ç§å†™æ³•æœ‰é—®é¢˜ï¼Œå¹¶ä¸èƒ½çœŸæ­£åœ°éšæœºæ‰“ä¹±æ•°ç»„ï¼Œç»è¿‡å¤§é‡çš„å®éªŒå‘ç° æ¯ä¸ªå…ƒç´ ä»ç„¶æœ‰å¾ˆå¤§çš„å‡ ç‡å‡ºç°åœ¨å®ƒåŸæ¥çš„ä½ç½®é™„è¿‘ã€‚ 2.æ´—ç‰Œç®—æ³• ä»æœ€åä¸€ä¸ªæ•°æ®å¼€å§‹å¾€å‰ï¼Œæ¯æ¬¡éšæœºä¸€ä¸ªä½ç½®ï¼Œå°†ä¸¤è€…çš„ä½ç½®è¿›è¡Œäº¤æ¢ï¼Œç›´åˆ°æ•°ç»„äº¤æ¢å®Œæ¯•ã€‚ ES6å®ç°ï¼š function shuffle(arr) { let i = arr.length; while(i) { let j = Math.floor(Math.random() * i--); [arr[j], arr[i]] = [arr[i], arr[j]]; } return arr } var arr = [1,2,3,4,5,6,7] shuffle(arr) å°è£…å‡½æ•°ä½¿å­—ç¬¦ä¸²ä»¥é©¼å³°å¼å‘½å å·²çŸ¥å­—ç¬¦ä¸² foo = â€˜get-element-by-idâ€™,å†™ä¸€ä¸ªå‡½æ•°å°†å…¶è½¬æ¢ä¸ºé©¼å³°å¼å‘½åâ€œgetElementByIdâ€ 1234567891011121314151617181920212223//è¯¦ç»†è¿‡ç¨‹åˆ†æï¼švar foo = 'get-element-by-id';//æ ¹æ®æŸä¸ªå­—ç¬¦è¿›è¡Œåˆ†å‰²var arr = foo.split('-');//åˆ†å‰²æˆå››ä¸ªç‰‡æ®µä¿å­˜åœ¨æ•°ç»„å†…console.log(arr) // (4) [&quot;get&quot;, &quot;element&quot;, &quot;by&quot;, &quot;id&quot;]//å°†ä¸‹æ ‡ä¸º1çš„æ•°ç»„å…ƒç´ ç¬¬ä¸€ä¸ªå­—ç¬¦å…ƒç´ è½¬ä¸ºå¤§å†™console.log(arr[1].charAt(0).toUpperCase()) //E//æˆªå–åé¢å­—ç¬¦å…ƒç´ console.log(arr[1].substr(1, arr[1].length - 1)) //lement//éå†for(var i = 1; i &lt; arr.length; i++) { arr[i] = arr[i].charAt(0).toUpperCase() + arr[i].substr(1, arr[i].length - 1)}console.log(arr) //(4) [&quot;get&quot;, &quot;Element&quot;, &quot;By&quot;, &quot;Id&quot;]//æ ¹æ®æŸä¸€ä¸ªå­—ç¬¦å°†æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²console.log(arr.join('')); 1234567891011//å°è£…function toString(foo) { var arr = foo.split('-'); for(var i = 1; i &lt; arr.length; i++) { arr[i] = arr[i].charAt(0).toUpperCase() + arr[i].substr(1, arr[i].length - 1) } return arr.join('');}console.log(toString('get-element-by-id')) æŠŠ the-first-name å˜æˆ theFirstName 123456var reg = /-(\\w)/gvar str = &quot;the-first-name&quot;console.log(str.replace(reg, function($, $1){ return $1.toUpperCase()})) æŠŠ aabb æ¢æˆ bbaa 123456var reg = /(\\w)\\1(\\w)\\2/g;var str = &quot;aabb&quot;;// console.log(str.replace(reg,&quot;$2$2$1$1&quot;));//&quot;bbaa&quot;console.log(str.replace(reg,function($,$1,$2){ return $2+$2+$1+$1;})) æ­£åˆ™ç®€å•çš„å»é‡ 123456789101112131415var str = &quot;aaaabbbbbccccc&quot;;var reg = /(\\w)\\1*/g;console.log.replace(reg,&quot;$1&quot;));//abc ~~~ æŠŠ&quot;1000000000&quot;å˜æˆ&quot;100.000.000&quot;è¿™ç§å†™æ³•ï¼ŒæŠŠåé¢å¾€å‰é¢æŸ¥ï¼Œä¸‰ä½åŠ ä¸ªç‚¹ ~~~ var str = &quot;100000000&quot;; var reg = /(?=(\\B)(\\d{3})+$)/g; console.log(str.replace(reg,&quot;.&quot;))//&quot;100.000.000&quot; || string.replace(/\\B(?=(\\d{3})+(?!\\d))/g, &quot;.&quot;) //å…ˆè¡Œæ–­è¨€?=,åè¡Œæ–­è¨€(?!\\d) || (25435345.22).toLocaleString(str('en-US')","link":"/2022/03/31/%E9%9D%A2%E8%AF%95%E6%89%8B%E5%86%99%E6%80%BB%E7%BB%93/"},{"title":"æ¯”è¾ƒVueå’ŒReactï¼Ÿ","text":"æ¯”è¾ƒ Vue å’Œ React çš„ç›¸åŒç‚¹å’Œä¸åŒç‚¹ï¼Ÿ ç›¸åŒç‚¹ + éƒ½æœ‰ç»„ä»¶åŒ–å¼€å‘å’Œ Virtual DOM + éƒ½æ”¯æŒ props è¿›è¡Œçˆ¶å­ç»„ä»¶é—´çš„æ•°æ®é€šä¿¡ + éƒ½æ”¯æŒæ•°æ®é©±åŠ¨è§†å›¾ï¼Œä¸ç›´æ¥æ“ä½œçœŸå® DOMï¼ŒçŠ¶æ€æ•°æ®æ›´æ–°é¡µé¢åˆ™è‡ªåŠ¨æ›´æ–° + éƒ½æ”¯æŒæœåŠ¡ç«¯æ¸²æŸ“ + éƒ½æ”¯æŒåŸç”Ÿåº”ç”¨çš„å¼€å‘æ–¹æ¡ˆï¼ŒReact æœ‰ React Nativeï¼ŒVue æœ‰ Weex ä¸åŒç‚¹ æ•°æ®ç»‘å®šï¼š Vue å®ç°äº†æ•°æ®çš„åŒå‘ç»‘å®šï¼ŒReact æ•°æ®æµåŠ¨æ˜¯å•å‘çš„ React æ¨èçš„ç»„ä»¶å†™æ³•ä¸º JSXï¼Œä¹Ÿå°±æ˜¯æŠŠ HTML å’Œ CSS å…¨éƒ¨å†™è¿› Javascript ä¸­ï¼Œå³â€œall in jsâ€Vue æ¨èçš„ç»„ä»¶å†™æ³•æ˜¯ webpack+vue-loader çš„å•æ–‡ä»¶ç»„ä»¶æ ¼å¼ï¼Œå³ htmlã€cssã€js å†™åœ¨åŒä¸€ä¸ªæ–‡ä»¶ state å¯¹è±¡åœ¨ react åº”ç”¨ä¸­ä¸å¯å˜ï¼Œéœ€è¦ä½¿ç”¨ setState æ–¹æ³•æ›´æ–°çŠ¶æ€ï¼›åœ¨ vue ä¸­ state å¯¹è±¡ä¸æ˜¯å¿…é¡»çš„ï¼Œæ•°æ®ç”± data å±æ€§åœ¨ vue å¯¹è±¡ä¸­ç®¡ç† virtual DOM ä¸ä¸€æ ·ï¼Œvue ä¼šè·Ÿè¸ªæ¯ä¸€ä¸ªç»„ä»¶çš„ä¾èµ–å…³ç³»ï¼Œä¸éœ€è¦é‡æ–°æ¸²æŸ“æ•´ä¸ªç»„ä»¶æ ‘ï¼Œè€Œå¯¹äº React è€Œè¨€ï¼Œæ¯å½“åº”ç”¨çš„çŠ¶æ€è¢«æ”¹å˜æ—¶ï¼Œå…¨éƒ¨ç»„ä»¶éƒ½ä¼šé‡æ–°æ¸²æŸ“ï¼Œæ‰€ä»¥ react ä¼šéœ€è¦shouldComponentUpdate è¿™ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°æ–¹æ³•è¿›è¡Œæ§åˆ¶ã€‚ React ä¸¥æ ¼ä¸Šåªé’ˆå¯¹ MVC çš„ view å±‚ï¼ŒVue åˆ™æ˜¯ MVVM æ¨¡å¼ã€‚ å‰ç«¯æ¡†æ¶ä½¿ç”¨ Vue è¿˜æ˜¯ Reactï¼Ÿæ¸…æ™°æ¯”è¾ƒä¸¤è€…å·®å¼‚è¯ç”Ÿ vue vue ç”±å°¤é›¨æºªå¼€å‘ï¼Œç‹¬ç«‹å›¢é˜Ÿç»´æŠ¤ï¼Œå¤§éƒ¨åˆ†å­é¡¹ç›®äº¤ç»™å›¢é˜Ÿæˆå‘˜æ‰“ç†ï¼ŒVue æ ¸å¿ƒåº“ä¾ç„¶ä¸»è¦ç”±å°¤é›¨æºªäº²è‡ªç»´æŠ¤ã€‚ react React èµ·æºäº Facebook çš„å†…éƒ¨é¡¹ç›®ï¼Œåœ¨å»ºè®¾ instagram(å›¾ç‰‡åˆ†äº«)çš„æ—¶å€™ï¼Œä¸ºäº†å¤„ç†æ•°æ®æµä¸”è€ƒè™‘æ€§èƒ½æ–¹é¢çš„é—®é¢˜ï¼Œå› è¯¥å…¬å¸å¯¹å¸‚åœºä¸Šæ‰€æœ‰æ¡†æ¶éƒ½ä¸æ»¡æ„ï¼Œå°±å†³å®šè‡ªå·±å†™ä¸€å¥—ï¼Œç”¨æ¥æ¶æ„ Instagram çš„ç½‘ç«™ã€‚å¹¶åœ¨ 2013 å¹´ 5 æœˆå¼€æºã€‚ è®¾è®¡æ€æƒ³ vue vue æ˜¯ä¸€æ¬¾æ¸è¿›å¼æ¡†æ¶ï¼Œé‡‡ç”¨è‡ªåº•å‘ä¸Šå¢é‡å¼€å‘çš„è®¾è®¡ã€‚åœ¨å£°æ˜å¼æ¸²æŸ“(è§†å›¾æ¨¡æ¿å¼•æ“)çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡æ·»åŠ ç»„ä»¶ç³»ç»Ÿ(component)ã€å®¢æˆ·ç«¯è·¯ç”±(vue-router)ã€çŠ¶æ€ç®¡ç†(vuex)æ¥æ„å»ºä¸€ä¸ªå®Œæ•´çš„æ¡†æ¶ã€‚ react react ä¸»å¼ å‡½æ•°å¼ç¼–ç¨‹ï¼Œæ‰€ä»¥æ¨å´‡çº¯ç»„ä»¶ï¼Œæ•°æ®ä¸å¯å˜ï¼Œå•å‘æ•°æ®æµï¼Œ ç¼–å†™è¯­æ³• vue vue æ¨èçš„åšæ³•æ˜¯ webpack + vue-loader çš„å•æ–‡ä»¶æ ¼å¼ï¼Œvue ä¿ç•™äº† htmlã€cssã€jsåˆ†ç¦»çš„å†™æ³•ï¼Œæ•°æ®ç»‘å®šä½¿ç”¨ mustache é£æ ¼ï¼Œæ ·å¼ç›´æ¥ä½¿ç”¨ cssï¼Œåœ¨&lt;style&gt;æ ‡ç­¾æä¾›äº†ä¸€ä¸ªå¯é€‰çš„ scoped å±æ€§ï¼Œç”¨å¼€æ§åˆ¶ css ä»…å¯¹å½“å‰ç»„ä»¶ç”Ÿæ•ˆè¿˜æ˜¯å…¨å±€ç”Ÿæ•ˆã€‚ react react æ¨èçš„åšæ³•æ˜¯ JSX + inline styleï¼Œä¹Ÿå°±æ˜¯æŠŠ HTML å’Œ CSS å…¨éƒ½å†™è¿› JavaScriptä¸­ï¼Œå³â€œall in jsâ€ï¼Œreact æ²¡æœ‰æ¨¡æ¿ï¼Œç›´æ¥å°±æ˜¯ä¸€ä¸ªæ¸²æŸ“å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªè™šæ‹Ÿ DOM æ ‘ï¼Œåœ¨ render()ç¼–å†™çš„ JSX è¯­æ³•æœ€ç»ˆä¼šè¢«ç¼–è¯‘æˆåŸç”Ÿ JavaScriptã€‚ æ„å»ºå·¥å…· vue vue æä¾›äº† CLI è„šæ‰‹æ¶ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬éå¸¸å®¹æ˜“åœ°æ„å»ºé¡¹ç›®ï¼Œå…¨å±€å®‰è£…åç”¨ vue createå‘½ä»¤åˆ›å»ºæ–°é¡¹ç›®ï¼Œå¯ä»¥è®©ç”¨æˆ·è‡ªå®šä¹‰é€‰æ‹©éœ€è¦å®‰è£…çš„æ¨¡æ¿ã€‚ react react æä¾›äº† create-react-appï¼Œä½†åªæä¾›ä¸€ä¸ªæ„å»ºå•é¡µé¢åº”ç”¨çš„é»˜è®¤é€‰é¡¹ã€‚ æ•°æ®ç»‘å®š vue vue å®ç°åŒå‘æ•°æ®ç»‘å®šï¼Œview çš„å˜åŒ–èƒ½å®æ—¶è®© model æ”¹å˜ï¼Œè€Œ model çš„å˜åŒ–ä¹Ÿèƒ½å®æ—¶æ›´æ–°åˆ° view vue é‡‡ç”¨æ•°æ®åŠ«æŒ + å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼Œé€šè¿‡ Object.defineProperty å¯¹æ•°æ®è¿›è¡Œæ“ä½œï¼Œä¸ºæ•°æ®åŠ¨æ€æ·»åŠ  getter å’Œ setter æ–¹æ³•ï¼Œå½“è·å–æ•°æ®çš„æ—¶å€™ä¼šè§¦å‘å¯¹åº”çš„ getter æ–¹æ³•ï¼Œå½“è®¾ç½®æ•°æ®çš„æ—¶å€™ä¼šè§¦å‘å¯¹åº”çš„ setter æ–¹æ³•ï¼Œä»è€Œè¿›ä¸€æ­¥è§¦å‘ vm çš„ watcher æ–¹æ³•ï¼Œç„¶åå¯¹æ•°æ®è¿›è¡Œæ›´æ”¹ï¼Œvm åˆ™è¿›ä¸€æ­¥è§¦å‘è§†å›¾æ›´æ–°æ“ä½œã€‚ react react æ˜¯å•å‘æ•°æ®æµï¼Œreact ä¸­å±æ€§æ˜¯ä¸å…è®¸æ›´æ”¹çš„ï¼ŒçŠ¶æ€æ˜¯å…è®¸æ›´æ”¹çš„ã€‚react ä¸­ç»„ä»¶ä¸å…è®¸é€šè¿‡ this.state è¿™ç§æ–¹æ³•ç›´æ¥æ›´æ”¹ç»„ä»¶çš„çŠ¶æ€ã€‚è‡ªèº«è®¾ç½®çš„çŠ¶æ€ï¼Œå¯ä»¥é€šè¿‡ setStateè¿›è¡Œæ›´æ”¹ã€‚ setState æ˜¯å¼‚æ­¥çš„ï¼Œå¯¼è‡´è·å– dom å¯èƒ½æ‹¿åˆ°çš„è¿˜æ˜¯ä¹‹å‰çš„å†…å®¹ï¼Œæ‰€ä»¥éœ€è¦åœ¨ setStateç¬¬äºŒä¸ªå‚æ•°(å›è°ƒå‡½æ•°)ä¸­è·å–æ›´æ–°åçš„å†…å®¹ã€‚ æ€§èƒ½ä¼˜åŒ– vue vue ä¸­æ¯ä¸ªç»„ä»¶å†…éƒ¨è‡ªåŠ¨å®ç°äº† shouldComponentUpdate çš„ä¼˜åŒ–ï¼Œåœ¨ vue ä¸­é‡Œé¢ç”±äºä¾èµ–è¿½è¸ªç³»ç»Ÿçš„å­˜åœ¨ï¼Œå½“ä»»æ„æ•°æ®å˜åŠ¨çš„æ—¶å€™ï¼ŒVue çš„æ¯ä¸€ä¸ªç»„ä»¶éƒ½èƒ½ç²¾ç¡®çš„çŸ¥é“è‡ªå·±æ˜¯å¦éœ€è¦é‡ç»˜ã€‚è€Œåœ¨ react ä¸­éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å»ä¼˜åŒ–å…¶æ€§èƒ½ï¼Œä½† s æ˜¯å½“æ•°æ®ç‰¹åˆ«å¤šçš„æ—¶å€™ vue ä¸­çš„ watcher ä¹Ÿä¼šç‰¹åˆ«å¤šï¼Œä»è€Œé€ æˆé¡µé¢å¡é¡¿ï¼Œæ‰€ä»¥ä¸€èˆ¬å¤§è¥¿ç“œé¡¹ç›®ä¼šå€¾å‘äº reactã€‚ react å½“ props æˆ– state å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ä¼šè§¦å‘ shouldComponentUpdate ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œå®ƒæ˜¯ç”¨æ¥æ§åˆ¶ç»„ä»¶æ˜¯å¦è¢«é‡æ–°æ¸²æŸ“çš„ï¼Œå¦‚æœå®ƒè¿”å› trueï¼Œåˆ™æ‰§è¡Œ render å‡½æ•°ï¼Œæ›´æ–°ç»„ä»¶ï¼›å¦‚æœå®ƒè¿”å› falseï¼Œåˆ™ä¸ä¼šè§¦å‘é‡æ–°æ¸²æŸ“çš„è¿‡ç¨‹ã€‚ å¦‚æœå¸Œæœ›æ›´æ–°ä¹‹å‰å’Œä¹‹å‰çš„çŠ¶æ€è¿›è¡Œä¸€ä¸ªå¯¹æ¯”ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦é‡å†™ shouldCompnentUpdateæ¥é¿å…ä¸å¿…è¦çš„ dom æ“ä½œï¼Œå¯¹æ¯”å½“å‰çš„ props æˆ– state å’Œæ›´æ–°åçš„ nextProps æˆ– nextStateï¼Œè¿”å› true æ—¶ï¼Œç»„ä»¶æ›´æ–°ï¼›è¿”å› falseï¼Œä¸æ›´æ–°ï¼ŒèŠ‚çœæ€§èƒ½ã€‚","link":"/2019/06/30/%E6%AF%94%E8%BE%83vue%E5%92%8Creact%EF%BC%9F/"},{"title":"å…¨é¢è§£è¯»React v18å…¨éƒ¨Api","text":"ComponentReact æä¾› ç±»ç»„ä»¶ å’Œ å‡½æ•°å¼ç»„ä»¶ ä¸¤ç§æ–¹å¼ï¼Œç±»ç»„ä»¶éœ€è¦ä½¿ç”¨ Component ç»§æ‰¿ï¼Œä¸»è¦åšä¸€äº›åˆå§‹åŒ–å·¥ä½œ PureComponentä¼šå¯¹ props å’Œ state è¿›è¡Œæµ…æ¯”è¾ƒï¼ˆå¯èƒ½ä¼šå› ä¸ºæ·±å±‚çš„æ•°æ®ä¸ä¸€è‡´è€Œäº§ç”Ÿé”™è¯¯çš„å¦å®šåˆ¤æ–­ï¼‰ï¼Œè·³è¿‡ä¸æ¯”è¾ƒçš„æ›´æ–°ï¼Œæé«˜ç»„ä»¶æ€§èƒ½ PureComponent å’Œ shouldComponentUpdate çš„å…³ç³»PureComponenté€šè¿‡è‡ªå¸¦çš„ props å’Œ state æµ…æ¯”è¾ƒå®ç°äº†shouldComponentUpdate(nextProps, nextState) memomemoæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼š ç¬¬ä¸€ä¸ªå‚æ•°ï¼šç»„ä»¶æœ¬èº«ï¼Œä¹Ÿå°±æ˜¯è¦ä¼˜åŒ–çš„ç»„ä»¶ ç¬¬äºŒä¸ªå‚æ•°ï¼š(preProps, nextProps)=&gt;boolean, è‹¥ä¸º true åˆ™ä¸æ›´æ–°ï¼Œä¸º false åˆ™æ›´æ–° ç”Ÿå‘½å‘¨æœŸ v16.0 å‰å››å¤§é˜¶æ®µï¼šInitializationï¼ˆåˆå§‹åŒ–ï¼‰ã€Mountingï¼ˆæŒ‚è½½ï¼‰ã€Updateï¼ˆæ›´æ–°ï¼‰ã€Unmountingï¼ˆå¸è½½ï¼‰ Initailizationï¼š constructor()ï¼šåˆå§‹åŒ–æ“ä½œï¼Œå®šä¹‰ this.state çš„åˆå§‹å†…å®¹ï¼Œåªä¼šæ‰§è¡Œä¸€æ¬¡ super çš„ä½œç”¨ï¼šè°ƒç”¨åŸºç±»æ„é€ æ–¹æ³•ï¼Œå°†çˆ¶ç»„ä»¶çš„ props æ³¨å…¥å­ç»„ä»¶ï¼Œä¾›å­ç»„ä»¶è¯»å–ï¼ˆprops åªè¯»ä¸å¯å˜ï¼Œstate å¯å˜ï¼‰ Mounting componentWillMountï¼šç»„ä»¶æŒ‚è½½åˆ° DOM å‰è°ƒç”¨ï¼Œåªè°ƒç”¨ä¸€æ¬¡ä¸ä¼šå¼•èµ·ç»„ä»¶é‡æ¸²æŸ“ renderï¼šæ¸²æŸ“ componentDidMountï¼šç»„ä»¶æŒ‚è½½åˆ° DOM åè°ƒç”¨ï¼Œåªè°ƒç”¨ä¸€æ¬¡ Update componentWillReceiveProps(nextProps): è°ƒç”¨ä¸ props å¼•èµ·çš„ç»„ä»¶æ›´æ–°è¿‡ç¨‹ä¸­ shouldComponentUpdate(nextProps, nextState): æ€§èƒ½ä¼˜åŒ–ç»„ä»¶ï¼Œè¿”å› false åœæ­¢æ›´æ–°ï¼Œå‡å°‘ç»„ä»¶çš„ä¸å¿…è¦æ¸²æŸ“ï¼Œä¼˜åŒ–æ€§èƒ½ componentWillUpdate(nextProps, nextState):ç»„ä»¶æ›´æ–°å‰è°ƒç”¨ componentDidUpdate(prevProps, prevState):ç»„ä»¶æ›´æ–°åè°ƒç”¨ Unmounting componentWillUnmountï¼šç»„ä»¶è¢«å¸è½½å‰è°ƒç”¨ï¼Œæ‰§è¡Œä¸€äº›æ¸…ç†å·¥ä½œï¼Œé¿å…å†…å­˜æ³„æ¼ React v16.4 åç§»é™¤äº†ï¼šcomponentWillMountã€componentWillReceivePropsã€componentWillUpdateæ–°å¢äº†ï¼šstatic getDerivedStateFromPropsã€getSnapshotBeforeUpdate getDerivedStateFromProps(prevProps, prevState):ç»„ä»¶åˆ›å»ºå’Œæ›´æ–°æ—¶è°ƒç”¨getSnapshotBeforeUpdate(prevProps, prevState):æ›´æ–°æ—¶ DOM èŠ‚ç‚¹æ¸²æŸ“å‰ï¼Œè·å– DOM ä¿¡æ¯ï¼ˆå¦‚æ»šåŠ¨ä½ç½®ï¼‰ï¼Œè¿”å›å€¼ä½œä¸ºå‚æ•°ä¼ é€’ç»™ componentDidUpdate React v16.8 çš„ hooks useState useEffect useLayoutEffectï¼šåŒæ­¥ï¼ŒuseLayoutEffect åœ¨ DOM æ›´æ–°ä¹‹åï¼Œæµè§ˆå™¨ç»˜åˆ¶ä¹‹å‰ï¼Œæµè§ˆå™¨åªä¼šç»˜åˆ¶ä¸€æ¬¡ï¼ŒuseLayoutEffect å…ˆäº useEffect å‰æ‰§è¡Œï¼Œå¦‚æœåœ¨ useEffect ä¸­æ”¹å˜ DOMï¼Œå¯èƒ½ä¼šå¯¼è‡´æµè§ˆå™¨å†æ¬¡å›æµå’Œé‡ç»˜ï¼ŒuseLayoutEffect çš„ callback ä¸­ä»£ç æ‰§è¡Œä¼šé˜»å¡æµè§ˆå™¨ç»˜åˆ¶ useReducer useMemo useCallback useRef useImperativeHandle(ref, createHandle, [deps]):createHandle è¿”å›å€¼ä½œä¸ºæš´éœ²ç»™ä»˜ç»„ä»¶çš„ ref å¯¹è±¡ useDebugValueï¼šå¯ç”¨äºåœ¨ React å¼€å‘è€…å·¥å…·ä¸­æ˜¾ç¤ºè‡ªå®šä¹‰ hook çš„æ ‡ç­¾ React v18 çš„ hooks useSyncExternalStoreï¼šæ˜¯ä¸€ä¸ªæ¨èç”¨äºè¯»å–å’Œè®¢é˜…å¤–éƒ¨æ•°æ®æºçš„ hookï¼Œå…¶æ–¹å¼ä¸é€‰æ‹©æ€§çš„ hydration å’Œæ—¶é—´åˆ‡ç‰‡ç­‰å¹¶å‘æ¸²æŸ“åŠŸèƒ½å…¼å®¹ useTransitionï¼šè¿”å›ä¸€ä¸ªçŠ¶æ€å€¼è¡¨ç¤ºè¿‡æ¸¡ä»»åŠ¡çš„ç­‰å¾…çŠ¶æ€ï¼Œä»¥åŠä¸€ä¸ªå¯åŠ¨è¯¥è¿‡æ¸¡ä»»åŠ¡çš„å‡½æ•°ã€‚ useDeferredValueï¼šæ¥å—ä¸€ä¸ªå€¼ï¼Œå¹¶è¿”å›è¯¥å€¼çš„æ–°å‰¯æœ¬ï¼Œè¯¥å‰¯æœ¬å°†æ¨è¿Ÿåˆ°æ›´ç´§æ€¥åœ°æ›´æ–°ä¹‹åã€‚ useId ï¼š æ˜¯ä¸€ä¸ªç”¨äºç”Ÿæˆæ¨ªè·¨æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„ç¨³å®šçš„å”¯ä¸€ ID çš„åŒæ—¶é¿å… hydration ä¸åŒ¹é…çš„ hookã€‚ react-dom createPortal: åœ¨ Portal ä¸­æä¾›äº†ä¸€ç§å°†å­èŠ‚ç‚¹æ¸²æŸ“åˆ°å·² DOM èŠ‚ç‚¹ä¸­çš„æ–¹å¼ï¼Œè¯¥èŠ‚ç‚¹å­˜åœ¨äº DOM ç»„ä»¶çš„å±‚æ¬¡ç»“æ„ä¹‹å¤–ã€‚ flushSyncï¼šå¯ä»¥å°†å›è°ƒå‡½æ•°ä¸­çš„æ›´æ–°ä»»åŠ¡ï¼Œæ”¾åˆ°ä¸€ä¸ªè¾ƒé«˜çº§çš„ä¼˜å…ˆçº§ä¸­ï¼Œé€‚ç”¨äºå¼ºåˆ¶åˆ·æ–°ï¼ŒåŒæ—¶ç¡®ä¿äº† DOM ä¼šè¢«ç«‹å³æ›´æ–° unstable_batchedUpdates :å¯ç”¨äºæ‰‹åŠ¨æ‰¹é‡æ›´æ–° stateï¼Œå¯ä»¥æŒ‡å®šå¤šä¸ª setState åˆå¹¶ä¸ºä¸€ä¸ªæ›´æ–°è¯·æ±‚","link":"/2023/03/13/%E5%85%A8%E9%9D%A2%E8%A7%A3%E8%AF%BBreact-v18%E5%85%A8%E9%83%A8Api/"},{"title":"å…¨é¢è§£è¯»React v18å…¨éƒ¨Api","text":"ComponentReact æä¾› ç±»ç»„ä»¶ å’Œ å‡½æ•°å¼ç»„ä»¶ ä¸¤ç§æ–¹å¼ï¼Œç±»ç»„ä»¶éœ€è¦ä½¿ç”¨ Component ç»§æ‰¿ï¼Œä¸»è¦åšä¸€äº›åˆå§‹åŒ–å·¥ä½œ PureComponentä¼šå¯¹ props å’Œ state è¿›è¡Œæµ…æ¯”è¾ƒï¼ˆå¯èƒ½ä¼šå› ä¸ºæ·±å±‚çš„æ•°æ®ä¸ä¸€è‡´è€Œäº§ç”Ÿé”™è¯¯çš„å¦å®šåˆ¤æ–­ï¼‰ï¼Œè·³è¿‡ä¸æ¯”è¾ƒçš„æ›´æ–°ï¼Œæé«˜ç»„ä»¶æ€§èƒ½ PureComponent å’Œ shouldComponentUpdate çš„å…³ç³»PureComponenté€šè¿‡è‡ªå¸¦çš„ props å’Œ state æµ…æ¯”è¾ƒå®ç°äº†shouldComponentUpdate(nextProps, nextState) memomemoæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼š ç¬¬ä¸€ä¸ªå‚æ•°ï¼šç»„ä»¶æœ¬èº«ï¼Œä¹Ÿå°±æ˜¯è¦ä¼˜åŒ–çš„ç»„ä»¶ ç¬¬äºŒä¸ªå‚æ•°ï¼š(preProps, nextProps)=&gt;boolean, è‹¥ä¸º true åˆ™ä¸æ›´æ–°ï¼Œä¸º false åˆ™æ›´æ–° ç”Ÿå‘½å‘¨æœŸ v16.0 å‰å››å¤§é˜¶æ®µï¼šInitializationï¼ˆåˆå§‹åŒ–ï¼‰ã€Mountingï¼ˆæŒ‚è½½ï¼‰ã€Updateï¼ˆæ›´æ–°ï¼‰ã€Unmountingï¼ˆå¸è½½ï¼‰ Initailizationï¼š constructor()ï¼šåˆå§‹åŒ–æ“ä½œï¼Œå®šä¹‰ this.state çš„åˆå§‹å†…å®¹ï¼Œåªä¼šæ‰§è¡Œä¸€æ¬¡ super çš„ä½œç”¨ï¼šè°ƒç”¨åŸºç±»æ„é€ æ–¹æ³•ï¼Œå°†çˆ¶ç»„ä»¶çš„ props æ³¨å…¥å­ç»„ä»¶ï¼Œä¾›å­ç»„ä»¶è¯»å–ï¼ˆprops åªè¯»ä¸å¯å˜ï¼Œstate å¯å˜ï¼‰ Mounting componentWillMountï¼šç»„ä»¶æŒ‚è½½åˆ° DOM å‰è°ƒç”¨ï¼Œåªè°ƒç”¨ä¸€æ¬¡ä¸ä¼šå¼•èµ·ç»„ä»¶é‡æ¸²æŸ“ renderï¼šæ¸²æŸ“ componentDidMountï¼šç»„ä»¶æŒ‚è½½åˆ° DOM åè°ƒç”¨ï¼Œåªè°ƒç”¨ä¸€æ¬¡ Update componentWillReceiveProps(nextProps): è°ƒç”¨ä¸ props å¼•èµ·çš„ç»„ä»¶æ›´æ–°è¿‡ç¨‹ä¸­ shouldComponentUpdate(nextProps, nextState): æ€§èƒ½ä¼˜åŒ–ç»„ä»¶ï¼Œè¿”å› false åœæ­¢æ›´æ–°ï¼Œå‡å°‘ç»„ä»¶çš„ä¸å¿…è¦æ¸²æŸ“ï¼Œä¼˜åŒ–æ€§èƒ½ componentWillUpdate(nextProps, nextState):ç»„ä»¶æ›´æ–°å‰è°ƒç”¨ componentDidUpdate(prevProps, prevState):ç»„ä»¶æ›´æ–°åè°ƒç”¨ Unmounting componentWillUnmountï¼šç»„ä»¶è¢«å¸è½½å‰è°ƒç”¨ï¼Œæ‰§è¡Œä¸€äº›æ¸…ç†å·¥ä½œï¼Œé¿å…å†…å­˜æ³„æ¼ React v16.4 åç§»é™¤äº†ï¼šcomponentWillMountã€componentWillReceivePropsã€componentWillUpdateæ–°å¢äº†ï¼šstatic getDerivedStateFromPropsã€getSnapshotBeforeUpdate getDerivedStateFromProps(prevProps, prevState):ç»„ä»¶åˆ›å»ºå’Œæ›´æ–°æ—¶è°ƒç”¨getSnapshotBeforeUpdate(prevProps, prevState):æ›´æ–°æ—¶ DOM èŠ‚ç‚¹æ¸²æŸ“å‰ï¼Œè·å– DOM ä¿¡æ¯ï¼ˆå¦‚æ»šåŠ¨ä½ç½®ï¼‰ï¼Œè¿”å›å€¼ä½œä¸ºå‚æ•°ä¼ é€’ç»™ componentDidUpdate React v16.8 çš„ hooks useState useEffect useLayoutEffectï¼šåŒæ­¥ï¼ŒuseLayoutEffect åœ¨ DOM æ›´æ–°ä¹‹åï¼Œæµè§ˆå™¨ç»˜åˆ¶ä¹‹å‰ï¼Œæµè§ˆå™¨åªä¼šç»˜åˆ¶ä¸€æ¬¡ï¼ŒuseLayoutEffect å…ˆäº useEffect å‰æ‰§è¡Œï¼Œå¦‚æœåœ¨ useEffect ä¸­æ”¹å˜ DOMï¼Œå¯èƒ½ä¼šå¯¼è‡´æµè§ˆå™¨å†æ¬¡å›æµå’Œé‡ç»˜ï¼ŒuseLayoutEffect çš„ callback ä¸­ä»£ç æ‰§è¡Œä¼šé˜»å¡æµè§ˆå™¨ç»˜åˆ¶ useReducer useMemo useCallback useRef useImperativeHandle(ref, createHandle, [deps]):createHandle è¿”å›å€¼ä½œä¸ºæš´éœ²ç»™ä»˜ç»„ä»¶çš„ ref å¯¹è±¡ useDebugValueï¼šå¯ç”¨äºåœ¨ React å¼€å‘è€…å·¥å…·ä¸­æ˜¾ç¤ºè‡ªå®šä¹‰ hook çš„æ ‡ç­¾ React v18 çš„ hooks useSyncExternalStoreï¼šæ˜¯ä¸€ä¸ªæ¨èç”¨äºè¯»å–å’Œè®¢é˜…å¤–éƒ¨æ•°æ®æºçš„ hookï¼Œå…¶æ–¹å¼ä¸é€‰æ‹©æ€§çš„ hydration å’Œæ—¶é—´åˆ‡ç‰‡ç­‰å¹¶å‘æ¸²æŸ“åŠŸèƒ½å…¼å®¹ useTransitionï¼šè¿”å›ä¸€ä¸ªçŠ¶æ€å€¼è¡¨ç¤ºè¿‡æ¸¡ä»»åŠ¡çš„ç­‰å¾…çŠ¶æ€ï¼Œä»¥åŠä¸€ä¸ªå¯åŠ¨è¯¥è¿‡æ¸¡ä»»åŠ¡çš„å‡½æ•°ã€‚ useDeferredValueï¼šæ¥å—ä¸€ä¸ªå€¼ï¼Œå¹¶è¿”å›è¯¥å€¼çš„æ–°å‰¯æœ¬ï¼Œè¯¥å‰¯æœ¬å°†æ¨è¿Ÿåˆ°æ›´ç´§æ€¥åœ°æ›´æ–°ä¹‹åã€‚ useId ï¼š æ˜¯ä¸€ä¸ªç”¨äºç”Ÿæˆæ¨ªè·¨æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„ç¨³å®šçš„å”¯ä¸€ ID çš„åŒæ—¶é¿å… hydration ä¸åŒ¹é…çš„ hookã€‚ react-dom createPortal: åœ¨ Portal ä¸­æä¾›äº†ä¸€ç§å°†å­èŠ‚ç‚¹æ¸²æŸ“åˆ°å·² DOM èŠ‚ç‚¹ä¸­çš„æ–¹å¼ï¼Œè¯¥èŠ‚ç‚¹å­˜åœ¨äº DOM ç»„ä»¶çš„å±‚æ¬¡ç»“æ„ä¹‹å¤–ã€‚ flushSyncï¼šå¯ä»¥å°†å›è°ƒå‡½æ•°ä¸­çš„æ›´æ–°ä»»åŠ¡ï¼Œæ”¾åˆ°ä¸€ä¸ªè¾ƒé«˜çº§çš„ä¼˜å…ˆçº§ä¸­ï¼Œé€‚ç”¨äºå¼ºåˆ¶åˆ·æ–°ï¼ŒåŒæ—¶ç¡®ä¿äº† DOM ä¼šè¢«ç«‹å³æ›´æ–° unstable_batchedUpdates :å¯ç”¨äºæ‰‹åŠ¨æ‰¹é‡æ›´æ–° stateï¼Œå¯ä»¥æŒ‡å®šå¤šä¸ª setState åˆå¹¶ä¸ºä¸€ä¸ªæ›´æ–°è¯·æ±‚","link":"/2023/03/13/%E5%85%A8%E9%9D%A2%E8%A7%A3%E8%AF%BBreact-v18%E5%85%A8%E9%83%A8api/"},{"title":"WEBå‰ç«¯æ€§èƒ½ä¼˜åŒ–","text":"WEB å‰ç«¯æ€§èƒ½ä¼˜åŒ–å¸¸è§æ–¹æ³•å‰ç«¯æ€§èƒ½ä¼˜åŒ–é’ˆå¯¹ä¸ç”¨èµ„æºæœ‰ä¸åŒçš„æ€§èƒ½ä¼˜åŒ–æ–¹å¼ å†…å®¹ä¼˜åŒ– + (1)å‡å°‘HTTPè¯·æ±‚æ•°ï¼šå› ä¸ºä¸€ä¸ªå®Œæ•´çš„è¯·æ±‚è¦ç»è¿‡ DNSå¯»å€ï¼Œä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼Œå‘é€æ•°æ®ï¼Œ ç­‰å¾…æœåŠ¡å™¨å“åº”ï¼Œæ¥å—æ•°æ®ç­‰æ¶ˆè€—æ—¶é—´æˆæœ¬å’Œèµ„æºæˆæœ¬çš„å¤æ‚è¿‡ç¨‹ã€‚ - å¸¸è§è§£å†³æ–¹æ³•ï¼š + èµ„æºå’Œå¹¶å’Œå‹ç¼©ï¼šåˆå¹¶å¤šä¸ª CSS æ–‡ä»¶å’Œ js æ–‡ä»¶å¹¶ä½¿ç”¨ç›¸åº”çš„å·¥å…·å¯¹ jsã€cssã€å›¾ç‰‡ç­‰è¿›è¡Œå‹ç¼©å¤„ç† + é›ªç¢§å›¾ï¼ˆç²¾çµå›¾ï¼‰ï¼šå‡å°‘è¯·æ±‚æ•° + åˆç†è®¾ç½® http ç¼“å­˜ï¼šåŸåˆ™å°±æ˜¯èƒ½ç¼“å­˜çš„è¶Šå¤šè¶Šå¥½ï¼Œè¶Šä¹…è¶Šå¥½ï¼Œé€šè¿‡ http header ä¸­è®¾ç½® Expires è¿‡æœŸæ—¶é—´ï¼Œæˆ–è€… Last-Modifed è¿›è¡Œè¯·æ±‚éªŒè¯ + å‡å°‘ http è¯·æ±‚å¤´ã€é…ç½®å¤šä¸ªåŸŸåå’Œ CDN åŠ é€Ÿã€ä½¿ç”¨ç¼“å­˜ï¼ˆHTTP ç¼“å­˜ã€æµè§ˆå™¨ç¼“å­˜ã€åº”ç”¨ç¼“å­˜ï¼‰ã€ä¼˜åŒ– cookie + ï¼ˆ2ï¼‰é¿å…é‡å®šå‘ï¼šå‡å°‘ä¸å¿…è¦çš„ http è·³è½¬ + ï¼ˆ3ï¼‰å»¶è¿ŸåŠ è½½ç»„ä»¶ï¼Œé¢„åŠ è½½ç»„ä»¶ï¼Œå›¾ç‰‡æ‡’åŠ è½½ + ï¼ˆ4ï¼‰å‡å°‘ DOM å…ƒç´ æ•°é‡ï¼šé¡µé¢ä¸­å­˜åœ¨å¤§é‡ DOM å…ƒç´ ï¼Œä¼šå¯¼è‡´ JavaScript éå† DOM çš„æ•ˆç‡å˜æ…¢ã€‚ æœåŠ¡å™¨ä¼˜åŒ– ï¼ˆ1ï¼‰ä½¿ç”¨å†…å®¹åˆ†å‘ç½‘ç»œï¼ˆCDNï¼‰ï¼šæŠŠç½‘ç«™å†…å®¹åˆ†æ•£åˆ°å¤šä¸ªã€å¤„äºä¸åŒåœ°åŸŸä½ç½®çš„æœåŠ¡å™¨ä¸Šå¯ä»¥åŠ å¿«ä¸‹è½½é€Ÿåº¦ ï¼ˆ2ï¼‰Gzip å‹ç¼© ï¼ˆ3ï¼‰è®¾ç½® ETagï¼šETagsï¼ˆEntity tagsï¼Œå®ä½“æ ‡ç­¾ï¼‰æ˜¯ web æœåŠ¡å™¨å’Œæµè§ˆå™¨ç”¨äºåˆ¤æ–­æµè§ˆå™¨ç¼“å­˜ä¸­çš„å†…å®¹å’ŒæœåŠ¡å™¨ä¸­çš„åŸå§‹å†…å®¹æ˜¯å¦åŒ¹é…çš„ä¸€ç§æœºåˆ¶ã€‚ ï¼ˆ4ï¼‰æå‰åˆ·æ–°ç¼“å†²åŒº ï¼ˆ5ï¼‰é¿å…ç©ºçš„å›¾åƒ src Cookie ä¼˜åŒ– ï¼ˆ1ï¼‰å‡å°‘ Cookie çš„å¤§å° ï¼ˆ2ï¼‰é’ˆå¯¹ Web ç»„ä»¶ä½¿ç”¨åŸŸåæ— å…³çš„ Cookie CSS ä¼˜åŒ– å°† CSS ä»£ç æ”¾åœ¨ HTML é¡µé¢çš„é¡¶éƒ¨ é¿å…ä½¿ç”¨ CSS è¡¨è¾¾å¼ ä½¿ç”¨æ¥ä»£æ›¿@import é¿å…ä½¿ç”¨ Filters JavaScript ä¼˜åŒ– (1) å°† JavaScript è„šæœ¬æ”¾åœ¨é¡µé¢çš„åº•éƒ¨ã€‚ (2) å°† JavaScript å’Œ CSS ä½œä¸ºå¤–éƒ¨æ–‡ä»¶æ¥å¼•ç”¨ï¼šåœ¨å®é™…åº”ç”¨ä¸­ä½¿ç”¨å¤–éƒ¨æ–‡ä»¶å¯ä»¥æé«˜é¡µé¢é€Ÿåº¦ï¼Œå› ä¸º JavaScript å’Œ CSS æ–‡ä»¶éƒ½èƒ½åœ¨æµè§ˆå™¨ä¸­äº§ç”Ÿç¼“å­˜ã€‚ (3) æœ€å°åŒ– DOM çš„è®¿é—®ï¼šä½¿ç”¨ JavaScript è®¿é—® DOM å…ƒç´ æ¯”è¾ƒæ…¢ã€‚ (4) document.getElementâ€¦å°†è·å–åˆ°çš„å…ƒç´ é•¿åº¦æå–å‡ºæ¥ (5) å°½é‡å‡å°‘ä¼šäº§ç”Ÿ reflow å’Œ repaint çš„æ“ä½œï¼Œå› ä¸ºå®ƒä»¬éƒ½æ˜¯éœ€è¦æ¶ˆè€—èµ„æºçš„ (6) æ…ç”¨ withï¼Œwith ä»–ä¼šä¿®æ”¹ç¼–è¯‘æ—¶çš„è¯æ³•ä½œç”¨åŸŸï¼Œä¿®æ”¹äº†æ‰§è¡Œç¯å¢ƒï¼Œè®¿é—®éå±€éƒ¨å±æ€§çš„æ—¶å€™ï¼Œä¼šä»æŒ‡å®š obj ä½œç”¨åŸŸä¸Šå¼€å§‹æŸ¥æ‰¾ï¼Œç›¸å½“äºå¢é•¿äº†ä½œç”¨åŸŸé•¿åº¦ï¼Œè€Œè¿‡é•¿çš„ä½œç”¨åŸŸé“¾ä¼šé€ æˆæŸ¥æ‰¾æ€§èƒ½ä¸‹é™ã€‚ (7) æ…ç”¨ eval å’Œ Function,éœ€è¦ js å¼•æ“å°†æºä»£ç è½¬æ¢æˆå¯æ‰§è¡Œä»£ç ï¼Œè¿™æ˜¯å¾ˆæ¶ˆè€—èµ„æºçš„æ“ä½œï¼ŒåŒæ—¶ï¼Œä¹Ÿä¸åˆ©äºå‹ç¼©å·¥å…·è¿›è¡Œå‹ç¼©ã€‚ (8) å‡å°‘ä½œç”¨åŸŸé“¾çš„æŸ¥æ‰¾ï¼Œè®¿é—®éæœ¬ä½œç”¨åŸŸä¸‹çš„å˜é‡ï¼Œåœ¨å¾ªç¯éå†çš„æ—¶å€™ä½¿ç”¨å±€éƒ¨å˜é‡ç¼“å­˜è¯¥å˜é‡ï¼Œéå†ç»“æŸåå†é‡å†™é‚£ä¸ªå˜é‡ï¼Œå°¤å…¶æ˜¯å…¨å±€å˜é‡å¤„äºä½œç”¨åŸŸçš„æœ€é¡¶ç«¯ï¼Œè®¿é—®æ—¶æŸ¥æ‰¾æ¬¡æ•°æœ€å¤š å›¾åƒä¼˜åŒ– (1)ä¼˜åŒ–å›¾ç‰‡å¤§å° ï¼ˆ2ï¼‰é€šè¿‡ CSS Sprites ä¼˜åŒ–å›¾ç‰‡ ï¼ˆ3ï¼‰ä¸è¦åœ¨ HTML ä¸­ä½¿ç”¨å‹ç¼©å›¾ç‰‡ ï¼ˆ4ï¼‰favicon.ico è¦å°è€Œä¸”å¯ç¼“å­˜ robots.txtæœç´¢å¼•æ“èœ˜è››è®¿é—®ç½‘ç«™æ—¶ä¼šç¬¬ä¸€ä¸ªè®¿é—® robots.txt æ–‡ä»¶ï¼Œrobots.txt ç”¨äºæŒ‡å¯¼æœç´¢å¼•æ“èœ˜è››ç¦æ­¢æŠ“å–ç½‘ç«™çš„æŸäº›å†…å®¹å’Œåªå…è®¸æŠ“å–å“ªäº›å†…å®¹ï¼Œæ”¾åœ¨ç«™ç‚¹æ ¹ç›®å½•ã€‚ dns-prefetch &lt;link rel=&quot;dns-prefetch&quot; href=&quot;//cdn.bootcss.com&quot;&gt; ä½¿ç”¨ dns-prefetch å¯¹é¡¹ç›®ä¸­ä½¿ç”¨çš„åŸŸåè¿›è¡Œ DNS é¢„è§£æï¼Œå‡å°‘ DNS æŸ¥è¯¢ã€‚ URL ä¼˜åŒ–è¶ŠçŸ­è¶Šå¥½é¿å…å¤ªå¤šå‚æ•°ç›®å½•å±‚æ¬¡å°½é‡å°‘æ–‡ä»¶åŠç›®å½•åå…·æœ‰æè¿°æ€§å­—æ¯å…¨éƒ¨å°å†™è¿è¯ç¬¦ä½¿ç”¨-è€Œä¸æ˜¯_URL ä¸­åŒ…æ‹¬å…³é”®å­— TDK ä¼˜åŒ–TDK ä¸º titleï¼Œdescriptionï¼Œkeywords ä¸‰ä¸ªçš„ç»Ÿç§°ã€‚titleï¼šåˆ†éš”ç¬¦ä¸€èˆ¬æœ‰ ï¼Œ - ,å…¶ä¸­å¯¹ç™¾åº¦æ¯”è¾ƒå‹å¥½ï¼Œ-å¯¹è°·æ­Œæ¯”è¾ƒå‹å¥½ï¼Œtitle é•¿åº¦ pc ç«¯ä¸€èˆ¬30 ä¸ªä¸­æ–‡ï¼Œç§»åŠ¨ç«¯ 20 ä¸ªï¼Œè¶…è¿‡ä¼šæˆªæ–­ä¸ºçœç•¥å·ã€‚ å…¶ä»–æ ‡ç­¾è¯­ä¹‰åŒ–img è®¾ç½® alt å±æ€§ä¸éœ€è¦è·Ÿè¸ªçˆ¬è¡Œçš„é“¾æ¥ï¼Œè®¾ç½® rel = â€œnofollowâ€ [å‚è€ƒ]ï¼šï¼ˆhttps://segmentfault.com/a/1190000008829958ï¼‰","link":"/2019/07/17/web%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/"}],"tags":[{"name":"æµè§ˆå™¨","slug":"æµè§ˆå™¨","link":"/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/"},{"name":"javascript","slug":"javascript","link":"/tags/javascript/"},{"name":"æ¡†æ¶","slug":"æ¡†æ¶","link":"/tags/%E6%A1%86%E6%9E%B6/"},{"name":"vue3","slug":"vue3","link":"/tags/vue3/"},{"name":"typescript","slug":"typescript","link":"/tags/typescript/"},{"name":"aliyun","slug":"aliyun","link":"/tags/aliyun/"},{"name":"http","slug":"http","link":"/tags/http/"},{"name":"docker","slug":"docker","link":"/tags/docker/"},{"name":"å‰ç«¯å®‰å…¨","slug":"å‰ç«¯å®‰å…¨","link":"/tags/%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8/"},{"name":"node","slug":"node","link":"/tags/node/"},{"name":"react-hooks","slug":"react-hooks","link":"/tags/react-hooks/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","link":"/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"},{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","link":"/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"name":"æ•°æ®ç»“æ„ä¸ç®—æ³•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•","link":"/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"},{"name":"lerna","slug":"lerna","link":"/tags/lerna/"},{"name":"é¢ç»","slug":"é¢ç»","link":"/tags/%E9%9D%A2%E7%BB%8F/"},{"name":"react","slug":"react","link":"/tags/react/"},{"name":"å¾®å‰ç«¯","slug":"å¾®å‰ç«¯","link":"/tags/%E5%BE%AE%E5%89%8D%E7%AB%AF/"},{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","link":"/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"},{"name":"dom","slug":"dom","link":"/tags/dom/"},{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","link":"/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"name":"webpack","slug":"webpack","link":"/tags/webpack/"}],"categories":[{"name":"æµè§ˆå™¨","slug":"æµè§ˆå™¨","link":"/categories/%E6%B5%8F%E8%A7%88%E5%99%A8/"},{"name":"javascript","slug":"javascript","link":"/categories/javascript/"},{"name":"æ¡†æ¶","slug":"æ¡†æ¶","link":"/categories/%E6%A1%86%E6%9E%B6/"},{"name":"vue3","slug":"vue3","link":"/categories/vue3/"},{"name":"typescript","slug":"typescript","link":"/categories/typescript/"},{"name":"http","slug":"http","link":"/categories/http/"},{"name":"å‰ç«¯å®‰å…¨","slug":"å‰ç«¯å®‰å…¨","link":"/categories/%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8/"},{"name":"node","slug":"node","link":"/categories/node/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","link":"/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"},{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","link":"/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"name":"æ•°æ®ç»“æ„ä¸ç®—æ³•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•","link":"/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"},{"name":"lerna","slug":"lerna","link":"/categories/lerna/"},{"name":"é¢ç»","slug":"é¢ç»","link":"/categories/%E9%9D%A2%E7%BB%8F/"},{"name":"react","slug":"react","link":"/categories/react/"},{"name":"å¾®å‰ç«¯","slug":"å¾®å‰ç«¯","link":"/categories/%E5%BE%AE%E5%89%8D%E7%AB%AF/"},{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","link":"/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"},{"name":"dom","slug":"dom","link":"/categories/dom/"},{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","link":"/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"name":"webpack","slug":"webpack","link":"/categories/webpack/"}],"pages":[{"title":"å…³äº","text":"æˆ‘æœ¬å°†å¿ƒå‘æ˜æœˆï¼Œå¥ˆä½•æ˜æœˆç…§æ²Ÿæ¸ ","link":"/about/index.html"},{"title":"æ ‡ç­¾","text":"","link":"/tags/index.html"},{"title":"åˆ†ç±»","text":"","link":"/categories/index.html"}]}